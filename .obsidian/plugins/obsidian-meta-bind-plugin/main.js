/*
-------------------------------------------
Meta Bind - Release Build
-------------------------------------------
By: Moritz Jung (https://www.moritzjung.dev/)
Time: Mon, 08 Apr 2024 21:58:52 GMT
Version: 1.0.4
-------------------------------------------
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
-------------------------------------------
Copyright (C) 2024 Moritz Jung
-------------------------------------------
This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.

This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for more details.

You should have received a copy of the GNU General Public License along with this program.  If not, see <https://www.gnu.org/licenses/>.
*/

"use strict";var J7=Object.create;var Zl=Object.defineProperty;var X7=Object.getOwnPropertyDescriptor;var Q7=Object.getOwnPropertyNames;var K7=Object.getPrototypeOf,ez=Object.prototype.hasOwnProperty;var tz=(n,e,t)=>e in n?Zl(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var cn=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),rz=(n,e)=>{for(var t in e)Zl(n,t,{get:e[t],enumerable:!0})},gD=(n,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Q7(e))!ez.call(n,i)&&i!==t&&Zl(n,i,{get:()=>e[i],enumerable:!(r=X7(e,i))||r.enumerable});return n};var hr=(n,e,t)=>(t=n!=null?J7(K7(n)):{},gD(e||!n||!n.__esModule?Zl(t,"default",{value:n,enumerable:!0}):t,n)),nz=n=>gD(Zl({},"__esModule",{value:!0}),n);var an=(n,e,t)=>(tz(n,typeof e!="symbol"?e+"":e,t),t);var tc=cn((Cg,Cu)=>{(function(n,e){typeof Cg=="object"&&typeof Cu!="undefined"?Cu.exports=e():typeof define=="function"&&define.amd?define(e):n.moment=e()})(Cg,function(){"use strict";var n;function e(){return n.apply(null,arguments)}function t(g){n=g}function r(g){return g instanceof Array||Object.prototype.toString.call(g)==="[object Array]"}function i(g){return g!=null&&Object.prototype.toString.call(g)==="[object Object]"}function a(g,A){return Object.prototype.hasOwnProperty.call(g,A)}function o(g){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(g).length===0;var A;for(A in g)if(a(g,A))return!1;return!0}function u(g){return g===void 0}function s(g){return typeof g=="number"||Object.prototype.toString.call(g)==="[object Number]"}function l(g){return g instanceof Date||Object.prototype.toString.call(g)==="[object Date]"}function c(g,A){var I=[],k,$=g.length;for(k=0;k<$;++k)I.push(A(g[k],k));return I}function f(g,A){for(var I in A)a(A,I)&&(g[I]=A[I]);return a(A,"toString")&&(g.toString=A.toString),a(A,"valueOf")&&(g.valueOf=A.valueOf),g}function p(g,A,I,k){return YE(g,A,I,k,!0).utc()}function m(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function h(g){return g._pf==null&&(g._pf=m()),g._pf}var d;Array.prototype.some?d=Array.prototype.some:d=function(g){var A=Object(this),I=A.length>>>0,k;for(k=0;k<I;k++)if(k in A&&g.call(this,A[k],k,A))return!0;return!1};function v(g){var A=null,I=!1,k=g._d&&!isNaN(g._d.getTime());if(k&&(A=h(g),I=d.call(A.parsedDateParts,function($){return $!=null}),k=A.overflow<0&&!A.empty&&!A.invalidEra&&!A.invalidMonth&&!A.invalidWeekday&&!A.weekdayMismatch&&!A.nullInput&&!A.invalidFormat&&!A.userInvalidated&&(!A.meridiem||A.meridiem&&I),g._strict&&(k=k&&A.charsLeftOver===0&&A.unusedTokens.length===0&&A.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(g))g._isValid=k;else return k;return g._isValid}function y(g){var A=p(NaN);return g!=null?f(h(A),g):h(A).userInvalidated=!0,A}var _=e.momentProperties=[],b=!1;function w(g,A){var I,k,$,se=_.length;if(u(A._isAMomentObject)||(g._isAMomentObject=A._isAMomentObject),u(A._i)||(g._i=A._i),u(A._f)||(g._f=A._f),u(A._l)||(g._l=A._l),u(A._strict)||(g._strict=A._strict),u(A._tzm)||(g._tzm=A._tzm),u(A._isUTC)||(g._isUTC=A._isUTC),u(A._offset)||(g._offset=A._offset),u(A._pf)||(g._pf=h(A)),u(A._locale)||(g._locale=A._locale),se>0)for(I=0;I<se;I++)k=_[I],$=A[k],u($)||(g[k]=$);return g}function S(g){w(this,g),this._d=new Date(g._d!=null?g._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),b===!1&&(b=!0,e.updateOffset(this),b=!1)}function x(g){return g instanceof S||g!=null&&g._isAMomentObject!=null}function N(g){e.suppressDeprecationWarnings===!1&&typeof console!="undefined"&&console.warn&&console.warn("Deprecation warning: "+g)}function D(g,A){var I=!0;return f(function(){if(e.deprecationHandler!=null&&e.deprecationHandler(null,g),I){var k=[],$,se,Oe,ft=arguments.length;for(se=0;se<ft;se++){if($="",typeof arguments[se]=="object"){$+=`
[`+se+"] ";for(Oe in arguments[0])a(arguments[0],Oe)&&($+=Oe+": "+arguments[0][Oe]+", ");$=$.slice(0,-2)}else $=arguments[se];k.push($)}N(g+`
Arguments: `+Array.prototype.slice.call(k).join("")+`
`+new Error().stack),I=!1}return A.apply(this,arguments)},A)}var E={};function M(g,A){e.deprecationHandler!=null&&e.deprecationHandler(g,A),E[g]||(N(A),E[g]=!0)}e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;function P(g){return typeof Function!="undefined"&&g instanceof Function||Object.prototype.toString.call(g)==="[object Function]"}function O(g){var A,I;for(I in g)a(g,I)&&(A=g[I],P(A)?this[I]=A:this["_"+I]=A);this._config=g,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function V(g,A){var I=f({},g),k;for(k in A)a(A,k)&&(i(g[k])&&i(A[k])?(I[k]={},f(I[k],g[k]),f(I[k],A[k])):A[k]!=null?I[k]=A[k]:delete I[k]);for(k in g)a(g,k)&&!a(A,k)&&i(g[k])&&(I[k]=f({},I[k]));return I}function z(g){g!=null&&this.set(g)}var L;Object.keys?L=Object.keys:L=function(g){var A,I=[];for(A in g)a(g,A)&&I.push(A);return I};var B={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function T(g,A,I){var k=this._calendar[g]||this._calendar.sameElse;return P(k)?k.call(A,I):k}function G(g,A,I){var k=""+Math.abs(g),$=A-k.length,se=g>=0;return(se?I?"+":"":"-")+Math.pow(10,Math.max(0,$)).toString().substr(1)+k}var R=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,oe=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,ee={},H={};function U(g,A,I,k){var $=k;typeof k=="string"&&($=function(){return this[k]()}),g&&(H[g]=$),A&&(H[A[0]]=function(){return G($.apply(this,arguments),A[1],A[2])}),I&&(H[I]=function(){return this.localeData().ordinal($.apply(this,arguments),g)})}function fe(g){return g.match(/\[[\s\S]/)?g.replace(/^\[|\]$/g,""):g.replace(/\\/g,"")}function De(g){var A=g.match(R),I,k;for(I=0,k=A.length;I<k;I++)H[A[I]]?A[I]=H[A[I]]:A[I]=fe(A[I]);return function($){var se="",Oe;for(Oe=0;Oe<k;Oe++)se+=P(A[Oe])?A[Oe].call($,g):A[Oe];return se}}function me(g,A){return g.isValid()?(A=ve(A,g.localeData()),ee[A]=ee[A]||De(A),ee[A](g)):g.localeData().invalidDate()}function ve(g,A){var I=5;function k($){return A.longDateFormat($)||$}for(oe.lastIndex=0;I>=0&&oe.test(g);)g=g.replace(oe,k),oe.lastIndex=0,I-=1;return g}var Ae={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function be(g){var A=this._longDateFormat[g],I=this._longDateFormat[g.toUpperCase()];return A||!I?A:(this._longDateFormat[g]=I.match(R).map(function(k){return k==="MMMM"||k==="MM"||k==="DD"||k==="dddd"?k.slice(1):k}).join(""),this._longDateFormat[g])}var we="Invalid date";function Se(){return this._invalidDate}var Me="%d",Ie=/\d{1,2}/;function et(g){return this._ordinal.replace("%d",g)}var X={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function re(g,A,I,k){var $=this._relativeTime[I];return P($)?$(g,A,I,k):$.replace(/%d/i,g)}function xe(g,A){var I=this._relativeTime[g>0?"future":"past"];return P(I)?I(A):I.replace(/%s/i,A)}var W={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function ne(g){return typeof g=="string"?W[g]||W[g.toLowerCase()]:void 0}function ue(g){var A={},I,k;for(k in g)a(g,k)&&(I=ne(k),I&&(A[I]=g[k]));return A}var Ne={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function Ce(g){var A=[],I;for(I in g)a(g,I)&&A.push({unit:I,priority:Ne[I]});return A.sort(function(k,$){return k.priority-$.priority}),A}var Ye=/\d/,Fe=/\d\d/,Qe=/\d{3}/,wt=/\d{4}/,tr=/[+-]?\d{6}/,St=/\d\d?/,ie=/\d\d\d\d?/,pe=/\d\d\d\d\d\d?/,_e=/\d{1,3}/,Ve=/\d{1,4}/,ze=/[+-]?\d{1,6}/,Re=/\d+/,qe=/[+-]?\d+/,Ge=/Z|[+-]\d\d:?\d\d/gi,F=/Z|[+-]\d\d(?::?\d\d)?/gi,J=/[+-]?\d+(\.\d{1,3})?/,ye=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Le=/^[1-9]\d?/,ut=/^([1-9]\d|\d)/,bt;bt={};function Ze(g,A,I){bt[g]=P(A)?A:function(k,$){return k&&I?I:A}}function Kn(g,A){return a(bt,g)?bt[g](A._strict,A._locale):new RegExp(xi(g))}function xi(g){return Bn(g.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(A,I,k,$,se){return I||k||$||se}))}function Bn(g){return g.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Mn(g){return g<0?Math.ceil(g)||0:Math.floor(g)}function nr(g){var A=+g,I=0;return A!==0&&isFinite(A)&&(I=Mn(A)),I}var zl={};function Er(g,A){var I,k=A,$;for(typeof g=="string"&&(g=[g]),s(A)&&(k=function(se,Oe){Oe[A]=nr(se)}),$=g.length,I=0;I<$;I++)zl[g[I]]=k}function _s(g,A){Er(g,function(I,k,$,se){$._w=$._w||{},A(I,$._w,$,se)})}function Qh(g,A,I){A!=null&&a(zl,g)&&zl[g](A,I._a,I,g)}function yu(g){return g%4===0&&g%100!==0||g%400===0}var _n=0,oa=1,qi=2,nn=3,wi=4,sa=5,ja=6,Kh=7,eg=8;U("Y",0,0,function(){var g=this.year();return g<=9999?G(g,4):"+"+g}),U(0,["YY",2],0,function(){return this.year()%100}),U(0,["YYYY",4],0,"year"),U(0,["YYYYY",5],0,"year"),U(0,["YYYYYY",6,!0],0,"year"),Ze("Y",qe),Ze("YY",St,Fe),Ze("YYYY",Ve,wt),Ze("YYYYY",ze,tr),Ze("YYYYYY",ze,tr),Er(["YYYYY","YYYYYY"],_n),Er("YYYY",function(g,A){A[_n]=g.length===2?e.parseTwoDigitYear(g):nr(g)}),Er("YY",function(g,A){A[_n]=e.parseTwoDigitYear(g)}),Er("Y",function(g,A){A[_n]=parseInt(g,10)});function Ss(g){return yu(g)?366:365}e.parseTwoDigitYear=function(g){return nr(g)+(nr(g)>68?1900:2e3)};var vf=Do("FullYear",!0);function tg(){return yu(this.year())}function Do(g,A){return function(I){return I!=null?(yf(this,g,I),e.updateOffset(this,A),this):As(this,g)}}function As(g,A){if(!g.isValid())return NaN;var I=g._d,k=g._isUTC;switch(A){case"Milliseconds":return k?I.getUTCMilliseconds():I.getMilliseconds();case"Seconds":return k?I.getUTCSeconds():I.getSeconds();case"Minutes":return k?I.getUTCMinutes():I.getMinutes();case"Hours":return k?I.getUTCHours():I.getHours();case"Date":return k?I.getUTCDate():I.getDate();case"Day":return k?I.getUTCDay():I.getDay();case"Month":return k?I.getUTCMonth():I.getMonth();case"FullYear":return k?I.getUTCFullYear():I.getFullYear();default:return NaN}}function yf(g,A,I){var k,$,se,Oe,ft;if(!(!g.isValid()||isNaN(I))){switch(k=g._d,$=g._isUTC,A){case"Milliseconds":return void($?k.setUTCMilliseconds(I):k.setMilliseconds(I));case"Seconds":return void($?k.setUTCSeconds(I):k.setSeconds(I));case"Minutes":return void($?k.setUTCMinutes(I):k.setMinutes(I));case"Hours":return void($?k.setUTCHours(I):k.setHours(I));case"Date":return void($?k.setUTCDate(I):k.setDate(I));case"FullYear":break;default:return}se=I,Oe=g.month(),ft=g.date(),ft=ft===29&&Oe===1&&!yu(se)?28:ft,$?k.setUTCFullYear(se,Oe,ft):k.setFullYear(se,Oe,ft)}}function rg(g){return g=ne(g),P(this[g])?this[g]():this}function ng(g,A){if(typeof g=="object"){g=ue(g);var I=Ce(g),k,$=I.length;for(k=0;k<$;k++)this[I[k].unit](g[I[k].unit])}else if(g=ne(g),P(this[g]))return this[g](A);return this}function ig(g,A){return(g%A+A)%A}var Jr;Array.prototype.indexOf?Jr=Array.prototype.indexOf:Jr=function(g){var A;for(A=0;A<this.length;++A)if(this[A]===g)return A;return-1};function $l(g,A){if(isNaN(g)||isNaN(A))return NaN;var I=ig(A,12);return g+=(A-I)/12,I===1?yu(g)?29:28:31-I%7%2}U("M",["MM",2],"Mo",function(){return this.month()+1}),U("MMM",0,0,function(g){return this.localeData().monthsShort(this,g)}),U("MMMM",0,0,function(g){return this.localeData().months(this,g)}),Ze("M",St,Le),Ze("MM",St,Fe),Ze("MMM",function(g,A){return A.monthsShortRegex(g)}),Ze("MMMM",function(g,A){return A.monthsRegex(g)}),Er(["M","MM"],function(g,A){A[oa]=nr(g)-1}),Er(["MMM","MMMM"],function(g,A,I,k){var $=I._locale.monthsParse(g,k,I._strict);$!=null?A[oa]=$:h(I).invalidMonth=g});var ag="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),bf="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Mo=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,_r=ye,On=ye;function og(g,A){return g?r(this._months)?this._months[g.month()]:this._months[(this._months.isFormat||Mo).test(A)?"format":"standalone"][g.month()]:r(this._months)?this._months:this._months.standalone}function bu(g,A){return g?r(this._monthsShort)?this._monthsShort[g.month()]:this._monthsShort[Mo.test(A)?"format":"standalone"][g.month()]:r(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function Es(g,A,I){var k,$,se,Oe=g.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],k=0;k<12;++k)se=p([2e3,k]),this._shortMonthsParse[k]=this.monthsShort(se,"").toLocaleLowerCase(),this._longMonthsParse[k]=this.months(se,"").toLocaleLowerCase();return I?A==="MMM"?($=Jr.call(this._shortMonthsParse,Oe),$!==-1?$:null):($=Jr.call(this._longMonthsParse,Oe),$!==-1?$:null):A==="MMM"?($=Jr.call(this._shortMonthsParse,Oe),$!==-1?$:($=Jr.call(this._longMonthsParse,Oe),$!==-1?$:null)):($=Jr.call(this._longMonthsParse,Oe),$!==-1?$:($=Jr.call(this._shortMonthsParse,Oe),$!==-1?$:null))}function sg(g,A,I){var k,$,se;if(this._monthsParseExact)return Es.call(this,g,A,I);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),k=0;k<12;k++){if($=p([2e3,k]),I&&!this._longMonthsParse[k]&&(this._longMonthsParse[k]=new RegExp("^"+this.months($,"").replace(".","")+"$","i"),this._shortMonthsParse[k]=new RegExp("^"+this.monthsShort($,"").replace(".","")+"$","i")),!I&&!this._monthsParse[k]&&(se="^"+this.months($,"")+"|^"+this.monthsShort($,""),this._monthsParse[k]=new RegExp(se.replace(".",""),"i")),I&&A==="MMMM"&&this._longMonthsParse[k].test(g))return k;if(I&&A==="MMM"&&this._shortMonthsParse[k].test(g))return k;if(!I&&this._monthsParse[k].test(g))return k}}function OE(g,A){if(!g.isValid())return g;if(typeof A=="string"){if(/^\d+$/.test(A))A=nr(A);else if(A=g.localeData().monthsParse(A),!s(A))return g}var I=A,k=g.date();return k=k<29?k:Math.min(k,$l(g.year(),I)),g._isUTC?g._d.setUTCMonth(I,k):g._d.setMonth(I,k),g}function kE(g){return g!=null?(OE(this,g),e.updateOffset(this,!0),this):As(this,"Month")}function P6(){return $l(this.year(),this.month())}function B6(g){return this._monthsParseExact?(a(this,"_monthsRegex")||RE.call(this),g?this._monthsShortStrictRegex:this._monthsShortRegex):(a(this,"_monthsShortRegex")||(this._monthsShortRegex=_r),this._monthsShortStrictRegex&&g?this._monthsShortStrictRegex:this._monthsShortRegex)}function O6(g){return this._monthsParseExact?(a(this,"_monthsRegex")||RE.call(this),g?this._monthsStrictRegex:this._monthsRegex):(a(this,"_monthsRegex")||(this._monthsRegex=On),this._monthsStrictRegex&&g?this._monthsStrictRegex:this._monthsRegex)}function RE(){function g(Vt,lr){return lr.length-Vt.length}var A=[],I=[],k=[],$,se,Oe,ft;for($=0;$<12;$++)se=p([2e3,$]),Oe=Bn(this.monthsShort(se,"")),ft=Bn(this.months(se,"")),A.push(Oe),I.push(ft),k.push(ft),k.push(Oe);A.sort(g),I.sort(g),k.sort(g),this._monthsRegex=new RegExp("^("+k.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+I.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+A.join("|")+")","i")}function k6(g,A,I,k,$,se,Oe){var ft;return g<100&&g>=0?(ft=new Date(g+400,A,I,k,$,se,Oe),isFinite(ft.getFullYear())&&ft.setFullYear(g)):ft=new Date(g,A,I,k,$,se,Oe),ft}function Hl(g){var A,I;return g<100&&g>=0?(I=Array.prototype.slice.call(arguments),I[0]=g+400,A=new Date(Date.UTC.apply(null,I)),isFinite(A.getUTCFullYear())&&A.setUTCFullYear(g)):A=new Date(Date.UTC.apply(null,arguments)),A}function xf(g,A,I){var k=7+A-I,$=(7+Hl(g,0,k).getUTCDay()-A)%7;return-$+k-1}function LE(g,A,I,k,$){var se=(7+I-k)%7,Oe=xf(g,k,$),ft=1+7*(A-1)+se+Oe,Vt,lr;return ft<=0?(Vt=g-1,lr=Ss(Vt)+ft):ft>Ss(g)?(Vt=g+1,lr=ft-Ss(g)):(Vt=g,lr=ft),{year:Vt,dayOfYear:lr}}function Gl(g,A,I){var k=xf(g.year(),A,I),$=Math.floor((g.dayOfYear()-k-1)/7)+1,se,Oe;return $<1?(Oe=g.year()-1,se=$+Za(Oe,A,I)):$>Za(g.year(),A,I)?(se=$-Za(g.year(),A,I),Oe=g.year()+1):(Oe=g.year(),se=$),{week:se,year:Oe}}function Za(g,A,I){var k=xf(g,A,I),$=xf(g+1,A,I);return(Ss(g)-k+$)/7}U("w",["ww",2],"wo","week"),U("W",["WW",2],"Wo","isoWeek"),Ze("w",St,Le),Ze("ww",St,Fe),Ze("W",St,Le),Ze("WW",St,Fe),_s(["w","ww","W","WW"],function(g,A,I,k){A[k.substr(0,1)]=nr(g)});function R6(g){return Gl(g,this._week.dow,this._week.doy).week}var L6={dow:0,doy:6};function V6(){return this._week.dow}function U6(){return this._week.doy}function q6(g){var A=this.localeData().week(this);return g==null?A:this.add((g-A)*7,"d")}function z6(g){var A=Gl(this,1,4).week;return g==null?A:this.add((g-A)*7,"d")}U("d",0,"do","day"),U("dd",0,0,function(g){return this.localeData().weekdaysMin(this,g)}),U("ddd",0,0,function(g){return this.localeData().weekdaysShort(this,g)}),U("dddd",0,0,function(g){return this.localeData().weekdays(this,g)}),U("e",0,0,"weekday"),U("E",0,0,"isoWeekday"),Ze("d",St),Ze("e",St),Ze("E",St),Ze("dd",function(g,A){return A.weekdaysMinRegex(g)}),Ze("ddd",function(g,A){return A.weekdaysShortRegex(g)}),Ze("dddd",function(g,A){return A.weekdaysRegex(g)}),_s(["dd","ddd","dddd"],function(g,A,I,k){var $=I._locale.weekdaysParse(g,k,I._strict);$!=null?A.d=$:h(I).invalidWeekday=g}),_s(["d","e","E"],function(g,A,I,k){A[k]=nr(g)});function $6(g,A){return typeof g!="string"?g:isNaN(g)?(g=A.weekdaysParse(g),typeof g=="number"?g:null):parseInt(g,10)}function H6(g,A){return typeof g=="string"?A.weekdaysParse(g)%7||7:isNaN(g)?null:g}function ug(g,A){return g.slice(A,7).concat(g.slice(0,A))}var G6="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),VE="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),W6="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Y6=ye,j6=ye,Z6=ye;function J6(g,A){var I=r(this._weekdays)?this._weekdays:this._weekdays[g&&g!==!0&&this._weekdays.isFormat.test(A)?"format":"standalone"];return g===!0?ug(I,this._week.dow):g?I[g.day()]:I}function X6(g){return g===!0?ug(this._weekdaysShort,this._week.dow):g?this._weekdaysShort[g.day()]:this._weekdaysShort}function Q6(g){return g===!0?ug(this._weekdaysMin,this._week.dow):g?this._weekdaysMin[g.day()]:this._weekdaysMin}function K6(g,A,I){var k,$,se,Oe=g.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],k=0;k<7;++k)se=p([2e3,1]).day(k),this._minWeekdaysParse[k]=this.weekdaysMin(se,"").toLocaleLowerCase(),this._shortWeekdaysParse[k]=this.weekdaysShort(se,"").toLocaleLowerCase(),this._weekdaysParse[k]=this.weekdays(se,"").toLocaleLowerCase();return I?A==="dddd"?($=Jr.call(this._weekdaysParse,Oe),$!==-1?$:null):A==="ddd"?($=Jr.call(this._shortWeekdaysParse,Oe),$!==-1?$:null):($=Jr.call(this._minWeekdaysParse,Oe),$!==-1?$:null):A==="dddd"?($=Jr.call(this._weekdaysParse,Oe),$!==-1||($=Jr.call(this._shortWeekdaysParse,Oe),$!==-1)?$:($=Jr.call(this._minWeekdaysParse,Oe),$!==-1?$:null)):A==="ddd"?($=Jr.call(this._shortWeekdaysParse,Oe),$!==-1||($=Jr.call(this._weekdaysParse,Oe),$!==-1)?$:($=Jr.call(this._minWeekdaysParse,Oe),$!==-1?$:null)):($=Jr.call(this._minWeekdaysParse,Oe),$!==-1||($=Jr.call(this._weekdaysParse,Oe),$!==-1)?$:($=Jr.call(this._shortWeekdaysParse,Oe),$!==-1?$:null))}function eq(g,A,I){var k,$,se;if(this._weekdaysParseExact)return K6.call(this,g,A,I);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),k=0;k<7;k++){if($=p([2e3,1]).day(k),I&&!this._fullWeekdaysParse[k]&&(this._fullWeekdaysParse[k]=new RegExp("^"+this.weekdays($,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[k]=new RegExp("^"+this.weekdaysShort($,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[k]=new RegExp("^"+this.weekdaysMin($,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[k]||(se="^"+this.weekdays($,"")+"|^"+this.weekdaysShort($,"")+"|^"+this.weekdaysMin($,""),this._weekdaysParse[k]=new RegExp(se.replace(".",""),"i")),I&&A==="dddd"&&this._fullWeekdaysParse[k].test(g))return k;if(I&&A==="ddd"&&this._shortWeekdaysParse[k].test(g))return k;if(I&&A==="dd"&&this._minWeekdaysParse[k].test(g))return k;if(!I&&this._weekdaysParse[k].test(g))return k}}function tq(g){if(!this.isValid())return g!=null?this:NaN;var A=As(this,"Day");return g!=null?(g=$6(g,this.localeData()),this.add(g-A,"d")):A}function rq(g){if(!this.isValid())return g!=null?this:NaN;var A=(this.day()+7-this.localeData()._week.dow)%7;return g==null?A:this.add(g-A,"d")}function nq(g){if(!this.isValid())return g!=null?this:NaN;if(g!=null){var A=H6(g,this.localeData());return this.day(this.day()%7?A:A-7)}else return this.day()||7}function iq(g){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||lg.call(this),g?this._weekdaysStrictRegex:this._weekdaysRegex):(a(this,"_weekdaysRegex")||(this._weekdaysRegex=Y6),this._weekdaysStrictRegex&&g?this._weekdaysStrictRegex:this._weekdaysRegex)}function aq(g){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||lg.call(this),g?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(a(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=j6),this._weekdaysShortStrictRegex&&g?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function oq(g){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||lg.call(this),g?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(a(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Z6),this._weekdaysMinStrictRegex&&g?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function lg(){function g(ei,eo){return eo.length-ei.length}var A=[],I=[],k=[],$=[],se,Oe,ft,Vt,lr;for(se=0;se<7;se++)Oe=p([2e3,1]).day(se),ft=Bn(this.weekdaysMin(Oe,"")),Vt=Bn(this.weekdaysShort(Oe,"")),lr=Bn(this.weekdays(Oe,"")),A.push(ft),I.push(Vt),k.push(lr),$.push(ft),$.push(Vt),$.push(lr);A.sort(g),I.sort(g),k.sort(g),$.sort(g),this._weekdaysRegex=new RegExp("^("+$.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+k.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+I.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+A.join("|")+")","i")}function cg(){return this.hours()%12||12}function sq(){return this.hours()||24}U("H",["HH",2],0,"hour"),U("h",["hh",2],0,cg),U("k",["kk",2],0,sq),U("hmm",0,0,function(){return""+cg.apply(this)+G(this.minutes(),2)}),U("hmmss",0,0,function(){return""+cg.apply(this)+G(this.minutes(),2)+G(this.seconds(),2)}),U("Hmm",0,0,function(){return""+this.hours()+G(this.minutes(),2)}),U("Hmmss",0,0,function(){return""+this.hours()+G(this.minutes(),2)+G(this.seconds(),2)});function UE(g,A){U(g,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),A)})}UE("a",!0),UE("A",!1);function qE(g,A){return A._meridiemParse}Ze("a",qE),Ze("A",qE),Ze("H",St,ut),Ze("h",St,Le),Ze("k",St,Le),Ze("HH",St,Fe),Ze("hh",St,Fe),Ze("kk",St,Fe),Ze("hmm",ie),Ze("hmmss",pe),Ze("Hmm",ie),Ze("Hmmss",pe),Er(["H","HH"],nn),Er(["k","kk"],function(g,A,I){var k=nr(g);A[nn]=k===24?0:k}),Er(["a","A"],function(g,A,I){I._isPm=I._locale.isPM(g),I._meridiem=g}),Er(["h","hh"],function(g,A,I){A[nn]=nr(g),h(I).bigHour=!0}),Er("hmm",function(g,A,I){var k=g.length-2;A[nn]=nr(g.substr(0,k)),A[wi]=nr(g.substr(k)),h(I).bigHour=!0}),Er("hmmss",function(g,A,I){var k=g.length-4,$=g.length-2;A[nn]=nr(g.substr(0,k)),A[wi]=nr(g.substr(k,2)),A[sa]=nr(g.substr($)),h(I).bigHour=!0}),Er("Hmm",function(g,A,I){var k=g.length-2;A[nn]=nr(g.substr(0,k)),A[wi]=nr(g.substr(k))}),Er("Hmmss",function(g,A,I){var k=g.length-4,$=g.length-2;A[nn]=nr(g.substr(0,k)),A[wi]=nr(g.substr(k,2)),A[sa]=nr(g.substr($))});function uq(g){return(g+"").toLowerCase().charAt(0)==="p"}var lq=/[ap]\.?m?\.?/i,cq=Do("Hours",!0);function fq(g,A,I){return g>11?I?"pm":"PM":I?"am":"AM"}var zE={calendar:B,longDateFormat:Ae,invalidDate:we,ordinal:Me,dayOfMonthOrdinalParse:Ie,relativeTime:X,months:ag,monthsShort:bf,week:L6,weekdays:G6,weekdaysMin:W6,weekdaysShort:VE,meridiemParse:lq},Gr={},Wl={},Yl;function pq(g,A){var I,k=Math.min(g.length,A.length);for(I=0;I<k;I+=1)if(g[I]!==A[I])return I;return k}function $E(g){return g&&g.toLowerCase().replace("_","-")}function mq(g){for(var A=0,I,k,$,se;A<g.length;){for(se=$E(g[A]).split("-"),I=se.length,k=$E(g[A+1]),k=k?k.split("-"):null;I>0;){if($=wf(se.slice(0,I).join("-")),$)return $;if(k&&k.length>=I&&pq(se,k)>=I-1)break;I--}A++}return Yl}function dq(g){return!!(g&&g.match("^[^/\\\\]*$"))}function wf(g){var A=null,I;if(Gr[g]===void 0&&typeof Cu!="undefined"&&Cu&&Cu.exports&&dq(g))try{A=Yl._abbr,I=require,I("./locale/"+g),No(A)}catch(k){Gr[g]=null}return Gr[g]}function No(g,A){var I;return g&&(u(A)?I=Ja(g):I=fg(g,A),I?Yl=I:typeof console!="undefined"&&console.warn&&console.warn("Locale "+g+" not found. Did you forget to load it?")),Yl._abbr}function fg(g,A){if(A!==null){var I,k=zE;if(A.abbr=g,Gr[g]!=null)M("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),k=Gr[g]._config;else if(A.parentLocale!=null)if(Gr[A.parentLocale]!=null)k=Gr[A.parentLocale]._config;else if(I=wf(A.parentLocale),I!=null)k=I._config;else return Wl[A.parentLocale]||(Wl[A.parentLocale]=[]),Wl[A.parentLocale].push({name:g,config:A}),null;return Gr[g]=new z(V(k,A)),Wl[g]&&Wl[g].forEach(function($){fg($.name,$.config)}),No(g),Gr[g]}else return delete Gr[g],null}function hq(g,A){if(A!=null){var I,k,$=zE;Gr[g]!=null&&Gr[g].parentLocale!=null?Gr[g].set(V(Gr[g]._config,A)):(k=wf(g),k!=null&&($=k._config),A=V($,A),k==null&&(A.abbr=g),I=new z(A),I.parentLocale=Gr[g],Gr[g]=I),No(g)}else Gr[g]!=null&&(Gr[g].parentLocale!=null?(Gr[g]=Gr[g].parentLocale,g===No()&&No(g)):Gr[g]!=null&&delete Gr[g]);return Gr[g]}function Ja(g){var A;if(g&&g._locale&&g._locale._abbr&&(g=g._locale._abbr),!g)return Yl;if(!r(g)){if(A=wf(g),A)return A;g=[g]}return mq(g)}function gq(){return L(Gr)}function pg(g){var A,I=g._a;return I&&h(g).overflow===-2&&(A=I[oa]<0||I[oa]>11?oa:I[qi]<1||I[qi]>$l(I[_n],I[oa])?qi:I[nn]<0||I[nn]>24||I[nn]===24&&(I[wi]!==0||I[sa]!==0||I[ja]!==0)?nn:I[wi]<0||I[wi]>59?wi:I[sa]<0||I[sa]>59?sa:I[ja]<0||I[ja]>999?ja:-1,h(g)._overflowDayOfYear&&(A<_n||A>qi)&&(A=qi),h(g)._overflowWeeks&&A===-1&&(A=Kh),h(g)._overflowWeekday&&A===-1&&(A=eg),h(g).overflow=A),g}var vq=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,yq=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,bq=/Z|[+-]\d\d(?::?\d\d)?/,_f=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],mg=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],xq=/^\/?Date\((-?\d+)/i,wq=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,_q={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function HE(g){var A,I,k=g._i,$=vq.exec(k)||yq.exec(k),se,Oe,ft,Vt,lr=_f.length,ei=mg.length;if($){for(h(g).iso=!0,A=0,I=lr;A<I;A++)if(_f[A][1].exec($[1])){Oe=_f[A][0],se=_f[A][2]!==!1;break}if(Oe==null){g._isValid=!1;return}if($[3]){for(A=0,I=ei;A<I;A++)if(mg[A][1].exec($[3])){ft=($[2]||" ")+mg[A][0];break}if(ft==null){g._isValid=!1;return}}if(!se&&ft!=null){g._isValid=!1;return}if($[4])if(bq.exec($[4]))Vt="Z";else{g._isValid=!1;return}g._f=Oe+(ft||"")+(Vt||""),hg(g)}else g._isValid=!1}function Sq(g,A,I,k,$,se){var Oe=[Aq(g),bf.indexOf(A),parseInt(I,10),parseInt(k,10),parseInt($,10)];return se&&Oe.push(parseInt(se,10)),Oe}function Aq(g){var A=parseInt(g,10);return A<=49?2e3+A:A<=999?1900+A:A}function Eq(g){return g.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Dq(g,A,I){if(g){var k=VE.indexOf(g),$=new Date(A[0],A[1],A[2]).getDay();if(k!==$)return h(I).weekdayMismatch=!0,I._isValid=!1,!1}return!0}function Mq(g,A,I){if(g)return _q[g];if(A)return 0;var k=parseInt(I,10),$=k%100,se=(k-$)/100;return se*60+$}function GE(g){var A=wq.exec(Eq(g._i)),I;if(A){if(I=Sq(A[4],A[3],A[2],A[5],A[6],A[7]),!Dq(A[1],I,g))return;g._a=I,g._tzm=Mq(A[8],A[9],A[10]),g._d=Hl.apply(null,g._a),g._d.setUTCMinutes(g._d.getUTCMinutes()-g._tzm),h(g).rfc2822=!0}else g._isValid=!1}function Nq(g){var A=xq.exec(g._i);if(A!==null){g._d=new Date(+A[1]);return}if(HE(g),g._isValid===!1)delete g._isValid;else return;if(GE(g),g._isValid===!1)delete g._isValid;else return;g._strict?g._isValid=!1:e.createFromInputFallback(g)}e.createFromInputFallback=D("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(g){g._d=new Date(g._i+(g._useUTC?" UTC":""))});function xu(g,A,I){return g!=null?g:A!=null?A:I}function Cq(g){var A=new Date(e.now());return g._useUTC?[A.getUTCFullYear(),A.getUTCMonth(),A.getUTCDate()]:[A.getFullYear(),A.getMonth(),A.getDate()]}function dg(g){var A,I,k=[],$,se,Oe;if(!g._d){for($=Cq(g),g._w&&g._a[qi]==null&&g._a[oa]==null&&Tq(g),g._dayOfYear!=null&&(Oe=xu(g._a[_n],$[_n]),(g._dayOfYear>Ss(Oe)||g._dayOfYear===0)&&(h(g)._overflowDayOfYear=!0),I=Hl(Oe,0,g._dayOfYear),g._a[oa]=I.getUTCMonth(),g._a[qi]=I.getUTCDate()),A=0;A<3&&g._a[A]==null;++A)g._a[A]=k[A]=$[A];for(;A<7;A++)g._a[A]=k[A]=g._a[A]==null?A===2?1:0:g._a[A];g._a[nn]===24&&g._a[wi]===0&&g._a[sa]===0&&g._a[ja]===0&&(g._nextDay=!0,g._a[nn]=0),g._d=(g._useUTC?Hl:k6).apply(null,k),se=g._useUTC?g._d.getUTCDay():g._d.getDay(),g._tzm!=null&&g._d.setUTCMinutes(g._d.getUTCMinutes()-g._tzm),g._nextDay&&(g._a[nn]=24),g._w&&typeof g._w.d!="undefined"&&g._w.d!==se&&(h(g).weekdayMismatch=!0)}}function Tq(g){var A,I,k,$,se,Oe,ft,Vt,lr;A=g._w,A.GG!=null||A.W!=null||A.E!=null?(se=1,Oe=4,I=xu(A.GG,g._a[_n],Gl(Ur(),1,4).year),k=xu(A.W,1),$=xu(A.E,1),($<1||$>7)&&(Vt=!0)):(se=g._locale._week.dow,Oe=g._locale._week.doy,lr=Gl(Ur(),se,Oe),I=xu(A.gg,g._a[_n],lr.year),k=xu(A.w,lr.week),A.d!=null?($=A.d,($<0||$>6)&&(Vt=!0)):A.e!=null?($=A.e+se,(A.e<0||A.e>6)&&(Vt=!0)):$=se),k<1||k>Za(I,se,Oe)?h(g)._overflowWeeks=!0:Vt!=null?h(g)._overflowWeekday=!0:(ft=LE(I,k,$,se,Oe),g._a[_n]=ft.year,g._dayOfYear=ft.dayOfYear)}e.ISO_8601=function(){},e.RFC_2822=function(){};function hg(g){if(g._f===e.ISO_8601){HE(g);return}if(g._f===e.RFC_2822){GE(g);return}g._a=[],h(g).empty=!0;var A=""+g._i,I,k,$,se,Oe,ft=A.length,Vt=0,lr,ei;for($=ve(g._f,g._locale).match(R)||[],ei=$.length,I=0;I<ei;I++)se=$[I],k=(A.match(Kn(se,g))||[])[0],k&&(Oe=A.substr(0,A.indexOf(k)),Oe.length>0&&h(g).unusedInput.push(Oe),A=A.slice(A.indexOf(k)+k.length),Vt+=k.length),H[se]?(k?h(g).empty=!1:h(g).unusedTokens.push(se),Qh(se,k,g)):g._strict&&!k&&h(g).unusedTokens.push(se);h(g).charsLeftOver=ft-Vt,A.length>0&&h(g).unusedInput.push(A),g._a[nn]<=12&&h(g).bigHour===!0&&g._a[nn]>0&&(h(g).bigHour=void 0),h(g).parsedDateParts=g._a.slice(0),h(g).meridiem=g._meridiem,g._a[nn]=Fq(g._locale,g._a[nn],g._meridiem),lr=h(g).era,lr!==null&&(g._a[_n]=g._locale.erasConvertYear(lr,g._a[_n])),dg(g),pg(g)}function Fq(g,A,I){var k;return I==null?A:g.meridiemHour!=null?g.meridiemHour(A,I):(g.isPM!=null&&(k=g.isPM(I),k&&A<12&&(A+=12),!k&&A===12&&(A=0)),A)}function Iq(g){var A,I,k,$,se,Oe,ft=!1,Vt=g._f.length;if(Vt===0){h(g).invalidFormat=!0,g._d=new Date(NaN);return}for($=0;$<Vt;$++)se=0,Oe=!1,A=w({},g),g._useUTC!=null&&(A._useUTC=g._useUTC),A._f=g._f[$],hg(A),v(A)&&(Oe=!0),se+=h(A).charsLeftOver,se+=h(A).unusedTokens.length*10,h(A).score=se,ft?se<k&&(k=se,I=A):(k==null||se<k||Oe)&&(k=se,I=A,Oe&&(ft=!0));f(g,I||A)}function Pq(g){if(!g._d){var A=ue(g._i),I=A.day===void 0?A.date:A.day;g._a=c([A.year,A.month,I,A.hour,A.minute,A.second,A.millisecond],function(k){return k&&parseInt(k,10)}),dg(g)}}function Bq(g){var A=new S(pg(WE(g)));return A._nextDay&&(A.add(1,"d"),A._nextDay=void 0),A}function WE(g){var A=g._i,I=g._f;return g._locale=g._locale||Ja(g._l),A===null||I===void 0&&A===""?y({nullInput:!0}):(typeof A=="string"&&(g._i=A=g._locale.preparse(A)),x(A)?new S(pg(A)):(l(A)?g._d=A:r(I)?Iq(g):I?hg(g):Oq(g),v(g)||(g._d=null),g))}function Oq(g){var A=g._i;u(A)?g._d=new Date(e.now()):l(A)?g._d=new Date(A.valueOf()):typeof A=="string"?Nq(g):r(A)?(g._a=c(A.slice(0),function(I){return parseInt(I,10)}),dg(g)):i(A)?Pq(g):s(A)?g._d=new Date(A):e.createFromInputFallback(g)}function YE(g,A,I,k,$){var se={};return(A===!0||A===!1)&&(k=A,A=void 0),(I===!0||I===!1)&&(k=I,I=void 0),(i(g)&&o(g)||r(g)&&g.length===0)&&(g=void 0),se._isAMomentObject=!0,se._useUTC=se._isUTC=$,se._l=I,se._i=g,se._f=A,se._strict=k,Bq(se)}function Ur(g,A,I,k){return YE(g,A,I,k,!1)}var kq=D("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var g=Ur.apply(null,arguments);return this.isValid()&&g.isValid()?g<this?this:g:y()}),Rq=D("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var g=Ur.apply(null,arguments);return this.isValid()&&g.isValid()?g>this?this:g:y()});function jE(g,A){var I,k;if(A.length===1&&r(A[0])&&(A=A[0]),!A.length)return Ur();for(I=A[0],k=1;k<A.length;++k)(!A[k].isValid()||A[k][g](I))&&(I=A[k]);return I}function Lq(){var g=[].slice.call(arguments,0);return jE("isBefore",g)}function Vq(){var g=[].slice.call(arguments,0);return jE("isAfter",g)}var Uq=function(){return Date.now?Date.now():+new Date},jl=["year","quarter","month","week","day","hour","minute","second","millisecond"];function qq(g){var A,I=!1,k,$=jl.length;for(A in g)if(a(g,A)&&!(Jr.call(jl,A)!==-1&&(g[A]==null||!isNaN(g[A]))))return!1;for(k=0;k<$;++k)if(g[jl[k]]){if(I)return!1;parseFloat(g[jl[k]])!==nr(g[jl[k]])&&(I=!0)}return!0}function zq(){return this._isValid}function $q(){return ua(NaN)}function Sf(g){var A=ue(g),I=A.year||0,k=A.quarter||0,$=A.month||0,se=A.week||A.isoWeek||0,Oe=A.day||0,ft=A.hour||0,Vt=A.minute||0,lr=A.second||0,ei=A.millisecond||0;this._isValid=qq(A),this._milliseconds=+ei+lr*1e3+Vt*6e4+ft*1e3*60*60,this._days=+Oe+se*7,this._months=+$+k*3+I*12,this._data={},this._locale=Ja(),this._bubble()}function Af(g){return g instanceof Sf}function gg(g){return g<0?Math.round(-1*g)*-1:Math.round(g)}function Hq(g,A,I){var k=Math.min(g.length,A.length),$=Math.abs(g.length-A.length),se=0,Oe;for(Oe=0;Oe<k;Oe++)(I&&g[Oe]!==A[Oe]||!I&&nr(g[Oe])!==nr(A[Oe]))&&se++;return se+$}function ZE(g,A){U(g,0,0,function(){var I=this.utcOffset(),k="+";return I<0&&(I=-I,k="-"),k+G(~~(I/60),2)+A+G(~~I%60,2)})}ZE("Z",":"),ZE("ZZ",""),Ze("Z",F),Ze("ZZ",F),Er(["Z","ZZ"],function(g,A,I){I._useUTC=!0,I._tzm=vg(F,g)});var Gq=/([\+\-]|\d\d)/gi;function vg(g,A){var I=(A||"").match(g),k,$,se;return I===null?null:(k=I[I.length-1]||[],$=(k+"").match(Gq)||["-",0,0],se=+($[1]*60)+nr($[2]),se===0?0:$[0]==="+"?se:-se)}function yg(g,A){var I,k;return A._isUTC?(I=A.clone(),k=(x(g)||l(g)?g.valueOf():Ur(g).valueOf())-I.valueOf(),I._d.setTime(I._d.valueOf()+k),e.updateOffset(I,!1),I):Ur(g).local()}function bg(g){return-Math.round(g._d.getTimezoneOffset())}e.updateOffset=function(){};function Wq(g,A,I){var k=this._offset||0,$;if(!this.isValid())return g!=null?this:NaN;if(g!=null){if(typeof g=="string"){if(g=vg(F,g),g===null)return this}else Math.abs(g)<16&&!I&&(g=g*60);return!this._isUTC&&A&&($=bg(this)),this._offset=g,this._isUTC=!0,$!=null&&this.add($,"m"),k!==g&&(!A||this._changeInProgress?KE(this,ua(g-k,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?k:bg(this)}function Yq(g,A){return g!=null?(typeof g!="string"&&(g=-g),this.utcOffset(g,A),this):-this.utcOffset()}function jq(g){return this.utcOffset(0,g)}function Zq(g){return this._isUTC&&(this.utcOffset(0,g),this._isUTC=!1,g&&this.subtract(bg(this),"m")),this}function Jq(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var g=vg(Ge,this._i);g!=null?this.utcOffset(g):this.utcOffset(0,!0)}return this}function Xq(g){return this.isValid()?(g=g?Ur(g).utcOffset():0,(this.utcOffset()-g)%60===0):!1}function Qq(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Kq(){if(!u(this._isDSTShifted))return this._isDSTShifted;var g={},A;return w(g,this),g=WE(g),g._a?(A=g._isUTC?p(g._a):Ur(g._a),this._isDSTShifted=this.isValid()&&Hq(g._a,A.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function e9(){return this.isValid()?!this._isUTC:!1}function t9(){return this.isValid()?this._isUTC:!1}function JE(){return this.isValid()?this._isUTC&&this._offset===0:!1}var r9=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,n9=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function ua(g,A){var I=g,k=null,$,se,Oe;return Af(g)?I={ms:g._milliseconds,d:g._days,M:g._months}:s(g)||!isNaN(+g)?(I={},A?I[A]=+g:I.milliseconds=+g):(k=r9.exec(g))?($=k[1]==="-"?-1:1,I={y:0,d:nr(k[qi])*$,h:nr(k[nn])*$,m:nr(k[wi])*$,s:nr(k[sa])*$,ms:nr(gg(k[ja]*1e3))*$}):(k=n9.exec(g))?($=k[1]==="-"?-1:1,I={y:Ds(k[2],$),M:Ds(k[3],$),w:Ds(k[4],$),d:Ds(k[5],$),h:Ds(k[6],$),m:Ds(k[7],$),s:Ds(k[8],$)}):I==null?I={}:typeof I=="object"&&("from"in I||"to"in I)&&(Oe=i9(Ur(I.from),Ur(I.to)),I={},I.ms=Oe.milliseconds,I.M=Oe.months),se=new Sf(I),Af(g)&&a(g,"_locale")&&(se._locale=g._locale),Af(g)&&a(g,"_isValid")&&(se._isValid=g._isValid),se}ua.fn=Sf.prototype,ua.invalid=$q;function Ds(g,A){var I=g&&parseFloat(g.replace(",","."));return(isNaN(I)?0:I)*A}function XE(g,A){var I={};return I.months=A.month()-g.month()+(A.year()-g.year())*12,g.clone().add(I.months,"M").isAfter(A)&&--I.months,I.milliseconds=+A-+g.clone().add(I.months,"M"),I}function i9(g,A){var I;return g.isValid()&&A.isValid()?(A=yg(A,g),g.isBefore(A)?I=XE(g,A):(I=XE(A,g),I.milliseconds=-I.milliseconds,I.months=-I.months),I):{milliseconds:0,months:0}}function QE(g,A){return function(I,k){var $,se;return k!==null&&!isNaN(+k)&&(M(A,"moment()."+A+"(period, number) is deprecated. Please use moment()."+A+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),se=I,I=k,k=se),$=ua(I,k),KE(this,$,g),this}}function KE(g,A,I,k){var $=A._milliseconds,se=gg(A._days),Oe=gg(A._months);g.isValid()&&(k=k==null?!0:k,Oe&&OE(g,As(g,"Month")+Oe*I),se&&yf(g,"Date",As(g,"Date")+se*I),$&&g._d.setTime(g._d.valueOf()+$*I),k&&e.updateOffset(g,se||Oe))}var a9=QE(1,"add"),o9=QE(-1,"subtract");function eD(g){return typeof g=="string"||g instanceof String}function s9(g){return x(g)||l(g)||eD(g)||s(g)||l9(g)||u9(g)||g===null||g===void 0}function u9(g){var A=i(g)&&!o(g),I=!1,k=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],$,se,Oe=k.length;for($=0;$<Oe;$+=1)se=k[$],I=I||a(g,se);return A&&I}function l9(g){var A=r(g),I=!1;return A&&(I=g.filter(function(k){return!s(k)&&eD(g)}).length===0),A&&I}function c9(g){var A=i(g)&&!o(g),I=!1,k=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],$,se;for($=0;$<k.length;$+=1)se=k[$],I=I||a(g,se);return A&&I}function f9(g,A){var I=g.diff(A,"days",!0);return I<-6?"sameElse":I<-1?"lastWeek":I<0?"lastDay":I<1?"sameDay":I<2?"nextDay":I<7?"nextWeek":"sameElse"}function p9(g,A){arguments.length===1&&(arguments[0]?s9(arguments[0])?(g=arguments[0],A=void 0):c9(arguments[0])&&(A=arguments[0],g=void 0):(g=void 0,A=void 0));var I=g||Ur(),k=yg(I,this).startOf("day"),$=e.calendarFormat(this,k)||"sameElse",se=A&&(P(A[$])?A[$].call(this,I):A[$]);return this.format(se||this.localeData().calendar($,this,Ur(I)))}function m9(){return new S(this)}function d9(g,A){var I=x(g)?g:Ur(g);return this.isValid()&&I.isValid()?(A=ne(A)||"millisecond",A==="millisecond"?this.valueOf()>I.valueOf():I.valueOf()<this.clone().startOf(A).valueOf()):!1}function h9(g,A){var I=x(g)?g:Ur(g);return this.isValid()&&I.isValid()?(A=ne(A)||"millisecond",A==="millisecond"?this.valueOf()<I.valueOf():this.clone().endOf(A).valueOf()<I.valueOf()):!1}function g9(g,A,I,k){var $=x(g)?g:Ur(g),se=x(A)?A:Ur(A);return this.isValid()&&$.isValid()&&se.isValid()?(k=k||"()",(k[0]==="("?this.isAfter($,I):!this.isBefore($,I))&&(k[1]===")"?this.isBefore(se,I):!this.isAfter(se,I))):!1}function v9(g,A){var I=x(g)?g:Ur(g),k;return this.isValid()&&I.isValid()?(A=ne(A)||"millisecond",A==="millisecond"?this.valueOf()===I.valueOf():(k=I.valueOf(),this.clone().startOf(A).valueOf()<=k&&k<=this.clone().endOf(A).valueOf())):!1}function y9(g,A){return this.isSame(g,A)||this.isAfter(g,A)}function b9(g,A){return this.isSame(g,A)||this.isBefore(g,A)}function x9(g,A,I){var k,$,se;if(!this.isValid())return NaN;if(k=yg(g,this),!k.isValid())return NaN;switch($=(k.utcOffset()-this.utcOffset())*6e4,A=ne(A),A){case"year":se=Ef(this,k)/12;break;case"month":se=Ef(this,k);break;case"quarter":se=Ef(this,k)/3;break;case"second":se=(this-k)/1e3;break;case"minute":se=(this-k)/6e4;break;case"hour":se=(this-k)/36e5;break;case"day":se=(this-k-$)/864e5;break;case"week":se=(this-k-$)/6048e5;break;default:se=this-k}return I?se:Mn(se)}function Ef(g,A){if(g.date()<A.date())return-Ef(A,g);var I=(A.year()-g.year())*12+(A.month()-g.month()),k=g.clone().add(I,"months"),$,se;return A-k<0?($=g.clone().add(I-1,"months"),se=(A-k)/(k-$)):($=g.clone().add(I+1,"months"),se=(A-k)/($-k)),-(I+se)||0}e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function w9(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function _9(g){if(!this.isValid())return null;var A=g!==!0,I=A?this.clone().utc():this;return I.year()<0||I.year()>9999?me(I,A?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):P(Date.prototype.toISOString)?A?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",me(I,"Z")):me(I,A?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function S9(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var g="moment",A="",I,k,$,se;return this.isLocal()||(g=this.utcOffset()===0?"moment.utc":"moment.parseZone",A="Z"),I="["+g+'("]',k=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",$="-MM-DD[T]HH:mm:ss.SSS",se=A+'[")]',this.format(I+k+$+se)}function A9(g){g||(g=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var A=me(this,g);return this.localeData().postformat(A)}function E9(g,A){return this.isValid()&&(x(g)&&g.isValid()||Ur(g).isValid())?ua({to:this,from:g}).locale(this.locale()).humanize(!A):this.localeData().invalidDate()}function D9(g){return this.from(Ur(),g)}function M9(g,A){return this.isValid()&&(x(g)&&g.isValid()||Ur(g).isValid())?ua({from:this,to:g}).locale(this.locale()).humanize(!A):this.localeData().invalidDate()}function N9(g){return this.to(Ur(),g)}function tD(g){var A;return g===void 0?this._locale._abbr:(A=Ja(g),A!=null&&(this._locale=A),this)}var rD=D("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(g){return g===void 0?this.localeData():this.locale(g)});function nD(){return this._locale}var Df=1e3,wu=60*Df,Mf=60*wu,iD=(365*400+97)*24*Mf;function _u(g,A){return(g%A+A)%A}function aD(g,A,I){return g<100&&g>=0?new Date(g+400,A,I)-iD:new Date(g,A,I).valueOf()}function oD(g,A,I){return g<100&&g>=0?Date.UTC(g+400,A,I)-iD:Date.UTC(g,A,I)}function C9(g){var A,I;if(g=ne(g),g===void 0||g==="millisecond"||!this.isValid())return this;switch(I=this._isUTC?oD:aD,g){case"year":A=I(this.year(),0,1);break;case"quarter":A=I(this.year(),this.month()-this.month()%3,1);break;case"month":A=I(this.year(),this.month(),1);break;case"week":A=I(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":A=I(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":A=I(this.year(),this.month(),this.date());break;case"hour":A=this._d.valueOf(),A-=_u(A+(this._isUTC?0:this.utcOffset()*wu),Mf);break;case"minute":A=this._d.valueOf(),A-=_u(A,wu);break;case"second":A=this._d.valueOf(),A-=_u(A,Df);break}return this._d.setTime(A),e.updateOffset(this,!0),this}function T9(g){var A,I;if(g=ne(g),g===void 0||g==="millisecond"||!this.isValid())return this;switch(I=this._isUTC?oD:aD,g){case"year":A=I(this.year()+1,0,1)-1;break;case"quarter":A=I(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":A=I(this.year(),this.month()+1,1)-1;break;case"week":A=I(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":A=I(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":A=I(this.year(),this.month(),this.date()+1)-1;break;case"hour":A=this._d.valueOf(),A+=Mf-_u(A+(this._isUTC?0:this.utcOffset()*wu),Mf)-1;break;case"minute":A=this._d.valueOf(),A+=wu-_u(A,wu)-1;break;case"second":A=this._d.valueOf(),A+=Df-_u(A,Df)-1;break}return this._d.setTime(A),e.updateOffset(this,!0),this}function F9(){return this._d.valueOf()-(this._offset||0)*6e4}function I9(){return Math.floor(this.valueOf()/1e3)}function P9(){return new Date(this.valueOf())}function B9(){var g=this;return[g.year(),g.month(),g.date(),g.hour(),g.minute(),g.second(),g.millisecond()]}function O9(){var g=this;return{years:g.year(),months:g.month(),date:g.date(),hours:g.hours(),minutes:g.minutes(),seconds:g.seconds(),milliseconds:g.milliseconds()}}function k9(){return this.isValid()?this.toISOString():null}function R9(){return v(this)}function L9(){return f({},h(this))}function V9(){return h(this).overflow}function U9(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}U("N",0,0,"eraAbbr"),U("NN",0,0,"eraAbbr"),U("NNN",0,0,"eraAbbr"),U("NNNN",0,0,"eraName"),U("NNNNN",0,0,"eraNarrow"),U("y",["y",1],"yo","eraYear"),U("y",["yy",2],0,"eraYear"),U("y",["yyy",3],0,"eraYear"),U("y",["yyyy",4],0,"eraYear"),Ze("N",xg),Ze("NN",xg),Ze("NNN",xg),Ze("NNNN",X9),Ze("NNNNN",Q9),Er(["N","NN","NNN","NNNN","NNNNN"],function(g,A,I,k){var $=I._locale.erasParse(g,k,I._strict);$?h(I).era=$:h(I).invalidEra=g}),Ze("y",Re),Ze("yy",Re),Ze("yyy",Re),Ze("yyyy",Re),Ze("yo",K9),Er(["y","yy","yyy","yyyy"],_n),Er(["yo"],function(g,A,I,k){var $;I._locale._eraYearOrdinalRegex&&($=g.match(I._locale._eraYearOrdinalRegex)),I._locale.eraYearOrdinalParse?A[_n]=I._locale.eraYearOrdinalParse(g,$):A[_n]=parseInt(g,10)});function q9(g,A){var I,k,$,se=this._eras||Ja("en")._eras;for(I=0,k=se.length;I<k;++I){switch(typeof se[I].since){case"string":$=e(se[I].since).startOf("day"),se[I].since=$.valueOf();break}switch(typeof se[I].until){case"undefined":se[I].until=1/0;break;case"string":$=e(se[I].until).startOf("day").valueOf(),se[I].until=$.valueOf();break}}return se}function z9(g,A,I){var k,$,se=this.eras(),Oe,ft,Vt;for(g=g.toUpperCase(),k=0,$=se.length;k<$;++k)if(Oe=se[k].name.toUpperCase(),ft=se[k].abbr.toUpperCase(),Vt=se[k].narrow.toUpperCase(),I)switch(A){case"N":case"NN":case"NNN":if(ft===g)return se[k];break;case"NNNN":if(Oe===g)return se[k];break;case"NNNNN":if(Vt===g)return se[k];break}else if([Oe,ft,Vt].indexOf(g)>=0)return se[k]}function $9(g,A){var I=g.since<=g.until?1:-1;return A===void 0?e(g.since).year():e(g.since).year()+(A-g.offset)*I}function H9(){var g,A,I,k=this.localeData().eras();for(g=0,A=k.length;g<A;++g)if(I=this.clone().startOf("day").valueOf(),k[g].since<=I&&I<=k[g].until||k[g].until<=I&&I<=k[g].since)return k[g].name;return""}function G9(){var g,A,I,k=this.localeData().eras();for(g=0,A=k.length;g<A;++g)if(I=this.clone().startOf("day").valueOf(),k[g].since<=I&&I<=k[g].until||k[g].until<=I&&I<=k[g].since)return k[g].narrow;return""}function W9(){var g,A,I,k=this.localeData().eras();for(g=0,A=k.length;g<A;++g)if(I=this.clone().startOf("day").valueOf(),k[g].since<=I&&I<=k[g].until||k[g].until<=I&&I<=k[g].since)return k[g].abbr;return""}function Y9(){var g,A,I,k,$=this.localeData().eras();for(g=0,A=$.length;g<A;++g)if(I=$[g].since<=$[g].until?1:-1,k=this.clone().startOf("day").valueOf(),$[g].since<=k&&k<=$[g].until||$[g].until<=k&&k<=$[g].since)return(this.year()-e($[g].since).year())*I+$[g].offset;return this.year()}function j9(g){return a(this,"_erasNameRegex")||wg.call(this),g?this._erasNameRegex:this._erasRegex}function Z9(g){return a(this,"_erasAbbrRegex")||wg.call(this),g?this._erasAbbrRegex:this._erasRegex}function J9(g){return a(this,"_erasNarrowRegex")||wg.call(this),g?this._erasNarrowRegex:this._erasRegex}function xg(g,A){return A.erasAbbrRegex(g)}function X9(g,A){return A.erasNameRegex(g)}function Q9(g,A){return A.erasNarrowRegex(g)}function K9(g,A){return A._eraYearOrdinalRegex||Re}function wg(){var g=[],A=[],I=[],k=[],$,se,Oe,ft,Vt,lr=this.eras();for($=0,se=lr.length;$<se;++$)Oe=Bn(lr[$].name),ft=Bn(lr[$].abbr),Vt=Bn(lr[$].narrow),A.push(Oe),g.push(ft),I.push(Vt),k.push(Oe),k.push(ft),k.push(Vt);this._erasRegex=new RegExp("^("+k.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+A.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+g.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+I.join("|")+")","i")}U(0,["gg",2],0,function(){return this.weekYear()%100}),U(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Nf(g,A){U(0,[g,g.length],0,A)}Nf("gggg","weekYear"),Nf("ggggg","weekYear"),Nf("GGGG","isoWeekYear"),Nf("GGGGG","isoWeekYear"),Ze("G",qe),Ze("g",qe),Ze("GG",St,Fe),Ze("gg",St,Fe),Ze("GGGG",Ve,wt),Ze("gggg",Ve,wt),Ze("GGGGG",ze,tr),Ze("ggggg",ze,tr),_s(["gggg","ggggg","GGGG","GGGGG"],function(g,A,I,k){A[k.substr(0,2)]=nr(g)}),_s(["gg","GG"],function(g,A,I,k){A[k]=e.parseTwoDigitYear(g)});function e7(g){return sD.call(this,g,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function t7(g){return sD.call(this,g,this.isoWeek(),this.isoWeekday(),1,4)}function r7(){return Za(this.year(),1,4)}function n7(){return Za(this.isoWeekYear(),1,4)}function i7(){var g=this.localeData()._week;return Za(this.year(),g.dow,g.doy)}function a7(){var g=this.localeData()._week;return Za(this.weekYear(),g.dow,g.doy)}function sD(g,A,I,k,$){var se;return g==null?Gl(this,k,$).year:(se=Za(g,k,$),A>se&&(A=se),o7.call(this,g,A,I,k,$))}function o7(g,A,I,k,$){var se=LE(g,A,I,k,$),Oe=Hl(se.year,0,se.dayOfYear);return this.year(Oe.getUTCFullYear()),this.month(Oe.getUTCMonth()),this.date(Oe.getUTCDate()),this}U("Q",0,"Qo","quarter"),Ze("Q",Ye),Er("Q",function(g,A){A[oa]=(nr(g)-1)*3});function s7(g){return g==null?Math.ceil((this.month()+1)/3):this.month((g-1)*3+this.month()%3)}U("D",["DD",2],"Do","date"),Ze("D",St,Le),Ze("DD",St,Fe),Ze("Do",function(g,A){return g?A._dayOfMonthOrdinalParse||A._ordinalParse:A._dayOfMonthOrdinalParseLenient}),Er(["D","DD"],qi),Er("Do",function(g,A){A[qi]=nr(g.match(St)[0])});var uD=Do("Date",!0);U("DDD",["DDDD",3],"DDDo","dayOfYear"),Ze("DDD",_e),Ze("DDDD",Qe),Er(["DDD","DDDD"],function(g,A,I){I._dayOfYear=nr(g)});function u7(g){var A=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return g==null?A:this.add(g-A,"d")}U("m",["mm",2],0,"minute"),Ze("m",St,ut),Ze("mm",St,Fe),Er(["m","mm"],wi);var l7=Do("Minutes",!1);U("s",["ss",2],0,"second"),Ze("s",St,ut),Ze("ss",St,Fe),Er(["s","ss"],sa);var c7=Do("Seconds",!1);U("S",0,0,function(){return~~(this.millisecond()/100)}),U(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),U(0,["SSS",3],0,"millisecond"),U(0,["SSSS",4],0,function(){return this.millisecond()*10}),U(0,["SSSSS",5],0,function(){return this.millisecond()*100}),U(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),U(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),U(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),U(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),Ze("S",_e,Ye),Ze("SS",_e,Fe),Ze("SSS",_e,Qe);var Co,lD;for(Co="SSSS";Co.length<=9;Co+="S")Ze(Co,Re);function f7(g,A){A[ja]=nr(("0."+g)*1e3)}for(Co="S";Co.length<=9;Co+="S")Er(Co,f7);lD=Do("Milliseconds",!1),U("z",0,0,"zoneAbbr"),U("zz",0,0,"zoneName");function p7(){return this._isUTC?"UTC":""}function m7(){return this._isUTC?"Coordinated Universal Time":""}var Xe=S.prototype;Xe.add=a9,Xe.calendar=p9,Xe.clone=m9,Xe.diff=x9,Xe.endOf=T9,Xe.format=A9,Xe.from=E9,Xe.fromNow=D9,Xe.to=M9,Xe.toNow=N9,Xe.get=rg,Xe.invalidAt=V9,Xe.isAfter=d9,Xe.isBefore=h9,Xe.isBetween=g9,Xe.isSame=v9,Xe.isSameOrAfter=y9,Xe.isSameOrBefore=b9,Xe.isValid=R9,Xe.lang=rD,Xe.locale=tD,Xe.localeData=nD,Xe.max=Rq,Xe.min=kq,Xe.parsingFlags=L9,Xe.set=ng,Xe.startOf=C9,Xe.subtract=o9,Xe.toArray=B9,Xe.toObject=O9,Xe.toDate=P9,Xe.toISOString=_9,Xe.inspect=S9,typeof Symbol!="undefined"&&Symbol.for!=null&&(Xe[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),Xe.toJSON=k9,Xe.toString=w9,Xe.unix=I9,Xe.valueOf=F9,Xe.creationData=U9,Xe.eraName=H9,Xe.eraNarrow=G9,Xe.eraAbbr=W9,Xe.eraYear=Y9,Xe.year=vf,Xe.isLeapYear=tg,Xe.weekYear=e7,Xe.isoWeekYear=t7,Xe.quarter=Xe.quarters=s7,Xe.month=kE,Xe.daysInMonth=P6,Xe.week=Xe.weeks=q6,Xe.isoWeek=Xe.isoWeeks=z6,Xe.weeksInYear=i7,Xe.weeksInWeekYear=a7,Xe.isoWeeksInYear=r7,Xe.isoWeeksInISOWeekYear=n7,Xe.date=uD,Xe.day=Xe.days=tq,Xe.weekday=rq,Xe.isoWeekday=nq,Xe.dayOfYear=u7,Xe.hour=Xe.hours=cq,Xe.minute=Xe.minutes=l7,Xe.second=Xe.seconds=c7,Xe.millisecond=Xe.milliseconds=lD,Xe.utcOffset=Wq,Xe.utc=jq,Xe.local=Zq,Xe.parseZone=Jq,Xe.hasAlignedHourOffset=Xq,Xe.isDST=Qq,Xe.isLocal=e9,Xe.isUtcOffset=t9,Xe.isUtc=JE,Xe.isUTC=JE,Xe.zoneAbbr=p7,Xe.zoneName=m7,Xe.dates=D("dates accessor is deprecated. Use date instead.",uD),Xe.months=D("months accessor is deprecated. Use month instead",kE),Xe.years=D("years accessor is deprecated. Use year instead",vf),Xe.zone=D("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Yq),Xe.isDSTShifted=D("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Kq);function d7(g){return Ur(g*1e3)}function h7(){return Ur.apply(null,arguments).parseZone()}function cD(g){return g}var vr=z.prototype;vr.calendar=T,vr.longDateFormat=be,vr.invalidDate=Se,vr.ordinal=et,vr.preparse=cD,vr.postformat=cD,vr.relativeTime=re,vr.pastFuture=xe,vr.set=O,vr.eras=q9,vr.erasParse=z9,vr.erasConvertYear=$9,vr.erasAbbrRegex=Z9,vr.erasNameRegex=j9,vr.erasNarrowRegex=J9,vr.months=og,vr.monthsShort=bu,vr.monthsParse=sg,vr.monthsRegex=O6,vr.monthsShortRegex=B6,vr.week=R6,vr.firstDayOfYear=U6,vr.firstDayOfWeek=V6,vr.weekdays=J6,vr.weekdaysMin=Q6,vr.weekdaysShort=X6,vr.weekdaysParse=eq,vr.weekdaysRegex=iq,vr.weekdaysShortRegex=aq,vr.weekdaysMinRegex=oq,vr.isPM=uq,vr.meridiem=fq;function Cf(g,A,I,k){var $=Ja(),se=p().set(k,A);return $[I](se,g)}function fD(g,A,I){if(s(g)&&(A=g,g=void 0),g=g||"",A!=null)return Cf(g,A,I,"month");var k,$=[];for(k=0;k<12;k++)$[k]=Cf(g,k,I,"month");return $}function _g(g,A,I,k){typeof g=="boolean"?(s(A)&&(I=A,A=void 0),A=A||""):(A=g,I=A,g=!1,s(A)&&(I=A,A=void 0),A=A||"");var $=Ja(),se=g?$._week.dow:0,Oe,ft=[];if(I!=null)return Cf(A,(I+se)%7,k,"day");for(Oe=0;Oe<7;Oe++)ft[Oe]=Cf(A,(Oe+se)%7,k,"day");return ft}function g7(g,A){return fD(g,A,"months")}function v7(g,A){return fD(g,A,"monthsShort")}function y7(g,A,I){return _g(g,A,I,"weekdays")}function b7(g,A,I){return _g(g,A,I,"weekdaysShort")}function x7(g,A,I){return _g(g,A,I,"weekdaysMin")}No("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(g){var A=g%10,I=nr(g%100/10)===1?"th":A===1?"st":A===2?"nd":A===3?"rd":"th";return g+I}}),e.lang=D("moment.lang is deprecated. Use moment.locale instead.",No),e.langData=D("moment.langData is deprecated. Use moment.localeData instead.",Ja);var Xa=Math.abs;function w7(){var g=this._data;return this._milliseconds=Xa(this._milliseconds),this._days=Xa(this._days),this._months=Xa(this._months),g.milliseconds=Xa(g.milliseconds),g.seconds=Xa(g.seconds),g.minutes=Xa(g.minutes),g.hours=Xa(g.hours),g.months=Xa(g.months),g.years=Xa(g.years),this}function pD(g,A,I,k){var $=ua(A,I);return g._milliseconds+=k*$._milliseconds,g._days+=k*$._days,g._months+=k*$._months,g._bubble()}function _7(g,A){return pD(this,g,A,1)}function S7(g,A){return pD(this,g,A,-1)}function mD(g){return g<0?Math.floor(g):Math.ceil(g)}function A7(){var g=this._milliseconds,A=this._days,I=this._months,k=this._data,$,se,Oe,ft,Vt;return g>=0&&A>=0&&I>=0||g<=0&&A<=0&&I<=0||(g+=mD(Sg(I)+A)*864e5,A=0,I=0),k.milliseconds=g%1e3,$=Mn(g/1e3),k.seconds=$%60,se=Mn($/60),k.minutes=se%60,Oe=Mn(se/60),k.hours=Oe%24,A+=Mn(Oe/24),Vt=Mn(dD(A)),I+=Vt,A-=mD(Sg(Vt)),ft=Mn(I/12),I%=12,k.days=A,k.months=I,k.years=ft,this}function dD(g){return g*4800/146097}function Sg(g){return g*146097/4800}function E7(g){if(!this.isValid())return NaN;var A,I,k=this._milliseconds;if(g=ne(g),g==="month"||g==="quarter"||g==="year")switch(A=this._days+k/864e5,I=this._months+dD(A),g){case"month":return I;case"quarter":return I/3;case"year":return I/12}else switch(A=this._days+Math.round(Sg(this._months)),g){case"week":return A/7+k/6048e5;case"day":return A+k/864e5;case"hour":return A*24+k/36e5;case"minute":return A*1440+k/6e4;case"second":return A*86400+k/1e3;case"millisecond":return Math.floor(A*864e5)+k;default:throw new Error("Unknown unit "+g)}}function Qa(g){return function(){return this.as(g)}}var hD=Qa("ms"),D7=Qa("s"),M7=Qa("m"),N7=Qa("h"),C7=Qa("d"),T7=Qa("w"),F7=Qa("M"),I7=Qa("Q"),P7=Qa("y"),B7=hD;function O7(){return ua(this)}function k7(g){return g=ne(g),this.isValid()?this[g+"s"]():NaN}function Ms(g){return function(){return this.isValid()?this._data[g]:NaN}}var R7=Ms("milliseconds"),L7=Ms("seconds"),V7=Ms("minutes"),U7=Ms("hours"),q7=Ms("days"),z7=Ms("months"),$7=Ms("years");function H7(){return Mn(this.days()/7)}var Ka=Math.round,Su={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function G7(g,A,I,k,$){return $.relativeTime(A||1,!!I,g,k)}function W7(g,A,I,k){var $=ua(g).abs(),se=Ka($.as("s")),Oe=Ka($.as("m")),ft=Ka($.as("h")),Vt=Ka($.as("d")),lr=Ka($.as("M")),ei=Ka($.as("w")),eo=Ka($.as("y")),To=se<=I.ss&&["s",se]||se<I.s&&["ss",se]||Oe<=1&&["m"]||Oe<I.m&&["mm",Oe]||ft<=1&&["h"]||ft<I.h&&["hh",ft]||Vt<=1&&["d"]||Vt<I.d&&["dd",Vt];return I.w!=null&&(To=To||ei<=1&&["w"]||ei<I.w&&["ww",ei]),To=To||lr<=1&&["M"]||lr<I.M&&["MM",lr]||eo<=1&&["y"]||["yy",eo],To[2]=A,To[3]=+g>0,To[4]=k,G7.apply(null,To)}function Y7(g){return g===void 0?Ka:typeof g=="function"?(Ka=g,!0):!1}function j7(g,A){return Su[g]===void 0?!1:A===void 0?Su[g]:(Su[g]=A,g==="s"&&(Su.ss=A-1),!0)}function Z7(g,A){if(!this.isValid())return this.localeData().invalidDate();var I=!1,k=Su,$,se;return typeof g=="object"&&(A=g,g=!1),typeof g=="boolean"&&(I=g),typeof A=="object"&&(k=Object.assign({},Su,A),A.s!=null&&A.ss==null&&(k.ss=A.s-1)),$=this.localeData(),se=W7(this,!I,k,$),I&&(se=$.pastFuture(+this,se)),$.postformat(se)}var Ag=Math.abs;function Au(g){return(g>0)-(g<0)||+g}function Tf(){if(!this.isValid())return this.localeData().invalidDate();var g=Ag(this._milliseconds)/1e3,A=Ag(this._days),I=Ag(this._months),k,$,se,Oe,ft=this.asSeconds(),Vt,lr,ei,eo;return ft?(k=Mn(g/60),$=Mn(k/60),g%=60,k%=60,se=Mn(I/12),I%=12,Oe=g?g.toFixed(3).replace(/\.?0+$/,""):"",Vt=ft<0?"-":"",lr=Au(this._months)!==Au(ft)?"-":"",ei=Au(this._days)!==Au(ft)?"-":"",eo=Au(this._milliseconds)!==Au(ft)?"-":"",Vt+"P"+(se?lr+se+"Y":"")+(I?lr+I+"M":"")+(A?ei+A+"D":"")+($||k||g?"T":"")+($?eo+$+"H":"")+(k?eo+k+"M":"")+(g?eo+Oe+"S":"")):"P0D"}var fr=Sf.prototype;fr.isValid=zq,fr.abs=w7,fr.add=_7,fr.subtract=S7,fr.as=E7,fr.asMilliseconds=hD,fr.asSeconds=D7,fr.asMinutes=M7,fr.asHours=N7,fr.asDays=C7,fr.asWeeks=T7,fr.asMonths=F7,fr.asQuarters=I7,fr.asYears=P7,fr.valueOf=B7,fr._bubble=A7,fr.clone=O7,fr.get=k7,fr.milliseconds=R7,fr.seconds=L7,fr.minutes=V7,fr.hours=U7,fr.days=q7,fr.weeks=H7,fr.months=z7,fr.years=$7,fr.humanize=Z7,fr.toISOString=Tf,fr.toString=Tf,fr.toJSON=Tf,fr.locale=tD,fr.localeData=nD,fr.toIsoString=D("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Tf),fr.lang=rD,U("X",0,0,"unix"),U("x",0,0,"valueOf"),Ze("x",qe),Ze("X",J),Er("X",function(g,A,I){I._d=new Date(parseFloat(g)*1e3)}),Er("x",function(g,A,I){I._d=new Date(nr(g))});return e.version="2.30.1",t(Ur),e.fn=Xe,e.min=Lq,e.max=Vq,e.now=Uq,e.utc=p,e.unix=d7,e.months=g7,e.isDate=l,e.locale=No,e.invalid=y,e.duration=ua,e.isMoment=x,e.weekdays=y7,e.parseZone=h7,e.localeData=Ja,e.isDuration=Af,e.monthsShort=v7,e.weekdaysMin=x7,e.defineLocale=fg,e.updateLocale=hq,e.locales=gq,e.weekdaysShort=b7,e.normalizeUnits=ne,e.relativeTimeRounding=Y7,e.relativeTimeThreshold=j7,e.calendarFormat=f9,e.prototype=Xe,e.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},e})});var Yf=cn(li=>{"use strict";Object.defineProperty(li,"__esModule",{value:!0});li.P_HELPERS=li.ParserHelpers=li.validateRegexFlags=li.validateRange=li.getIndex=li.arrayUnion=void 0;var Bg=jf();function sz(n,e){if(n===void 0&&e===void 0)return;if(n===void 0)return e;if(e===void 0)return n;let t=[...n];for(let r of e)t.includes(r)||t.push(r);return t}li.arrayUnion=sz;function uz(n){return n===void 0?-1:n.index}li.getIndex=uz;function lz(n,e){if(e<n)throw new Error(`Invalid Range: max might not be smaller than min. Received [${n}, ${e}].`);if(n<0||e<0)throw new Error(`Invalid Range: max and min might not be smaller than 0. Received [${n}, ${e}].`);if(n===1/0||e===1/0)throw new Error(`Invalid Range: max and min might not be infinity. Received [${n}, ${e}].`);if(!Number.isInteger(n)||!Number.isInteger(e))throw new Error(`Invalid Range: max and min must be integers. Received [${n}, ${e}].`)}li.validateRange=lz;function cz(n){for(let e of n)if(e!=="i"&&e!=="m"&&e!=="s"&&e!=="u")throw new Error(`RegExp flag '${e}' is not allowed. The only allowed flags are 'i', 'm', 's' and 'u'.`)}li.validateRegexFlags=cz;var Wf=class{followedBy(e){return new Bg.Parser(function(r){return e.p(r.copy())})}notFollowedBy(e){return new Bg.Parser(function(r){let i=r.copy(),a=e.p(i),o=r.sliceTo(i.position.index);return a.success?r.fail("not '"+o+"'"):r.succeed(void 0)})}test(e){return new Bg.Parser(function(r){let i=r.input[r.position.index];return!r.atEOF()&&e(i)?r.succeedOffset(1,i):r.fail(`a character matching ${e}`)})}};li.ParserHelpers=Wf;li.P_HELPERS=new Wf});var PD=cn(Zf=>{"use strict";Object.defineProperty(Zf,"__esModule",{value:!0});Zf.ParserContext=void 0;var Og=Yf(),kg=class n{constructor(e,t){this.input=e,this.position=t}moveToPosition(e){return this.position=e,this}copy(){return new n(this.input,{index:this.position.index,column:this.position.column,line:this.position.line})}getPosition(){return{index:this.position.index,column:this.position.column,line:this.position.line}}atEOF(){return this.position.index>=this.input.length}advanceTo(e){if(e<this.position.index)throw new Error(`Can not advance backwards. Current pos ${this.position.index}. Advance target index ${e}.`);if(e!==this.position.index){for(let t=this.position.index;t<e;t++)this.input[t]===`
`?(this.position.line+=1,this.position.column=1):this.position.column+=1;this.position.index=e}}sliceTo(e){return this.input.slice(this.position.index,e)}succeedOffset(e,t){return this.succeedAt(this.position.index+e,t)}failOffset(e,t){return this.failAt(this.position.index+e,t)}succeed(e){return this.succeedAt(this.position.index,e)}fail(e){return this.failAt(this.position.index,e)}succeedAt(e,t){return this.advanceTo(e),{success:!0,value:t,furthest:void 0,expected:void 0}}failAt(e,t){return this.advanceTo(e),{success:!1,value:void 0,furthest:this.position,expected:Array.isArray(t)?t:[t]}}merge(e,t){if(e===void 0)return t;let r=(0,Og.getIndex)(e.furthest),i=(0,Og.getIndex)(t.furthest);if(i>r)return t;let a=i===r?(0,Og.arrayUnion)(e.expected,t.expected):e.expected;return t.furthest=e.furthest,t.expected=a,t}};Zf.ParserContext=kg});var ci=cn(Xf=>{"use strict";Object.defineProperty(Xf,"__esModule",{value:!0});Xf.P=void 0;var _i=jf(),Jf=Yf(),Rg=class n{static sequence(...e){if(e.length===0)throw new Error("sequence must have at least one parser argument");return new _i.Parser(function(r){let i,a=new Array(e.length);for(let o=0;o<e.length;o++){let s=e[o].p(r);if(i=r.merge(i,s),!i.success)return i;a[o]=i.value}return i.value=a,i})}static sequenceMap(e,...t){if(t.length===0)throw new Error("sequenceMap must have at least one parser argument");return new _i.Parser(function(i){let a,o=new Array(t.length);for(let u=0;u<t.length;u++){let l=t[u].p(i);if(a=i.merge(a,l),!a.success)return a;o[u]=a.value}return a.value=e(...o),a})}static createLanguage(e){let t={},r={},i={};for(let a in e)i[a]=n.reference(()=>e[a](t,i)),Object.defineProperty(r,a,{get:()=>{if(t[a]!==void 0)return t[a];throw new Error(`Can not access rule '${a}' in language. Rule is not yet defined. Try to access it via 'ref'.`)}});for(let a in e)t[a]=e[a](r,i);return t}static or(...e){if(e.length===0)throw new Error("or must have at least one alternative");return new _i.Parser(function(r){let i;for(let a of e){let o=a,u=r.copy(),s=o.p(u);if(i=r.merge(i,s),i.success)return r.moveToPosition(u.position),i}return i})}static separateBy(e,t){return this.separateByNotEmpty(e,t).or(n.succeed([]))}static separateByNotEmpty(e,t){return this.sequenceMap(function(i,a){return a.unshift(i),a},e,t.then(e).many())}static string(e){let t="'"+e+"'";return new _i.Parser(function(i){for(let a=0;a<e.length;a++)if(i.input[i.position.index+a]!==e[a])return i.fail(t);return i.succeedAt(i.position.index+e.length,e)})}static regexp(e,t){(0,Jf.validateRegexFlags)(e.flags);let r=e.source;return t!==void 0?new _i.Parser(function(a){let o=a.input.slice(a.position.index),u=e.exec(o);if(u!==null){let s=t!=null?t:0;if(s>=0&&s<=u.length){let c=u[0],f=u[s];return a.succeedOffset(c.length,f)}let l="expected valid match group (0 to "+u.length+") in "+r;return a.fail(l)}else return a.fail(r)}):new _i.Parser(function(a){let o=a.input.slice(a.position.index),u=e.exec(o);if(u!==null){let s=u[0];return a.succeedOffset(s.length,s)}else return a.fail(r)})}static succeed(e){return new _i.Parser(function(r){return r.succeed(e)})}static fail(e){return new _i.Parser(function(r){return r.fail(e)})}static oneOf(e){return Jf.P_HELPERS.test(function(r){return e.includes(r)}).describe(`one character of '${e}'`)}static noneOf(e){return Jf.P_HELPERS.test(function(r){return!e.includes(r)}).describe(`no character of '${e}'`)}static oneStringOf(e){return this.or(...e.map(t=>this.string(t))).describe(e.map(t=>`'${t}'`).join(" or "))}static manyOf(e){return new _i.Parser(function(r){let i=r.position.index;for(;i<r.input.length&&e.includes(r.input[i]);i++);return r.succeedAt(i,r.sliceTo(i))})}static manyNotOf(e){return new _i.Parser(function(r){let i=r.position.index;for(;i<r.input.length&&!e.includes(r.input[i]);i++);return r.succeedAt(i,r.sliceTo(i))})}static custom(e){return new _i.Parser(e)}static range(e,t){let r=e.charCodeAt(0),i=t.charCodeAt(0);return Jf.P_HELPERS.test(function(o){let u=o.charCodeAt(0);return r<=u&&u<=i}).describe(`${e}-${t}`)}static takeWhile(e){return new _i.Parser(function(r){let i=r.position.index;for(;i<r.input.length&&e(r.input[i]);)i++;return r.succeedAt(i,r.input.slice(r.position.index,i))})}static reference(e){return new _i.Parser(function(r){return e().p(r)})}};Xf.P=Rg});var OD=cn(Tu=>{"use strict";Object.defineProperty(Tu,"__esModule",{value:!0});Tu.ParsingError=Tu.createParsingErrorMessage=void 0;function BD(n,e,t){let r=`Expected ${e.expected.sort().join(" or ")}`,i=`Parse Failure: ${r} at index ${e.furthest.index}, line ${e.furthest.line}, column ${e.furthest.column}.`;if(t){let o=n.split(`
`)[e.furthest.line-1],u=`${e.furthest.line} |   `;i+=`

${u}${o}`,i+=`
${" ".repeat(e.furthest.column-1+u.length)}^ (${r})`}return i}Tu.createParsingErrorMessage=BD;var Lg=class extends Error{constructor(e,t){super(BD(e,t,!0))}};Tu.ParsingError=Lg});var jf=cn(Qf=>{"use strict";Object.defineProperty(Qf,"__esModule",{value:!0});Qf.Parser=void 0;var fz=PD(),$i=ci(),Vg=Yf(),Fu=Si(),pz=OD(),Ug=class n{constructor(e){this.p=e}tryParse(e){return this.p(new fz.ParserContext(e,{index:0,line:1,column:1}))}parse(e){let t=this.tryParse(e);if(t.success)return t.value;throw new pz.ParsingError(e,t)}or(e){return $i.P.or(this,e)}trim(e){return this.wrap(e,e)}trimString(e){return this.trim($i.P.string(e))}wrap(e,t){let r=this;return new n(function(a){let o=e.p(a);if(!o.success)return o;let u=a.merge(o,r.p(a));if(!u.success)return u;let s=a.merge(u,t.p(a));return s.success?a.merge(s,a.succeed(u.value)):s})}wrapString(e,t){return this.wrap($i.P.string(e),$i.P.string(t))}then(e){let t=this;return new n(function(i){let a=t.p(i);if(!a.success)return a;let o=i.merge(a,e.p(i));return o.success,o})}skip(e){let t=this;return new n(function(i){let a=t.p(i);if(!a.success)return a;let o=i.merge(a,e.p(i));return o.success?i.merge(o,i.succeed(a.value)):o})}and(e){return $i.P.sequence(this,e)}many(){let e=this;return new n(function(r){let i,a=r.position.index,o=[];for(;;){let u=r.copy(),s=e.p(u);if(i=r.merge(i,s),i.success){if(u.position.index===a)throw new Error("infinite loop in many() parser detected");r.moveToPosition(u.position),o.push(i.value)}else return r.merge(i,r.succeed(o))}})}repeat(e,t){(0,Vg.validateRange)(e,t);let r=this;return new n(function(a){let o,u,s=[],l=0;for(;l<e;l++)if(o=r.p(a),u=a.merge(u,o),o.success)s.push(o.value);else return u;for(;l<t;l++){let c=a.copy();if(o=r.p(c),u=a.merge(u,o),o.success)a.moveToPosition(c.position),s.push(o.value);else break}return a.merge(u,a.succeed(s))})}atMost(e){return this.repeat(0,e)}atLeast(e){return $i.P.sequenceMap((t,r)=>t.concat(r),this.repeat(e,e),this.many())}separateBy(e){return $i.P.separateBy(this,e)}separateByNotEmpty(e){return $i.P.separateByNotEmpty(this,e)}result(e){return this.map(()=>e)}map(e){let t=this;return new n(function(i){let a=t.p(i);return a.success&&(a.value=e(a.value)),a})}marker(){return $i.P.sequenceMap(function(t,r,i){return{value:r,range:{from:t,to:i}}},Fu.P_UTILS.position(),this,Fu.P_UTILS.position())}namedMarker(e){return $i.P.sequenceMap(function(r,i,a){return{value:i,name:e,range:{from:r,to:a}}},Fu.P_UTILS.position(),this,Fu.P_UTILS.position())}node(e){return $i.P.sequenceMap(function(r,i,a){return e(i,{from:r,to:a})},Fu.P_UTILS.position(),this,Fu.P_UTILS.position())}followedBy(e){return this.skip(Vg.P_HELPERS.followedBy(e))}notFollowedBy(e){return this.skip(Vg.P_HELPERS.notFollowedBy(e))}describe(e){typeof e=="string"&&(e=[e]);let t=this;return new n(function(i){let a=t.p(i);return a.expected!==void 0&&a.expected.length!==0&&(a.expected=e),a})}box(e){let t=this;return new n(function(i){var a;let o=t.p(i);return o.expected!==void 0&&o.expected.length!==0&&(o.expected=[`(${(a=o.expected)===null||a===void 0?void 0:a.join(" or ")} as part of ${e})`]),o})}optional(e){return this.or($i.P.succeed(e))}chain(e){let t=this;return new n(function(i){let a=t.p(i);if(!a.success)return a;let u=e(a.value).p(i);return i.merge(a,u)})}thenEof(){let e=this;return new n(function(r){let i=e.p(r);return i.success?r.atEOF()?i:r.merge(i,r.fail("eof")):i})}memorize(){let e=this,t="",r=new Map,i=new Map;return new n(function(o){let u=o.position.index;if(o.input!==t)t=o.input,r.clear(),i.clear();else{let l=r.get(u),c=i.get(u);if(l!==void 0&&c!==void 0)return o.moveToPosition(Object.assign({},c)),Object.assign({},l)}let s=e.p(o);return r.set(u,Object.assign({},s)),i.set(u,o.getPosition()),s})}};Qf.Parser=Ug});var Si=cn(ep=>{"use strict";Object.defineProperty(ep,"__esModule",{value:!0});ep.P_UTILS=void 0;var Kf=jf(),Fr=ci(),qg=class n{static position(){return new Kf.Parser(e=>e.succeed(e.getPosition()))}static any(){return new Kf.Parser(e=>e.atEOF()?e.fail("any character"):e.succeedOffset(1,e.input[e.position.index]))}static remaining(){return new Kf.Parser(e=>e.succeedAt(e.input.length,e.input.slice(e.position.index)))}static eof(){return new Kf.Parser(e=>e.atEOF()?e.succeed(void 0):e.fail("eof"))}static digit(){return Fr.P.regexp(/^[0-9]/).describe("a digit")}static digits(){return Fr.P.regexp(/^[0-9]+/).describe("multiple digits")}static letter(){return Fr.P.regexp(/^[a-z]/i).describe("a letter")}static letters(){return Fr.P.regexp(/^[a-z]+/i).describe("multiple letters")}static unicodeLetter(){return Fr.P.regexp(/^\p{L}/iu).describe("a unicode letter")}static unicodeLetters(){return Fr.P.regexp(/^\p{L}+/iu).describe("multiple unicode letters")}static unicodeAlphanumeric(){return Fr.P.regexp(/^[\p{L}\p{N}]/iu).describe("a unicode alphanumeric character")}static unicodeAlphanumerics(){return Fr.P.regexp(/^[\p{L}\p{N}]+/iu).describe("multiple unicode alphanumeric characters")}static optionalWhitespace(){return Fr.P.regexp(/^\s*/).describe("optional whitespace")}static whitespace(){return Fr.P.regexp(/^\s+/).describe("whitespace")}static cr(){return Fr.P.string("\r")}static lf(){return Fr.P.string(`
`)}static crlf(){return Fr.P.string(`\r
`)}static newline(){return Fr.P.or(this.crlf(),this.lf(),this.cr()).describe("newline")}static prefix(e,t,r){return Fr.P.sequenceMap((i,a)=>i.reduce((o,u)=>r(u,o),a),e.many(),t)}static postfix(e,t,r){return Fr.P.sequenceMap((i,a)=>a.reduce((o,u)=>r(u,o),i),t,e.many())}static binaryRight(e,t,r){return Fr.P.sequenceMap((i,a)=>i.reverse().reduce((o,u)=>{let[s,l]=u;return r(s,l,o)},a),Fr.P.sequence(t,e.trim(this.optionalWhitespace())).many(),t)}static binaryLeft(e,t,r){return Fr.P.sequenceMap((i,a)=>a.reduce((o,u)=>{let[s,l]=u;return r(o,s,l)},i),t,Fr.P.sequence(e.trim(this.optionalWhitespace()),t).many())}static binaryRightRange(e,t,r){return Fr.P.sequenceMap((i,a,o)=>i.reverse().reduce((u,s)=>{let[l,c,f]=s;return r({from:l,to:o},c,f,u)},a),Fr.P.sequence(n.position(),t,e.trim(this.optionalWhitespace())).many(),t,n.position())}static binaryLeftRange(e,t,r){return Fr.P.sequenceMap((i,a,o)=>o.reduce((u,s)=>{let[l,c,f]=s;return r({from:i,to:f},u,l,c)},a),n.position(),t,Fr.P.sequence(e.trim(this.optionalWhitespace()),t,n.position()).many())}static func(e,t,r){let i=typeof e=="string"?Fr.P.string(e):e;return Fr.P.sequenceMap((a,o,u,s,l,c)=>r(a,s),i,Fr.P.string("("),this.optionalWhitespace(),t,this.optionalWhitespace(),Fr.P.string(")"))}};ep.P_UTILS=qg});var Ov=cn((Pv,Bv)=>{(function(n,e){typeof Pv=="object"&&typeof Bv!="undefined"?Bv.exports=e():typeof define=="function"&&define.amd?define(e):(n=typeof globalThis!="undefined"?globalThis:n||self,n["'typed'"]=e())})(Pv,function(){"use strict";function n(){return!0}function e(){return!1}function t(){}let r="Argument is not a typed-function.";function i(){function o(ie){return typeof ie=="object"&&ie!==null&&ie.constructor===Object}let u=[{name:"number",test:function(ie){return typeof ie=="number"}},{name:"string",test:function(ie){return typeof ie=="string"}},{name:"boolean",test:function(ie){return typeof ie=="boolean"}},{name:"Function",test:function(ie){return typeof ie=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(ie){return ie instanceof Date}},{name:"RegExp",test:function(ie){return ie instanceof RegExp}},{name:"Object",test:o},{name:"null",test:function(ie){return ie===null}},{name:"undefined",test:function(ie){return ie===void 0}}],s={name:"any",test:n,isAny:!0},l,c,f=0,p={createCount:0};function m(ie){let pe=l.get(ie);if(pe)return pe;let _e='Unknown type "'+ie+'"',Ve=ie.toLowerCase(),ze;for(ze of c)if(ze.toLowerCase()===Ve){_e+='. Did you mean "'+ze+'" ?';break}throw new TypeError(_e)}function h(ie){let pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any",_e=pe?m(pe).index:c.length,Ve=[];for(let Re=0;Re<ie.length;++Re){if(!ie[Re]||typeof ie[Re].name!="string"||typeof ie[Re].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");let qe=ie[Re].name;if(l.has(qe))throw new TypeError('Duplicate type name "'+qe+'"');Ve.push(qe),l.set(qe,{name:qe,test:ie[Re].test,isAny:ie[Re].isAny,index:_e+Re,conversionsTo:[]})}let ze=c.slice(_e);c=c.slice(0,_e).concat(Ve).concat(ze);for(let Re=_e+Ve.length;Re<c.length;++Re)l.get(c[Re]).index=Re}function d(){l=new Map,c=[],f=0,h([s],!1)}d(),h(u);function v(){let ie;for(ie of c)l.get(ie).conversionsTo=[];f=0}function y(ie){let pe=c.filter(_e=>{let Ve=l.get(_e);return!Ve.isAny&&Ve.test(ie)});return pe.length?pe:["any"]}function _(ie){return ie&&typeof ie=="function"&&"_typedFunctionData"in ie}function b(ie,pe,_e){if(!_(ie))throw new TypeError(r);let Ve=_e&&_e.exact,ze=Array.isArray(pe)?pe.join(","):pe,Re=M(ze),qe=x(Re);if(!Ve||qe in ie.signatures){let ye=ie._typedFunctionData.signatureMap.get(qe);if(ye)return ye}let Ge=Re.length,F;if(Ve){F=[];let ye;for(ye in ie.signatures)F.push(ie._typedFunctionData.signatureMap.get(ye))}else F=ie._typedFunctionData.signatures;for(let ye=0;ye<Ge;++ye){let Le=Re[ye],ut=[],bt;for(bt of F){let Ze=z(bt.params,ye);if(!(!Ze||Le.restParam&&!Ze.restParam)){if(!Ze.hasAny){let Kn=E(Ze);if(Le.types.some(xi=>!Kn.has(xi.name)))continue}ut.push(bt)}}if(F=ut,F.length===0)break}let J;for(J of F)if(J.params.length<=Ge)return J;throw new TypeError("Signature not found (signature: "+(ie.name||"unnamed")+"("+x(Re,", ")+"))")}function w(ie,pe,_e){return b(ie,pe,_e).implementation}function S(ie,pe){let _e=m(pe);if(_e.test(ie))return ie;let Ve=_e.conversionsTo;if(Ve.length===0)throw new Error("There are no conversions to "+pe+" defined.");for(let ze=0;ze<Ve.length;ze++)if(m(Ve[ze].from).test(ie))return Ve[ze].convert(ie);throw new Error("Cannot convert "+ie+" to "+pe)}function x(ie){let pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return ie.map(_e=>_e.name).join(pe)}function N(ie){let pe=ie.indexOf("...")===0,Ve=(pe?ie.length>3?ie.slice(3):"any":ie).split("|").map(Ge=>m(Ge.trim())),ze=!1,Re=pe?"...":"";return{types:Ve.map(function(Ge){return ze=Ge.isAny||ze,Re+=Ge.name+"|",{name:Ge.name,typeIndex:Ge.index,test:Ge.test,isAny:Ge.isAny,conversion:null,conversionIndex:-1}}),name:Re.slice(0,-1),hasAny:ze,hasConversion:!1,restParam:pe}}function D(ie){let pe=ie.types.map(qe=>qe.name),_e=U(pe),Ve=ie.hasAny,ze=ie.name,Re=_e.map(function(qe){let Ge=m(qe.from);return Ve=Ge.isAny||Ve,ze+="|"+qe.from,{name:qe.from,typeIndex:Ge.index,test:Ge.test,isAny:Ge.isAny,conversion:qe,conversionIndex:qe.index}});return{types:ie.types.concat(Re),name:ze,hasAny:Ve,hasConversion:Re.length>0,restParam:ie.restParam}}function E(ie){return ie.typeSet||(ie.typeSet=new Set,ie.types.forEach(pe=>ie.typeSet.add(pe.name))),ie.typeSet}function M(ie){let pe=[];if(typeof ie!="string")throw new TypeError("Signatures must be strings");let _e=ie.trim();if(_e==="")return pe;let Ve=_e.split(",");for(let ze=0;ze<Ve.length;++ze){let Re=N(Ve[ze].trim());if(Re.restParam&&ze!==Ve.length-1)throw new SyntaxError('Unexpected rest parameter "'+Ve[ze]+'": only allowed for the last parameter');if(Re.types.length===0)return null;pe.push(Re)}return pe}function P(ie){let pe=X(ie);return pe?pe.restParam:!1}function O(ie){if(!ie||ie.types.length===0)return n;if(ie.types.length===1)return m(ie.types[0].name).test;if(ie.types.length===2){let pe=m(ie.types[0].name).test,_e=m(ie.types[1].name).test;return function(ze){return pe(ze)||_e(ze)}}else{let pe=ie.types.map(function(_e){return m(_e.name).test});return function(Ve){for(let ze=0;ze<pe.length;ze++)if(pe[ze](Ve))return!0;return!1}}}function V(ie){let pe,_e,Ve;if(P(ie)){pe=et(ie).map(O);let ze=pe.length,Re=O(X(ie)),qe=function(Ge){for(let F=ze;F<Ge.length;F++)if(!Re(Ge[F]))return!1;return!0};return function(F){for(let J=0;J<pe.length;J++)if(!pe[J](F[J]))return!1;return qe(F)&&F.length>=ze+1}}else return ie.length===0?function(Re){return Re.length===0}:ie.length===1?(_e=O(ie[0]),function(Re){return _e(Re[0])&&Re.length===1}):ie.length===2?(_e=O(ie[0]),Ve=O(ie[1]),function(Re){return _e(Re[0])&&Ve(Re[1])&&Re.length===2}):(pe=ie.map(O),function(Re){for(let qe=0;qe<pe.length;qe++)if(!pe[qe](Re[qe]))return!1;return Re.length===pe.length})}function z(ie,pe){return pe<ie.length?ie[pe]:P(ie)?X(ie):null}function L(ie,pe){let _e=z(ie,pe);return _e?E(_e):new Set}function B(ie){return ie.conversion===null||ie.conversion===void 0}function T(ie,pe){let _e=new Set;return ie.forEach(Ve=>{let ze=L(Ve.params,pe),Re;for(Re of ze)_e.add(Re)}),_e.has("any")?["any"]:Array.from(_e)}function G(ie,pe,_e){let Ve,ze,Re=ie||"unnamed",qe=_e,Ge;for(Ge=0;Ge<pe.length;Ge++){let Le=[];if(qe.forEach(ut=>{let bt=z(ut.params,Ge),Ze=O(bt);(Ge<ut.params.length||P(ut.params))&&Ze(pe[Ge])&&Le.push(ut)}),Le.length===0){if(ze=T(qe,Ge),ze.length>0){let ut=y(pe[Ge]);return Ve=new TypeError("Unexpected type of argument in function "+Re+" (expected: "+ze.join(" or ")+", actual: "+ut.join(" | ")+", index: "+Ge+")"),Ve.data={category:"wrongType",fn:Re,index:Ge,actual:ut,expected:ze},Ve}}else qe=Le}let F=qe.map(function(Le){return P(Le.params)?1/0:Le.params.length});if(pe.length<Math.min.apply(null,F))return ze=T(qe,Ge),Ve=new TypeError("Too few arguments in function "+Re+" (expected: "+ze.join(" or ")+", index: "+pe.length+")"),Ve.data={category:"tooFewArgs",fn:Re,index:pe.length,expected:ze},Ve;let J=Math.max.apply(null,F);if(pe.length>J)return Ve=new TypeError("Too many arguments in function "+Re+" (expected: "+J+", actual: "+pe.length+")"),Ve.data={category:"tooManyArgs",fn:Re,index:pe.length,expectedLength:J},Ve;let ye=[];for(let Le=0;Le<pe.length;++Le)ye.push(y(pe[Le]).join("|"));return Ve=new TypeError('Arguments of type "'+ye.join(", ")+'" do not match any of the defined signatures of function '+Re+"."),Ve.data={category:"mismatch",actual:ye},Ve}function R(ie){let pe=c.length+1;for(let _e=0;_e<ie.types.length;_e++)B(ie.types[_e])&&(pe=Math.min(pe,ie.types[_e].typeIndex));return pe}function oe(ie){let pe=f+1;for(let _e=0;_e<ie.types.length;_e++)B(ie.types[_e])||(pe=Math.min(pe,ie.types[_e].conversionIndex));return pe}function ee(ie,pe){if(ie.hasAny){if(!pe.hasAny)return 1}else if(pe.hasAny)return-1;if(ie.restParam){if(!pe.restParam)return 1}else if(pe.restParam)return-1;if(ie.hasConversion){if(!pe.hasConversion)return 1}else if(pe.hasConversion)return-1;let _e=R(ie)-R(pe);if(_e<0)return-1;if(_e>0)return 1;let Ve=oe(ie)-oe(pe);return Ve<0?-1:Ve>0?1:0}function H(ie,pe){let _e=ie.params,Ve=pe.params,ze=X(_e),Re=X(Ve),qe=P(_e),Ge=P(Ve);if(qe&&ze.hasAny){if(!Ge||!Re.hasAny)return 1}else if(Ge&&Re.hasAny)return-1;let F=0,J=0,ye;for(ye of _e)ye.hasAny&&++F,ye.hasConversion&&++J;let Le=0,ut=0;for(ye of Ve)ye.hasAny&&++Le,ye.hasConversion&&++ut;if(F!==Le)return F-Le;if(qe&&ze.hasConversion){if(!Ge||!Re.hasConversion)return 1}else if(Ge&&Re.hasConversion)return-1;if(J!==ut)return J-ut;if(qe){if(!Ge)return 1}else if(Ge)return-1;let bt=(_e.length-Ve.length)*(qe?-1:1);if(bt!==0)return bt;let Ze=[],Kn=0;for(let Bn=0;Bn<_e.length;++Bn){let Mn=ee(_e[Bn],Ve[Bn]);Ze.push(Mn),Kn+=Mn}if(Kn!==0)return Kn;let xi;for(xi of Ze)if(xi!==0)return xi;return 0}function U(ie){if(ie.length===0)return[];let pe=ie.map(m);ie.length>1&&pe.sort((ze,Re)=>ze.index-Re.index);let _e=pe[0].conversionsTo;if(ie.length===1)return _e;_e=_e.concat([]);let Ve=new Set(ie);for(let ze=1;ze<pe.length;++ze){let Re;for(Re of pe[ze].conversionsTo)Ve.has(Re.from)||(_e.push(Re),Ve.add(Re.from))}return _e}function fe(ie,pe){let _e=pe;if(ie.some(ze=>ze.hasConversion)){let ze=P(ie),Re=ie.map(De);_e=function(){let Ge=[],F=ze?arguments.length-1:arguments.length;for(let J=0;J<F;J++)Ge[J]=Re[J](arguments[J]);return ze&&(Ge[F]=arguments[F].map(Re[F])),pe.apply(this,Ge)}}let Ve=_e;if(P(ie)){let ze=ie.length-1;Ve=function(){return _e.apply(this,re(arguments,0,ze).concat([re(arguments,ze)]))}}return Ve}function De(ie){let pe,_e,Ve,ze,Re=[],qe=[];switch(ie.types.forEach(function(Ge){Ge.conversion&&(Re.push(m(Ge.conversion.from).test),qe.push(Ge.conversion.convert))}),qe.length){case 0:return function(F){return F};case 1:return pe=Re[0],Ve=qe[0],function(F){return pe(F)?Ve(F):F};case 2:return pe=Re[0],_e=Re[1],Ve=qe[0],ze=qe[1],function(F){return pe(F)?Ve(F):_e(F)?ze(F):F};default:return function(F){for(let J=0;J<qe.length;J++)if(Re[J](F))return qe[J](F);return F}}}function me(ie){function pe(_e,Ve,ze){if(Ve<_e.length){let Re=_e[Ve],qe=[];if(Re.restParam){let Ge=Re.types.filter(B);Ge.length<Re.types.length&&qe.push({types:Ge,name:"..."+Ge.map(F=>F.name).join("|"),hasAny:Ge.some(F=>F.isAny),hasConversion:!1,restParam:!0}),qe.push(Re)}else qe=Re.types.map(function(Ge){return{types:[Ge],name:Ge.name,hasAny:Ge.isAny,hasConversion:Ge.conversion,restParam:!1}});return W(qe,function(Ge){return pe(_e,Ve+1,ze.concat([Ge]))})}else return[ze]}return pe(ie,0,[])}function ve(ie,pe){let _e=Math.max(ie.length,pe.length);for(let Ge=0;Ge<_e;Ge++){let F=L(ie,Ge),J=L(pe,Ge),ye=!1,Le;for(Le of J)if(F.has(Le)){ye=!0;break}if(!ye)return!1}let Ve=ie.length,ze=pe.length,Re=P(ie),qe=P(pe);return Re?qe?Ve===ze:ze>=Ve:qe?Ve>=ze:Ve===ze}function Ae(ie){return ie.map(pe=>Ye(pe)?Ne(pe.referToSelf.callback):Ce(pe)?ue(pe.referTo.references,pe.referTo.callback):pe)}function be(ie,pe,_e){let Ve=[],ze;for(ze of ie){let Re=_e[ze];if(typeof Re!="number")throw new TypeError('No definition for referenced signature "'+ze+'"');if(Re=pe[Re],typeof Re!="function")return!1;Ve.push(Re)}return Ve}function we(ie,pe,_e){let Ve=Ae(ie),ze=new Array(Ve.length).fill(!1),Re=!0;for(;Re;){Re=!1;let qe=!0;for(let Ge=0;Ge<Ve.length;++Ge){if(ze[Ge])continue;let F=Ve[Ge];if(Ye(F))Ve[Ge]=F.referToSelf.callback(_e),Ve[Ge].referToSelf=F.referToSelf,ze[Ge]=!0,qe=!1;else if(Ce(F)){let J=be(F.referTo.references,Ve,pe);J?(Ve[Ge]=F.referTo.callback.apply(this,J),Ve[Ge].referTo=F.referTo,ze[Ge]=!0,qe=!1):Re=!0}}if(qe&&Re)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return Ve}function Se(ie){let pe=/\bthis(\(|\.signatures\b)/;Object.keys(ie).forEach(_e=>{let Ve=ie[_e];if(pe.test(Ve.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}function Me(ie,pe){if(p.createCount++,Object.keys(pe).length===0)throw new SyntaxError("No signatures provided");p.warnAgainstDeprecatedThis&&Se(pe);let _e=[],Ve=[],ze={},Re=[],qe;for(qe in pe){if(!Object.prototype.hasOwnProperty.call(pe,qe))continue;let _r=M(qe);if(!_r)continue;_e.forEach(function(Es){if(ve(Es,_r))throw new TypeError('Conflicting signatures "'+x(Es)+'" and "'+x(_r)+'".')}),_e.push(_r);let On=Ve.length;Ve.push(pe[qe]);let og=_r.map(D),bu;for(bu of me(og)){let Es=x(bu);Re.push({params:bu,name:Es,fn:On}),bu.every(sg=>!sg.hasConversion)&&(ze[Es]=On)}}Re.sort(H);let Ge=we(Ve,ze,Mo),F;for(F in ze)Object.prototype.hasOwnProperty.call(ze,F)&&(ze[F]=Ge[ze[F]]);let J=[],ye=new Map;for(F of Re)ye.has(F.name)||(F.fn=Ge[F.fn],J.push(F),ye.set(F.name,F));let Le=J[0]&&J[0].params.length<=2&&!P(J[0].params),ut=J[1]&&J[1].params.length<=2&&!P(J[1].params),bt=J[2]&&J[2].params.length<=2&&!P(J[2].params),Ze=J[3]&&J[3].params.length<=2&&!P(J[3].params),Kn=J[4]&&J[4].params.length<=2&&!P(J[4].params),xi=J[5]&&J[5].params.length<=2&&!P(J[5].params),Bn=Le&&ut&&bt&&Ze&&Kn&&xi;for(let _r=0;_r<J.length;++_r)J[_r].test=V(J[_r].params);let Mn=Le?O(J[0].params[0]):e,nr=ut?O(J[1].params[0]):e,zl=bt?O(J[2].params[0]):e,Er=Ze?O(J[3].params[0]):e,_s=Kn?O(J[4].params[0]):e,Qh=xi?O(J[5].params[0]):e,yu=Le?O(J[0].params[1]):e,_n=ut?O(J[1].params[1]):e,oa=bt?O(J[2].params[1]):e,qi=Ze?O(J[3].params[1]):e,nn=Kn?O(J[4].params[1]):e,wi=xi?O(J[5].params[1]):e;for(let _r=0;_r<J.length;++_r)J[_r].implementation=fe(J[_r].params,J[_r].fn);let sa=Le?J[0].implementation:t,ja=ut?J[1].implementation:t,Kh=bt?J[2].implementation:t,eg=Ze?J[3].implementation:t,Ss=Kn?J[4].implementation:t,vf=xi?J[5].implementation:t,tg=Le?J[0].params.length:-1,Do=ut?J[1].params.length:-1,As=bt?J[2].params.length:-1,yf=Ze?J[3].params.length:-1,rg=Kn?J[4].params.length:-1,ng=xi?J[5].params.length:-1,ig=Bn?6:0,Jr=J.length,$l=J.map(_r=>_r.test),ag=J.map(_r=>_r.implementation),bf=function(){for(let On=ig;On<Jr;On++)if($l[On](arguments))return ag[On].apply(this,arguments);return p.onMismatch(ie,arguments,J)};function Mo(_r,On){return arguments.length===tg&&Mn(_r)&&yu(On)?sa.apply(this,arguments):arguments.length===Do&&nr(_r)&&_n(On)?ja.apply(this,arguments):arguments.length===As&&zl(_r)&&oa(On)?Kh.apply(this,arguments):arguments.length===yf&&Er(_r)&&qi(On)?eg.apply(this,arguments):arguments.length===rg&&_s(_r)&&nn(On)?Ss.apply(this,arguments):arguments.length===ng&&Qh(_r)&&wi(On)?vf.apply(this,arguments):bf.apply(this,arguments)}try{Object.defineProperty(Mo,"name",{value:ie})}catch(_r){}return Mo.signatures=ze,Mo._typedFunctionData={signatures:J,signatureMap:ye},Mo}function Ie(ie,pe,_e){throw G(ie,pe,_e)}function et(ie){return re(ie,0,ie.length-1)}function X(ie){return ie[ie.length-1]}function re(ie,pe,_e){return Array.prototype.slice.call(ie,pe,_e)}function xe(ie,pe){for(let _e=0;_e<ie.length;_e++)if(pe(ie[_e]))return ie[_e]}function W(ie,pe){return Array.prototype.concat.apply([],ie.map(pe))}function ne(){let ie=et(arguments).map(_e=>x(M(_e))),pe=X(arguments);if(typeof pe!="function")throw new TypeError("Callback function expected as last argument");return ue(ie,pe)}function ue(ie,pe){return{referTo:{references:ie,callback:pe}}}function Ne(ie){if(typeof ie!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:ie}}}function Ce(ie){return ie&&typeof ie.referTo=="object"&&Array.isArray(ie.referTo.references)&&typeof ie.referTo.callback=="function"}function Ye(ie){return ie&&typeof ie.referToSelf=="object"&&typeof ie.referToSelf.callback=="function"}function Fe(ie,pe){if(!ie)return pe;if(pe&&pe!==ie){let _e=new Error("Function names do not match (expected: "+ie+", actual: "+pe+")");throw _e.data={actual:pe,expected:ie},_e}return ie}function Qe(ie){let pe;for(let _e in ie)Object.prototype.hasOwnProperty.call(ie,_e)&&(_(ie[_e])||typeof ie[_e].signature=="string")&&(pe=Fe(pe,ie[_e].name));return pe}function wt(ie,pe){let _e;for(_e in pe)if(Object.prototype.hasOwnProperty.call(pe,_e)){if(_e in ie&&pe[_e]!==ie[_e]){let Ve=new Error('Signature "'+_e+'" is defined twice');throw Ve.data={signature:_e,sourceFunction:pe[_e],destFunction:ie[_e]},Ve}ie[_e]=pe[_e]}}let tr=p;p=function(ie){let pe=typeof ie=="string",_e=pe?1:0,Ve=pe?ie:"",ze={};for(let Re=_e;Re<arguments.length;++Re){let qe=arguments[Re],Ge={},F;if(typeof qe=="function"?(F=qe.name,typeof qe.signature=="string"?Ge[qe.signature]=qe:_(qe)&&(Ge=qe.signatures)):o(qe)&&(Ge=qe,pe||(F=Qe(qe))),Object.keys(Ge).length===0){let J=new TypeError("Argument to 'typed' at index "+Re+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw J.data={index:Re,argument:qe},J}pe||(Ve=Fe(Ve,F)),wt(ze,Ge)}return Me(Ve||"",ze)},p.create=i,p.createCount=tr.createCount,p.onMismatch=Ie,p.throwMismatchError=Ie,p.createError=G,p.clear=d,p.clearConversions=v,p.addTypes=h,p._findType=m,p.referTo=ne,p.referToSelf=Ne,p.convert=S,p.findSignature=b,p.find=w,p.isTypedFunction=_,p.warnAgainstDeprecatedThis=!0,p.addType=function(ie,pe){let _e="any";pe!==!1&&l.has("Object")&&(_e="Object"),p.addTypes([ie],_e)};function St(ie){if(!ie||typeof ie.from!="string"||typeof ie.to!="string"||typeof ie.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(ie.to===ie.from)throw new SyntaxError('Illegal to define conversion from "'+ie.from+'" to itself.')}return p.addConversion=function(ie){St(ie);let pe=m(ie.to);if(pe.conversionsTo.every(function(_e){return _e.from!==ie.from}))pe.conversionsTo.push({from:ie.from,convert:ie.convert,index:f++});else throw new Error('There is already a conversion from "'+ie.from+'" to "'+pe.name+'"')},p.addConversions=function(ie){ie.forEach(p.addConversion)},p.removeConversion=function(ie){St(ie);let pe=m(ie.to),_e=xe(pe.conversionsTo,ze=>ze.from===ie.from);if(!_e)throw new Error("Attempt to remove nonexistent conversion from "+ie.from+" to "+ie.to);if(_e.convert!==ie.convert)throw new Error("Conversion to remove does not match existing conversion");let Ve=pe.conversionsTo.indexOf(_e);pe.conversionsTo.splice(Ve,1)},p.resolve=function(ie,pe){if(!_(ie))throw new TypeError(r);let _e=ie._typedFunctionData.signatures;for(let Ve=0;Ve<_e.length;++Ve)if(_e[Ve].test(pe))return _e[Ve];return null},p}var a=i();return a})});var wC=cn((iy,xC)=>{(function(n){"use strict";var e=Math.cosh||function(l){return Math.abs(l)<1e-9?1-l:(Math.exp(l)+Math.exp(-l))*.5},t=Math.sinh||function(l){return Math.abs(l)<1e-9?l:(Math.exp(l)-Math.exp(-l))*.5},r=function(l){var c=Math.PI/4;if(-c>l||l>c)return Math.cos(l)-1;var f=l*l;return f*(f*(f*(f*(f*(f*(f*(f/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-1/2)},i=function(l,c){var f=Math.abs(l),p=Math.abs(c);return f<3e3&&p<3e3?Math.sqrt(f*f+p*p):(f<p?(f=p,p=l/c):p=c/l,f*Math.sqrt(1+p*p))},a=function(){throw SyntaxError("Invalid Param")};function o(l,c){var f=Math.abs(l),p=Math.abs(c);return l===0?Math.log(p):c===0?Math.log(f):f<3e3&&p<3e3?Math.log(l*l+c*c)*.5:(l=l/2,c=c/2,.5*Math.log(l*l+c*c)+Math.LN2)}var u=function(l,c){var f={re:0,im:0};if(l==null)f.re=f.im=0;else if(c!==void 0)f.re=l,f.im=c;else switch(typeof l){case"object":if("im"in l&&"re"in l)f.re=l.re,f.im=l.im;else if("abs"in l&&"arg"in l){if(!Number.isFinite(l.abs)&&Number.isFinite(l.arg))return s.INFINITY;f.re=l.abs*Math.cos(l.arg),f.im=l.abs*Math.sin(l.arg)}else if("r"in l&&"phi"in l){if(!Number.isFinite(l.r)&&Number.isFinite(l.phi))return s.INFINITY;f.re=l.r*Math.cos(l.phi),f.im=l.r*Math.sin(l.phi)}else l.length===2?(f.re=l[0],f.im=l[1]):a();break;case"string":f.im=f.re=0;var p=l.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),m=1,h=0;p===null&&a();for(var d=0;d<p.length;d++){var v=p[d];v===" "||v==="	"||v===`
`||(v==="+"?m++:v==="-"?h++:v==="i"||v==="I"?(m+h===0&&a(),p[d+1]!==" "&&!isNaN(p[d+1])?(f.im+=parseFloat((h%2?"-":"")+p[d+1]),d++):f.im+=parseFloat((h%2?"-":"")+"1"),m=h=0):((m+h===0||isNaN(v))&&a(),p[d+1]==="i"||p[d+1]==="I"?(f.im+=parseFloat((h%2?"-":"")+v),d++):f.re+=parseFloat((h%2?"-":"")+v),m=h=0))}m+h>0&&a();break;case"number":f.im=0,f.re=l;break;default:a()}return isNaN(f.re)||isNaN(f.im),f};function s(l,c){if(!(this instanceof s))return new s(l,c);var f=u(l,c);this.re=f.re,this.im=f.im}s.prototype={re:0,im:0,sign:function(){var l=this.abs();return new s(this.re/l,this.im/l)},add:function(l,c){var f=new s(l,c);return this.isInfinite()&&f.isInfinite()?s.NAN:this.isInfinite()||f.isInfinite()?s.INFINITY:new s(this.re+f.re,this.im+f.im)},sub:function(l,c){var f=new s(l,c);return this.isInfinite()&&f.isInfinite()?s.NAN:this.isInfinite()||f.isInfinite()?s.INFINITY:new s(this.re-f.re,this.im-f.im)},mul:function(l,c){var f=new s(l,c);return this.isInfinite()&&f.isZero()||this.isZero()&&f.isInfinite()?s.NAN:this.isInfinite()||f.isInfinite()?s.INFINITY:f.im===0&&this.im===0?new s(this.re*f.re,0):new s(this.re*f.re-this.im*f.im,this.re*f.im+this.im*f.re)},div:function(l,c){var f=new s(l,c);if(this.isZero()&&f.isZero()||this.isInfinite()&&f.isInfinite())return s.NAN;if(this.isInfinite()||f.isZero())return s.INFINITY;if(this.isZero()||f.isInfinite())return s.ZERO;l=this.re,c=this.im;var p=f.re,m=f.im,h,d;return m===0?new s(l/p,c/p):Math.abs(p)<Math.abs(m)?(d=p/m,h=p*d+m,new s((l*d+c)/h,(c*d-l)/h)):(d=m/p,h=m*d+p,new s((l+c*d)/h,(c-l*d)/h))},pow:function(l,c){var f=new s(l,c);if(l=this.re,c=this.im,f.isZero())return s.ONE;if(f.im===0){if(c===0&&l>0)return new s(Math.pow(l,f.re),0);if(l===0)switch((f.re%4+4)%4){case 0:return new s(Math.pow(c,f.re),0);case 1:return new s(0,Math.pow(c,f.re));case 2:return new s(-Math.pow(c,f.re),0);case 3:return new s(0,-Math.pow(c,f.re))}}if(l===0&&c===0&&f.re>0&&f.im>=0)return s.ZERO;var p=Math.atan2(c,l),m=o(l,c);return l=Math.exp(f.re*m-f.im*p),c=f.im*m+f.re*p,new s(l*Math.cos(c),l*Math.sin(c))},sqrt:function(){var l=this.re,c=this.im,f=this.abs(),p,m;if(l>=0){if(c===0)return new s(Math.sqrt(l),0);p=.5*Math.sqrt(2*(f+l))}else p=Math.abs(c)/Math.sqrt(2*(f-l));return l<=0?m=.5*Math.sqrt(2*(f-l)):m=Math.abs(c)/Math.sqrt(2*(f+l)),new s(p,c<0?-m:m)},exp:function(){var l=Math.exp(this.re);return this.im,new s(l*Math.cos(this.im),l*Math.sin(this.im))},expm1:function(){var l=this.re,c=this.im;return new s(Math.expm1(l)*Math.cos(c)+r(c),Math.exp(l)*Math.sin(c))},log:function(){var l=this.re,c=this.im;return c===0&&l>0,new s(o(l,c),Math.atan2(c,l))},abs:function(){return i(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var l=this.re,c=this.im;return new s(Math.sin(l)*e(c),Math.cos(l)*t(c))},cos:function(){var l=this.re,c=this.im;return new s(Math.cos(l)*e(c),-Math.sin(l)*t(c))},tan:function(){var l=2*this.re,c=2*this.im,f=Math.cos(l)+e(c);return new s(Math.sin(l)/f,t(c)/f)},cot:function(){var l=2*this.re,c=2*this.im,f=Math.cos(l)-e(c);return new s(-Math.sin(l)/f,t(c)/f)},sec:function(){var l=this.re,c=this.im,f=.5*e(2*c)+.5*Math.cos(2*l);return new s(Math.cos(l)*e(c)/f,Math.sin(l)*t(c)/f)},csc:function(){var l=this.re,c=this.im,f=.5*e(2*c)-.5*Math.cos(2*l);return new s(Math.sin(l)*e(c)/f,-Math.cos(l)*t(c)/f)},asin:function(){var l=this.re,c=this.im,f=new s(c*c-l*l+1,-2*l*c).sqrt(),p=new s(f.re-c,f.im+l).log();return new s(p.im,-p.re)},acos:function(){var l=this.re,c=this.im,f=new s(c*c-l*l+1,-2*l*c).sqrt(),p=new s(f.re-c,f.im+l).log();return new s(Math.PI/2-p.im,p.re)},atan:function(){var l=this.re,c=this.im;if(l===0){if(c===1)return new s(0,1/0);if(c===-1)return new s(0,-1/0)}var f=l*l+(1-c)*(1-c),p=new s((1-c*c-l*l)/f,-2*l/f).log();return new s(-.5*p.im,.5*p.re)},acot:function(){var l=this.re,c=this.im;if(c===0)return new s(Math.atan2(1,l),0);var f=l*l+c*c;return f!==0?new s(l/f,-c/f).atan():new s(l!==0?l/0:0,c!==0?-c/0:0).atan()},asec:function(){var l=this.re,c=this.im;if(l===0&&c===0)return new s(0,1/0);var f=l*l+c*c;return f!==0?new s(l/f,-c/f).acos():new s(l!==0?l/0:0,c!==0?-c/0:0).acos()},acsc:function(){var l=this.re,c=this.im;if(l===0&&c===0)return new s(Math.PI/2,1/0);var f=l*l+c*c;return f!==0?new s(l/f,-c/f).asin():new s(l!==0?l/0:0,c!==0?-c/0:0).asin()},sinh:function(){var l=this.re,c=this.im;return new s(t(l)*Math.cos(c),e(l)*Math.sin(c))},cosh:function(){var l=this.re,c=this.im;return new s(e(l)*Math.cos(c),t(l)*Math.sin(c))},tanh:function(){var l=2*this.re,c=2*this.im,f=e(l)+Math.cos(c);return new s(t(l)/f,Math.sin(c)/f)},coth:function(){var l=2*this.re,c=2*this.im,f=e(l)-Math.cos(c);return new s(t(l)/f,-Math.sin(c)/f)},csch:function(){var l=this.re,c=this.im,f=Math.cos(2*c)-e(2*l);return new s(-2*t(l)*Math.cos(c)/f,2*e(l)*Math.sin(c)/f)},sech:function(){var l=this.re,c=this.im,f=Math.cos(2*c)+e(2*l);return new s(2*e(l)*Math.cos(c)/f,-2*t(l)*Math.sin(c)/f)},asinh:function(){var l=this.im;this.im=-this.re,this.re=l;var c=this.asin();return this.re=-this.im,this.im=l,l=c.re,c.re=-c.im,c.im=l,c},acosh:function(){var l=this.acos();if(l.im<=0){var c=l.re;l.re=-l.im,l.im=c}else{var c=l.im;l.im=-l.re,l.re=c}return l},atanh:function(){var l=this.re,c=this.im,f=l>1&&c===0,p=1-l,m=1+l,h=p*p+c*c,d=h!==0?new s((m*p-c*c)/h,(c*p+m*c)/h):new s(l!==-1?l/0:0,c!==0?c/0:0),v=d.re;return d.re=o(d.re,d.im)/2,d.im=Math.atan2(d.im,v)/2,f&&(d.im=-d.im),d},acoth:function(){var l=this.re,c=this.im;if(l===0&&c===0)return new s(0,Math.PI/2);var f=l*l+c*c;return f!==0?new s(l/f,-c/f).atanh():new s(l!==0?l/0:0,c!==0?-c/0:0).atanh()},acsch:function(){var l=this.re,c=this.im;if(c===0)return new s(l!==0?Math.log(l+Math.sqrt(l*l+1)):1/0,0);var f=l*l+c*c;return f!==0?new s(l/f,-c/f).asinh():new s(l!==0?l/0:0,c!==0?-c/0:0).asinh()},asech:function(){var l=this.re,c=this.im;if(this.isZero())return s.INFINITY;var f=l*l+c*c;return f!==0?new s(l/f,-c/f).acosh():new s(l!==0?l/0:0,c!==0?-c/0:0).acosh()},inverse:function(){if(this.isZero())return s.INFINITY;if(this.isInfinite())return s.ZERO;var l=this.re,c=this.im,f=l*l+c*c;return new s(l/f,-c/f)},conjugate:function(){return new s(this.re,-this.im)},neg:function(){return new s(-this.re,-this.im)},ceil:function(l){return l=Math.pow(10,l||0),new s(Math.ceil(this.re*l)/l,Math.ceil(this.im*l)/l)},floor:function(l){return l=Math.pow(10,l||0),new s(Math.floor(this.re*l)/l,Math.floor(this.im*l)/l)},round:function(l){return l=Math.pow(10,l||0),new s(Math.round(this.re*l)/l,Math.round(this.im*l)/l)},equals:function(l,c){var f=new s(l,c);return Math.abs(f.re-this.re)<=s.EPSILON&&Math.abs(f.im-this.im)<=s.EPSILON},clone:function(){return new s(this.re,this.im)},toString:function(){var l=this.re,c=this.im,f="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(l)<s.EPSILON&&(l=0),Math.abs(c)<s.EPSILON&&(c=0),c===0?f+l:(l!==0?(f+=l,f+=" ",c<0?(c=-c,f+="-"):f+="+",f+=" "):c<0&&(c=-c,f+="-"),c!==1&&(f+=c),f+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!(this.isNaN()||this.isFinite())}},s.ZERO=new s(0,0),s.ONE=new s(1,0),s.I=new s(0,1),s.PI=new s(Math.PI,0),s.E=new s(Math.E,0),s.INFINITY=new s(1/0,1/0),s.NAN=new s(NaN,NaN),s.EPSILON=1e-15,typeof define=="function"&&define.amd?define([],function(){return s}):typeof iy=="object"?(Object.defineProperty(s,"__esModule",{value:!0}),s.default=s,s.Complex=s,xC.exports=s):n.Complex=s})(iy)});var SC=cn((oy,_C)=>{(function(n){"use strict";var e=2e3,t={s:1,n:0,d:1};function r(d,v){if(isNaN(d=parseInt(d,10)))throw m();return d*v}function i(d,v){if(v===0)throw p();var y=Object.create(f.prototype);y.s=d<0?-1:1,d=d<0?-d:d;var _=c(d,v);return y.n=d/_,y.d=v/_,y}function a(d){for(var v={},y=d,_=2,b=4;b<=y;){for(;y%_===0;)y/=_,v[_]=(v[_]||0)+1;b+=1+2*_++}return y!==d?y>1&&(v[y]=(v[y]||0)+1):v[d]=(v[d]||0)+1,v}var o=function(d,v){var y=0,_=1,b=1,w=0,S=0,x=0,N=1,D=1,E=0,M=1,P=1,O=1,V=1e7,z;if(d!=null)if(v!==void 0){if(y=d,_=v,b=y*_,y%1!==0||_%1!==0)throw h()}else switch(typeof d){case"object":{if("d"in d&&"n"in d)y=d.n,_=d.d,"s"in d&&(y*=d.s);else if(0 in d)y=d[0],1 in d&&(_=d[1]);else throw m();b=y*_;break}case"number":{if(d<0&&(b=d,d=-d),d%1===0)y=d;else if(d>0){for(d>=1&&(D=Math.pow(10,Math.floor(1+Math.log(d)/Math.LN10)),d/=D);M<=V&&O<=V;)if(z=(E+P)/(M+O),d===z){M+O<=V?(y=E+P,_=M+O):O>M?(y=P,_=O):(y=E,_=M);break}else d>z?(E+=P,M+=O):(P+=E,O+=M),M>V?(y=P,_=O):(y=E,_=M);y*=D}else(isNaN(d)||isNaN(v))&&(_=y=NaN);break}case"string":{if(M=d.match(/\d+|./g),M===null)throw m();if(M[E]==="-"?(b=-1,E++):M[E]==="+"&&E++,M.length===E+1?S=r(M[E++],b):M[E+1]==="."||M[E]==="."?(M[E]!=="."&&(w=r(M[E++],b)),E++,(E+1===M.length||M[E+1]==="("&&M[E+3]===")"||M[E+1]==="'"&&M[E+3]==="'")&&(S=r(M[E],b),N=Math.pow(10,M[E].length),E++),(M[E]==="("&&M[E+2]===")"||M[E]==="'"&&M[E+2]==="'")&&(x=r(M[E+1],b),D=Math.pow(10,M[E+1].length)-1,E+=3)):M[E+1]==="/"||M[E+1]===":"?(S=r(M[E],b),N=r(M[E+2],1),E+=3):M[E+3]==="/"&&M[E+1]===" "&&(w=r(M[E],b),S=r(M[E+2],b),N=r(M[E+4],1),E+=5),M.length<=E){_=N*D,b=y=x+_*w+D*S;break}}default:throw m()}if(_===0)throw p();t.s=b<0?-1:1,t.n=Math.abs(y),t.d=Math.abs(_)};function u(d,v,y){for(var _=1;v>0;d=d*d%y,v>>=1)v&1&&(_=_*d%y);return _}function s(d,v){for(;v%2===0;v/=2);for(;v%5===0;v/=5);if(v===1)return 0;for(var y=10%v,_=1;y!==1;_++)if(y=y*10%v,_>e)return 0;return _}function l(d,v,y){for(var _=1,b=u(10,y,v),w=0;w<300;w++){if(_===b)return w;_=_*10%v,b=b*10%v}return 0}function c(d,v){if(!d)return v;if(!v)return d;for(;;){if(d%=v,!d)return v;if(v%=d,!v)return d}}function f(d,v){if(o(d,v),this instanceof f)d=c(t.d,t.n),this.s=t.s,this.n=t.n/d,this.d=t.d/d;else return i(t.s*t.n,t.d)}var p=function(){return new Error("Division by Zero")},m=function(){return new Error("Invalid argument")},h=function(){return new Error("Parameters must be integer")};f.prototype={s:1,n:0,d:1,abs:function(){return i(this.n,this.d)},neg:function(){return i(-this.s*this.n,this.d)},add:function(d,v){return o(d,v),i(this.s*this.n*t.d+t.s*this.d*t.n,this.d*t.d)},sub:function(d,v){return o(d,v),i(this.s*this.n*t.d-t.s*this.d*t.n,this.d*t.d)},mul:function(d,v){return o(d,v),i(this.s*t.s*this.n*t.n,this.d*t.d)},div:function(d,v){return o(d,v),i(this.s*t.s*this.n*t.d,this.d*t.n)},clone:function(){return i(this.s*this.n,this.d)},mod:function(d,v){if(isNaN(this.n)||isNaN(this.d))return new f(NaN);if(d===void 0)return i(this.s*this.n%this.d,1);if(o(d,v),t.n===0&&this.d===0)throw p();return i(this.s*(t.d*this.n)%(t.n*this.d),t.d*this.d)},gcd:function(d,v){return o(d,v),i(c(t.n,this.n)*c(t.d,this.d),t.d*this.d)},lcm:function(d,v){return o(d,v),t.n===0&&this.n===0?i(0,1):i(t.n*this.n,c(t.n,this.n)*c(t.d,this.d))},ceil:function(d){return d=Math.pow(10,d||0),isNaN(this.n)||isNaN(this.d)?new f(NaN):i(Math.ceil(d*this.s*this.n/this.d),d)},floor:function(d){return d=Math.pow(10,d||0),isNaN(this.n)||isNaN(this.d)?new f(NaN):i(Math.floor(d*this.s*this.n/this.d),d)},round:function(d){return d=Math.pow(10,d||0),isNaN(this.n)||isNaN(this.d)?new f(NaN):i(Math.round(d*this.s*this.n/this.d),d)},inverse:function(){return i(this.s*this.d,this.n)},pow:function(d,v){if(o(d,v),t.d===1)return t.s<0?i(Math.pow(this.s*this.d,t.n),Math.pow(this.n,t.n)):i(Math.pow(this.s*this.n,t.n),Math.pow(this.d,t.n));if(this.s<0)return null;var y=a(this.n),_=a(this.d),b=1,w=1;for(var S in y)if(S!=="1"){if(S==="0"){b=0;break}if(y[S]*=t.n,y[S]%t.d===0)y[S]/=t.d;else return null;b*=Math.pow(S,y[S])}for(var S in _)if(S!=="1"){if(_[S]*=t.n,_[S]%t.d===0)_[S]/=t.d;else return null;w*=Math.pow(S,_[S])}return t.s<0?i(w,b):i(b,w)},equals:function(d,v){return o(d,v),this.s*this.n*t.d===t.s*t.n*this.d},compare:function(d,v){o(d,v);var y=this.s*this.n*t.d-t.s*t.n*this.d;return(0<y)-(y<0)},simplify:function(d){if(isNaN(this.n)||isNaN(this.d))return this;d=d||.001;for(var v=this.abs(),y=v.toContinued(),_=1;_<y.length;_++){for(var b=i(y[_-1],1),w=_-2;w>=0;w--)b=b.inverse().add(y[w]);if(Math.abs(b.sub(v).valueOf())<d)return b.mul(this.s)}return this},divisible:function(d,v){return o(d,v),!(!(t.n*this.d)||this.n*t.d%(t.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(d){var v,y="",_=this.n,b=this.d;return this.s<0&&(y+="-"),b===1?y+=_:(d&&(v=Math.floor(_/b))>0&&(y+=v,y+=" ",_%=b),y+=_,y+="/",y+=b),y},toLatex:function(d){var v,y="",_=this.n,b=this.d;return this.s<0&&(y+="-"),b===1?y+=_:(d&&(v=Math.floor(_/b))>0&&(y+=v,_%=b),y+="\\frac{",y+=_,y+="}{",y+=b,y+="}"),y},toContinued:function(){var d,v=this.n,y=this.d,_=[];if(isNaN(v)||isNaN(y))return _;do _.push(Math.floor(v/y)),d=v%y,v=y,y=d;while(v!==1);return _},toString:function(d){var v=this.n,y=this.d;if(isNaN(v)||isNaN(y))return"NaN";d=d||15;var _=s(v,y),b=l(v,y,_),w=this.s<0?"-":"";if(w+=v/y|0,v%=y,v*=10,v&&(w+="."),_){for(var S=b;S--;)w+=v/y|0,v%=y,v*=10;w+="(";for(var S=_;S--;)w+=v/y|0,v%=y,v*=10;w+=")"}else for(var S=d;v&&S--;)w+=v/y|0,v%=y,v*=10;return w}},typeof oy=="object"?(Object.defineProperty(f,"__esModule",{value:!0}),f.default=f,f.Fraction=f,_C.exports=f):n.Fraction=f})(oy)});var L2=cn((NEe,R2)=>{R2.exports=function n(e,t){"use strict";var r=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,i=/(^[ ]*|[ ]*$)/g,a=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,o=/^0x[0-9a-f]+$/i,u=/^0/,s=function(b){return n.insensitive&&(""+b).toLowerCase()||""+b},l=s(e).replace(i,"")||"",c=s(t).replace(i,"")||"",f=l.replace(r,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),p=c.replace(r,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),m=parseInt(l.match(o),16)||f.length!==1&&l.match(a)&&Date.parse(l),h=parseInt(c.match(o),16)||m&&c.match(a)&&Date.parse(c)||null,d,v;if(h){if(m<h)return-1;if(m>h)return 1}for(var y=0,_=Math.max(f.length,p.length);y<_;y++){if(d=!(f[y]||"").match(u)&&parseFloat(f[y])||f[y]||0,v=!(p[y]||"").match(u)&&parseFloat(p[y])||p[y]||0,isNaN(d)!==isNaN(v))return isNaN(d)?1:-1;if(typeof d!=typeof v&&(d+="",v+=""),d<v)return-1;if(d>v)return 1}return 0}});var qF=cn((GTe,UF)=>{"use strict";var M1=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},xX={"{":"\\{","}":"\\}","\\":"\\textbackslash{}","#":"\\#",$:"\\$","%":"\\%","&":"\\&","^":"\\textasciicircum{}",_:"\\_","~":"\\textasciitilde{}"},wX={"\u2013":"\\--","\u2014":"\\---"," ":"~","	":"\\qquad{}","\r\n":"\\newline{}","\n":"\\newline{}"},_X=function(e,t){return M1({},e,t)};UF.exports=function(n){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=e.preserveFormatting,r=t===void 0?!1:t,i=e.escapeMapFn,a=i===void 0?_X:i,o=String(n),u="",s=a(M1({},xX),r?M1({},wX):{}),l=Object.keys(s),c=function(){var p=!1;l.forEach(function(m,h){p||o.length>=m.length&&o.slice(0,m.length)===m&&(u+=s[l[h]],o=o.slice(m.length,o.length),p=!0)}),p||(u+=o.slice(0,1),o=o.slice(1,o.length))};o;)c();return u}});var vR=cn((gR,Nw)=>{(function(n,e,t){function r(u){var s=this,l=o();s.next=function(){var c=2091639*s.s0+s.c*23283064365386963e-26;return s.s0=s.s1,s.s1=s.s2,s.s2=c-(s.c=c|0)},s.c=1,s.s0=l(" "),s.s1=l(" "),s.s2=l(" "),s.s0-=l(u),s.s0<0&&(s.s0+=1),s.s1-=l(u),s.s1<0&&(s.s1+=1),s.s2-=l(u),s.s2<0&&(s.s2+=1),l=null}function i(u,s){return s.c=u.c,s.s0=u.s0,s.s1=u.s1,s.s2=u.s2,s}function a(u,s){var l=new r(u),c=s&&s.state,f=l.next;return f.int32=function(){return l.next()*4294967296|0},f.double=function(){return f()+(f()*2097152|0)*11102230246251565e-32},f.quick=f,c&&(typeof c=="object"&&i(c,l),f.state=function(){return i(l,{})}),f}function o(){var u=4022871197,s=function(l){l=String(l);for(var c=0;c<l.length;c++){u+=l.charCodeAt(c);var f=.02519603282416938*u;u=f>>>0,f-=u,f*=u,u=f>>>0,f-=u,u+=f*4294967296}return(u>>>0)*23283064365386963e-26};return s}e&&e.exports?e.exports=a:t&&t.amd?t(function(){return a}):this.alea=a})(gR,typeof Nw=="object"&&Nw,typeof define=="function"&&define)});var bR=cn((yR,Cw)=>{(function(n,e,t){function r(o){var u=this,s="";u.x=0,u.y=0,u.z=0,u.w=0,u.next=function(){var c=u.x^u.x<<11;return u.x=u.y,u.y=u.z,u.z=u.w,u.w^=u.w>>>19^c^c>>>8},o===(o|0)?u.x=o:s+=o;for(var l=0;l<s.length+64;l++)u.x^=s.charCodeAt(l)|0,u.next()}function i(o,u){return u.x=o.x,u.y=o.y,u.z=o.z,u.w=o.w,u}function a(o,u){var s=new r(o),l=u&&u.state,c=function(){return(s.next()>>>0)/4294967296};return c.double=function(){do var f=s.next()>>>11,p=(s.next()>>>0)/4294967296,m=(f+p)/(1<<21);while(m===0);return m},c.int32=s.next,c.quick=c,l&&(typeof l=="object"&&i(l,s),c.state=function(){return i(s,{})}),c}e&&e.exports?e.exports=a:t&&t.amd?t(function(){return a}):this.xor128=a})(yR,typeof Cw=="object"&&Cw,typeof define=="function"&&define)});var wR=cn((xR,Tw)=>{(function(n,e,t){function r(o){var u=this,s="";u.next=function(){var c=u.x^u.x>>>2;return u.x=u.y,u.y=u.z,u.z=u.w,u.w=u.v,(u.d=u.d+362437|0)+(u.v=u.v^u.v<<4^(c^c<<1))|0},u.x=0,u.y=0,u.z=0,u.w=0,u.v=0,o===(o|0)?u.x=o:s+=o;for(var l=0;l<s.length+64;l++)u.x^=s.charCodeAt(l)|0,l==s.length&&(u.d=u.x<<10^u.x>>>4),u.next()}function i(o,u){return u.x=o.x,u.y=o.y,u.z=o.z,u.w=o.w,u.v=o.v,u.d=o.d,u}function a(o,u){var s=new r(o),l=u&&u.state,c=function(){return(s.next()>>>0)/4294967296};return c.double=function(){do var f=s.next()>>>11,p=(s.next()>>>0)/4294967296,m=(f+p)/(1<<21);while(m===0);return m},c.int32=s.next,c.quick=c,l&&(typeof l=="object"&&i(l,s),c.state=function(){return i(s,{})}),c}e&&e.exports?e.exports=a:t&&t.amd?t(function(){return a}):this.xorwow=a})(xR,typeof Tw=="object"&&Tw,typeof define=="function"&&define)});var SR=cn((_R,Fw)=>{(function(n,e,t){function r(o){var u=this;u.next=function(){var l=u.x,c=u.i,f,p,m;return f=l[c],f^=f>>>7,p=f^f<<24,f=l[c+1&7],p^=f^f>>>10,f=l[c+3&7],p^=f^f>>>3,f=l[c+4&7],p^=f^f<<7,f=l[c+7&7],f=f^f<<13,p^=f^f<<9,l[c]=p,u.i=c+1&7,p};function s(l,c){var f,p,m=[];if(c===(c|0))p=m[0]=c;else for(c=""+c,f=0;f<c.length;++f)m[f&7]=m[f&7]<<15^c.charCodeAt(f)+m[f+1&7]<<13;for(;m.length<8;)m.push(0);for(f=0;f<8&&m[f]===0;++f);for(f==8?p=m[7]=-1:p=m[f],l.x=m,l.i=0,f=256;f>0;--f)l.next()}s(u,o)}function i(o,u){return u.x=o.x.slice(),u.i=o.i,u}function a(o,u){o==null&&(o=+new Date);var s=new r(o),l=u&&u.state,c=function(){return(s.next()>>>0)/4294967296};return c.double=function(){do var f=s.next()>>>11,p=(s.next()>>>0)/4294967296,m=(f+p)/(1<<21);while(m===0);return m},c.int32=s.next,c.quick=c,l&&(l.x&&i(l,s),c.state=function(){return i(s,{})}),c}e&&e.exports?e.exports=a:t&&t.amd?t(function(){return a}):this.xorshift7=a})(_R,typeof Fw=="object"&&Fw,typeof define=="function"&&define)});var ER=cn((AR,Iw)=>{(function(n,e,t){function r(o){var u=this;u.next=function(){var l=u.w,c=u.X,f=u.i,p,m;return u.w=l=l+1640531527|0,m=c[f+34&127],p=c[f=f+1&127],m^=m<<13,p^=p<<17,m^=m>>>15,p^=p>>>12,m=c[f]=m^p,u.i=f,m+(l^l>>>16)|0};function s(l,c){var f,p,m,h,d,v=[],y=128;for(c===(c|0)?(p=c,c=null):(c=c+"\0",p=0,y=Math.max(y,c.length)),m=0,h=-32;h<y;++h)c&&(p^=c.charCodeAt((h+32)%c.length)),h===0&&(d=p),p^=p<<10,p^=p>>>15,p^=p<<4,p^=p>>>13,h>=0&&(d=d+1640531527|0,f=v[h&127]^=p+d,m=f==0?m+1:0);for(m>=128&&(v[(c&&c.length||0)&127]=-1),m=127,h=4*128;h>0;--h)p=v[m+34&127],f=v[m=m+1&127],p^=p<<13,f^=f<<17,p^=p>>>15,f^=f>>>12,v[m]=p^f;l.w=d,l.X=v,l.i=m}s(u,o)}function i(o,u){return u.i=o.i,u.w=o.w,u.X=o.X.slice(),u}function a(o,u){o==null&&(o=+new Date);var s=new r(o),l=u&&u.state,c=function(){return(s.next()>>>0)/4294967296};return c.double=function(){do var f=s.next()>>>11,p=(s.next()>>>0)/4294967296,m=(f+p)/(1<<21);while(m===0);return m},c.int32=s.next,c.quick=c,l&&(l.X&&i(l,s),c.state=function(){return i(s,{})}),c}e&&e.exports?e.exports=a:t&&t.amd?t(function(){return a}):this.xor4096=a})(AR,typeof Iw=="object"&&Iw,typeof define=="function"&&define)});var MR=cn((DR,Pw)=>{(function(n,e,t){function r(o){var u=this,s="";u.next=function(){var c=u.b,f=u.c,p=u.d,m=u.a;return c=c<<25^c>>>7^f,f=f-p|0,p=p<<24^p>>>8^m,m=m-c|0,u.b=c=c<<20^c>>>12^f,u.c=f=f-p|0,u.d=p<<16^f>>>16^m,u.a=m-c|0},u.a=0,u.b=0,u.c=-1640531527,u.d=1367130551,o===Math.floor(o)?(u.a=o/4294967296|0,u.b=o|0):s+=o;for(var l=0;l<s.length+20;l++)u.b^=s.charCodeAt(l)|0,u.next()}function i(o,u){return u.a=o.a,u.b=o.b,u.c=o.c,u.d=o.d,u}function a(o,u){var s=new r(o),l=u&&u.state,c=function(){return(s.next()>>>0)/4294967296};return c.double=function(){do var f=s.next()>>>11,p=(s.next()>>>0)/4294967296,m=(f+p)/(1<<21);while(m===0);return m},c.int32=s.next,c.quick=c,l&&(typeof l=="object"&&i(l,s),c.state=function(){return i(s,{})}),c}e&&e.exports?e.exports=a:t&&t.amd?t(function(){return a}):this.tychei=a})(DR,typeof Pw=="object"&&Pw,typeof define=="function"&&define)});var CR=cn((NR,sd)=>{(function(n,e,t){var r=256,i=6,a=52,o="random",u=t.pow(r,i),s=t.pow(2,a),l=s*2,c=r-1,f;function p(b,w,S){var x=[];w=w==!0?{entropy:!0}:w||{};var N=v(d(w.entropy?[b,_(e)]:b==null?y():b,3),x),D=new m(x),E=function(){for(var M=D.g(i),P=u,O=0;M<s;)M=(M+O)*r,P*=r,O=D.g(1);for(;M>=l;)M/=2,P/=2,O>>>=1;return(M+O)/P};return E.int32=function(){return D.g(4)|0},E.quick=function(){return D.g(4)/4294967296},E.double=E,v(_(D.S),e),(w.pass||S||function(M,P,O,V){return V&&(V.S&&h(V,D),M.state=function(){return h(D,{})}),O?(t[o]=M,P):M})(E,N,"global"in w?w.global:this==t,w.state)}function m(b){var w,S=b.length,x=this,N=0,D=x.i=x.j=0,E=x.S=[];for(S||(b=[S++]);N<r;)E[N]=N++;for(N=0;N<r;N++)E[N]=E[D=c&D+b[N%S]+(w=E[N])],E[D]=w;(x.g=function(M){for(var P,O=0,V=x.i,z=x.j,L=x.S;M--;)P=L[V=c&V+1],O=O*r+L[c&(L[V]=L[z=c&z+P])+(L[z]=P)];return x.i=V,x.j=z,O})(r)}function h(b,w){return w.i=b.i,w.j=b.j,w.S=b.S.slice(),w}function d(b,w){var S=[],x=typeof b,N;if(w&&x=="object")for(N in b)try{S.push(d(b[N],w-1))}catch(D){}return S.length?S:x=="string"?b:b+"\0"}function v(b,w){for(var S=b+"",x,N=0;N<S.length;)w[c&N]=c&(x^=w[c&N]*19)+S.charCodeAt(N++);return _(w)}function y(){try{var b;return f&&(b=f.randomBytes)?b=b(r):(b=new Uint8Array(r),(n.crypto||n.msCrypto).getRandomValues(b)),_(b)}catch(x){var w=n.navigator,S=w&&w.plugins;return[+new Date,n,S,n.screen,_(e)]}}function _(b){return String.fromCharCode.apply(0,b)}if(v(t.random(),e),typeof sd=="object"&&sd.exports){sd.exports=p;try{f=require("crypto")}catch(b){}}else typeof define=="function"&&define.amd?define(function(){return p}):t["seed"+o]=p})(typeof self!="undefined"?self:NR,[],Math)});var FR=cn((cUe,TR)=>{var VQ=vR(),UQ=bR(),qQ=wR(),zQ=SR(),$Q=ER(),HQ=MR(),Zs=CR();Zs.alea=VQ;Zs.xor128=UQ;Zs.xorwow=qQ;Zs.xorshift7=zQ;Zs.xor4096=$Q;Zs.tychei=HQ;TR.exports=Zs});var Jie={};rz(Jie,{MetaBindBuild:()=>BE,default:()=>Xh});module.exports=nz(Jie);var ql=require("obsidian");var vD=["January","February","March","April","May","June","July","August","September","October","November","December"],Ns=[{index:0,name:"Sunday",shortName:"Su"},{index:1,name:"Monday",shortName:"Mo"},{index:2,name:"Tuesday",shortName:"Tu"},{index:3,name:"Wednesday",shortName:"We"},{index:4,name:"Thursday",shortName:"Th"},{index:5,name:"Friday",shortName:"Fr"},{index:6,name:"Saturday",shortName:"Sa"}],la={devMode:!1,ignoreCodeBlockRestrictions:!1,preferredDateFormat:"YYYY-MM-DD",firstWeekday:Ns[1],syncInterval:200,minSyncInterval:50,maxSyncInterval:1e3,enableJs:!1,viewFieldDisplayNullAsEmpty:!1,enableSyntaxHighlighting:!0,enableEditorRightClickMenu:!0,inputFieldTemplates:[],buttonTemplates:[],excludedFolders:["templates"],inputTemplates:void 0};var Io=(x=>(x.TOGGLE="toggle",x.SLIDER="slider",x.TEXT="text",x.TEXT_AREA="textArea",x.SELECT="select",x.MULTI_SELECT="multiSelect",x.DATE="date",x.TIME="time",x.DATE_PICKER="datePicker",x.NUMBER="number",x.SUGGESTER="suggester",x.EDITOR="editor",x.IMAGE_SUGGESTER="imageSuggester",x.PROGRESS_BAR="progressBar",x.INLINE_SELECT="inlineSelect",x.LIST="list",x.LIST_SUGGESTER="listSuggester",x.INLINE_LIST_SUGGESTER="inlineListSuggester",x.INLINE_LIST="inlineList",x.IMAGE_LIST_SUGGESTER="imageListSuggester",x.DATE_TIME="dateTime",x.INVALID="invalid",x))(Io||{}),qr=(_=>(_.CLASS="class",_.ADD_LABELS="addLabels",_.MIN_VALUE="minValue",_.MAX_VALUE="maxValue",_.STEP_SIZE="stepSize",_.OPTION="option",_.TITLE="title",_.OPTION_QUERY="optionQuery",_.SHOWCASE="showcase",_.ON_VALUE="onValue",_.OFF_VALUE="offValue",_.DEFAULT_VALUE="defaultValue",_.PLACEHOLDER="placeholder",_.USE_LINKS="useLinks",_.LIMIT="limit",_.MULTI_LINE="multiLine",_.ALLOW_OTHER="allowOther",_.INVALID="invalid",_))(qr||{}),Ff={toggle:{type:"toggle",allowInBlock:!0,allowInline:!0},slider:{type:"slider",allowInBlock:!0,allowInline:!0},text:{type:"text",allowInBlock:!0,allowInline:!0},textArea:{type:"textArea",allowInBlock:!0,allowInline:!0},select:{type:"select",allowInBlock:!0,allowInline:!1},multiSelect:{type:"multiSelect",allowInBlock:!0,allowInline:!1},date:{type:"date",allowInBlock:!0,allowInline:!0},time:{type:"time",allowInBlock:!0,allowInline:!0},datePicker:{type:"datePicker",allowInBlock:!0,allowInline:!0},number:{type:"number",allowInBlock:!0,allowInline:!0},suggester:{type:"suggester",allowInBlock:!0,allowInline:!0},editor:{type:"editor",allowInBlock:!0,allowInline:!1},imageSuggester:{type:"imageSuggester",allowInBlock:!0,allowInline:!1},progressBar:{type:"progressBar",allowInBlock:!0,allowInline:!1},inlineSelect:{type:"inlineSelect",allowInBlock:!0,allowInline:!0},list:{type:"list",allowInBlock:!0,allowInline:!1},listSuggester:{type:"listSuggester",allowInBlock:!0,allowInline:!1},inlineListSuggester:{type:"inlineListSuggester",allowInBlock:!0,allowInline:!0},inlineList:{type:"inlineList",allowInBlock:!0,allowInline:!0},imageListSuggester:{type:"imageListSuggester",allowInBlock:!0,allowInline:!1},dateTime:{type:"dateTime",allowInBlock:!0,allowInline:!0},invalid:{type:"invalid",allowInBlock:!1,allowInline:!1}};var pr={addLabels:{type:"addLabels",allowedFieldTypes:["slider","progressBar"],values:[[],[{name:"value",allowed:["true","false"],description:""}]],allowMultiple:!1},class:{type:"class",allowedFieldTypes:[],values:[[{name:"className",allowed:[],description:"the name of the css class to add"}]],allowMultiple:!0},defaultValue:{type:"defaultValue",allowedFieldTypes:[],values:[[{name:"value",allowed:[],description:""}]],allowMultiple:!1},maxValue:{type:"maxValue",allowedFieldTypes:["slider","progressBar"],values:[[{name:"value",allowed:["number"],description:"the maximally allowed value"}]],allowMultiple:!1},minValue:{type:"minValue",allowedFieldTypes:["slider","progressBar"],values:[[{name:"value",allowed:["number"],description:"the minimally allowed value"}]],allowMultiple:!1},stepSize:{type:"stepSize",allowedFieldTypes:["slider","progressBar"],values:[[{name:"value",allowed:["number"],description:"the step size for sliders"}]],allowMultiple:!1},offValue:{type:"offValue",allowedFieldTypes:["toggle"],values:[[{name:"value",allowed:[],description:"the value for the off state"}]],allowMultiple:!1},onValue:{type:"onValue",allowedFieldTypes:["toggle"],values:[[{name:"value",allowed:[],description:"the value for the off state"}]],allowMultiple:!1},option:{type:"option",allowedFieldTypes:["select","multiSelect","suggester","imageSuggester","inlineSelect","listSuggester","inlineListSuggester","imageListSuggester"],values:[[{name:"value",allowed:[],description:"the value and display name of the option"}],[{name:"value",allowed:[],description:"the value of the option"},{name:"name",allowed:[],description:"the display name of the option"}]],allowMultiple:!0},optionQuery:{type:"optionQuery",allowedFieldTypes:["suggester","imageSuggester","listSuggester","inlineListSuggester","imageListSuggester"],values:[[{name:"value",allowed:[],description:"the query for options"}]],allowMultiple:!0},placeholder:{type:"placeholder",allowedFieldTypes:["text","textArea","number","list","inlineList"],values:[[{name:"value",allowed:[],description:""}]],allowMultiple:!1},showcase:{type:"showcase",allowedFieldTypes:[],values:[[],[{name:"value",allowed:["true","false"],description:""}]],allowMultiple:!1},title:{type:"title",allowedFieldTypes:[],values:[[{name:"value",allowed:[],description:""}]],allowMultiple:!1},useLinks:{type:"useLinks",allowedFieldTypes:["suggester","listSuggester","inlineListSuggester"],values:[[],[{name:"value",allowed:["true","partial","false"],description:""}]],allowMultiple:!1},limit:{type:"limit",allowedFieldTypes:["text","textArea","list","inlineList"],values:[[{name:"value",allowed:["number"],description:"a character limit for text fields"}]],allowMultiple:!1},multiLine:{type:"multiLine",allowedFieldTypes:["list"],values:[[],[{name:"value",allowed:["true","false"],description:""}]],allowMultiple:!1},allowOther:{type:"allowOther",allowedFieldTypes:["suggester","listSuggester","inlineListSuggester"],values:[[],[{name:"value",allowed:["true","false"],description:""}]],allowMultiple:!1},invalid:{type:"invalid",allowedFieldTypes:[],values:[[]],allowMultiple:!0}},Jl=(a=>(a.MATH="math",a.TEXT="text",a.LINK="link",a.IMAGE="image",a.INVALID="invalid",a))(Jl||{}),Cs=(i=>(i.RENDER_MARKDOWN="renderMarkdown",i.HIDDEN="hidden",i.CLASS="class",i.INVALID="invalid",i))(Cs||{}),Eu={renderMarkdown:{type:"renderMarkdown",allowedFieldTypes:["text"],values:[[],[{name:"value",allowed:["true","false"],description:""}]],allowMultiple:!1},hidden:{type:"hidden",allowedFieldTypes:[],values:[[],[{name:"value",allowed:["true","false"],description:""}]],allowMultiple:!1},class:{type:"class",allowedFieldTypes:[],values:[[{name:"className",allowed:[],description:"the name of the css class to add"}]],allowMultiple:!0},invalid:{type:"invalid",allowedFieldTypes:[],values:[[]],allowMultiple:!0}},ti=(t=>(t.INLINE="inline",t.BLOCK="block",t))(ti||{}),If=8,Du=(s=>(s.INPUT="INPUT",s.VIEW="VIEW",s.JS_VIEW="JS_VIEW",s.TABLE="TABLE",s.BUTTON_GROUP="BUTTON_GROUP",s.BUTTON="BUTTON",s.EMBED="EMBED",s.EXCLUDED="EXCLUDED",s))(Du||{}),Fo=class{constructor(e){this.linePosition=e}getPosition(){return this.linePosition}};function Pf(n){return n==="INPUT"||n==="VIEW"||n==="BUTTON_GROUP"}var fn=class extends Error{constructor(e){super(""),this.errorLevel=e.errorLevel,this.effect=e.effect,this.cause=e.cause,this.tip=e.tip,this.docs=e.docs,this.context=e.context,this.positionContext=e.positionContext,this.updateMessage()}updateMessage(){this.cause instanceof Error?this.message=`[${this.getErrorType()}] "${this.effect}" caused by error "${this.cause.message}"`:this.message=`[${this.getErrorType()}] "${this.effect}" caused by "${this.cause}"`}log(){console.log(this.message,this.stack,this.context)}},Bt=class extends fn{getErrorType(){return"MB_INTERNAL"}},to=class extends fn{getErrorType(){return"MB_PARSING"}},Po=class extends fn{getErrorType(){return"MB_VALIDATION"}},Bf=class extends fn{getErrorType(){return"MB_BIND_TARGET"}};var Sr=class extends fn{getErrorType(){return"MB_ARGUMENT"}},Xl=class extends fn{getErrorType(){return"MB_JS"}},ca=class extends fn{getErrorType(){return"MB_EXPRESSION"}};var Ql=class extends fn{getErrorType(){return"MB_EXAMPLE"}},Ts=class extends fn{getErrorType(){return"MB_EMBED"}},ro=class extends fn{getErrorType(){return"MB_BUTTON"}},Fs=class extends fn{getErrorType(){return"MB_DEPENDENCY"}};var zi=class{static get(e,t){return t.get(e).child}static tryGet(e,t){var r;return(r=t.tryGet(e))==null?void 0:r.child}static fullGet(e,t){return t.get(e)}static set(e,t,r){t.set(e,r)}static setAndCreate(e,t,r){t.setAndCreate(e,r)}};var Mu=class{constructor(e,t){this.id=e,this.manager=t,this.cache=new Map}validateStoragePath(e,t,r,i){return i.validateStoragePathAsFilePath(e,r)}resolveBindTargetScope(e,t,r){return e}createCacheItem(e){let t=this.cache.get(e);if(t!==void 0)throw new Bt({errorLevel:"CRITICAL",effect:"can not create cache item",cause:"cache item already exists"});return t=this.getDefaultCacheItem(e),this.cache.set(e,t),t}getOrCreateCacheItem(e){let t=this.getCacheItemForStoragePath(e);return t===void 0&&(t=this.getDefaultCacheItem(e),this.cache.set(e,t)),t}subscribe(e){if(e.bindTarget===void 0)throw new Bt({errorLevel:"CRITICAL",effect:"can not subscribe",cause:"subscription bind target undefined"});let t=this.getOrCreateCacheItem(e.bindTarget.storagePath);return t.subscriptions.push(e),t}unsubscribe(e){if(e.bindTarget===void 0)throw new Bt({errorLevel:"CRITICAL",effect:"can not unsubscribe",cause:"subscription bind target undefined"});let t=this.cache.get(e.bindTarget.storagePath);if(t===void 0)throw new Bt({errorLevel:"CRITICAL",effect:"can not unsubscribe",cause:"cache item does not exist"});return t.subscriptions=t.subscriptions.filter(r=>r.uuid!==e.uuid),t}getCacheItemForStoragePath(e){return this.cache.get(e)}onCycle(e){}iterateCacheItems(){return this.cache.values()}shouldDelete(e){return!0}deleteCache(e){this.cache.delete(e.storagePath)}writeCache(e,t){let r=this.getOrCreateCacheItem(t.storagePath);return zi.setAndCreate(r.data,t.storageProp,e),r}writeEntireCache(e,t){t.data=e}readCache(e){if(e.storageType!==this.id)throw new Bt({errorLevel:"ERROR",effect:"can not read cache",cause:`Source "${e.storageType}" does not match`});let t=this.getCacheItemForStoragePath(e.storagePath);return t===void 0?zi.tryGet(this.readExternal(e.storagePath),e.storageProp):this.readCacheItem(t,e.storageProp)}readCacheItem(e,t){return zi.tryGet(e.data,t)}readEntireCacheItem(e){return e.data}};function gn(n,e){let t=n.tryParse(e);if(t.success)return t.value;throw new Kl("ERROR","parsiNOM parser",e,t)}var Kl=class extends fn{constructor(e,t,r,i){super({errorLevel:e,effect:"failed to parse",cause:`expected ${i.expected.sort().join(" or ")}`}),this.str=r,this.parseFailure=i,this.source=t,this.updateMessage2()}getErrorType(){return"MB_PARSINOM"}updateMessage2(){this.cause instanceof Error?this.message=`[${this.getErrorType()}] "${this.effect}" caused by error "${this.cause.message}"
`:this.message=`[${this.getErrorType()}] "${this.effect}" caused by "${this.cause}"
`;let t=this.str.split(`
`)[this.parseFailure.furthest.line-1],r=`${this.parseFailure.furthest.line} |   `;this.positionContext=`${r}${t}`,this.positionContext+=`
${this.getUnderline(r.length)}
`,this.message+=`
`+this.positionContext}getUnderline(e){let t=" ".repeat(this.parseFailure.furthest.column+e-1),r=`^ (${this.cause})`;return t+r}},pn=class extends fn{constructor(e,t,r,i,a,o){super({errorLevel:e,effect:"failed to validate parser result",cause:r,docs:o}),this.str=i,this.position=a,this.source=t,this.updateMessage2()}getErrorType(){return"MB_VALIDATION"}updateMessage2(){if(this.cause instanceof Error?this.message=`[${this.getErrorType()}] "${this.effect}" caused by error "${this.cause.message}"
`:this.message=`[${this.getErrorType()}] "${this.effect}" caused by "${this.cause}"
`,this.str&&this.position){let t=this.str.split(`
`)[this.position.from.line-1],r=`${this.position.from.line} |   `;this.positionContext=`${r}${t}`,this.positionContext+=`
${this.getUnderline(r.length,t.length)}
`,this.message+=`
`+this.positionContext}}getUnderline(e,t){if(this.position===void 0)return"";let r=" ".repeat(this.position.from.column+e-1),i=this.position.to.line===this.position.from.line?this.position.to.column:t,a="^".repeat(i-this.position.from.column);return r+a}};var Of=class extends Mu{readExternal(e){return{}}getDefaultCacheItem(e){return{data:{},storagePath:e,...this.manager.getDefaultCacheItem()}}async syncExternal(e){}},kf=class{constructor(e,t){this.id=e,this.manager=t,this.cache={data:{},...this.manager.getDefaultCacheItem()}}createCacheItem(e){return this.cache}getOrCreateCacheItem(e){return this.cache}validateStoragePath(e,t,r,i){if(t)throw new pn("ERROR","Bind Target Validator","Failed to parse bind target. Bind target storage type 'global_memory' does not support a storage path.",r,e.position);return""}resolveBindTargetScope(e,t,r){return e}deleteCache(e){}getCacheItemForStoragePath(e){return this.cache}iterateCacheItems(){return[this.cache][Symbol.iterator]()}onCycle(e){}readCache(e){return this.readCacheItem(this.cache,e.storageProp)}readCacheItem(e,t){return zi.tryGet(e.data,t)}shouldDelete(e){return!1}subscribe(e){return this.cache.subscriptions.push(e),this.cache}syncExternal(e){}unsubscribe(e){return this.cache.subscriptions=this.cache.subscriptions.filter(t=>t.uuid!==e.uuid),this.cache}writeCache(e,t){return zi.setAndCreate(this.cache.data,t.storageProp,e),this.cache}writeEntireCache(e,t){t.data=e}readEntireCacheItem(e){return e.data}},Rf=class{constructor(e,t){this.id=e,this.manager=t}createCacheItem(e){throw new Bt({errorLevel:"CRITICAL",effect:"action not permitted",cause:"source 'scope' should have no cache items or subscriptions"})}getOrCreateCacheItem(e){throw new Bt({errorLevel:"CRITICAL",effect:"action not permitted",cause:"source 'scope' should have no cache items or subscriptions"})}validateStoragePath(e,t,r,i){if(t)throw new pn("ERROR","Bind Target Validator","Failed to parse bind target. Bind target storage type 'scope' does not support a storage path.",r,e.position);return""}resolveBindTargetScope(e,t,r){return r.resolveScope(e,t)}deleteCache(e){}getCacheItemForStoragePath(e){}iterateCacheItems(){return[][Symbol.iterator]()}onCycle(e){}readCache(e){}readCacheItem(e,t){}shouldDelete(e){return!0}subscribe(e){throw new Bt({errorLevel:"CRITICAL",effect:"action not permitted",cause:"source 'scope' should have no cache items or subscriptions"})}syncExternal(e){}unsubscribe(e){throw new Bt({errorLevel:"CRITICAL",effect:"action not permitted",cause:"source 'scope' should have no cache items or subscriptions"})}writeCache(e,t){throw new Bt({errorLevel:"CRITICAL",effect:"action not permitted",cause:"source 'scope' should have no cache items or subscriptions"})}writeEntireCache(e,t){}readEntireCacheItem(e){throw new Bt({errorLevel:"CRITICAL",effect:"action not permitted",cause:"source 'scope' should have no cache items or subscriptions"})}};function ec(n,e,t){return Math.min(Math.max(n,e),t)}function Lf(n,e,t){return n!==void 0?Math.min(Math.max(n,e),t):void 0}function Eg(n,e,t,r,i){return(n-e)/(t-e)*(i-r)+r}function Dg(n,e){return(n%e+e)%e}function yD(n){return!!n}function Mg(n){let e=Reflect.ownKeys(n);for(let t of e){let r=n[t];(r&&typeof r=="object"||typeof r=="function")&&Mg(r)}return Object.freeze(n)}function bD(n){return structuredClone(n)}function Dr(){return window.crypto.randomUUID()}function Nu(n){try{return new URL(n),!0}catch(e){return!1}}function Vf(n){window.open(n,"_blank")}function xD(n,e,t=", ",r="and"){return n.length===0?"":(n=n.map(e),n.length===1?n[0]:n.length===2?`${n[0]} ${r} ${n[1]}`:`${n.slice(0,-1).join(t)} ${r} ${n.slice(-1)}`)}function kn(n,e){n.innerHTML="",n.className="";let t=document.createElement("span");t.className="mb-warning mb-unloaded",t.innerText=`[MB_UNLOADED] ${e}`,n.appendChild(t)}var lt=class{static createElement(e,t,r){let i=document.createElement(t);return r!=null&&r.text&&(i.innerText=r.text),r!=null&&r.class&&(i.className=r.class),e.appendChild(i),i}static addClass(e,t){e.classList.add(...t.split(" "))}static addClasses(e,t){e.classList.add(...t)}static removeClass(e,t){e.classList.remove(...t.split(" "))}static hasClass(e,t){return e.classList.contains(t)}static removeAllClasses(e){e.className=""}static empty(e){for(;e.lastChild;)e.removeChild(e.lastChild)}};var Uf=class{constructor(e,t,r,i,a,o,u){this.uuid=e,this.callbackSignal=t,this.metadataManager=r,this.bindTarget=i,this.dependencies=a,this.dependencySubscriptions=[],this.computeFunction=o,this.onDelete=u,this.deleted=!1}init(){for(let e of this.dependencies){let t=this.uuid+"/"+Dr();this.dependencySubscriptions.push(this.metadataManager.subscribe(t,e.callbackSignal,e.bindTarget,()=>this.delete())),e.callbackSignal.registerListener({callback:()=>void this.computeValue()})}this.computeValue()}async computeValue(){try{let e=this.dependencySubscriptions.map(r=>r.callbackSignal.get()),t=await this.computeFunction(e);this.callbackSignal.set(t),this.bindTarget!==void 0&&this.metadataManager.write(t,this.bindTarget,this.uuid)}catch(e){let t=e instanceof Error?e:String(e);console.warn(new Bt({errorLevel:"ERROR",effect:"Failed to compute value of computed subscription",cause:t}))}}unsubscribe(){for(let e of this.dependencySubscriptions)e.unsubscribe();this.metadataManager.unsubscribe(this)}notify(e){}getDependencies(){return this.dependencies}delete(){this.deleted=!0;for(let e of this.dependencySubscriptions)e.deleted||e.delete();this.onDelete(),this.unsubscribe()}};var qf=class{constructor(e,t,r,i,a){this.uuid=e,this.callbackSignal=t,this.metadataManager=r,this.bindTarget=i,this.onDelete=a,this.deleted=!1}unsubscribe(){this.metadataManager.unsubscribe(this)}update(e){this.metadataManager.write(e,this.bindTarget,this.uuid)}notify(e){try{this.callbackSignal.set(e)}catch(t){let r=t instanceof Error?t:String(t);console.warn(new Bt({errorLevel:"ERROR",effect:"Failed to notify subscription of updated value in the cache",cause:r}))}}getDependencies(){return[]}delete(){this.deleted=!0,this.onDelete()}};var wD=5,iz=5*60;function Ng(n,e){return n===void 0||e===void 0||n.storageType!==e.storageType||n.storagePath!==e.storagePath?!1:_D(n.storageProp,e.storageProp,e.listenToChildren)}function _D(n,e,t){let r=n.path,i=e.path;for(let a=0;a<Math.min(r.length,i.length);a++)if(r[a].type!==i[a].type||r[a].prop!==i[a].prop)return!1;return r.length>i.length?t:!0}function az(n){return n===void 0?"undefined":`${n.storagePath}#${n.storageProp.toString()}`}var zf=class{constructor(){this.sources=new Map,this.defaultSource="CHANGE_THE_DEFAULT_SOURCE"}registerSource(e){this.sources.set(e.id,e)}setDefaultSource(e){if(this.sources.has(e))this.defaultSource=e;else throw new Bt({errorLevel:"CRITICAL",effect:"can not set default source",cause:`Source "${e}" does not exist`})}unregisterSource(e){this.sources.delete(e.id)}getSource(e){return this.sources.get(e)}iterateSources(){return this.sources.keys()}subscribe(e,t,r,i){let a=new qf(e,t,this,r,i);return this.subscribeSubscription(a),a}subscribeComputed(e,t,r,i,a,o){let u=new Uf(e,t,this,r,i,a,o);return this.checkForLoops(u),u.init(),this.subscribeSubscription(u),u}unsubscribe(e){if(e.bindTarget===void 0)return;let t=this.getSource(e.bindTarget.storageType);if(t===void 0)throw new Bt({errorLevel:"ERROR",effect:"can not unsubscribe subscription",cause:`Source "${e.bindTarget.storageType}" does not exist`});let r=t.unsubscribe(e);r.subscriptions.length===0&&(r.inactive=!0)}subscribeSubscription(e){if(e.bindTarget===void 0)return;let t=this.getSource(e.bindTarget.storageType);if(t===void 0)throw new Bt({errorLevel:"ERROR",effect:"can not subscribe subscription",cause:`Source "${e.bindTarget.storageType}" does not exist`});let r=t.subscribe(e);r.inactive=!1,r.cyclesSinceInactive=0,e.notify(t.readCacheItem(r,e.bindTarget.storageProp))}checkForLoops(e){for(let t of this.getAllSubscriptionsToDependencies(e))this.recCheckForLoops([e,t])}recCheckForLoops(e){let t=e.at(0),r=e.at(-1);if(!(r===void 0||t===void 0)){if(Ng(t.bindTarget,r.bindTarget))throw new Bf({errorLevel:"ERROR",effect:"bind target dependency loop detected",cause:`the loop is as follows: ${e.map(i=>`"${az(i.bindTarget)}"`).join(" -> ")}`,docs:["https://mprojectscode.github.io/obsidian-meta-bind-plugin-docs/guides/viewfields/#circular-dependencies"]});for(let i of this.getAllSubscriptionsToDependencies(r))this.recCheckForLoops([...e,i])}}getAllSubscriptionsToDependencies(e){return e.getDependencies().map(t=>this.getAllSubscriptionsToBindTarget(t.bindTarget)).flat()}getAllSubscriptionsToBindTarget(e){if(e===void 0)return[];let t=this.getCacheItemForBindTarget(e);if(!t)return[];let r=[];for(let i of t.subscriptions)Ng(i.bindTarget,e)&&r.push(i);return t.subscriptions.filter(i=>Ng(i.bindTarget,e))}getCacheItemForBindTarget(e){var t;return(t=this.getSource(e.storageType))==null?void 0:t.getCacheItemForStoragePath(e.storagePath)}cycle(){for(let e of this.sources.values()){let t=[];for(let r of e.iterateCacheItems()){if(e.onCycle(r),r.pendingInternalChange){try{e.syncExternal(r)}catch(i){console.warn("failed to update frontmatter",i)}r.pendingInternalChange=!1}r.cyclesSinceInternalChange+=1,r.inactive&&(r.cyclesSinceInactive+=1),r.cyclesSinceInactive>iz&&e.shouldDelete(r)&&t.push(r)}for(let r of t)e.deleteCache(r)}}write(e,t,r){let i=this.getSource(t.storageType);if(i===void 0)throw new Bt({errorLevel:"ERROR",effect:"can not write to cache",cause:`Source "${t.storageType}" does not exist`});let a=i.writeCache(e,t);a.pendingInternalChange=!0,a.cyclesSinceInternalChange=0,this.notifyListeners(t,r)}read(e){let t=this.getSource(e.storageType);if(t===void 0)throw new Bt({errorLevel:"ERROR",effect:"can not read metadata",cause:`Source "${e.storageType}" does not exist`});return t.readCache(e)}isCacheExternalWriteLocked(e){return e.cyclesSinceInternalChange<wD}notifyListeners(e,t){let r=this.getSource(e.storageType);if(r===void 0)throw new Bt({errorLevel:"ERROR",effect:"can notify listeners metadata",cause:`Source "${e.storageType}" does not exist`});let i=r.getCacheItemForStoragePath(e.storagePath);if(i!==void 0){for(let a of i.subscriptions)if(!(t!==void 0&&t===a.uuid||a.bindTarget===void 0)&&_D(e.storageProp,a.bindTarget.storageProp,a.bindTarget.listenToChildren)){let o=r.readCache(a.bindTarget);a.notify(o)}}}notifyAllListeners(e,t){for(let r of t.subscriptions){if(r.bindTarget===void 0)continue;let i=e.readCache(r.bindTarget);r.notify(i)}}deleteCachesForStoragePath(e){for(let t of this.sources.values()){let r=t.getCacheItemForStoragePath(e);r!==void 0&&(r.subscriptions.forEach(i=>i.delete()),t.deleteCache(r))}}getDefaultCacheItem(){return{subscriptions:[],cyclesSinceInternalChange:wD+1,pendingInternalChange:!1,cyclesSinceInactive:0,inactive:!0}}onExternalUpdate(e,t,r){let i=e.getCacheItemForStoragePath(t);if(i===void 0||this.isCacheExternalWriteLocked(i))return;let a=e.readEntireCacheItem(i);e.writeEntireCache(r,i);for(let o of i.subscriptions){if(o.bindTarget===void 0)continue;let u=o.bindTarget.storageProp,s=zi.tryGet(r,u),l=zi.tryGet(a,u);s!==l&&o.notify(s)}}onStoragePathDeleted(e){this.deleteCachesForStoragePath(e)}onStoragePathRenamed(e,t){this.deleteCachesForStoragePath(e)}};var Tg=hr(tc()),Rn=class n{static stringify(e){return e.format(this.dateFormat)}static parse(e){return(0,Tg.default)(e,n.dateFormat)}static getDefaultDate(){return(0,Tg.default)(new Date)}static getDefaultDay(){return new Date().getDate()}static getDefaultMonth(){return 1}static getDefaultYear(){return new Date().getFullYear()}};var SD=hr(tc());var Fg=Ns[1];function AD(n){Fg=n}function Ig(n){return vD[n]}function ED(n,e){let t=(0,SD.default)(new Date(e,n)).daysInMonth(),r=new Array(42).fill(0),i=oz(new Date(e,n,1));for(let a=0;a<t;a++)r[a+i]=a+1;return r=r[r.length-7]?r:r.slice(0,-7),r=r[r.length-7]?r:r.slice(0,-7),r}function oz(n){return Dg(n.getDay()-Fg.index,7)}function DD(){return Ns.map(e=>({index:Dg(e.index-Fg.index,7),name:e.name,shortName:e.shortName})).sort((e,t)=>e.index-t.index).map(e=>e.shortName)}function MD(){let n=0;return()=>++n}var FD=require("obsidian");var ND={date:"date",datePicker:"datePicker",dateTime:"dateTime",editor:"editor",imageSuggester:'imageSuggester(optionQuery(""))',imageListSuggester:'imageListSuggester(optionQuery(""))',inlineList:"inlineList",inlineListSuggester:"inlineListSuggester(option(apple), option(banana), option(lemon))",inlineSelect:"inlineSelect(option(apple), option(banana), option(lemon))",list:"list",listSuggester:"listSuggester(option(apple), option(banana), option(lemon))",multiSelect:"multiSelect(option(apple), option(banana), option(lemon))",number:"number",progressBar:"progressBar",select:"select(option(apple), option(banana), option(lemon))",slider:"slider(addLabels)",suggester:"suggester(option(apple), option(banana), option(lemon))",text:"text",textArea:"textArea",time:"time",toggle:"toggle",invalid:""},$f={image:[{title:"Image",declaration:"VIEW[{globalMemory^MB_VF_image_example}][image]",display:"VIEW[{imageExampleProperty}][image]",inputField:'INPUT[imageSuggester(optionQuery("")):globalMemory^MB_VF_image_example]'}],link:[{title:"Link",declaration:"VIEW[{globalMemory^MB_VF_link_example}][link]",display:"VIEW[{linkExampleProperty}][link]",inputField:'INPUT[suggester(optionQuery("")):globalMemory^MB_VF_link_example]'}],math:[{title:"Math",declaration:"VIEW[{globalMemory^MB_VF_math_example} + 2][math]",display:"VIEW[{mathExampleProperty} + 2][math]",inputField:"INPUT[number:globalMemory^MB_VF_math_example]"}],text:[{title:"Text",declaration:"VIEW[some text {globalMemory^MB_VF_text_example}][text]",display:"VIEW[some text {textExampleProperty}][text]",inputField:"INPUT[text:globalMemory^MB_VF_text_example]"},{title:"Markdown",declaration:"VIEW[**some markdown** {globalMemory^MB_VF_text_markdown_example}][text(renderMarkdown)]",display:"VIEW[**some markdown** {markdownExampleProperty}][text(renderMarkdown)]",inputField:"INPUT[text:globalMemory^MB_VF_text_markdown_example]"}],invalid:[]};function Pg(n){let e=[];for(let[t,r]of Object.entries(ND)){if(r==="")continue;let i=n.api.inputFieldParser.fromString(`INPUT[${r}]`),a=n.api.inputFieldParser.fromSimpleDeclaration({inputFieldType:void 0,templateName:void 0,bindTarget:void 0,arguments:[{name:"showcase",value:["true"]},{name:"title",value:[t]}]});i=n.api.inputFieldParser.merge(i,a),i.declarationString=`INPUT[${r}]`;let o=n.api.inputFieldParser.validate(i,"",void 0);e.push([t,o])}return e}function CD(n){let e=[];for(let[t,r]of Object.entries(ND)){if(r==="")continue;let i=t,a="";Ff[i].allowInline?a=`\`INPUT[${r}:exampleProperty]\``:a=`
\`\`\`meta-bind
INPUT[${r}:exampleProperty]
\`\`\`
`,e.push([i,a])}return e.sort((t,r)=>t[0].localeCompare(r[0])),e}function TD(n){let e=[];for(let t of Object.values($f))for(let r of t)e.push([r.title,`\`${r.display}\``]);return e.sort((t,r)=>t[0].localeCompare(r[0])),e}function ID(n,e,t){let r=CD(t),i=TD(t);n.addItem(a=>{a.setTitle("Meta Bind"),a.setIcon("blocks");let o=a.setSubmenu();o.addItem(u=>{u.setTitle("Input Field");let s=u.setSubmenu();for(let[l,c]of r)s.addItem(f=>{f.setTitle(l),f.onClick(()=>Hf(e,c))})}),o.addItem(u=>{u.setTitle("View Field");let s=u.setSubmenu();for(let[l,c]of i)s.addItem(f=>{f.setTitle(l),f.onClick(()=>Hf(e,c))})}),o.addItem(u=>{u.setTitle("Inline Button"),u.onClick(()=>{Hf(e,"`BUTTON[example-id]`")})}),o.addItem(u=>{u.setTitle("Button"),u.onClick(()=>{t.internal.openButtonBuilderModal({onOkay:s=>{Hf(e,`\`\`\`meta-bind-button
${(0,FD.stringifyYaml)(s)}
\`\`\``)},submitText:"Insert"})})})})}function Hf(n,e){n.replaceSelection(e)}var Gf=class{constructor(){this.activeMountables=new Map}unloadFile(e){for(let t of this.activeMountables.values())t.getFilePath()===e&&(console.debug(`meta-bind | MountableManager >> unregistered Mountable ${t.getUuid()}`),t.unmount())}unload(){for(let e of this.activeMountables.values())console.debug(`meta-bind | MountableManager >> unregistered Mountable ${e.getUuid()}`),e.unmount()}registerMountable(e){console.debug(`meta-bind | MountableManager >> registered Mountable ${e.getUuid()}`),this.activeMountables.set(e.getUuid(),e)}unregisterMountable(e){console.debug(`meta-bind | MountableManager >> unregistered Mountable ${e.getUuid()}`),this.activeMountables.delete(e.getUuid())}};var N5=require("obsidian");var jD=hr(Si());var Xr=hr(Si()),Wg=hr(ci());var UD=hr(Si()),ni=hr(ci());var rc=hr(Si()),Ai=hr(ci()),Ln=Ai.P.sequence(Ai.P.or(rc.P_UTILS.unicodeLetter(),Ai.P.oneOf("_$")),Ai.P.or(rc.P_UTILS.unicodeAlphanumeric(),Ai.P.oneOf("-_$")).many()).map(n=>n[0]+n[1].join("")).describe("identifier"),kD=Ai.P.sequenceMap((n,e)=>n+e.map(t=>t[0]+t[1]).join(""),Ln,Ai.P.sequence(rc.P_UTILS.optionalWhitespace(),Ln).many()).describe("identifier with spaces"),mz=Ai.P.string("\\").then(rc.P_UTILS.any()).map(n=>n==="'"?"'":n==="\\"?"\\":"\\"+n);function RD(n){return Ai.P.or(mz,Ai.P.noneOf(n+"\\")).many().map(e=>e.join("")).trim(Ai.P.string(n))}var tp=RD("'"),LD=RD('"'),Iu=Ai.P.manyNotOf("{}[]#^|:?").box("file path");function ri(n,e){return{value:n,position:e}}function Ei(n){if(n!==void 0)return typeof n=="string"?{value:n}:n}var Ps=(t=>(t.OBJECT="object",t.ARRAY="array",t))(Ps||{}),rp=class{constructor(e,t,r){this.parent=e,this.access=t,this.child=r}};function dz(n,e){return n[e]}function VD(n,e,t){n[e]=t}var Is=class{constructor(e,t){if(this.type=e,this.prop=e==="object"?t:"",this.index=e==="array"?Number(t):0,Number.isNaN(this.index))throw new Error("can not access array with non number index")}get(e){if(this.type==="object"){if(typeof e!="object"||e==null)throw new Error("can not access property of non-object");return new rp(e,this,dz(e,this.prop))}else{if(typeof e!="object"||e==null||!Array.isArray(e))throw new Error("can not access property of non-array");return new rp(e,this,e[this.index])}}set(e,t){if(this.type==="object"){if(typeof e!="object"||e==null)throw new Error("can not access property of non-object");VD(e,this.prop,t)}else{if(typeof e!="object"||e==null||!Array.isArray(e))throw new Error("can not access property of non-array");e[this.index]=t}}create(e){if(this.type==="object"){if(typeof e!="object"||e==null)throw new Error("can not access property of non-object");VD(e,this.prop,void 0)}else{if(typeof e!="object"||e==null||!Array.isArray(e))throw new Error("can not access property of non-array");e[this.index]=void 0}}};var qD=Ln.node((n,e)=>({type:"object",prop:ri(n,e)})),zg=ni.P.or(UD.P_UTILS.digits().wrap(ni.P.string("["),ni.P.string("]")).node((n,e)=>({type:"array",prop:ri(n,e)})),LD.wrap(ni.P.string("["),ni.P.string("]")).node((n,e)=>({type:"object",prop:ri(n,e)}))),hz=ni.P.or(ni.P.sequenceMap(n=>({storagePath:void 0,listenToChildren:!1,storageProp:n}),zg.atLeast(1)),ni.P.sequenceMap((n,e)=>({storagePath:void 0,listenToChildren:!1,storageProp:[n,...e]}),qD,zg.many())),gz=ni.P.sequenceMap((n,e)=>[n,...e],qD,zg.many()),$g=ni.P.sequenceMap((n,e)=>(n.storageProp=n.storageProp.concat(e.flat()),n),hz,ni.P.string(".").then(gz).many()),Ca=ni.P.sequenceMap((n,e,t)=>(t.storageType=n,t.storagePath=e,t),Ln.describe("storage type").node(ri).skip(ni.P.string("^").describe('storage type separator "^"')).optional(),Iu.describe("storage path").node(ri).skip(ni.P.string("#").describe('storage/file path separator "#"')).optional(),$g.describe("property path")).box("bind target");var Di=hr(Si()),vn=hr(ci());var Ta=hr(ci()),np=hr(Si());var Hg=Ta.P.regexp(/^[^()',]+/).describe("any character except parentheses, single quotation marks and commas"),vz=Ta.P.or(tp,Hg).node(ri),yz=Ta.P.separateBy(vz,Ta.P.string(",").describe('argument value separator ","').trim(np.P_UTILS.optionalWhitespace())),bz=Ta.P.sequenceMap((n,e)=>({name:n,value:e}),Ln.node(ri),yz.trim(np.P_UTILS.optionalWhitespace()).wrap(Ta.P.string("(").describe('argument value paren "("'),Ta.P.string(")").describe('argument value paren ")"')).optional([])),nc=Ta.P.separateBy(bz,Ta.P.string(",").describe('argument separator ","').trim(np.P_UTILS.optionalWhitespace()));var xz=vn.P.string("\\").then(Di.P_UTILS.any()).map(n=>n==="["?"[":n==="]"?"]":n==="{"?"{":n==="}"?"}":n==="\\"?"\\":"\\"+n),ip=vn.P.sequenceMap((n,e)=>n+e.flat().join(""),vn.P.manyNotOf("{}[]\\"),vn.P.sequence(xz,vn.P.manyNotOf("{}[]\\")).many()).box("View Field Content"),wz=vn.P.sequenceMap((n,e)=>[n,...e.flat()],ip,vn.P.sequence(Ca.wrapString("{","}"),ip).many()),_z=vn.P.sequenceMap((n,e,t)=>{let r=t===void 0?void 0:t[1];return{viewFieldType:n,writeToBindTarget:r,arguments:e,templateDeclaration:void 0}},Ln.node(ri).trim(Di.P_UTILS.optionalWhitespace()).optional().describe("input field type"),nc.trim(Di.P_UTILS.optionalWhitespace()).wrapString("(",")").trim(Di.P_UTILS.optionalWhitespace()).optional([]),vn.P.sequence(vn.P.string(":").trim(Di.P_UTILS.optionalWhitespace()),Ca).trim(Di.P_UTILS.optionalWhitespace()).optional()),zD=vn.P.sequenceMap((n,e,t,r)=>r===void 0?{viewFieldType:void 0,writeToBindTarget:void 0,arguments:[],templateDeclaration:e}:(r.templateDeclaration=e,r),vn.P.string("VIEW"),wz.wrapString("[","]"),Di.P_UTILS.optionalWhitespace(),_z.wrapString("[","]").optional(),Di.P_UTILS.eof()),Sz=vn.P.sequenceMap((n,e,t,r)=>(e!==void 0&&(n.listenToChildren=!0),{bindTarget:n,name:r}),Ca.wrapString("{","}"),vn.P.string(" and children").optional(),vn.P.string(" as "),Ln),$D=vn.P.sequenceMap((n,e,t)=>({bindTargetMappings:n,writeToBindTarget:e,code:t}),Sz.separateBy(Di.P_UTILS.whitespace()).skip(Di.P_UTILS.whitespace()),vn.P.string("save to ").then(Ca.wrapString("{","}")).skip(Di.P_UTILS.whitespace()).optional(),vn.P.string("---").then(Di.P_UTILS.remaining()));var Gg=hr(ci());var Pu=class{constructor(e,t){this.range=e,this.tokenClass=t}};var Tt=class n{static sequence(...e){return Gg.P.sequenceMap((...t)=>t.flat(2).filter(r=>r!==void 0),...e)}static separateBy(e,t){return n.sequence(e,n.sequence(t,e).many()).optional([])}static highlight(e,t){return e.node((r,i)=>[new Pu(i,t)])}static highlightStr(e,t){return n.highlight(Gg.P.string(e),t)}};var Yg=Tt.highlight(Ln,"ident"),ap=Tt.highlight(Ln,"keyword"),jg=Tt.highlightStr(",","control"),op=Tt.highlightStr("(","control"),sp=Tt.highlightStr(")","control"),Bu=Tt.highlightStr("[","control"),Ou=Tt.highlightStr("]","control"),Ez=Tt.highlight(tp,"string"),Dz=Tt.highlight(Hg,"ident"),Mz=Wg.P.or(Dz,Ez),Nz=Tt.separateBy(Mz,jg.trim(Xr.P_UTILS.optionalWhitespace())),Cz=Tt.sequence(ap,Tt.sequence(op,Nz.trim(Xr.P_UTILS.optionalWhitespace()),sp).optional()),Zg=Tt.separateBy(Cz,jg.trim(Xr.P_UTILS.optionalWhitespace())),ku=Tt.sequence(Tt.sequence(Yg,Tt.highlightStr("^","control")).optional(),Tt.sequence(Tt.highlight(Iu,"ident"),Tt.highlightStr("#","control")).optional(),Tt.highlight($g,"ident")),Tz=Tt.sequence(ap.trim(Xr.P_UTILS.optionalWhitespace()),Tt.sequence(op,Zg.trim(Xr.P_UTILS.optionalWhitespace()),sp).trim(Xr.P_UTILS.optionalWhitespace()).optional(),Tt.sequence(Tt.highlightStr(":","control").trim(Xr.P_UTILS.optionalWhitespace()),ku).trim(Xr.P_UTILS.optionalWhitespace()).optional()),Fz=Tt.sequence(ap.trim(Xr.P_UTILS.optionalWhitespace()).optional(),Tt.sequence(op,Zg.trim(Xr.P_UTILS.optionalWhitespace()),sp).trim(Xr.P_UTILS.optionalWhitespace()).optional(),Tt.sequence(Tt.highlightStr(":","control").trim(Xr.P_UTILS.optionalWhitespace()),ku).trim(Xr.P_UTILS.optionalWhitespace()).optional()),GD=Wg.P.or(Tt.sequence(Tt.highlightStr("INPUT","control"),Bu,Yg.trim(Xr.P_UTILS.optionalWhitespace()),Ou.skip(Xr.P_UTILS.optionalWhitespace()),Bu,Fz,Ou),Tt.sequence(Tt.highlightStr("INPUT","control"),Bu,Tz,Ou)),HD=Tt.highlight(ip,"ident"),Iz=Tt.sequence(Tt.highlightStr("{","string"),ku,Tt.highlightStr("}","string")),Pz=Tt.sequence(HD,Tt.sequence(Iz,HD).many()),Bz=Tt.sequence(ap.trim(Xr.P_UTILS.optionalWhitespace()).optional(),Tt.sequence(op,Zg.trim(Xr.P_UTILS.optionalWhitespace()).optional(),sp).trim(Xr.P_UTILS.optionalWhitespace()).optional(),Tt.sequence(Tt.highlightStr(":","control").trim(Xr.P_UTILS.optionalWhitespace()),ku).trim(Xr.P_UTILS.optionalWhitespace()).optional()),WD=Tt.sequence(Tt.highlightStr("VIEW","control"),Bu,Pz,Ou,Tt.sequence(Bu.skip(Xr.P_UTILS.optionalWhitespace()),Bz,Ou).optional()),YD=Tt.sequence(Tt.highlightStr("BUTTON","control"),Bu,Tt.separateBy(Yg,jg.trim(Xr.P_UTILS.optionalWhitespace())),Ou);var no=class{constructor(e,t,r){this.str=e,this.highlights=t.filter(i=>i.range.from.index!==i.range.to.index),this.parsingError=r}getHighlights(){if(this.parsingError===void 0)return this.highlights;let e;return this.str[this.parsingError.parseFailure.furthest.index]===`
`?e={index:this.parsingError.parseFailure.furthest.index+1,column:1,line:this.parsingError.parseFailure.furthest.line+1}:e={index:this.parsingError.parseFailure.furthest.index+1,column:this.parsingError.parseFailure.furthest.column+1,line:this.parsingError.parseFailure.furthest.line},[new Pu({from:this.parsingError.parseFailure.furthest,to:e},"error")]}};var up=class{constructor(e){this.plugin=e}highlightInputFieldDeclaration(e,t){return this.highlightWithParser(e,t,GD)}highlightViewFieldDeclaration(e,t){return this.highlightWithParser(e,t,WD)}highlightInlineButtonDeclaration(e,t){return this.highlightWithParser(e,t,YD)}highlight(e,t,r){if(t==="INPUT")return this.highlightInputFieldDeclaration(e,r);if(t==="VIEW")return this.highlightViewFieldDeclaration(e,r);if(t==="BUTTON_GROUP")return this.highlightInlineButtonDeclaration(e,r);throw new Error(`Unknown MDRCType ${t}`)}highlightBindTarget(e,t){return this.highlightWithParser(e,t,ku)}highlightWithParser(e,t,r){try{return t?new no(e,gn(r.trim(jD.P_UTILS.optionalWhitespace()).thenEof(),e)):new no(e,gn(r.thenEof(),e))}catch(i){return i instanceof Kl?new no(e,[],i):(console.error(i),new no(e,[]))}}};var on=(i=>(i.DEFAULT="default",i.PRIMARY="primary",i.DESTRUCTIVE="destructive",i.PLAIN="plain",i))(on||{}),io=(m=>(m.COMMAND="command",m.JS="js",m.OPEN="open",m.INPUT="input",m.SLEEP="sleep",m.TEMPLATER_CREATE_NOTE="templaterCreateNote",m.UPDATE_METADATA="updateMetadata",m.CREATE_NOTE="createNote",m.REPLACE_IN_NOTE="replaceInNote",m.REGEXP_REPLACE_IN_NOTE="regexpReplaceInNote",m.REPLACE_SELF="replaceSelf",m.INSERT_INTO_NOTE="insertIntoNote",m.INLINE_JS="inlineJS",m))(io||{});var ZD=hr(Si()),ii=hr(ci());var Oz=ii.P.sequence(Iu,ii.P.string("#").then(ii.P.manyNotOf("[]#|^:")).optional(),ii.P.string("|").then(ii.P.manyNotOf("[]")).optional()),Jg=ii.P.or(ii.P.sequenceMap((n,e)=>({isEmbed:n!==void 0,target:e[0],block:e[1],alias:e[2],internal:!0}),ii.P.string("!").optional(),Oz.wrapString("[[","]]")),ii.P.sequenceMap((n,e,t)=>{let r=!Nu(t);return{isEmbed:n!==void 0,target:t,block:void 0,alias:e,internal:r}},ii.P.string("!").optional(),ii.P.manyNotOf("[]").wrapString("[","]"),ii.P.manyNotOf("()").wrapString("(",")"))),kz=ii.P.separateBy(Jg,ii.P.string(",").trim(ZD.P_UTILS.optionalWhitespace())),sn=class n{static parseLink(e){return gn(Jg.thenEof(),e)}static parseLinkList(e){return gn(kz.thenEof(),e)}static isLink(e){return Jg.thenEof().tryParse(e).success}static urlToLink(e){return{isEmbed:!1,target:e.href,block:void 0,alias:e.hostname,internal:!1}}static parseLinkOrUrl(e){return Nu(e)?n.urlToLink(new URL(e)):n.parseLink(e)}static convertToLinkString(e){return n.isLink(e)?e:Nu(e)?`[${new URL(e).hostname}](${e})`:n.isLink(`[[${e}]]`)?`[[${e}]]`:""}};var ic=hr(Si()),Bo=hr(ci());var XD=Bo.P.sequenceMap((n,e)=>n===void 0?e:-e,Bo.P.string("-").optional(),Bo.P.or(Bo.P.sequenceMap((n,e,t)=>Number(n+e+t),ic.P_UTILS.digits(),Bo.P.string("."),ic.P_UTILS.digits()),ic.P_UTILS.digits().map(n=>Number(n)))).thenEof(),QD=Bo.P.sequenceMap((n,e)=>n===void 0?e:-e,Bo.P.string("-").optional(),ic.P_UTILS.digits().map(n=>Number(n))).thenEof();function Mi(n){if(n.toLowerCase()==="null")return null;if(n==="true")return!0;if(n==="false")return!1;{let e=XD.tryParse(n);return e.success?e.value:n}}function fa(n){return n===void 0||n===null?"":typeof n=="string"?n:typeof n=="boolean"?n?"true":"false":n.toString()}function Oo(n){return n===null||typeof n=="string"||typeof n=="boolean"||typeof n=="number"}function Hi(n){if(n!=null){if(Oo(n))return[n];if(typeof n=="object"&&Array.isArray(n))return n.filter(e=>Oo(e))}}function Ru(n){if(typeof n=="number")return n;if(typeof n=="string"){let e=XD.tryParse(n);if(e.success)return e.value}}function Fa(n){return Oo(n)?fa(n):void 0}function ko(n){return Oo(n)?n:void 0}function lp(n,e){return Array.isArray(n)?n.map(t=>Xg(t,e)).filter(t=>t!=="").join(", "):Xg(n,e)}function Xg(n,e){return n==null?e?"":"null":typeof n=="function"?"<function>":typeof n=="object"||Array.isArray(n)?JSON.stringify(n):n.toString()}function KD(n,e){return Array.isArray(n)?n.map(t=>JD(t,e)).filter(t=>t!==""):JD(n,e)}function JD(n,e){return typeof n=="string"?sn.isLink(n)?sn.parseLink(n):Nu(n)?sn.urlToLink(new URL(n)):n:Xg(n,e)}var cp=class{constructor(e){this.plugin=e}createDefaultButtonConfig(){return{label:"This is a button",icon:"",hidden:!1,class:"",tooltip:"",id:"",style:"default",actions:[]}}async runButtonAction(e,t,r,i){try{if(e.action)await this.plugin.api.buttonActionRunner.runAction(e,e.action,t,r,i);else if(e.actions)for(let a of e.actions)await this.plugin.api.buttonActionRunner.runAction(e,a,t,r,i);else console.warn("meta-bind | ButtonMDRC >> no action defined")}catch(a){console.warn("meta-bind | ButtonMDRC >> error while running action",a),this.plugin.internal.showNotice("meta-bind | Error while running button action. Check the console for details.")}}createDefaultAction(e){if(e==="command")return{type:"command",command:""};if(e==="open")return{type:"open",link:""};if(e==="js")return{type:"js",file:"",args:{}};if(e==="input")return{type:"input",str:""};if(e==="sleep")return{type:"sleep",ms:0};if(e==="templaterCreateNote")return{type:"templaterCreateNote",templateFile:"",folderPath:"/",fileName:"",openNote:!0};if(e==="updateMetadata")return{type:"updateMetadata",bindTarget:"",evaluate:!1,value:""};if(e==="createNote")return{type:"createNote",folderPath:"/",fileName:"Untitled",openNote:!0};if(e==="replaceInNote")return{type:"replaceInNote",fromLine:0,toLine:0,replacement:"Replacement text"};if(e==="replaceSelf")return{type:"replaceSelf",replacement:"Replacement text"};if(e==="regexpReplaceInNote")return{type:"regexpReplaceInNote",regexp:"([A-Z])\\w+",replacement:"Replacement text"};if(e==="insertIntoNote")return{type:"insertIntoNote",line:0,value:"Some text"};if(e==="inlineJS")return{type:"inlineJS",code:'console.log("Hello world")'};throw new Error(`Unknown button action type: ${e}`)}async runAction(e,t,r,i,a){if(t.type==="command"){await this.runCommandAction(t);return}else if(t.type==="js"){await this.runJSAction(e,t,r);return}else if(t.type==="open"){await this.runOpenAction(t,r);return}else if(t.type==="input"){await this.runInputAction(t);return}else if(t.type==="sleep"){await this.runSleepAction(t);return}else if(t.type==="templaterCreateNote"){await this.runTemplaterCreateNoteAction(t);return}else if(t.type==="updateMetadata"){await this.runUpdateMetadataAction(t,r);return}else if(t.type==="createNote"){await this.runCreateNoteAction(t);return}else if(t.type==="replaceInNote"){await this.runReplaceInNoteAction(t,r);return}else if(t.type==="replaceSelf"){await this.runReplaceSelfAction(t,r,i,a);return}else if(t.type==="regexpReplaceInNote"){await this.runRegexpReplaceInNotAction(t,r);return}else if(t.type==="insertIntoNote"){await this.runInsertIntoNoteAction(t,r);return}else if(t.type==="inlineJS"){await this.runInlineJsAction(e,t,r);return}throw new Error("Unknown button action type")}async runCommandAction(e){this.plugin.internal.executeCommandById(e.command)}async runJSAction(e,t,r){let i={buttonConfig:structuredClone(e),args:structuredClone(t.args)};(await this.plugin.internal.jsEngineRunFile(t.file,r,i))()}async runOpenAction(e,t){var i;let r=sn.parseLinkOrUrl(e.link);r.internal?this.plugin.internal.openFile(r.target,t,(i=e.newTab)!=null?i:!1):Vf(r.target)}async runInputAction(e){let t=document.activeElement;t&&t instanceof HTMLInputElement&&(t.setRangeText(e.str,t.selectionStart,t.selectionEnd,"end"),t.dispatchEvent(new Event("input",{bubbles:!0})))}async runSleepAction(e){await new Promise(t=>setTimeout(t,e.ms))}async runTemplaterCreateNoteAction(e){await this.plugin.internal.createNoteWithTemplater(e.templateFile,e.folderPath,e.fileName)}async runUpdateMetadataAction(e,t){let r=this.plugin.api.bindTargetParser.fromStringAndValidate(e.bindTarget,t);if(e.evaluate){let i=new Function("x",`return ${e.value};`);this.plugin.api.updateMetadata(r,i)}else this.plugin.api.setMetadata(r,Mi(e.value))}async runCreateNoteAction(e){var t,r;await this.plugin.internal.createFile((t=e.folderPath)!=null?t:"",e.fileName,"md",(r=e.openNote)!=null?r:!1)}async runReplaceInNoteAction(e,t){if(e.fromLine>e.toLine)throw new Error("From line cannot be greater than to line");let i=(await this.plugin.internal.readFilePath(t)).split(`
`);if(e.fromLine<0||e.toLine>i.length+1)throw new Error("Line numbers out of bounds");let a=e.templater?await this.plugin.internal.evaluateTemplaterTemplate(e.replacement,t):e.replacement;i=[...i.slice(0,e.fromLine-1),a,...i.slice(e.toLine)],await this.plugin.internal.writeFilePath(t,i.join(`
`))}async runReplaceSelfAction(e,t,r,i){if(r)throw new Error("Replace self action not supported for inline buttons");let a=i==null?void 0:i.getPosition();if(a===void 0)throw new Error("Position of the button in the note is unknown");if(a.lineStart>a.lineEnd)throw new Error("Position of the button in the note is invalid");let u=(await this.plugin.internal.readFilePath(t)).split(`
`);if(a.lineStart<0||a.lineEnd>u.length+1)throw new Error("Position of the button in the note is out of bounds");let s=e.templater?await this.plugin.internal.evaluateTemplaterTemplate(e.replacement,t):e.replacement;u=[...u.slice(0,a.lineStart),s,...u.slice(a.lineEnd+1)],await this.plugin.internal.writeFilePath(t,u.join(`
`))}async runRegexpReplaceInNotAction(e,t){if(e.regexp==="")throw new Error("Regexp cannot be empty");let r=await this.plugin.internal.readFilePath(t);r=r.replace(new RegExp(e.regexp,"g"),e.replacement),await this.plugin.internal.writeFilePath(t,r)}async runInsertIntoNoteAction(e,t){let i=(await this.plugin.internal.readFilePath(t)).split(`
`);if(e.line<1||e.line>i.length+1)throw new Error("Line number out of bounds");let a=e.templater?await this.plugin.internal.evaluateTemplaterTemplate(e.value,t):e.value;i=[...i.slice(0,e.line-1),a,...i.slice(e.line-1)],await this.plugin.internal.writeFilePath(t,i.join(`
`))}async runInlineJsAction(e,t,r){let i={buttonConfig:structuredClone(e)};(await this.plugin.internal.jsEngineRunCode(t.code,r,i))()}};var Vn=class{constructor(){this.mounted=!1,this.targetEl=void 0,this.onUnmountCbs=[]}isMounted(){return this.mounted}getTargetEl(){return this.targetEl}mount(e){if(this.mounted||this.targetEl)throw new Error("Mountable is already mounted");this.mounted=!0,this.targetEl=e,this.onMount(e)}unmount(){if(!this.mounted||!this.targetEl)throw new Error("Mountable is not mounted");this.mounted=!1,this.onUnmount(this.targetEl);for(let e of this.onUnmountCbs)e();this.targetEl=void 0}registerUnmountCb(e){this.onUnmountCbs.push(e)}};var mn=class extends Vn{constructor(e,t,r){super(),this.plugin=e,this.filePath=r,this.uuid=t}getUuid(){return this.uuid}getFilePath(){return this.filePath}onMount(e){this.plugin.mountableManager.registerMountable(this)}onUnmount(e){this.plugin.mountableManager.unregisterMountable(this)}};function je(){}function Rz(n,e){for(let t in e)n[t]=e[t];return n}function Qg(n){return n()}function mp(){return Object.create(null)}function Dt(n){n.forEach(Qg)}function Bs(n){return typeof n=="function"}function Pe(n,e){return n!=n?e==e:n!==e||n&&typeof n=="object"||typeof n=="function"}var pp;function Gi(n,e){return n===e?!0:(pp||(pp=document.createElement("a")),pp.href=e,n===pp.href)}function eM(n){return Object.keys(n).length===0}function pa(n,e,t,r){if(n){let i=tM(n,e,t,r);return n[0](i)}}function tM(n,e,t,r){return n[1]&&r?Rz(t.ctx.slice(),n[1](r(e))):t.ctx}function ma(n,e,t,r){if(n[2]&&r){let i=n[2](r(t));if(e.dirty===void 0)return i;if(typeof i=="object"){let a=[],o=Math.max(e.dirty.length,i.length);for(let u=0;u<o;u+=1)a[u]=e.dirty[u]|i[u];return a}return e.dirty|i}return e.dirty}function da(n,e,t,r,i,a){if(i){let o=tM(e,t,r,a);n.p(o,i)}}function ha(n){if(n.ctx.length>32){let e=[],t=n.ctx.length/32;for(let r=0;r<t;r++)e[r]=-1;return e}return-1}var ac=typeof window!="undefined"?window:typeof globalThis!="undefined"?globalThis:global;var dp=class n{constructor(e){an(this,"_listeners","WeakMap"in ac?new WeakMap:void 0);an(this,"_observer");an(this,"options");this.options=e}observe(e,t){return this._listeners.set(e,t),this._getObserver().observe(e,this.options),()=>{this._listeners.delete(e),this._observer.unobserve(e)}}_getObserver(){var e;return(e=this._observer)!=null?e:this._observer=new ResizeObserver(t=>{var r;for(let i of t)n.entries.set(i.target,i),(r=this._listeners.get(i.target))==null||r(i)})}};dp.entries="WeakMap"in ac?new WeakMap:void 0;var rM=!1;function nM(){rM=!0}function iM(){rM=!1}function Q(n,e){n.appendChild(e)}function Wi(n,e,t){let r=aM(n);if(!r.getElementById(e)){let i=K("style");i.id=e,i.textContent=t,Uz(r,i)}}function aM(n){if(!n)return document;let e=n.getRootNode?n.getRootNode():n.ownerDocument;return e&&e.host?e:n.ownerDocument}function Uz(n,e){return Q(n.head||n,e),e.sheet}function Z(n,e,t){n.insertBefore(e,t||null)}function j(n){n.parentNode&&n.parentNode.removeChild(n)}function Gt(n,e){for(let t=0;t<n.length;t+=1)n[t]&&n[t].d(e)}function K(n){return document.createElement(n)}function Ni(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function Ue(n){return document.createTextNode(n)}function le(){return Ue(" ")}function yr(){return Ue("")}function Ee(n,e,t,r){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}function q(n,e,t){t==null?n.removeAttribute(e):n.getAttribute(e)!==t&&n.setAttribute(e,t)}function Un(n){return n===""?null:+n}function oM(n){return Array.from(n.childNodes)}function mt(n,e){e=""+e,n.data!==e&&(n.data=e)}function $e(n,e){n.value=e==null?"":e}function ao(n,e,t,r){t==null?n.style.removeProperty(e):n.style.setProperty(e,t,r?"important":"")}function Ro(n,e,t){for(let r=0;r<n.options.length;r+=1){let i=n.options[r];if(i.__value===e){i.selected=!0;return}}(!t||e!==void 0)&&(n.selectedIndex=-1)}function oc(n){let e=n.querySelector(":checked");return e&&e.__value}function Ut(n,e,t){n.classList.toggle(e,!!t)}function hp(n,e,{bubbles:t=!1,cancelable:r=!1}={}){return new CustomEvent(n,{detail:e,bubbles:t,cancelable:r})}function sM(n){let e={};return n.childNodes.forEach(t=>{e[t.slot||"default"]=!0}),e}var Lo;function oo(n){Lo=n}function gp(){if(!Lo)throw new Error("Function called outside component initialization");return Lo}function Ci(n){gp().$$.on_mount.push(n)}function Os(n){gp().$$.on_destroy.push(n)}function ks(){let n=gp();return(e,t,{cancelable:r=!1}={})=>{let i=n.$$.callbacks[e];if(i){let a=hp(e,t,{cancelable:r});return i.slice().forEach(o=>{o.call(n,a)}),!a.defaultPrevented}return!0}}function uM(n,e){let t=n.$$.callbacks[e.type];t&&t.slice().forEach(r=>r.call(this,e))}var Rs=[];var Mr=[],Vu=[],ev=[],Wz=Promise.resolve(),tv=!1;function lM(){tv||(tv=!0,Wz.then(vp))}function Ia(n){Vu.push(n)}function qn(n){ev.push(n)}var Kg=new Set,Lu=0;function vp(){if(Lu!==0)return;let n=Lo;do{try{for(;Lu<Rs.length;){let e=Rs[Lu];Lu++,oo(e),Yz(e.$$)}}catch(e){throw Rs.length=0,Lu=0,e}for(oo(null),Rs.length=0,Lu=0;Mr.length;)Mr.pop()();for(let e=0;e<Vu.length;e+=1){let t=Vu[e];Kg.has(t)||(Kg.add(t),t())}Vu.length=0}while(Rs.length);for(;ev.length;)ev.pop()();tv=!1,Kg.clear(),oo(n)}function Yz(n){if(n.fragment!==null){n.update(),Dt(n.before_update);let e=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,e),n.after_update.forEach(Ia)}}function cM(n){let e=[],t=[];Vu.forEach(r=>n.indexOf(r)===-1?e.push(r):t.push(r)),t.forEach(r=>r()),Vu=e}var yp=new Set,Ls;function dt(){Ls={r:0,c:[],p:Ls}}function ht(){Ls.r||Dt(Ls.c),Ls=Ls.p}function Y(n,e){n&&n.i&&(yp.delete(n),n.i(e))}function te(n,e,t,r){if(n&&n.o){if(yp.has(n))return;yp.add(n),Ls.c.push(()=>{yp.delete(n),r&&(t&&n.d(1),r())}),n.o(e)}else r&&r()}function ot(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function fM(n,e){n.d(1),e.delete(n.key)}function bp(n,e){te(n,1,1,()=>{e.delete(n.key)})}function Uu(n,e,t,r,i,a,o,u,s,l,c,f){let p=n.length,m=a.length,h=p,d={};for(;h--;)d[n[h].key]=h;let v=[],y=new Map,_=new Map,b=[];for(h=m;h--;){let N=f(i,a,h),D=t(N),E=o.get(D);E?r&&b.push(()=>E.p(N,e)):(E=l(D,N),E.c()),y.set(D,v[h]=E),D in d&&_.set(D,Math.abs(h-d[D]))}let w=new Set,S=new Set;function x(N){Y(N,1),N.m(u,c),o.set(N.key,N),c=N.first,m--}for(;p&&m;){let N=v[m-1],D=n[p-1],E=N.key,M=D.key;N===D?(c=N.first,p--,m--):y.has(M)?!o.has(E)||w.has(E)?x(N):S.has(M)?p--:_.get(E)>_.get(M)?(S.add(E),x(N)):(w.add(M),p--):(s(D,o),p--)}for(;p--;){let N=n[p];y.has(N.key)||s(N,o)}for(;m;)x(v[m-1]);return Dt(b),v}var jz=["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"],Zz=new Set([...jz]);function zn(n,e,t){let r=n.$$.props[e];r!==void 0&&(n.$$.bound[r]=t,t(n.$$.ctx[r]))}function ge(n){n&&n.c()}function de(n,e,t){let{fragment:r,after_update:i}=n.$$;r&&r.m(e,t),Ia(()=>{let a=n.$$.on_mount.map(Qg).filter(Bs);n.$$.on_destroy?n.$$.on_destroy.push(...a):Dt(a),n.$$.on_mount=[]}),i.forEach(Ia)}function he(n,e){let t=n.$$;t.fragment!==null&&(cM(t.after_update),Dt(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function Xz(n,e){n.$$.dirty[0]===-1&&(Rs.push(n),lM(),n.$$.dirty.fill(0)),n.$$.dirty[e/31|0]|=1<<e%31}function Be(n,e,t,r,i,a,o=null,u=[-1]){let s=Lo;oo(n);let l=n.$$={fragment:null,ctx:[],props:a,update:je,not_equal:i,bound:mp(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(s?s.$$.context:[])),callbacks:mp(),dirty:u,skip_bound:!1,root:e.target||s.$$.root};o&&o(l.root);let c=!1;if(l.ctx=t?t(n,e.props||{},(f,p,...m)=>{let h=m.length?m[0]:p;return l.ctx&&i(l.ctx[f],l.ctx[f]=h)&&(!l.skip_bound&&l.bound[f]&&l.bound[f](h),c&&Xz(n,f)),p}):[],l.update(),c=!0,Dt(l.before_update),l.fragment=r?r(l.ctx):!1,e.target){if(e.hydrate){nM();let f=oM(e.target);l.fragment&&l.fragment.l(f),f.forEach(j)}else l.fragment&&l.fragment.c();e.intro&&Y(n.$$.fragment),de(n,e.target,e.anchor),iM(),vp()}oo(s)}var Qz;typeof HTMLElement=="function"&&(Qz=class extends HTMLElement{constructor(e,t,r){super();an(this,"$$ctor");an(this,"$$s");an(this,"$$c");an(this,"$$cn",!1);an(this,"$$d",{});an(this,"$$r",!1);an(this,"$$p_d",{});an(this,"$$l",{});an(this,"$$l_u",new Map);this.$$ctor=e,this.$$s=t,r&&this.attachShadow({mode:"open"})}addEventListener(e,t,r){if(this.$$l[e]=this.$$l[e]||[],this.$$l[e].push(t),this.$$c){let i=this.$$c.$on(e,t);this.$$l_u.set(t,i)}super.addEventListener(e,t,r)}removeEventListener(e,t,r){if(super.removeEventListener(e,t,r),this.$$c){let i=this.$$l_u.get(t);i&&(i(),this.$$l_u.delete(t))}}async connectedCallback(){if(this.$$cn=!0,!this.$$c){let e=function(a){return()=>{let o;return{c:function(){o=K("slot"),a!=="default"&&q(o,"name",a)},m:function(l,c){Z(l,o,c)},d:function(l){l&&j(o)}}}};if(await Promise.resolve(),!this.$$cn||this.$$c)return;let t={},r=sM(this);for(let a of this.$$s)a in r&&(t[a]=[e(a)]);for(let a of this.attributes){let o=this.$$g_p(a.name);o in this.$$d||(this.$$d[o]=rv(o,a.value,this.$$p_d,"toProp"))}for(let a in this.$$p_d)!(a in this.$$d)&&this[a]!==void 0&&(this.$$d[a]=this[a],delete this[a]);this.$$c=new this.$$ctor({target:this.shadowRoot||this,props:{...this.$$d,$$slots:t,$$scope:{ctx:[]}}});let i=()=>{this.$$r=!0;for(let a in this.$$p_d)if(this.$$d[a]=this.$$c.$$.ctx[this.$$c.$$.props[a]],this.$$p_d[a].reflect){let o=rv(a,this.$$d[a],this.$$p_d,"toAttribute");o==null?this.removeAttribute(this.$$p_d[a].attribute||a):this.setAttribute(this.$$p_d[a].attribute||a,o)}this.$$r=!1};this.$$c.$$.after_update.push(i),i();for(let a in this.$$l)for(let o of this.$$l[a]){let u=this.$$c.$on(a,o);this.$$l_u.set(o,u)}this.$$l={}}}attributeChangedCallback(e,t,r){var i;this.$$r||(e=this.$$g_p(e),this.$$d[e]=rv(e,r,this.$$p_d,"toProp"),(i=this.$$c)==null||i.$set({[e]:this.$$d[e]}))}disconnectedCallback(){this.$$cn=!1,Promise.resolve().then(()=>{this.$$cn||(this.$$c.$destroy(),this.$$c=void 0)})}$$g_p(e){return Object.keys(this.$$p_d).find(t=>this.$$p_d[t].attribute===e||!this.$$p_d[t].attribute&&t.toLowerCase()===e)||e}});function rv(n,e,t,r){var a;let i=(a=t[n])==null?void 0:a.type;if(e=i==="Boolean"&&typeof e!="boolean"?e!=null:e,!r||!t[n])return e;if(r==="toAttribute")switch(i){case"Object":case"Array":return e==null?null:JSON.stringify(e);case"Boolean":return e?"":null;case"Number":return e==null?null:e;default:return e}else switch(i){case"Object":case"Array":return e&&JSON.parse(e);case"Boolean":return e;case"Number":return e!=null?+e:e;default:return e}}var Te=class{constructor(){an(this,"$$");an(this,"$$set")}$destroy(){he(this,1),this.$destroy=je}$on(e,t){if(!Bs(t))return je;let r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(t),()=>{let i=r.indexOf(t);i!==-1&&r.splice(i,1)}}$set(e){this.$$set&&!eM(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}};var pM="4";typeof window!="undefined"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(pM);function sc(n,e,t,r){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function u(c){try{l(r.next(c))}catch(f){o(f)}}function s(c){try{l(r.throw(c))}catch(f){o(f)}}function l(c){c.done?a(c.value):i(c.value).then(u,s)}l((r=r.apply(n,e||[])).next())})}function mM(n){let e;return{c(){e=K("div"),q(e,"class","mb-icon-wrapper")},m(t,r){Z(t,e,r),n[3](e)},p:je,d(t){t&&j(e),n[3](null)}}}function Kz(n){let e,t=n[0].length>0&&mM(n);return{c(){t&&t.c(),e=yr()},m(r,i){t&&t.m(r,i),Z(r,e,i)},p(r,[i]){r[0].length>0?t?t.p(r,i):(t=mM(r),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:je,o:je,d(r){r&&j(e),t&&t.d(r)}}}function e$(n,e,t){let{iconName:r=""}=e,{plugin:i}=e,a;Ci(()=>{i.internal.setIcon(a,r)});function o(u){Mr[u?"unshift":"push"](()=>{a=u,t(1,a)})}return n.$$set=u=>{"iconName"in u&&t(0,r=u.iconName),"plugin"in u&&t(2,i=u.plugin)},[r,a,i,o]}var nv=class extends Te{constructor(e){super(),Be(this,e,e$,Kz,Pe,{iconName:0,plugin:2})}},Or=nv;function t$(n){Wi(n,"svelte-i3s6h2","button.svelte-i3s6h2{gap:var(--size-4-2)}.mod-plain.svelte-i3s6h2{background:none;box-shadow:none;border:none;color:var(--text-muted)}.mod-plain.svelte-i3s6h2:hover{color:var(--text-normal)}.disabled.svelte-i3s6h2{opacity:0.6}")}function dM(n){let e,t;return e=new Or({props:{plugin:n[1],iconName:n[5]}}),{c(){ge(e.$$.fragment)},m(r,i){de(e,r,i),t=!0},p(r,i){let a={};i&2&&(a.plugin=r[1]),i&32&&(a.iconName=r[5]),e.$set(a)},i(r){t||(Y(e.$$.fragment,r),t=!0)},o(r){te(e.$$.fragment,r),t=!1},d(r){he(e,r)}}}function r$(n){let e,t,r,i,a,o,u=n[5]&&dM(n);return{c(){e=K("button"),u&&u.c(),t=le(),r=Ue(n[4]),q(e,"class","mb-button-inner svelte-i3s6h2"),q(e,"aria-label",n[3]),e.disabled=n[0],Ut(e,"mod-cta",n[2]==="primary"),Ut(e,"mod-warning",n[2]==="destructive"),Ut(e,"mod-plain",n[2]==="plain"),Ut(e,"disabled",n[0]),Ut(e,"mb-error",n[6])},m(s,l){Z(s,e,l),u&&u.m(e,null),Q(e,t),Q(e,r),i=!0,a||(o=Ee(e,"click",n[9]),a=!0)},p(s,[l]){s[5]?u?(u.p(s,l),l&32&&Y(u,1)):(u=dM(s),u.c(),Y(u,1),u.m(e,t)):u&&(dt(),te(u,1,1,()=>{u=null}),ht()),(!i||l&16)&&mt(r,s[4]),(!i||l&8)&&q(e,"aria-label",s[3]),(!i||l&1)&&(e.disabled=s[0]),(!i||l&4)&&Ut(e,"mod-cta",s[2]==="primary"),(!i||l&4)&&Ut(e,"mod-warning",s[2]==="destructive"),(!i||l&4)&&Ut(e,"mod-plain",s[2]==="plain"),(!i||l&1)&&Ut(e,"disabled",s[0]),(!i||l&64)&&Ut(e,"mb-error",s[6])},i(s){i||(Y(u),i=!0)},o(s){te(u),i=!1},d(s){s&&j(e),u&&u.d(),a=!1,o()}}}function n$(n,e,t){let{plugin:r}=e,{variant:i="default"}=e,{disabled:a=!1}=e,{tooltip:o=""}=e,{label:u=""}=e,{icon:s=""}=e,{error:l=!1}=e,{onClick:c=()=>sc(void 0,void 0,void 0,function*(){})}=e;function f(){return sc(this,void 0,void 0,function*(){if(!a){t(0,a=!0);try{yield c()}catch(m){console.warn("failed to run button component on click",m)}finally{t(0,a=!1)}}})}let p=()=>f();return n.$$set=m=>{"plugin"in m&&t(1,r=m.plugin),"variant"in m&&t(2,i=m.variant),"disabled"in m&&t(0,a=m.disabled),"tooltip"in m&&t(3,o=m.tooltip),"label"in m&&t(4,u=m.label),"icon"in m&&t(5,s=m.icon),"error"in m&&t(6,l=m.error),"onClick"in m&&t(8,c=m.onClick)},[a,r,i,o,u,s,l,f,c,p]}var iv=class extends Te{constructor(e){super(),Be(this,e,n$,r$,Pe,{plugin:1,variant:2,disabled:0,tooltip:3,label:4,icon:5,error:6,onClick:8},t$)}},xp=iv;var Vo=class extends Vn{constructor(e,t,r,i,a,o){super(),this.plugin=e,this.config=t,this.filePath=r,this.inline=i==="inline",this.position=a,this.isPreview=o}onMount(e){lt.empty(e),lt.removeAllClasses(e),lt.addClasses(e,["mb-button",this.inline?"mb-button-inline":"mb-button-block"]),!(!this.inline&&!this.isPreview&&(this.config.id&&this.plugin.api.buttonManager.addButton(this.filePath,this.config),this.config.hidden))&&(this.config.class&&lt.addClasses(e,this.config.class.split(" ").filter(t=>t!=="")),this.buttonComponent=new xp({target:e,props:{plugin:this.plugin,icon:this.config.icon,variant:this.config.style,label:this.config.label,tooltip:yD(this.config.tooltip)?this.config.tooltip:this.config.label,onClick:async()=>{await this.plugin.api.buttonActionRunner.runButtonAction(this.config,this.filePath,this.inline,this.position)}}}))}onUnmount(){var e,t;(e=this.buttonComponent)==null||e.$destroy(),!this.inline&&!this.isPreview&&(t=this.config)!=null&&t.id&&this.plugin.api.buttonManager.removeButton(this.filePath,this.config.id)}};var Lt=class{constructor(e){this.subject=e,this.errors=[]}add(e){e instanceof Error?(e instanceof fn?this.errors.push(e):this.otherError=e,console.warn(e)):console.warn("[MB_ERROR_CONTAINER] received invalid error type",e)}merge(e){return this.errors=this.errors.concat(e.errors),e.otherError&&(this.otherError=e.otherError),this}hasErrors(){if(this.otherError)return!0;for(let e of this.errors)if(e.errorLevel==="ERROR"||e.errorLevel==="CRITICAL")return!0;return!1}hasCriticalErrors(){if(this.otherError)return!0;for(let e of this.errors)if(e.errorLevel==="CRITICAL")return!0;return!1}hasWarnings(){for(let e of this.errors)if(e.errorLevel==="WARNING")return!0;return!1}isEmpty(){return this.errors.length===0&&!this.otherError}getErrors(){let e=this.errors.filter(t=>t.errorLevel==="ERROR"||t.errorLevel==="CRITICAL");return this.otherError?e.concat([this.otherError]):e}getWarnings(){return this.errors.filter(e=>e.errorLevel==="WARNING")}};var wp=class extends mn{constructor(e,t,r,i,a,o){super(e,t,r),this.declaration=i,this.position=a,this.isPreview=o,this.errorCollection=new Lt(this.getUuid())}onMount(e){if(console.debug("meta-bind | ButtonMountable >> mount",this.declaration.declarationString),super.onMount(e),lt.removeAllClasses(e),!this.declaration.config||!this.declaration.errorCollection.isEmpty()){this.plugin.internal.createErrorIndicator(e,{errorCollection:this.declaration.errorCollection,errorText:"Errors caused the creation of the field to fail. Sometimes one error only occurs because of another.",warningText:"Warnings will not cause the creation of a field to fail, but they indicate that a part of the declaration was invalid or uses deprecated functionality.",code:this.declaration.declarationString});return}this.buttonField=new Vo(this.plugin,this.declaration.config,this.getFilePath(),"block",this.position,this.isPreview),this.buttonField.mount(e)}onUnmount(e){var t;console.debug("meta-bind | ButtonMountable >> destroy",this.declaration.declarationString),super.onUnmount(e),(t=this.buttonField)==null||t.unmount(),kn(e,"button")}};var _p=class{constructor(e){this.value=e,this.count=1}getValue(){return this.value}increment(){return this.count+=1,this.count}decrement(){return this.count-=1,this.count}getCount(){return this.count}isEmpty(){return this.count===0}};var Sp=class{constructor(e){this.plugin=e,this.buttons=new Map,this.buttonLoadListeners=new Map,this.buttonTemplates=new Map}setButtonTemplates(e){let t=new Set,r=new Lt("ButtonManager");this.buttonTemplates.clear();for(let i of e)i.id===void 0||i.id===""?r.add(new ro({errorLevel:"ERROR",cause:`Button with label "${i.label}" has no id, but button templates must have an id.`,effect:"Button templates could not be saved."})):t.has(i.id)?r.add(new ro({errorLevel:"ERROR",cause:`Button id "${i.id}" is not unique. The same id is used by multiple buttons.`,effect:"Button templates could not be saved."})):(t.add(i.id),this.buttonTemplates.set(i.id,i));return r.hasErrors()&&this.buttonTemplates.clear(),r}registerButtonLoadListener(e,t,r){let i=this.getButton(e,t);i&&r(i),this.buttonLoadListeners.has(e)||this.buttonLoadListeners.set(e,new Map);let a=this.buttonLoadListeners.get(e);a.has(t)||a.set(t,new Map);let o=a.get(t),u=Dr();return o.set(u,r),()=>this.removeButtonLoadListener(e,t,u)}notifyButtonLoadListeners(e,t){let r=this.getButton(e,t);if(!r)throw new Error(`ButtonManager | button with id ${t} does not exist`);let i=this.buttonLoadListeners.get(e);if(!i)return;let a=i.get(t);if(a)for(let[o,u]of a)u(r)}removeButtonLoadListener(e,t,r){let i=this.buttonLoadListeners.get(e);if(!i)return;let a=i.get(t);a&&(a.delete(r),a.size===0&&i.delete(t),i.size===0&&this.buttonLoadListeners.delete(e))}addButton(e,t){if(t.id===void 0||t.id==="")throw new Error("ButtonManager | button id is undefined");if(this.buttonTemplates.has(t.id))throw new Error(`ButtonManager | button with id "${t.id}" already exists in the button templates`);this.buttons.has(e)||this.buttons.set(e,new Map),this.buttons.get(e).set(t.id,new _p(t)),this.notifyButtonLoadListeners(e,t.id)}getButton(e,t){var i;if(this.buttonTemplates.has(t))return this.buttonTemplates.get(t);let r=this.buttons.get(e);if(r)return(i=r.get(t))==null?void 0:i.getValue()}removeButton(e,t){var i,a;let r=this.buttons.get(e);r&&((i=r.get(t))==null||i.decrement(),(a=r.get(t))!=null&&a.isEmpty()&&r.delete(t),r.size===0&&this.buttons.delete(e))}};var Ap=class extends Vn{constructor(e,t,r,i,a){super(),this.plugin=e,this.referencedIds=t,this.filePath=r,this.renderChildType=i,this.notePosition=a}renderInitialButton(e,t){return lt.removeAllClasses(e),lt.addClasses(e,["mb-button",this.renderChildType==="inline"?"mb-button-inline":"mb-button-block"]),new xp({target:e,props:{plugin:this.plugin,variant:"default",label:"Button ID not Found",tooltip:`No button with id '${t}' found`,error:!0,onClick:async()=>{}}})}onMount(e){lt.empty(e),lt.addClasses(e,["mb-button-group",this.renderChildType==="inline"?"mb-button-group-inline":"mb-button-group-block"]);for(let t of this.referencedIds){let r=lt.createElement(e,"span"),i=this.renderInitialButton(r,t),a,o=this.plugin.api.buttonManager.registerButtonLoadListener(this.filePath,t,u=>{i==null||i.$destroy(),a=new Vo(this.plugin,u,this.filePath,this.renderChildType,this.notePosition,!1),a.mount(r)});this.registerUnmountCb(()=>{i==null||i.$destroy(),a==null||a.unmount(),o()})}}onUnmount(e){lt.empty(e)}};var Ep=class extends mn{constructor(e,t,r,i,a,o){super(e,t,r),this.declaration=i,this.errorCollection=new Lt(this.getUuid()),this.errorCollection.merge(i.errorCollection),this.renderChildType=a,this.position=o}onMount(e){if(console.debug("meta-bind | ButtonGroupMountable >> mount",this.declaration),super.onMount(e),lt.removeAllClasses(e),!this.declaration.errorCollection.isEmpty()){this.plugin.internal.createErrorIndicator(e,{errorCollection:this.declaration.errorCollection,errorText:"Errors caused the creation of the field to fail. Sometimes one error only occurs because of another.",warningText:"Warnings will not cause the creation of a field to fail, but they indicate that a part of the declaration was invalid or uses deprecated functionality.",code:this.declaration.declarationString});return}this.buttonField=new Ap(this.plugin,this.declaration.referencedButtonIds,this.getFilePath(),this.renderChildType,this.position),this.buttonField.mount(e)}onUnmount(e){var t;console.debug("meta-bind | ButtonGroupMountable >> destroy",this.declaration),super.onUnmount(e),(t=this.buttonField)==null||t.unmount(),kn(e,"inline button")}};var Ot=class{static linkToInputField(e){return`https://www.moritzjung.dev/obsidian-meta-bind-plugin-docs/reference/inputfields/${e.toLowerCase()}/`}static linkToInputFieldArgument(e){return`https://www.moritzjung.dev/obsidian-meta-bind-plugin-docs/reference/inputfieldarguments/${e.toLowerCase()}/`}static linkToViewField(e){return`https://www.moritzjung.dev/obsidian-meta-bind-plugin-docs/reference/viewfields/${e.toLowerCase()}/`}static linkToViewFieldArgument(e){return`https://www.moritzjung.dev/obsidian-meta-bind-plugin-docs/reference/viewfieldarguments/${e.toLowerCase()}/`}static linkToInputFields(){return"https://www.moritzjung.dev/obsidian-meta-bind-plugin-docs/guides/inputfields/"}static linkToViewFields(){return"https://www.moritzjung.dev/obsidian-meta-bind-plugin-docs/guides/viewfields/"}static linkToButtons(){return"https://www.moritzjung.dev/obsidian-meta-bind-plugin-docs/guides/buttons/#button-configuration"}static linkToButtonConfig(){return"https://www.moritzjung.dev/obsidian-meta-bind-plugin-docs/guides/buttons/#button-configuration"}static linkToSearch(e){return`https://www.moritzjung.dev/obsidian-meta-bind-plugin-docs/?s=${encodeURIComponent(e)}`}static linkToHome(){return"https://www.moritzjung.dev/obsidian-meta-bind-plugin-docs/"}static linkToGithub(){return"https://github.com/mProjectsCode/obsidian-meta-bind-plugin"}static linkToIssues(){return"https://github.com/mProjectsCode/obsidian-meta-bind-plugin/issues"}static linkToCanaryBuilds(){return"https://www.moritzjung.dev/obsidian-meta-bind-plugin-docs/guides/installation/#canary-builds"}static open(e){Vf(e)}};var qu=class extends mn{constructor(e,t,r,i,a){super(e,t,r),this.renderChildType=i,this.declaration=a,this.declarationString=a.declarationString,this.errorCollection=new Lt(this.getUuid()),this.errorCollection.merge(a.errorCollection)}hasArgument(e){return this.getArguments(e).length>0}getArgument(e){return this.getArguments(e).at(0)}getArguments(e){if(this.declaration.errorCollection.hasErrors())throw new Bt({errorLevel:"CRITICAL",effect:"can not retrieve arguments",cause:"inputFieldDeclaration has errors"});return this.declaration.argumentContainer.getAll(e)}getBindTarget(){return this.declaration.bindTarget}shouldAddCardContainer(){let e=this.declaration.inputFieldType==="select"||this.declaration.inputFieldType==="multiSelect"||this.declaration.inputFieldType==="list",t=this.hasArgument("showcase")||this.hasArgument("title");return this.renderChildType==="block"&&(e||t)}createContainer(e){if(this.shouldAddCardContainer()){let t=lt.createElement(e,"div");lt.addClass(t,"mb-card");let r=this.getArgument("title");return r&&lt.createElement(t,"h3",{text:r.value}),t}return e}addShowcase(e){if(this.getArgument("showcase")&&this.shouldAddCardContainer()){let r=lt.createElement(e,"code",{class:"mb-none"}),i=lt.createElement(r,"a",{text:this.declarationString,class:"mb-no-link"});i.href=Ot.linkToInputField(this.declaration.inputFieldType)}}createInputField(){if(!this.errorCollection.hasErrors())try{this.inputField=this.plugin.api.inputFieldFactory.createInputField(this)}catch(e){this.errorCollection.add(e)}!this.errorCollection.hasErrors()&&!this.inputField&&this.errorCollection.add(new Bt({errorLevel:"CRITICAL",effect:"can't render input field",cause:"input field is undefined"}))}createErrorIndicator(e){this.plugin.internal.createErrorIndicator(e,{errorCollection:this.errorCollection,errorText:"Errors caused the creation of the field to fail. Sometimes one error only occurs because of another.",warningText:"Warnings will not cause the creation of a field to fail, but they indicate that a part of the declaration was invalid or uses deprecated functionality.",code:this.declarationString})}onMount(e){var a;if(console.debug("meta-bind | InputFieldMountable >> mount",this.declaration),super.onMount(e),lt.empty(e),lt.addClass(e,"mb-input"),this.createInputField(),this.errorCollection.hasErrors()){this.createErrorIndicator(e);return}let t=this.createContainer(e);this.createErrorIndicator(t);let r=lt.createElement(t,"div",{class:"mb-input-wrapper"});(a=this.inputField)==null||a.mount(r);let i=this.getArguments("class");for(let o of i)lt.addClasses(r,o.value);lt.addClass(r,`mb-input-type-${this.declaration.inputFieldType}`),this.renderChildType==="block"?lt.addClass(e,"mb-input-block"):lt.addClass(e,"mb-input-inline"),this.addShowcase(t)}onUnmount(e){var t;console.debug("meta-bind | InputFieldMountable >> unmount",this.declaration),super.onUnmount(e),(t=this.inputField)==null||t.destroy(),kn(e,"input field")}};var zu=class{constructor(){this.listeners=[]}registerListener(e){let t=e;return t.uuid=Dr(),this.listeners.push(t),t}unregisterListener(e){this.unregisterListenerById(e.uuid)}unregisterListenerById(e){this.listeners=this.listeners.filter(t=>t.uuid!==e)}unregisterAllListeners(){this.listeners=[]}notifyListeners(e){for(let t of this.listeners)try{t.callback(e)}catch(r){let i=r instanceof Error?r:String(r);console.error(new Bt({errorLevel:"ERROR",effect:"error while calling listener callback",cause:i}))}}},Ir=class extends zu{constructor(e){super(),this.value=e}get(){return this.value}set(e){this.value=e,this.notifyListeners(e)}},Dp=class extends zu{constructor(e,t){super(),this.dependency=e,this.value=t(e.get()),this.dependencyListener=e.registerListener({callback:r=>this.set(t(r))})}get(){return this.value}set(e){this.value=e,this.notifyListeners(e)}destroy(){this.dependency.unregisterListener(this.dependencyListener)}};var Mp=class extends zu{constructor(e,t){super(),this.plugin=e,this.mounted=!1,this.svelteComponent=t}setValue(e){var t;(t=this.svelteComponentInstance)==null||t.setValue(e)}mount(e,t,r={}){let i=Object.assign({plugin:this.plugin,value:t,onValueChange:a=>{this.notifyListeners(a)}},r);this.svelteComponentInstance=new this.svelteComponent({target:e,props:i}),this.mounted=!0}unmount(){var e;this.unregisterAllListeners(),(e=this.svelteComponentInstance)==null||e.$destroy(),this.mounted=!1}isMounted(){return this.mounted}};var jt=class extends Vn{constructor(e){super(),this.mountable=e,this.plugin=e.plugin,this.inputSignal=new Ir(void 0),this.inputFieldComponent=new Mp(this.plugin,this.getSvelteComponent()),this.computedSignal=new Dp(this.inputSignal,t=>{let r=this.filterValue(t);return r!==void 0?r:this.getDefaultValue()})}destroy(){this.inputFieldComponent.isMounted()&&this.unmount()}reverseMapValue(e){let t=this.rawReverseMapValue(e);if(t!==void 0)return t;let r=this.rawReverseMapValue(this.getDefaultValue());return r!==void 0?r:this.getFallbackDefaultValue()}mapValue(e){return this.rawMapValue(e)}getValue(){return this.computedSignal.get()}getInternalValue(){return this.reverseMapValue(this.getValue())}setValue(e){this.computedSignal.set(e),this.notifySubscription(e)}setInternalValue(e){this.setValue(this.mapValue(e))}notifySubscription(e){var t;(t=this.metadataSubscription)==null||t.update(e)}getDefaultValue(){let e=this.mountable.getArgument("defaultValue");if(e===void 0)return this.mapValue(this.getFallbackDefaultValue());let t=this.filterValue(e.value);return t!==void 0?t:this.mapValue(this.getFallbackDefaultValue())}getMountArgs(){return{}}onMount(e){this.inputSignal.set(this.inputSignal.get()),this.computedSignal.registerListener({callback:r=>this.inputFieldComponent.setValue(this.reverseMapValue(r))});let t=this.mountable.getBindTarget();t&&(this.inputFieldComponent.registerListener({callback:r=>{this.notifySubscription(this.mapValue(r))}}),this.metadataSubscription=this.mountable.plugin.metadataManager.subscribe(this.mountable.getUuid(),this.inputSignal,t,()=>this.mountable.unmount())),this.inputFieldComponent.mount(e,this.reverseMapValue(this.getValue()),this.getMountArgs())}onUnmount(){var e;this.computedSignal.unregisterAllListeners(),(e=this.metadataSubscription)==null||e.unsubscribe(),this.inputFieldComponent.unmount()}};function i$(n){let e,t,r;return{c(){e=K("input"),q(e,"type","date")},m(i,a){Z(i,e,a),$e(e,n[0]),t||(r=[Ee(e,"input",n[3]),Ee(e,"input",n[4])],t=!0)},p(i,[a]){a&1&&$e(e,i[0])},i:je,o:je,d(i){i&&j(e),t=!1,Dt(r)}}}function a$(n,e,t){let{value:r}=e,{onValueChange:i}=e;function a(s){t(0,r=s)}function o(){r=this.value,t(0,r)}let u=()=>i(r);return n.$$set=s=>{"value"in s&&t(0,r=s.value),"onValueChange"in s&&t(1,i=s.onValueChange)},[r,i,a,o,u]}var av=class extends Te{constructor(e){super(),Be(this,e,a$,i$,Pe,{value:0,onValueChange:1,setValue:2})}get setValue(){return this.$$.ctx[2]}},hM=av;var Np=class extends jt{filterValue(e){return Fa(e)}getFallbackDefaultValue(){return Rn.stringify(Rn.getDefaultDate())}getSvelteComponent(){return hM}rawMapValue(e){return e}rawReverseMapValue(e){return e}};function o$(n){let e,t,r=(n[0]?n[0].format(n[2]):"none")+"",i,a,o,u,s,l;return o=new Or({props:{plugin:n[1],iconName:"calendar"}}),{c(){e=K("div"),t=K("span"),i=Ue(r),a=le(),ge(o.$$.fragment),q(t,"class","date-picker-text"),q(e,"class","date-picker-input"),q(e,"role","button"),q(e,"tabindex","0")},m(c,f){Z(c,e,f),Q(e,t),Q(t,i),Q(e,a),de(o,e,null),u=!0,s||(l=[Ee(e,"click",n[3]),Ee(e,"keydown",n[4])],s=!0)},p(c,[f]){(!u||f&5)&&r!==(r=(c[0]?c[0].format(c[2]):"none")+"")&&mt(i,r);let p={};f&2&&(p.plugin=c[1]),o.$set(p)},i(c){u||(Y(o.$$.fragment,c),u=!0)},o(c){te(o.$$.fragment,c),u=!1},d(c){c&&j(e),he(o),s=!1,Dt(l)}}}function s$(n,e,t){let{plugin:r}=e,{value:i}=e,{dateFormat:a}=e,{showDatePicker:o}=e,{onValueChange:u}=e;function s(f){t(0,i=f)}function l(f){o()}function c(f){f.key===" "&&o()}return n.$$set=f=>{"plugin"in f&&t(1,r=f.plugin),"value"in f&&t(0,i=f.value),"dateFormat"in f&&t(2,a=f.dateFormat),"showDatePicker"in f&&t(5,o=f.showDatePicker),"onValueChange"in f&&t(6,u=f.onValueChange)},[i,r,a,l,c,o,u,s]}var ov=class extends Te{constructor(e){super(),Be(this,e,s$,o$,Pe,{plugin:1,value:0,dateFormat:2,showDatePicker:5,onValueChange:6,setValue:7})}get setValue(){return this.$$.ctx[7]}},gM=ov;var Cp=class extends jt{constructor(e){super(e),this.options=this.mountable.getArguments("option")}filterValue(e){if(e===null)return null;if(e===void 0||typeof e!="string")return;let t=Rn.parse(e);if(t.isValid())return Rn.stringify(t)}getFallbackDefaultValue(){return Rn.getDefaultDate()}getSvelteComponent(){return gM}rawMapValue(e){return e===null?null:Rn.stringify(e)}rawReverseMapValue(e){if(e===null)return null;let t=Rn.parse(e);if(t.isValid())return t}getMountArgs(){return{dateFormat:this.mountable.plugin.settings.preferredDateFormat,showDatePicker:()=>{this.mountable.plugin.internal.openDatePickerModal(this)}}}};function u$(n){Wi(n,"svelte-1tfnqy0",".editor-input.svelte-1tfnqy0.svelte-1tfnqy0{background:var(--background-secondary);width:100%;height:500px;padding:0;position:relative;margin-left:0;overflow:scroll}.editor-input.svelte-1tfnqy0>textarea.svelte-1tfnqy0{background:var(--background-secondary);border:none;padding:var(--size-4-4) var(--size-4-8);margin:0;position:absolute;inset:0;resize:none;border-radius:0}.editor-input.svelte-1tfnqy0>div.svelte-1tfnqy0{padding:var(--size-4-4) var(--size-4-8);position:absolute;inset:0}")}function l$(n){let e,t,r,i,a,o;return{c(){e=K("div"),t=K("textarea"),r=le(),i=K("div"),q(t,"class","svelte-1tfnqy0"),q(i,"class","svelte-1tfnqy0"),q(e,"class","editor-input card svelte-1tfnqy0"),q(e,"role","button"),q(e,"tabindex","0")},m(u,s){Z(u,e,s),Q(e,t),n[10](t),$e(t,n[0]),Q(e,r),Q(e,i),n[14](i),a||(o=[Ee(t,"input",n[11]),Ee(t,"focusout",n[12]),Ee(t,"input",n[13]),Ee(e,"click",n[15]),Ee(e,"keypress",n[16])],a=!0)},p(u,[s]){s&1&&$e(t,u[0])},i:je,o:je,d(u){u&&j(e),n[10](null),n[14](null),a=!1,Dt(o)}}}function c$(n,e,t){let{plugin:r}=e,{value:i}=e,{onValueChange:a}=e,{render:o}=e,u,s;Ci(()=>{t(2,u.style.display="block",u),t(3,s.style.display="none",s),o(u,i)});function l(w){t(0,i=w),o(u,w)}function c(){t(2,u.style.display="block",u),t(3,s.style.display="none",s),o(u,i)}function f(){t(2,u.style.display="none",u),t(3,s.style.display="block",s),s.focus()}function p(w){w.key===" "&&f()}function m(w){Mr[w?"unshift":"push"](()=>{s=w,t(3,s)})}function h(){i=this.value,t(0,i)}let d=()=>c(),v=()=>a(i);function y(w){Mr[w?"unshift":"push"](()=>{u=w,t(2,u)})}let _=()=>f(),b=w=>p(w);return n.$$set=w=>{"plugin"in w&&t(7,r=w.plugin),"value"in w&&t(0,i=w.value),"onValueChange"in w&&t(1,a=w.onValueChange),"render"in w&&t(8,o=w.render)},[i,a,u,s,c,f,p,r,o,l,m,h,d,v,y,_,b]}var sv=class extends Te{constructor(e){super(),Be(this,e,c$,l$,Pe,{plugin:7,value:0,onValueChange:1,render:8,setValue:9},u$)}get setValue(){return this.$$.ctx[9]}},vM=sv;var Tp=class extends jt{filterValue(e){return Oo(e)?e==null?void 0:e.toString():void 0}getFallbackDefaultValue(){return""}getSvelteComponent(){return vM}rawReverseMapValue(e){return e}rawMapValue(e){return e}getMountArgs(){return{render:(e,t)=>void this.renderInElement(e,t)}}async renderInElement(e,t){var r;(r=this.mdUnloadCallback)==null||r.call(this),e.innerHTML="",this.mdUnloadCallback=await this.mountable.plugin.internal.renderMarkdown(t,e,this.mountable.getFilePath())}onUnmount(){var e;super.onUnmount(),(e=this.mdUnloadCallback)==null||e.call(this)}};function f$(n){Wi(n,"svelte-12xcpmj","button.svelte-12xcpmj{gap:var(--size-4-1)}.mod-plain.svelte-12xcpmj{background:none;box-shadow:none;border:none;color:var(--text-muted)}.mod-plain.svelte-12xcpmj:hover{color:var(--text-normal)}.disabled.svelte-12xcpmj{opacity:0.6}")}function p$(n){let e,t,r,i,a=n[4].default,o=pa(a,n,n[3],null);return{c(){e=K("button"),o&&o.c(),q(e,"aria-label",n[2]),e.disabled=n[1],q(e,"class","svelte-12xcpmj"),Ut(e,"mod-cta",n[0]==="primary"),Ut(e,"mod-warning",n[0]==="destructive"),Ut(e,"mod-plain",n[0]==="plain"),Ut(e,"disabled",n[1])},m(u,s){Z(u,e,s),o&&o.m(e,null),t=!0,r||(i=Ee(e,"click",n[5]),r=!0)},p(u,[s]){o&&o.p&&(!t||s&8)&&da(o,a,u,u[3],t?ma(a,u[3],s,null):ha(u[3]),null),(!t||s&4)&&q(e,"aria-label",u[2]),(!t||s&2)&&(e.disabled=u[1]),(!t||s&1)&&Ut(e,"mod-cta",u[0]==="primary"),(!t||s&1)&&Ut(e,"mod-warning",u[0]==="destructive"),(!t||s&1)&&Ut(e,"mod-plain",u[0]==="plain"),(!t||s&2)&&Ut(e,"disabled",u[1])},i(u){t||(Y(o,u),t=!0)},o(u){te(o,u),t=!1},d(u){u&&j(e),o&&o.d(u),r=!1,i()}}}function m$(n,e,t){let{$$slots:r={},$$scope:i}=e,{variant:a="default"}=e,{disabled:o=!1}=e,{tooltip:u=""}=e;function s(l){uM.call(this,n,l)}return n.$$set=l=>{"variant"in l&&t(0,a=l.variant),"disabled"in l&&t(1,o=l.disabled),"tooltip"in l&&t(2,u=l.tooltip),"$$scope"in l&&t(3,i=l.$$scope)},[a,o,u,i,r,s]}var uv=class extends Te{constructor(e){super(),Be(this,e,m$,p$,Pe,{variant:0,disabled:1,tooltip:2},f$)}},Mt=uv;function yM(n){let e,t;return{c(){e=K("img"),q(e,"class","mb-image-card-image"),Gi(e.src,t=n[1].internal.imagePathToUri(n[0]))||q(e,"src",t),q(e,"alt",n[0])},m(r,i){Z(r,e,i)},p(r,i){i&3&&!Gi(e.src,t=r[1].internal.imagePathToUri(r[0]))&&q(e,"src",t),i&1&&q(e,"alt",r[0])},d(r){r&&j(e)}}}function d$(n){let e,t;return e=new Or({props:{iconName:"pencil",plugin:n[1]}}),{c(){ge(e.$$.fragment)},m(r,i){de(e,r,i),t=!0},p(r,i){let a={};i&2&&(a.plugin=r[1]),e.$set(a)},i(r){t||(Y(e.$$.fragment,r),t=!0)},o(r){te(e.$$.fragment,r),t=!1},d(r){he(e,r)}}}function h$(n){let e,t,r,i,a=(n[0]||"no image selected")+"",o,u,s,l,c=n[0]&&yM(n);return s=new Mt({props:{variant:"plain",$$slots:{default:[d$]},$$scope:{ctx:n}}}),s.$on("click",n[2]),{c(){e=K("div"),c&&c.c(),t=le(),r=K("div"),i=K("span"),o=Ue(a),u=le(),ge(s.$$.fragment),q(r,"class","mb-image-card-footer"),q(e,"class","mb-image-card")},m(f,p){Z(f,e,p),c&&c.m(e,null),Q(e,t),Q(e,r),Q(r,i),Q(i,o),Q(r,u),de(s,r,null),l=!0},p(f,[p]){f[0]?c?c.p(f,p):(c=yM(f),c.c(),c.m(e,t)):c&&(c.d(1),c=null),(!l||p&1)&&a!==(a=(f[0]||"no image selected")+"")&&mt(o,a);let m={};p&66&&(m.$$scope={dirty:p,ctx:f}),s.$set(m)},i(f){l||(Y(s.$$.fragment,f),l=!0)},o(f){te(s.$$.fragment,f),l=!1},d(f){f&&j(e),c&&c.d(),he(s)}}}function g$(n,e,t){let{plugin:r}=e,{value:i}=e,{showSuggester:a}=e,{onValueChange:o}=e;function u(l){t(0,i=l)}function s(l){a()}return n.$$set=l=>{"plugin"in l&&t(1,r=l.plugin),"value"in l&&t(0,i=l.value),"showSuggester"in l&&t(3,a=l.showSuggester),"onValueChange"in l&&t(4,o=l.onValueChange)},[i,r,s,a,o,u]}var lv=class extends Te{constructor(e){super(),Be(this,e,g$,h$,Pe,{plugin:1,value:0,showSuggester:3,onValueChange:4,setValue:5})}get setValue(){return this.$$.ctx[5]}},bM=lv;var Fp=class extends jt{filterValue(e){return Oo(e)?e:void 0}getFallbackDefaultValue(){return""}getSvelteComponent(){return bM}rawMapValue(e){return e}rawReverseMapValue(e){return fa(e)}getMountArgs(){return{showSuggester:()=>this.openModal()}}openModal(){this.mountable.plugin.internal.openImageSuggesterModal(this,e=>this.setInternalValue(e))}};function v$(n){let e,t;return{c(){e=K("a"),t=Ue(n[2]),q(e,"data-href",n[2]),q(e,"href",n[2]),q(e,"class",n[1]),q(e,"target","_blank"),q(e,"rel","noopener")},m(r,i){Z(r,e,i),Q(e,t)},p(r,i){i&4&&mt(t,r[2]),i&4&&q(e,"data-href",r[2]),i&4&&q(e,"href",r[2]),i&2&&q(e,"class",r[1])},d(r){r&&j(e)}}}function y$(n){let e,t=n[0].alias+"",r;return{c(){e=K("a"),r=Ue(t),q(e,"data-href",n[2]),q(e,"href",n[2]),q(e,"class",n[1]),q(e,"target","_blank"),q(e,"rel","noopener"),q(e,"aria-label",n[2])},m(i,a){Z(i,e,a),Q(e,r)},p(i,a){a&1&&t!==(t=i[0].alias+"")&&mt(r,t),a&4&&q(e,"data-href",i[2]),a&4&&q(e,"href",i[2]),a&2&&q(e,"class",i[1]),a&4&&q(e,"aria-label",i[2])},d(i){i&&j(e)}}}function b$(n){let e;function t(a,o){return a[0].alias?y$:v$}let r=t(n,-1),i=r(n);return{c(){i.c(),e=yr()},m(a,o){i.m(a,o),Z(a,e,o)},p(a,[o]){r===(r=t(a,o))&&i?i.p(a,o):(i.d(1),i=r(a),i&&(i.c(),i.m(e.parentNode,e)))},i:je,o:je,d(a){a&&j(e),i.d(a)}}}function x$(n,e,t){let r,i,{mdLink:a}=e;return n.$$set=o=>{"mdLink"in o&&t(0,a=o.mdLink)},n.$$.update=()=>{n.$$.dirty&1&&t(2,r=a.block?`${a.target}#${a.block}`:a.target),n.$$.dirty&1&&t(1,i=a.internal?"internal-link":"external-link")},[a,i,r]}var cv=class extends Te{constructor(e){super(),Be(this,e,x$,b$,Pe,{mdLink:0})}},Uo=cv;var w$=n=>({element:n&1}),xM=n=>({element:n[0][n[0].length-1]});function wM(n,e,t){let r=n.slice();return r[3]=e[t],r}var _$=n=>({element:n&1}),_M=n=>({element:n[3]});function SM(n){let e,t,r,i,a,o=n[2].default,u=pa(o,n,n[1],_M);return{c(){u&&u.c(),e=le(),t=K("span"),t.textContent=",",r=le(),i=K("span")},m(s,l){u&&u.m(s,l),Z(s,e,l),Z(s,t,l),Z(s,r,l),Z(s,i,l),a=!0},p(s,l){u&&u.p&&(!a||l&3)&&da(u,o,s,s[1],a?ma(o,s[1],l,_$):ha(s[1]),_M)},i(s){a||(Y(u,s),a=!0)},o(s){te(u,s),a=!1},d(s){s&&(j(e),j(t),j(r),j(i)),u&&u.d(s)}}}function S$(n){let e,t,r=ot(n[0].slice(0,n[0].length-1)),i=[];for(let s=0;s<r.length;s+=1)i[s]=SM(wM(n,r,s));let a=s=>te(i[s],1,1,()=>{i[s]=null}),o=n[2].default,u=pa(o,n,n[1],xM);return{c(){for(let s=0;s<i.length;s+=1)i[s].c();e=le(),u&&u.c()},m(s,l){for(let c=0;c<i.length;c+=1)i[c]&&i[c].m(s,l);Z(s,e,l),u&&u.m(s,l),t=!0},p(s,[l]){if(l&3){r=ot(s[0].slice(0,s[0].length-1));let c;for(c=0;c<r.length;c+=1){let f=wM(s,r,c);i[c]?(i[c].p(f,l),Y(i[c],1)):(i[c]=SM(f),i[c].c(),Y(i[c],1),i[c].m(e.parentNode,e))}for(dt(),c=r.length;c<i.length;c+=1)a(c);ht()}u&&u.p&&(!t||l&3)&&da(u,o,s,s[1],t?ma(o,s[1],l,w$):ha(s[1]),xM)},i(s){if(!t){for(let l=0;l<r.length;l+=1)Y(i[l]);Y(u,s),t=!0}},o(s){i=i.filter(Boolean);for(let l=0;l<i.length;l+=1)te(i[l]);te(u,s),t=!1},d(s){s&&j(e),Gt(i,s),u&&u.d(s)}}}function A$(n,e,t){let{$$slots:r={},$$scope:i}=e,{elements:a=[]}=e;return n.$$set=o=>{"elements"in o&&t(0,a=o.elements),"$$scope"in o&&t(1,i=o.$$scope)},[a,i,r]}var fv=class extends Te{constructor(e){super(),Be(this,e,A$,S$,Pe,{elements:0})}},Ip=fv;function E$(n){let e,t,r;return t=new Uo({props:{mdLink:n[0]}}),{c(){e=K("span"),ge(t.$$.fragment)},m(i,a){Z(i,e,a),de(t,e,null),r=!0},p(i,a){let o={};a&1&&(o.mdLink=i[0]),t.$set(o)},i(i){r||(Y(t.$$.fragment,i),r=!0)},o(i){te(t.$$.fragment,i),r=!1},d(i){i&&j(e),he(t)}}}function D$(n){let e,t,r;return t=new Ip({props:{elements:n[0],$$slots:{default:[T$,({element:i})=>({2:i}),({element:i})=>i?4:0]},$$scope:{ctx:n}}}),{c(){e=K("span"),ge(t.$$.fragment)},m(i,a){Z(i,e,a),de(t,e,null),r=!0},p(i,a){let o={};a&1&&(o.elements=i[0]),a&12&&(o.$$scope={dirty:a,ctx:i}),t.$set(o)},i(i){r||(Y(t.$$.fragment,i),r=!0)},o(i){te(t.$$.fragment,i),r=!1},d(i){i&&j(e),he(t)}}}function M$(n){let e,t;return{c(){e=K("span"),t=Ue(n[0]),ao(e,"white-space","pre")},m(r,i){Z(r,e,i),Q(e,t)},p(r,i){i&1&&mt(t,r[0])},i:je,o:je,d(r){r&&j(e)}}}function N$(n){let e,t;return e=new Uo({props:{mdLink:n[2]}}),{c(){ge(e.$$.fragment)},m(r,i){de(e,r,i),t=!0},p(r,i){let a={};i&4&&(a.mdLink=r[2]),e.$set(a)},i(r){t||(Y(e.$$.fragment,r),t=!0)},o(r){te(e.$$.fragment,r),t=!1},d(r){he(e,r)}}}function C$(n){let e,t=n[2]+"",r;return{c(){e=K("span"),r=Ue(t)},m(i,a){Z(i,e,a),Q(e,r)},p(i,a){a&4&&t!==(t=i[2]+"")&&mt(r,t)},i:je,o:je,d(i){i&&j(e)}}}function T$(n){let e,t,r,i,a=[C$,N$],o=[];function u(s,l){return typeof s[2]=="string"?0:1}return e=u(n,-1),t=o[e]=a[e](n),{c(){t.c(),r=yr()},m(s,l){o[e].m(s,l),Z(s,r,l),i=!0},p(s,l){let c=e;e=u(s,l),e===c?o[e].p(s,l):(dt(),te(o[c],1,1,()=>{o[c]=null}),ht(),t=o[e],t?t.p(s,l):(t=o[e]=a[e](s),t.c()),Y(t,1),t.m(r.parentNode,r))},i(s){i||(Y(t),i=!0)},o(s){te(t),i=!1},d(s){s&&j(r),o[e].d(s)}}}function F$(n){let e,t,r,i,a,o=[M$,D$,E$],u=[];function s(l,c){return c&1&&(e=null),typeof l[0]=="string"?0:(e==null&&(e=!!Array.isArray(l[0])),e?1:2)}return t=s(n,-1),r=u[t]=o[t](n),{c(){r.c(),i=yr()},m(l,c){u[t].m(l,c),Z(l,i,c),a=!0},p(l,[c]){let f=t;t=s(l,c),t===f?u[t].p(l,c):(dt(),te(u[f],1,1,()=>{u[f]=null}),ht(),r=u[t],r?r.p(l,c):(r=u[t]=o[t](l),r.c()),Y(r,1),r.m(i.parentNode,i))},i(l){a||(Y(r),a=!0)},o(l){te(r),a=!1},d(l){l&&j(i),u[t].d(l)}}}function I$(n,e,t){let{value:r=void 0}=e,i;return n.$$set=a=>{"value"in a&&t(1,r=a.value)},n.$$.update=()=>{n.$$.dirty&2&&t(0,i=KD(r,!1))},[i,r]}var pv=class extends Te{constructor(e){super(),Be(this,e,I$,F$,Pe,{value:1})}},Yi=pv;function AM(n,e,t){let r=n.slice();return r[11]=e[t],r[13]=t,r}function EM(n){let e,t,r,i,a;t=new Yi({props:{value:n[11]}});function o(...u){return n[8](n[13],...u)}return{c(){e=K("div"),ge(t.$$.fragment),q(e,"class","mb-inline-list-item"),q(e,"role","listitem")},m(u,s){Z(u,e,s),de(t,e,null),r=!0,i||(a=Ee(e,"contextmenu",o),i=!0)},p(u,s){n=u;let l={};s&1&&(l.value=n[11]),t.$set(l)},i(u){r||(Y(t.$$.fragment,u),r=!0)},o(u){te(t.$$.fragment,u),r=!1},d(u){u&&j(e),he(t),i=!1,a()}}}function P$(n){let e,t,r,i,a,o,u,s,l,c=ot(n[0]),f=[];for(let m=0;m<c.length;m+=1)f[m]=EM(AM(n,c,m));let p=m=>te(f[m],1,1,()=>{f[m]=null});return o=new Or({props:{plugin:n[1],iconName:"plus"}}),{c(){e=K("div");for(let m=0;m<f.length;m+=1)f[m].c();t=le(),r=K("div"),i=K("span"),i.textContent="\u200B",a=le(),ge(o.$$.fragment),q(r,"class","mb-inline-list-add"),q(r,"role","button"),q(r,"tabindex","0"),q(e,"class","mb-inline-list")},m(m,h){Z(m,e,h);for(let d=0;d<f.length;d+=1)f[d]&&f[d].m(e,null);Q(e,t),Q(e,r),Q(r,i),Q(r,a),de(o,r,null),u=!0,s||(l=[Ee(r,"click",n[9]),Ee(r,"keydown",n[3])],s=!0)},p(m,[h]){if(h&17){c=ot(m[0]);let v;for(v=0;v<c.length;v+=1){let y=AM(m,c,v);f[v]?(f[v].p(y,h),Y(f[v],1)):(f[v]=EM(y),f[v].c(),Y(f[v],1),f[v].m(e,t))}for(dt(),v=c.length;v<f.length;v+=1)p(v);ht()}let d={};h&2&&(d.plugin=m[1]),o.$set(d)},i(m){if(!u){for(let h=0;h<c.length;h+=1)Y(f[h]);Y(o.$$.fragment,m),u=!0}},o(m){f=f.filter(Boolean);for(let h=0;h<f.length;h+=1)te(f[h]);te(o.$$.fragment,m),u=!1},d(m){m&&j(e),Gt(f,m),he(o),s=!1,Dt(l)}}}function B$(n,e,t){let{plugin:r}=e,{value:i}=e,{showInput:a}=e,{onValueChange:o}=e;function u(h){t(0,i=h)}function s(h){i.push(h),t(0,i)}function l(h){i.splice(h,1),o(i),t(0,i)}function c(h){h.key===" "&&a()}function f(h,d){let v=[];d>0&&v.push({name:"Move left",icon:"arrow-left",onclick:()=>{let y=i[d-1];t(0,i[d-1]=i[d],i),t(0,i[d]=y,i),o(i)}}),d<i.length-1&&v.push({name:"Move right",icon:"arrow-right",onclick:()=>{let y=i[d+1];t(0,i[d+1]=i[d],i),t(0,i[d]=y,i),o(i)}}),v.push({name:"Edit",icon:"pencil",onclick:()=>{r.internal.openTextPromptModal({title:"Meta Bind List",subTitle:"Edit the value of a list item.",value:fa(i[d]),multiline:!1,onSubmit:y=>{t(0,i[d]=y,i),o(i)},onCancel:()=>{}})}}),v.push({name:"Remove",icon:"x",warning:!0,onclick:()=>l(d)}),r.internal.createContextMenu(v).showWithEvent(h)}let p=(h,d)=>f(d,h),m=()=>a();return n.$$set=h=>{"plugin"in h&&t(1,r=h.plugin),"value"in h&&t(0,i=h.value),"showInput"in h&&t(2,a=h.showInput),"onValueChange"in h&&t(5,o=h.onValueChange)},[i,r,a,c,f,o,u,s,p,m]}var mv=class extends Te{constructor(e){super(),Be(this,e,B$,P$,Pe,{plugin:1,value:0,showInput:2,onValueChange:5,setValue:6,addValue:7})}get setValue(){return this.$$.ctx[6]}get addValue(){return this.$$.ctx[7]}},DM=mv;var Pp=class extends jt{filterValue(e){return Hi(e)}getFallbackDefaultValue(){return[]}getSvelteComponent(){return DM}rawMapValue(e){return e}rawReverseMapValue(e){return e}getMountArgs(){return{showInput:()=>this.openModal()}}openModal(){this.mountable.plugin.internal.openTextPromptModal({title:"Meta Bind List",subTitle:"Create a new List Element.",value:"",multiline:!1,onSubmit:e=>{let t=this.getInternalValue();t.push(e),this.setInternalValue(t)},onCancel:()=>{}})}};function MM(n,e,t){let r=n.slice();return r[13]=e[t],r[15]=t,r}function NM(n){let e,t,r,i,a;t=new Yi({props:{value:n[13]}});function o(...u){return n[11](n[15],...u)}return{c(){e=K("div"),ge(t.$$.fragment),q(e,"class","mb-inline-list-item"),q(e,"role","listitem")},m(u,s){Z(u,e,s),de(t,e,null),r=!0,i||(a=Ee(e,"contextmenu",o),i=!0)},p(u,s){n=u;let l={};s&1&&(l.value=n[13]),t.$set(l)},i(u){r||(Y(t.$$.fragment,u),r=!0)},o(u){te(t.$$.fragment,u),r=!1},d(u){u&&j(e),he(t),i=!1,a()}}}function O$(n){let e,t,r,i,a,o,u,s,l,c=ot(n[0]),f=[];for(let m=0;m<c.length;m+=1)f[m]=NM(MM(n,c,m));let p=m=>te(f[m],1,1,()=>{f[m]=null});return o=new Or({props:{plugin:n[1],iconName:"plus"}}),{c(){e=K("div");for(let m=0;m<f.length;m+=1)f[m].c();t=le(),r=K("div"),i=K("span"),i.textContent="\u200B",a=le(),ge(o.$$.fragment),q(r,"class","mb-inline-list-add"),q(r,"role","button"),q(r,"tabindex","0"),q(e,"class","mb-inline-list")},m(m,h){Z(m,e,h);for(let d=0;d<f.length;d+=1)f[d]&&f[d].m(e,null);Q(e,t),Q(e,r),Q(r,i),Q(r,a),de(o,r,null),u=!0,s||(l=[Ee(r,"click",n[2]),Ee(r,"keydown",n[3])],s=!0)},p(m,[h]){if(h&17){c=ot(m[0]);let v;for(v=0;v<c.length;v+=1){let y=MM(m,c,v);f[v]?(f[v].p(y,h),Y(f[v],1)):(f[v]=NM(y),f[v].c(),Y(f[v],1),f[v].m(e,t))}for(dt(),v=c.length;v<f.length;v+=1)p(v);ht()}let d={};h&2&&(d.plugin=m[1]),o.$set(d)},i(m){if(!u){for(let h=0;h<c.length;h+=1)Y(f[h]);Y(o.$$.fragment,m),u=!0}},o(m){f=f.filter(Boolean);for(let h=0;h<f.length;h+=1)te(f[h]);te(o.$$.fragment,m),u=!1},d(m){m&&j(e),Gt(f,m),he(o),s=!1,Dt(l)}}}function k$(n,e,t){let{plugin:r}=e,{value:i}=e,{showSuggester:a}=e,{showTextPrompt:o}=e,{allowsOther:u}=e,{onValueChange:s}=e;function l(v){t(0,i=v)}function c(v){i.push(v),t(0,i)}function f(v){i.splice(v,1),s(i),t(0,i)}function p(v){if(!u){a();return}r.internal.createContextMenu([{name:"From Options",onclick:()=>a()},{name:"From Text",onclick:()=>o()}]).showWithEvent(v)}function m(v){v.key===" "&&a()}function h(v,y){let _=[];y>0&&_.push({name:"Move left",icon:"arrow-left",onclick:()=>{let b=i[y-1];t(0,i[y-1]=i[y],i),t(0,i[y]=b,i),s(i)}}),y<i.length-1&&_.push({name:"Move right",icon:"arrow-right",onclick:()=>{let b=i[y+1];t(0,i[y+1]=i[y],i),t(0,i[y]=b,i),s(i)}}),_.push({name:"Remove",icon:"x",warning:!0,onclick:()=>f(y)}),r.internal.createContextMenu(_).showWithEvent(v)}let d=(v,y)=>h(y,v);return n.$$set=v=>{"plugin"in v&&t(1,r=v.plugin),"value"in v&&t(0,i=v.value),"showSuggester"in v&&t(5,a=v.showSuggester),"showTextPrompt"in v&&t(6,o=v.showTextPrompt),"allowsOther"in v&&t(7,u=v.allowsOther),"onValueChange"in v&&t(8,s=v.onValueChange)},[i,r,p,m,h,a,o,u,s,l,c,d]}var dv=class extends Te{constructor(e){super(),Be(this,e,k$,O$,Pe,{plugin:1,value:0,showSuggester:5,showTextPrompt:6,allowsOther:7,onValueChange:8,setValue:9,addValue:10})}get setValue(){return this.$$.ctx[9]}get addValue(){return this.$$.ctx[10]}},CM=dv;var Bp=class extends jt{filterValue(e){return Hi(e)}getFallbackDefaultValue(){return[]}getSvelteComponent(){return CM}rawMapValue(e){return e}rawReverseMapValue(e){return e}getMountArgs(){var e;return{showSuggester:()=>this.openModal(),showTextPrompt:()=>this.openTextModal(),allowsOther:((e=this.mountable.getArgument("allowOther"))==null?void 0:e.value)===!0}}openModal(){this.mountable.plugin.internal.openSuggesterModal(this,e=>{let t=this.getInternalValue();t.push(e.value),this.setInternalValue(t)})}openTextModal(){this.mountable.plugin.internal.openTextPromptModal({title:"Meta Bind List Suggester",subTitle:"Create a new List Element.",value:"",multiline:!1,onSubmit:e=>{let t=this.getInternalValue();t.push(e),this.setInternalValue(t)},onCancel:()=>{}})}};function TM(n,e,t){let r=n.slice();return r[8]=e[t],r}function FM(n){let e,t=n[8].name+"",r,i;return{c(){e=K("option"),r=Ue(t),e.__value=i=n[8].value,$e(e,e.__value)},m(a,o){Z(a,e,o),Q(e,r)},p(a,o){o&2&&t!==(t=a[8].name+"")&&mt(r,t),o&2&&i!==(i=a[8].value)&&(e.__value=i,$e(e,e.__value))},d(a){a&&j(e)}}}function R$(n){let e,t,r,i=ot(n[1]),a=[];for(let o=0;o<i.length;o+=1)a[o]=FM(TM(n,i,o));return{c(){e=K("select");for(let o=0;o<a.length;o+=1)a[o].c();q(e,"class","dropdown"),n[0]===void 0&&Ia(()=>n[6].call(e))},m(o,u){Z(o,e,u);for(let s=0;s<a.length;s+=1)a[s]&&a[s].m(e,null);Ro(e,n[0],!0),t||(r=[Ee(e,"change",n[6]),Ee(e,"change",n[7])],t=!0)},p(o,[u]){if(u&2){i=ot(o[1]);let s;for(s=0;s<i.length;s+=1){let l=TM(o,i,s);a[s]?a[s].p(l,u):(a[s]=FM(l),a[s].c(),a[s].m(e,null))}for(;s<a.length;s+=1)a[s].d(1);a.length=i.length}u&3&&Ro(e,o[0])},i:je,o:je,d(o){o&&j(e),Gt(a,o),t=!1,Dt(r)}}}function L$(n,e,t){let{plugin:r}=e,{value:i}=e,{options:a}=e,{onValueChange:o}=e;function u(f){t(0,i=f)}function s(){o(i)}function l(){i=oc(this),t(0,i),t(1,a)}let c=()=>s();return n.$$set=f=>{"plugin"in f&&t(3,r=f.plugin),"value"in f&&t(0,i=f.value),"options"in f&&t(1,a=f.options),"onValueChange"in f&&t(4,o=f.onValueChange)},[i,a,s,r,o,u,l,c]}var hv=class extends Te{constructor(e){super(),Be(this,e,L$,R$,Pe,{plugin:3,value:0,options:1,onValueChange:4,setValue:5})}get setValue(){return this.$$.ctx[5]}},IM=hv;var Op=class extends jt{constructor(e){super(e),this.options=this.mountable.getArguments("option")}filterValue(e){return ko(e)}getFallbackDefaultValue(){return null}getSvelteComponent(){return IM}rawMapValue(e){return e}rawReverseMapValue(e){return e}getMountArgs(){return{options:this.options}}};function PM(n,e,t){let r=n.slice();return r[16]=e[t],r[18]=t,r}function BM(n){let e;return{c(){e=K("span"),e.textContent="Empty",q(e,"class","mb-list-empty")},m(t,r){Z(t,e,r)},p:je,d(t){t&&j(e)}}}function OM(n){let e,t,r,i,a,o;t=new Yi({props:{value:n[16]}});function u(...s){return n[10](n[18],...s)}return{c(){e=K("div"),ge(t.$$.fragment),r=le(),q(e,"class","mb-list-item"),q(e,"role","listitem")},m(s,l){Z(s,e,l),de(t,e,null),Q(e,r),i=!0,a||(o=Ee(e,"contextmenu",u),a=!0)},p(s,l){n=s;let c={};l&1&&(c.value=n[16]),t.$set(c)},i(s){i||(Y(t.$$.fragment,s),i=!0)},o(s){te(t.$$.fragment,s),i=!1},d(s){s&&j(e),he(t),a=!1,o()}}}function V$(n){let e,t,r;return{c(){e=K("input"),q(e,"type","text"),q(e,"tabindex","0"),q(e,"placeholder",n[3]),q(e,"maxlength",n[2])},m(i,a){Z(i,e,a),$e(e,n[5]),t||(r=[Ee(e,"input",n[12]),Ee(e,"keyup",n[13])],t=!0)},p(i,a){a&8&&q(e,"placeholder",i[3]),a&4&&q(e,"maxlength",i[2]),a&32&&e.value!==i[5]&&$e(e,i[5])},d(i){i&&j(e),t=!1,Dt(r)}}}function U$(n){let e,t,r;return{c(){e=K("textarea"),q(e,"tabindex","0"),q(e,"placeholder",n[3]),q(e,"maxlength",n[2])},m(i,a){Z(i,e,a),$e(e,n[5]),t||(r=Ee(e,"input",n[11]),t=!0)},p(i,a){a&8&&q(e,"placeholder",i[3]),a&4&&q(e,"maxlength",i[2]),a&32&&$e(e,i[5])},d(i){i&&j(e),t=!1,r()}}}function kM(n){let e,t=RM(n[0].length,n[2])+"",r,i;return{c(){e=K("span"),r=Ue(t),q(e,"class",i=`mb-content-limit-indicator ${n[0].length>n[2]?"mb-content-limit-indicator-overflow":""}`)},m(a,o){Z(a,e,o),Q(e,r)},p(a,o){o&5&&t!==(t=RM(a[0].length,a[2])+"")&&mt(r,t),o&5&&i!==(i=`mb-content-limit-indicator ${a[0].length>a[2]?"mb-content-limit-indicator-overflow":""}`)&&q(e,"class",i)},d(a){a&&j(e)}}}function q$(n){let e,t;return e=new Or({props:{plugin:n[1],iconName:"plus"}}),{c(){ge(e.$$.fragment)},m(r,i){de(e,r,i),t=!0},p(r,i){let a={};i&2&&(a.plugin=r[1]),e.$set(a)},i(r){t||(Y(e.$$.fragment,r),t=!0)},o(r){te(e.$$.fragment,r),t=!1},d(r){he(e,r)}}}function z$(n){let e,t,r,i,a,o,u,s=ot(n[0]),l=[];for(let v=0;v<s.length;v+=1)l[v]=OM(PM(n,s,v));let c=v=>te(l[v],1,1,()=>{l[v]=null}),f=null;s.length||(f=BM(n));function p(v,y){return v[4]?U$:V$}let m=p(n,-1),h=m(n),d=n[2]!==void 0&&kM(n);return o=new Mt({props:{disabled:!n[5],$$slots:{default:[q$]},$$scope:{ctx:n}}}),o.$on("click",n[14]),{c(){e=K("div");for(let v=0;v<l.length;v+=1)l[v].c();f&&f.c(),t=le(),r=K("div"),h.c(),i=le(),d&&d.c(),a=le(),ge(o.$$.fragment),q(e,"class","mb-list-items"),q(r,"class","mb-list-input")},m(v,y){Z(v,e,y);for(let _=0;_<l.length;_+=1)l[_]&&l[_].m(e,null);f&&f.m(e,null),Z(v,t,y),Z(v,r,y),h.m(r,null),Q(r,i),d&&d.m(r,null),Q(r,a),de(o,r,null),u=!0},p(v,[y]){if(y&129){s=ot(v[0]);let b;for(b=0;b<s.length;b+=1){let w=PM(v,s,b);l[b]?(l[b].p(w,y),Y(l[b],1)):(l[b]=OM(w),l[b].c(),Y(l[b],1),l[b].m(e,null))}for(dt(),b=s.length;b<l.length;b+=1)c(b);ht(),!s.length&&f?f.p(v,y):s.length?f&&(f.d(1),f=null):(f=BM(v),f.c(),f.m(e,null))}m===(m=p(v,y))&&h?h.p(v,y):(h.d(1),h=m(v),h&&(h.c(),h.m(r,i))),v[2]!==void 0?d?d.p(v,y):(d=kM(v),d.c(),d.m(r,a)):d&&(d.d(1),d=null);let _={};y&32&&(_.disabled=!v[5]),y&524290&&(_.$$scope={dirty:y,ctx:v}),o.$set(_)},i(v){if(!u){for(let y=0;y<s.length;y+=1)Y(l[y]);Y(o.$$.fragment,v),u=!0}},o(v){l=l.filter(Boolean);for(let y=0;y<l.length;y+=1)te(l[y]);te(o.$$.fragment,v),u=!1},d(v){v&&(j(e),j(t),j(r)),Gt(l,v),f&&f.d(),h.d(),d&&d.d(),he(o)}}}function RM(n,e){let t=e.toString();return`${n.toString().padStart(t.length,"0")}/${t}`}function $$(n,e,t){let{plugin:r}=e,{value:i}=e,{limit:a}=e,{placeholder:o}=e,{multiLine:u}=e,{onValueChange:s}=e,l="";function c(b){t(0,i=b)}function f(){i.push(l),s(i),t(5,l=""),t(0,i)}function p(b){i.splice(b,1),s(i),t(0,i)}function m(b,w){let S=[];w>0&&S.push({name:"Move up",icon:"arrow-up",onclick:()=>{let x=i[w-1];t(0,i[w-1]=i[w],i),t(0,i[w]=x,i),s(i)}}),w<i.length-1&&S.push({name:"Move down",icon:"arrow-down",onclick:()=>{let x=i[w+1];t(0,i[w+1]=i[w],i),t(0,i[w]=x,i),s(i)}}),S.push({name:"Edit",icon:"pencil",onclick:()=>{r.internal.openTextPromptModal({title:"Meta Bind List",subTitle:"Edit the value of a list item.",value:fa(i[w]),multiline:u,onSubmit:x=>{t(0,i[w]=x,i),s(i)},onCancel:()=>{}})}}),S.push({name:"Remove",icon:"x",warning:!0,onclick:()=>p(w)}),r.internal.createContextMenu(S).showWithEvent(b)}let h=(b,w)=>m(w,b);function d(){l=this.value,t(5,l)}function v(){l=this.value,t(5,l)}let y=b=>{b.key==="Enter"&&l.length>0&&f()},_=()=>f();return n.$$set=b=>{"plugin"in b&&t(1,r=b.plugin),"value"in b&&t(0,i=b.value),"limit"in b&&t(2,a=b.limit),"placeholder"in b&&t(3,o=b.placeholder),"multiLine"in b&&t(4,u=b.multiLine),"onValueChange"in b&&t(8,s=b.onValueChange)},[i,r,a,o,u,l,f,m,s,c,h,d,v,y,_]}var gv=class extends Te{constructor(e){super(),Be(this,e,$$,z$,Pe,{plugin:1,value:0,limit:2,placeholder:3,multiLine:4,onValueChange:8,setValue:9})}get setValue(){return this.$$.ctx[9]}},LM=gv;var kp=class extends jt{filterValue(e){return Hi(e)}getFallbackDefaultValue(){return[]}getSvelteComponent(){return LM}rawMapValue(e){return e}rawReverseMapValue(e){return e}getMountArgs(){var e,t,r,i;return{placeholder:(t=(e=this.mountable.getArgument("placeholder"))==null?void 0:e.value)!=null?t:"New Entry...",limit:(r=this.mountable.getArgument("limit"))==null?void 0:r.value,multiLine:((i=this.mountable.getArgument("multiLine"))==null?void 0:i.value)===!0}}};function VM(n,e,t){let r=n.slice();return r[14]=e[t],r[16]=t,r}function UM(n){let e;return{c(){e=K("span"),e.textContent="Empty",q(e,"class","mb-list-empty")},m(t,r){Z(t,e,r)},p:je,d(t){t&&j(e)}}}function qM(n){let e,t,r,i,a,o;t=new Yi({props:{value:n[14]}});function u(...s){return n[9](n[16],...s)}return{c(){e=K("div"),ge(t.$$.fragment),r=le(),q(e,"class","mb-list-item"),q(e,"role","listitem")},m(s,l){Z(s,e,l),de(t,e,null),Q(e,r),i=!0,a||(o=Ee(e,"contextmenu",u),a=!0)},p(s,l){n=s;let c={};l&1&&(c.value=n[14]),t.$set(c)},i(s){i||(Y(t.$$.fragment,s),i=!0)},o(s){te(t.$$.fragment,s),i=!1},d(s){s&&j(e),he(t),a=!1,o()}}}function H$(n){let e;return{c(){e=Ue("Add new item")},m(t,r){Z(t,e,r)},d(t){t&&j(e)}}}function zM(n){let e,t;return e=new Mt({props:{variant:"default",$$slots:{default:[G$]},$$scope:{ctx:n}}}),e.$on("click",n[11]),{c(){ge(e.$$.fragment)},m(r,i){de(e,r,i),t=!0},p(r,i){let a={};i&131072&&(a.$$scope={dirty:i,ctx:r}),e.$set(a)},i(r){t||(Y(e.$$.fragment,r),t=!0)},o(r){te(e.$$.fragment,r),t=!1},d(r){he(e,r)}}}function G$(n){let e;return{c(){e=Ue("Add other item")},m(t,r){Z(t,e,r)},d(t){t&&j(e)}}}function W$(n){let e,t,r,i,a,o,u=ot(n[0]),s=[];for(let p=0;p<u.length;p+=1)s[p]=qM(VM(n,u,p));let l=p=>te(s[p],1,1,()=>{s[p]=null}),c=null;u.length||(c=UM(n)),i=new Mt({props:{variant:"default",$$slots:{default:[H$]},$$scope:{ctx:n}}}),i.$on("click",n[10]);let f=n[3]&&zM(n);return{c(){e=K("div");for(let p=0;p<s.length;p+=1)s[p].c();c&&c.c(),t=le(),r=K("div"),ge(i.$$.fragment),a=le(),f&&f.c(),q(e,"class","mb-list-items"),q(r,"class","mb-list-input")},m(p,m){Z(p,e,m);for(let h=0;h<s.length;h+=1)s[h]&&s[h].m(e,null);c&&c.m(e,null),Z(p,t,m),Z(p,r,m),de(i,r,null),Q(r,a),f&&f.m(r,null),o=!0},p(p,[m]){if(m&17){u=ot(p[0]);let d;for(d=0;d<u.length;d+=1){let v=VM(p,u,d);s[d]?(s[d].p(v,m),Y(s[d],1)):(s[d]=qM(v),s[d].c(),Y(s[d],1),s[d].m(e,null))}for(dt(),d=u.length;d<s.length;d+=1)l(d);ht(),!u.length&&c?c.p(p,m):u.length?c&&(c.d(1),c=null):(c=UM(p),c.c(),c.m(e,null))}let h={};m&131072&&(h.$$scope={dirty:m,ctx:p}),i.$set(h),p[3]?f?(f.p(p,m),m&8&&Y(f,1)):(f=zM(p),f.c(),Y(f,1),f.m(r,null)):f&&(dt(),te(f,1,1,()=>{f=null}),ht())},i(p){if(!o){for(let m=0;m<u.length;m+=1)Y(s[m]);Y(i.$$.fragment,p),Y(f),o=!0}},o(p){s=s.filter(Boolean);for(let m=0;m<s.length;m+=1)te(s[m]);te(i.$$.fragment,p),te(f),o=!1},d(p){p&&(j(e),j(t),j(r)),Gt(s,p),c&&c.d(),he(i),f&&f.d()}}}function Y$(n,e,t){let{plugin:r}=e,{value:i}=e,{showSuggester:a}=e,{showTextPrompt:o}=e,{allowOther:u}=e,{onValueChange:s}=e;function l(y){t(0,i=y)}function c(y){i.push(y),t(0,i)}function f(y){i.splice(y,1),s(i),t(0,i)}function p(y){y.key===" "&&a()}function m(y,_){let b=[];_>0&&b.push({name:"Move up",icon:"arrow-up",onclick:()=>{let w=i[_-1];t(0,i[_-1]=i[_],i),t(0,i[_]=w,i),s(i)}}),_<i.length-1&&b.push({name:"Move down",icon:"arrow-down",onclick:()=>{let w=i[_+1];t(0,i[_+1]=i[_],i),t(0,i[_]=w,i),s(i)}}),b.push({name:"Remove",icon:"x",warning:!0,onclick:()=>f(_)}),r.internal.createContextMenu(b).showWithEvent(y)}let h=(y,_)=>m(_,y),d=()=>a(),v=()=>o();return n.$$set=y=>{"plugin"in y&&t(5,r=y.plugin),"value"in y&&t(0,i=y.value),"showSuggester"in y&&t(1,a=y.showSuggester),"showTextPrompt"in y&&t(2,o=y.showTextPrompt),"allowOther"in y&&t(3,u=y.allowOther),"onValueChange"in y&&t(6,s=y.onValueChange)},[i,a,o,u,m,r,s,l,c,h,d,v]}var vv=class extends Te{constructor(e){super(),Be(this,e,Y$,W$,Pe,{plugin:5,value:0,showSuggester:1,showTextPrompt:2,allowOther:3,onValueChange:6,setValue:7,addValue:8})}get setValue(){return this.$$.ctx[7]}get addValue(){return this.$$.ctx[8]}},$M=vv;var Rp=class extends jt{filterValue(e){return Hi(e)}getFallbackDefaultValue(){return[]}getSvelteComponent(){return $M}rawMapValue(e){return e}rawReverseMapValue(e){return e}getMountArgs(){var e;return{showSuggester:()=>this.openModal(),showTextPrompt:()=>this.openTextModal(),allowOther:((e=this.mountable.getArgument("allowOther"))==null?void 0:e.value)===!0}}openModal(){this.mountable.plugin.internal.openSuggesterModal(this,e=>{let t=this.getInternalValue();t.push(e.value),this.setInternalValue(t)})}openTextModal(){this.mountable.plugin.internal.openTextPromptModal({title:"Meta Bind List Suggester",subTitle:"Create a new List Element.",value:"",multiline:!1,onSubmit:e=>{let t=this.getInternalValue();t.push(e),this.setInternalValue(t)},onCancel:()=>{}})}};function HM(n,e,t){let r=n.slice();return r[10]=e[t],r}function GM(n){let e,t,r,i,a,o,u,s,l;function c(){return n[7](n[10])}a=new Yi({props:{value:n[10].name}});function f(...m){return n[8](n[10],...m)}function p(...m){return n[9](n[10],...m)}return{c(){e=K("div"),t=K("input"),i=le(),ge(a.$$.fragment),o=le(),q(t,"type","checkbox"),t.checked=r=n[0].includes(n[10].value),q(e,"class","mb-select-input-element mb-mod-multi"),q(e,"role","button"),q(e,"tabindex","0"),Ut(e,"is-selected",n[0].includes(n[10].value))},m(m,h){Z(m,e,h),Q(e,t),Q(e,i),de(a,e,null),Q(e,o),u=!0,s||(l=[Ee(t,"input",c),Ee(e,"click",f),Ee(e,"keypress",p)],s=!0)},p(m,h){n=m,(!u||h&3&&r!==(r=n[0].includes(n[10].value)))&&(t.checked=r);let d={};h&2&&(d.value=n[10].name),a.$set(d),(!u||h&3)&&Ut(e,"is-selected",n[0].includes(n[10].value))},i(m){u||(Y(a.$$.fragment,m),u=!0)},o(m){te(a.$$.fragment,m),u=!1},d(m){m&&j(e),he(a),s=!1,Dt(l)}}}function j$(n){let e,t,r=ot(n[1]),i=[];for(let o=0;o<r.length;o+=1)i[o]=GM(HM(n,r,o));let a=o=>te(i[o],1,1,()=>{i[o]=null});return{c(){for(let o=0;o<i.length;o+=1)i[o].c();e=yr()},m(o,u){for(let s=0;s<i.length;s+=1)i[s]&&i[s].m(o,u);Z(o,e,u),t=!0},p(o,[u]){if(u&15){r=ot(o[1]);let s;for(s=0;s<r.length;s+=1){let l=HM(o,r,s);i[s]?(i[s].p(l,u),Y(i[s],1)):(i[s]=GM(l),i[s].c(),Y(i[s],1),i[s].m(e.parentNode,e))}for(dt(),s=r.length;s<i.length;s+=1)a(s);ht()}},i(o){if(!t){for(let u=0;u<r.length;u+=1)Y(i[u]);t=!0}},o(o){i=i.filter(Boolean);for(let u=0;u<i.length;u+=1)te(i[u]);t=!1},d(o){o&&j(e),Gt(i,o)}}}function Z$(n,e,t){let{plugin:r}=e,{value:i}=e,{options:a}=e,{onValueChange:o}=e;function u(m){t(0,i=m)}function s(m){i.includes(m)?t(0,i=i.filter(h=>h!==m)):(i.push(m),t(0,i)),o(i)}function l(m,h){m.key===" "&&s(h)}let c=m=>s(m.value),f=(m,h)=>{h.target instanceof HTMLInputElement||s(m.value)},p=(m,h)=>l(h,m.value);return n.$$set=m=>{"plugin"in m&&t(4,r=m.plugin),"value"in m&&t(0,i=m.value),"options"in m&&t(1,a=m.options),"onValueChange"in m&&t(5,o=m.onValueChange)},[i,a,s,l,r,o,u,c,f,p]}var yv=class extends Te{constructor(e){super(),Be(this,e,Z$,j$,Pe,{plugin:4,value:0,options:1,onValueChange:5,setValue:6})}get setValue(){return this.$$.ctx[6]}},WM=yv;var Lp=class extends jt{constructor(e){super(e),this.options=this.mountable.getArguments("option")}filterValue(e){return Hi(e)}getFallbackDefaultValue(){return[]}getSvelteComponent(){return WM}rawMapValue(e){return e}rawReverseMapValue(e){return e}getMountArgs(){return{options:this.options}}};function J$(n){let e,t,r;return{c(){e=K("input"),q(e,"type","number"),q(e,"tabindex","0"),q(e,"placeholder",n[1])},m(i,a){Z(i,e,a),$e(e,n[0]),t||(r=[Ee(e,"input",n[5]),Ee(e,"input",n[6])],t=!0)},p(i,[a]){a&2&&q(e,"placeholder",i[1]),a&1&&Un(e.value)!==i[0]&&$e(e,i[0])},i:je,o:je,d(i){i&&j(e),t=!1,Dt(r)}}}function X$(n,e,t){let{plugin:r}=e,{value:i}=e,{placeholder:a}=e,{onValueChange:o}=e;function u(c){t(0,i=c)}function s(){i=Un(this.value),t(0,i)}let l=()=>o(i);return n.$$set=c=>{"plugin"in c&&t(3,r=c.plugin),"value"in c&&t(0,i=c.value),"placeholder"in c&&t(1,a=c.placeholder),"onValueChange"in c&&t(2,o=c.onValueChange)},[i,a,o,r,u,s,l]}var bv=class extends Te{constructor(e){super(),Be(this,e,X$,J$,Pe,{plugin:3,value:0,placeholder:1,onValueChange:2,setValue:4})}get setValue(){return this.$$.ctx[4]}},YM=bv;var Vp=class extends jt{filterValue(e){return Ru(e)}getFallbackDefaultValue(){return 0}getSvelteComponent(){return YM}rawReverseMapValue(e){return e}rawMapValue(e){return e}getMountArgs(){var e;return{placeholder:(e=this.mountable.getArgument("placeholder"))!=null?e:"Number"}}};var{window:uc}=ac;function Q$(n){let e,t,r,i,a,o,u,s,l,c,f,p,m,h;return{c(){e=K("div"),t=K("div"),i=le(),a=K("span"),o=Ue(n[0]),u=le(),s=K("span"),l=Ue(n[1]),c=le(),f=K("span"),p=Ue(n[2]),q(t,"class","mb-progress-bar-progress"),q(t,"style",r=`width: ${n[5](n[0])}%`),q(t,"role","slider"),q(t,"aria-valuemin",n[1]),q(t,"aria-valuemax",n[2]),q(t,"aria-valuenow",n[0]),q(t,"tabindex","0"),q(a,"class","mb-progress-bar-value"),q(s,"class","mb-progress-bar-label-left"),q(f,"class","mb-progress-bar-label-right"),q(e,"class","mb-progress-bar-input"),q(e,"tabindex","0"),q(e,"role","button")},m(d,v){Z(d,e,v),Q(e,t),Q(e,i),Q(e,a),Q(a,o),Q(e,u),Q(e,s),Q(s,l),Q(e,c),Q(e,f),Q(f,p),n[15](e),m||(h=[Ee(uc,"touchmove",n[8],{passive:!1}),Ee(uc,"touchcancel",n[6]),Ee(uc,"touchend",n[6]),Ee(uc,"mousemove",n[8]),Ee(uc,"mouseup",n[6]),Ee(t,"dragstart",n[14]),Ee(e,"keydown",n[9]),Ee(e,"mousedown",n[7]),Ee(e,"touchstart",n[7])],m=!0)},p(d,[v]){v&1&&r!==(r=`width: ${d[5](d[0])}%`)&&q(t,"style",r),v&2&&q(t,"aria-valuemin",d[1]),v&4&&q(t,"aria-valuemax",d[2]),v&1&&q(t,"aria-valuenow",d[0]),v&1&&mt(o,d[0]),v&2&&mt(l,d[1]),v&4&&mt(p,d[2])},i:je,o:je,d(d){d&&j(e),n[15](null),m=!1,Dt(h)}}}function K$(n,e){return Number.parseFloat((Math.round(n/e)*e).toFixed(10))}function eH(n,e,t){let{plugin:r}=e,{onValueChange:i}=e,{value:a}=e,{minValue:o}=e,{maxValue:u}=e,{stepSize:s}=e,l=!1,c,f=0,p;function m(D){t(0,a=D)}function h(D){t(0,a=D),i(D)}function d(D){return D=ec(D,o,u),Eg(D,o,u,0,100)}function v(){t(3,l=!0)}function y(){t(3,l=!1)}function _(D){v(),b(D)}function b(D){if(!l)return;D.stopPropagation&&D.stopPropagation(),D.preventDefault&&D.preventDefault();let E=D instanceof TouchEvent?D.touches[0].clientX:D.clientX;w(E)}function w(D){let E=c.getBoundingClientRect();D=ec(D,E.left,E.right);let M=Eg(D,E.left,E.right,o,u);M=K$(M,s),h(M)}function S(D){f<50&&(f+=1);let E=Math.ceil(f/5);if(D.key==="ArrowUp"||D.key==="ArrowRight"){let M=ec(a+E,o,u);h(M)}if(D.key==="ArrowDown"||D.key==="ArrowLeft"){let M=ec(a-E,o,u);h(M)}window.clearTimeout(p),p=window.setTimeout(()=>f=1,100)}let x=()=>t(3,l=!0);function N(D){Mr[D?"unshift":"push"](()=>{c=D,t(4,c)})}return n.$$set=D=>{"plugin"in D&&t(10,r=D.plugin),"onValueChange"in D&&t(11,i=D.onValueChange),"value"in D&&t(0,a=D.value),"minValue"in D&&t(1,o=D.minValue),"maxValue"in D&&t(2,u=D.maxValue),"stepSize"in D&&t(12,s=D.stepSize)},[a,o,u,l,c,d,y,_,b,S,r,i,s,m,x,N]}var xv=class extends Te{constructor(e){super(),Be(this,e,eH,Q$,Pe,{plugin:10,onValueChange:11,value:0,minValue:1,maxValue:2,stepSize:12,setValue:13})}get setValue(){return this.$$.ctx[13]}},jM=xv;var Up=class extends jt{constructor(e){var t,r,i,a,o,u;if(super(e),this.minValue=(r=(t=this.mountable.getArgument("minValue"))==null?void 0:t.value)!=null?r:0,this.maxValue=(a=(i=this.mountable.getArgument("maxValue"))==null?void 0:i.value)!=null?a:100,this.stepSize=(u=(o=this.mountable.getArgument("stepSize"))==null?void 0:o.value)!=null?u:1,this.minValue>=this.maxValue)throw new Sr({errorLevel:"ERROR",effect:"can not create progress bar input field",cause:`minValue (${this.maxValue}) must be less than maxValue (${this.maxValue})`})}filterValue(e){return Lf(Ru(e),this.minValue,this.maxValue)}getFallbackDefaultValue(){return this.minValue}getSvelteComponent(){return jM}rawReverseMapValue(e){return e}rawMapValue(e){return e}getMountArgs(){return{minValue:this.minValue,maxValue:this.maxValue,stepSize:this.stepSize}}};function ZM(n,e,t){let r=n.slice();return r[10]=e[t],r}function JM(n){let e,t,r,i,a,o,u,s,l;function c(){return n[7](n[10])}a=new Yi({props:{value:n[10].name}});function f(...m){return n[8](n[10],...m)}function p(...m){return n[9](n[10],...m)}return{c(){e=K("div"),t=K("input"),i=le(),ge(a.$$.fragment),o=le(),q(t,"type","checkbox"),t.checked=r=n[10].value===n[0],q(e,"class","mb-select-input-element"),q(e,"role","button"),q(e,"tabindex","0"),Ut(e,"is-selected",n[10].value===n[0])},m(m,h){Z(m,e,h),Q(e,t),Q(e,i),de(a,e,null),Q(e,o),u=!0,s||(l=[Ee(t,"input",c),Ee(e,"click",f),Ee(e,"keypress",p)],s=!0)},p(m,h){n=m,(!u||h&3&&r!==(r=n[10].value===n[0]))&&(t.checked=r);let d={};h&2&&(d.value=n[10].name),a.$set(d),(!u||h&3)&&Ut(e,"is-selected",n[10].value===n[0])},i(m){u||(Y(a.$$.fragment,m),u=!0)},o(m){te(a.$$.fragment,m),u=!1},d(m){m&&j(e),he(a),s=!1,Dt(l)}}}function tH(n){let e,t,r=ot(n[1]),i=[];for(let o=0;o<r.length;o+=1)i[o]=JM(ZM(n,r,o));let a=o=>te(i[o],1,1,()=>{i[o]=null});return{c(){for(let o=0;o<i.length;o+=1)i[o].c();e=yr()},m(o,u){for(let s=0;s<i.length;s+=1)i[s]&&i[s].m(o,u);Z(o,e,u),t=!0},p(o,[u]){if(u&15){r=ot(o[1]);let s;for(s=0;s<r.length;s+=1){let l=ZM(o,r,s);i[s]?(i[s].p(l,u),Y(i[s],1)):(i[s]=JM(l),i[s].c(),Y(i[s],1),i[s].m(e.parentNode,e))}for(dt(),s=r.length;s<i.length;s+=1)a(s);ht()}},i(o){if(!t){for(let u=0;u<r.length;u+=1)Y(i[u]);t=!0}},o(o){i=i.filter(Boolean);for(let u=0;u<i.length;u+=1)te(i[u]);t=!1},d(o){o&&j(e),Gt(i,o)}}}function rH(n,e,t){let{plugin:r}=e,{value:i}=e,{options:a}=e,{onValueChange:o}=e;function u(m){t(0,i=m)}function s(m){i===m?t(0,i=null):t(0,i=m),o(i)}function l(m,h){m.key===" "&&s(h)}let c=m=>s(m.value),f=(m,h)=>{h.target instanceof HTMLInputElement||s(m.value)},p=(m,h)=>l(h,m.value);return n.$$set=m=>{"plugin"in m&&t(4,r=m.plugin),"value"in m&&t(0,i=m.value),"options"in m&&t(1,a=m.options),"onValueChange"in m&&t(5,o=m.onValueChange)},[i,a,s,l,r,o,u,c,f,p]}var wv=class extends Te{constructor(e){super(),Be(this,e,rH,tH,Pe,{plugin:4,value:0,options:1,onValueChange:5,setValue:6})}get setValue(){return this.$$.ctx[6]}},XM=wv;var qp=class extends jt{constructor(e){super(e),this.options=this.mountable.getArguments("option")}filterValue(e){return ko(e)}getFallbackDefaultValue(){return null}getSvelteComponent(){return XM}rawMapValue(e){return e}rawReverseMapValue(e){return e}getMountArgs(){return{options:this.options}}};function QM(n){let e,t;return{c(){e=K("span"),t=Ue(n[1]),q(e,"class","mb-slider-input-label")},m(r,i){Z(r,e,i),Q(e,t)},p(r,i){i&2&&mt(t,r[1])},d(r){r&&j(e)}}}function KM(n){let e,t;return{c(){e=K("span"),t=Ue(n[2]),q(e,"class","mb-slider-input-label")},m(r,i){Z(r,e,i),Q(e,t)},p(r,i){i&4&&mt(t,r[2])},d(r){r&&j(e)}}}function nH(n){let e,t,r,i,a,o,u=n[4]&&QM(n),s=n[4]&&KM(n);return{c(){u&&u.c(),e=le(),t=K("input"),r=le(),s&&s.c(),i=yr(),q(t,"class","mb-slider-input slider"),q(t,"type","range"),q(t,"tabindex","0"),q(t,"min",n[1]),q(t,"max",n[2]),q(t,"step",n[3])},m(l,c){u&&u.m(l,c),Z(l,e,c),Z(l,t,c),$e(t,n[0]),Z(l,r,c),s&&s.m(l,c),Z(l,i,c),a||(o=[Ee(t,"change",n[7]),Ee(t,"input",n[7]),Ee(t,"input",n[8])],a=!0)},p(l,[c]){l[4]?u?u.p(l,c):(u=QM(l),u.c(),u.m(e.parentNode,e)):u&&(u.d(1),u=null),c&2&&q(t,"min",l[1]),c&4&&q(t,"max",l[2]),c&8&&q(t,"step",l[3]),c&1&&$e(t,l[0]),l[4]?s?s.p(l,c):(s=KM(l),s.c(),s.m(i.parentNode,i)):s&&(s.d(1),s=null)},i:je,o:je,d(l){l&&(j(e),j(t),j(r),j(i)),u&&u.d(l),s&&s.d(l),a=!1,Dt(o)}}}function iH(n,e,t){let{value:r}=e,{minValue:i}=e,{maxValue:a}=e,{stepSize:o}=e,{addLabels:u}=e,{onValueChange:s}=e;function l(p){t(0,r=p)}function c(){r=Un(this.value),t(0,r)}let f=()=>s(r);return n.$$set=p=>{"value"in p&&t(0,r=p.value),"minValue"in p&&t(1,i=p.minValue),"maxValue"in p&&t(2,a=p.maxValue),"stepSize"in p&&t(3,o=p.stepSize),"addLabels"in p&&t(4,u=p.addLabels),"onValueChange"in p&&t(5,s=p.onValueChange)},[r,i,a,o,u,s,l,c,f]}var _v=class extends Te{constructor(e){super(),Be(this,e,iH,nH,Pe,{value:0,minValue:1,maxValue:2,stepSize:3,addLabels:4,onValueChange:5,setValue:6})}get setValue(){return this.$$.ctx[6]}},eN=_v;var zp=class extends jt{constructor(e){var t,r,i,a,o,u;if(super(e),this.minValue=(r=(t=this.mountable.getArgument("minValue"))==null?void 0:t.value)!=null?r:0,this.maxValue=(a=(i=this.mountable.getArgument("maxValue"))==null?void 0:i.value)!=null?a:100,this.stepSize=(u=(o=this.mountable.getArgument("stepSize"))==null?void 0:o.value)!=null?u:1,this.minValue>=this.maxValue)throw new Sr({errorLevel:"ERROR",effect:"can not create slider input field",cause:`minValue (${this.maxValue}) must be less than maxValue (${this.maxValue})`})}filterValue(e){return Lf(Ru(e),this.minValue,this.maxValue)}getFallbackDefaultValue(){return this.minValue}getSvelteComponent(){return eN}rawReverseMapValue(e){return e}rawMapValue(e){return e}getMountArgs(){var e;return{minValue:this.minValue,maxValue:this.maxValue,stepSize:this.stepSize,addLabels:((e=this.mountable.getArgument("addLabels"))==null?void 0:e.value)===!0}}};function aH(n){let e,t;return{c(){e=K("span"),t=Ue(n[5])},m(r,i){Z(r,e,i),Q(e,t)},p(r,i){i&32&&mt(t,r[5])},i:je,o:je,d(r){r&&j(e)}}}function oH(n){let e,t,r;function i(o){n[10](o)}let a={};return n[4]!==void 0&&(a.mdLink=n[4]),e=new Uo({props:a}),Mr.push(()=>zn(e,"mdLink",i)),{c(){ge(e.$$.fragment)},m(o,u){de(e,o,u),r=!0},p(o,u){let s={};!t&&u&16&&(t=!0,s.mdLink=o[4],qn(()=>t=!1)),e.$set(s)},i(o){r||(Y(e.$$.fragment,o),r=!0)},o(o){te(e.$$.fragment,o),r=!1},d(o){he(e,o)}}}function sH(n){let e,t;return e=new Or({props:{plugin:n[0],iconName:"list"}}),{c(){ge(e.$$.fragment)},m(r,i){de(e,r,i),t=!0},p(r,i){let a={};i&1&&(a.plugin=r[0]),e.$set(a)},i(r){t||(Y(e.$$.fragment,r),t=!0)},o(r){te(e.$$.fragment,r),t=!1},d(r){he(e,r)}}}function tN(n){let e,t;return e=new Mt({props:{variant:"plain",$$slots:{default:[uH]},$$scope:{ctx:n}}}),e.$on("click",function(){Bs(n[2])&&n[2].apply(this,arguments)}),{c(){ge(e.$$.fragment)},m(r,i){de(e,r,i),t=!0},p(r,i){n=r;let a={};i&2049&&(a.$$scope={dirty:i,ctx:n}),e.$set(a)},i(r){t||(Y(e.$$.fragment,r),t=!0)},o(r){te(e.$$.fragment,r),t=!1},d(r){he(e,r)}}}function uH(n){let e,t;return e=new Or({props:{plugin:n[0],iconName:"pencil"}}),{c(){ge(e.$$.fragment)},m(r,i){de(e,r,i),t=!0},p(r,i){let a={};i&1&&(a.plugin=r[0]),e.$set(a)},i(r){t||(Y(e.$$.fragment,r),t=!0)},o(r){te(e.$$.fragment,r),t=!1},d(r){he(e,r)}}}function lH(n){let e,t,r,i,a,o,u,s,l=[oH,aH],c=[];function f(m,h){return m[6]?0:1}r=f(n,-1),i=c[r]=l[r](n),o=new Mt({props:{variant:"plain",$$slots:{default:[sH]},$$scope:{ctx:n}}}),o.$on("click",function(){Bs(n[1])&&n[1].apply(this,arguments)});let p=n[3]&&tN(n);return{c(){e=K("div"),t=K("div"),i.c(),a=le(),ge(o.$$.fragment),u=le(),p&&p.c(),q(t,"class","mb-suggest-text"),q(e,"class","mb-suggest-input")},m(m,h){Z(m,e,h),Q(e,t),c[r].m(t,null),Q(e,a),de(o,e,null),Q(e,u),p&&p.m(e,null),s=!0},p(m,[h]){n=m;let d=r;r=f(n,h),r===d?c[r].p(n,h):(dt(),te(c[d],1,1,()=>{c[d]=null}),ht(),i=c[r],i?i.p(n,h):(i=c[r]=l[r](n),i.c()),Y(i,1),i.m(t,null));let v={};h&2049&&(v.$$scope={dirty:h,ctx:n}),o.$set(v),n[3]?p?(p.p(n,h),h&8&&Y(p,1)):(p=tN(n),p.c(),Y(p,1),p.m(e,null)):p&&(dt(),te(p,1,1,()=>{p=null}),ht())},i(m){s||(Y(i),Y(o.$$.fragment,m),Y(p),s=!0)},o(m){te(i),te(o.$$.fragment,m),te(p),s=!1},d(m){m&&j(e),c[r].d(),he(o),p&&p.d()}}}function cH(n,e,t){let{plugin:r}=e,{value:i}=e,{showSuggester:a}=e,{showTextPrompt:o}=e,{allowOther:u}=e,{onValueChange:s}=e,l,c,f=!1;Ci(()=>{p(i)});function p(h){var d;let v=(d=h==null?void 0:h.toString())!==null&&d!==void 0?d:"null";if(t(6,f=sn.isLink(v)),f)try{t(4,l=sn.parseLink(v))}catch(y){console.warn(y)}else t(5,c=v)}function m(h){l=h,t(4,l)}return n.$$set=h=>{"plugin"in h&&t(0,r=h.plugin),"value"in h&&t(7,i=h.value),"showSuggester"in h&&t(1,a=h.showSuggester),"showTextPrompt"in h&&t(2,o=h.showTextPrompt),"allowOther"in h&&t(3,u=h.allowOther),"onValueChange"in h&&t(8,s=h.onValueChange)},[r,a,o,u,l,c,f,i,s,p,m]}var Sv=class extends Te{constructor(e){super(),Be(this,e,cH,lH,Pe,{plugin:0,value:7,showSuggester:1,showTextPrompt:2,allowOther:3,onValueChange:8,setValue:9})}get setValue(){return this.$$.ctx[9]}},rN=Sv;var $p=class extends jt{filterValue(e){return ko(e)}getFallbackDefaultValue(){return null}getSvelteComponent(){return rN}rawMapValue(e){return e}rawReverseMapValue(e){return e}getMountArgs(){var e;return{showSuggester:()=>this.openModal(),showTextPrompt:()=>this.openTextModal(),allowOther:((e=this.mountable.getArgument("allowOther"))==null?void 0:e.value)===!0}}openModal(){this.mountable.plugin.internal.openSuggesterModal(this,e=>this.setInternalValue(e.value))}openTextModal(){this.mountable.plugin.internal.openTextPromptModal({title:"Meta Bind Suggester",subTitle:"Set the suggester value.",value:"",multiline:!1,onSubmit:e=>{this.setInternalValue(e)},onCancel:()=>{}})}};function nN(n){let e,t=iN(n[0].length,n[2])+"",r,i;return{c(){e=K("span"),r=Ue(t),q(e,"class",i=`mb-content-limit-indicator ${n[0].length>n[2]?"mb-content-limit-indicator-overflow":""}`)},m(a,o){Z(a,e,o),Q(e,r)},p(a,o){o&5&&t!==(t=iN(a[0].length,a[2])+"")&&mt(r,t),o&5&&i!==(i=`mb-content-limit-indicator ${a[0].length>a[2]?"mb-content-limit-indicator-overflow":""}`)&&q(e,"class",i)},d(a){a&&j(e)}}}function fH(n){let e,t,r,i,a,o=n[2]!==void 0&&nN(n);return{c(){e=K("input"),t=le(),o&&o.c(),r=yr(),q(e,"type","text"),q(e,"tabindex","0"),q(e,"placeholder",n[1]),q(e,"maxlength",n[2])},m(u,s){Z(u,e,s),$e(e,n[0]),Z(u,t,s),o&&o.m(u,s),Z(u,r,s),i||(a=[Ee(e,"input",n[6]),Ee(e,"input",n[7])],i=!0)},p(u,[s]){s&2&&q(e,"placeholder",u[1]),s&4&&q(e,"maxlength",u[2]),s&1&&e.value!==u[0]&&$e(e,u[0]),u[2]!==void 0?o?o.p(u,s):(o=nN(u),o.c(),o.m(r.parentNode,r)):o&&(o.d(1),o=null)},i:je,o:je,d(u){u&&(j(e),j(t),j(r)),o&&o.d(u),i=!1,Dt(a)}}}function iN(n,e){let t=e.toString();return`${n.toString().padStart(t.length,"0")}/${t}`}function pH(n,e,t){let{plugin:r}=e,{value:i}=e,{placeholder:a}=e,{limit:o}=e,{onValueChange:u}=e;function s(f){t(0,i=f)}function l(){i=this.value,t(0,i)}let c=()=>u(i);return n.$$set=f=>{"plugin"in f&&t(4,r=f.plugin),"value"in f&&t(0,i=f.value),"placeholder"in f&&t(1,a=f.placeholder),"limit"in f&&t(2,o=f.limit),"onValueChange"in f&&t(3,u=f.onValueChange)},[i,a,o,u,r,s,l,c]}var Av=class extends Te{constructor(e){super(),Be(this,e,pH,fH,Pe,{plugin:4,value:0,placeholder:1,limit:2,onValueChange:3,setValue:5})}get setValue(){return this.$$.ctx[5]}},aN=Av;var Hp=class extends jt{filterValue(e){return Fa(e)}getFallbackDefaultValue(){return""}getSvelteComponent(){return aN}rawReverseMapValue(e){return e}rawMapValue(e){return e}getMountArgs(){var e,t,r;return{placeholder:(t=(e=this.mountable.getArgument("placeholder"))==null?void 0:e.value)!=null?t:"Text",limit:(r=this.mountable.getArgument("limit"))==null?void 0:r.value}}};function mH(n){let e,t,r;return{c(){e=K("textarea"),q(e,"class","mb-input-textarea"),q(e,"tabindex","0"),q(e,"placeholder",n[1]),q(e,"maxlength",n[2])},m(i,a){Z(i,e,a),$e(e,n[0]),t||(r=[Ee(e,"input",n[5]),Ee(e,"input",n[6])],t=!0)},p(i,[a]){a&2&&q(e,"placeholder",i[1]),a&4&&q(e,"maxlength",i[2]),a&1&&$e(e,i[0])},i:je,o:je,d(i){i&&j(e),t=!1,Dt(r)}}}function dH(n,e,t){let{value:r}=e,{placeholder:i}=e,{limit:a}=e,{onValueChange:o}=e;function u(c){t(0,r=c)}function s(){r=this.value,t(0,r)}let l=()=>o(r);return n.$$set=c=>{"value"in c&&t(0,r=c.value),"placeholder"in c&&t(1,i=c.placeholder),"limit"in c&&t(2,a=c.limit),"onValueChange"in c&&t(3,o=c.onValueChange)},[r,i,a,o,u,s,l]}var Ev=class extends Te{constructor(e){super(),Be(this,e,dH,mH,Pe,{value:0,placeholder:1,limit:2,onValueChange:3,setValue:4})}get setValue(){return this.$$.ctx[4]}},oN=Ev;var Gp=class extends jt{filterValue(e){return Fa(e)}getFallbackDefaultValue(){return""}getSvelteComponent(){return oN}rawReverseMapValue(e){return e}rawMapValue(e){return e}getMountArgs(){var e,t,r;return{placeholder:(t=(e=this.mountable.getArgument("placeholder"))==null?void 0:e.value)!=null?t:"Text",limit:(r=this.mountable.getArgument("limit"))==null?void 0:r.value}}};function hH(n){let e,t,r;return{c(){e=K("input"),q(e,"type","time")},m(i,a){Z(i,e,a),$e(e,n[0]),t||(r=[Ee(e,"input",n[3]),Ee(e,"input",n[4])],t=!0)},p(i,[a]){a&1&&$e(e,i[0])},i:je,o:je,d(i){i&&j(e),t=!1,Dt(r)}}}function gH(n,e,t){let{value:r}=e,{onValueChange:i}=e;function a(s){t(0,r=s)}function o(){r=this.value,t(0,r)}let u=()=>i(r);return n.$$set=s=>{"value"in s&&t(0,r=s.value),"onValueChange"in s&&t(1,i=s.onValueChange)},[r,i,a,o,u]}var Dv=class extends Te{constructor(e){super(),Be(this,e,gH,hH,Pe,{value:0,onValueChange:1,setValue:2})}get setValue(){return this.$$.ctx[2]}},sN=Dv;var Wp=class extends jt{filterValue(e){return Fa(e)}getFallbackDefaultValue(){return"00:00"}getSvelteComponent(){return sN}rawMapValue(e){return e}rawReverseMapValue(e){return e}};function vH(n){let e,t,r,i;return{c(){e=K("div"),t=K("input"),q(t,"type","checkbox"),q(t,"tabindex","-1"),t.checked=n[0],q(e,"class","checkbox-container"),q(e,"role","switch"),q(e,"tabindex","0"),q(e,"aria-checked",n[0]),Ut(e,"is-enabled",n[0])},m(a,o){Z(a,e,o),Q(e,t),r||(i=[Ee(e,"click",n[5]),Ee(e,"keypress",n[6])],r=!0)},p(a,[o]){o&1&&(t.checked=a[0]),o&1&&q(e,"aria-checked",a[0]),o&1&&Ut(e,"is-enabled",a[0])},i:je,o:je,d(a){a&&j(e),r=!1,Dt(i)}}}function yH(n,e,t){let{value:r}=e,{onValueChange:i}=e;function a(c){t(0,r=c)}function o(){t(0,r=!r),i(r)}function u(c){c.key===" "&&o()}let s=()=>o(),l=c=>u(c);return n.$$set=c=>{"value"in c&&t(0,r=c.value),"onValueChange"in c&&t(3,i=c.onValueChange)},[r,o,u,i,a,s,l]}var Mv=class extends Te{constructor(e){super(),Be(this,e,yH,vH,Pe,{value:0,onValueChange:3,setValue:4})}get setValue(){return this.$$.ctx[4]}},uN=Mv;var Yp=class extends jt{constructor(e){var t,r,i,a;super(e),this.onValue=(r=(t=this.mountable.getArgument("onValue"))==null?void 0:t.value)!=null?r:!0,this.offValue=(a=(i=this.mountable.getArgument("offValue"))==null?void 0:i.value)!=null?a:!1}filterValue(e){return e===this.onValue||e===this.offValue?ko(e):void 0}getFallbackDefaultValue(){return!1}getSvelteComponent(){return uN}rawReverseMapValue(e){return e===this.onValue?!0:(e===this.offValue,!1)}rawMapValue(e){return e?this.onValue:this.offValue}};function lN(n,e,t){let r=n.slice();return r[11]=e[t],r[13]=t,r}function cN(n){let e,t,r,i,a,o,u,s=n[11]+"",l,c,f,p;function m(...h){return n[7](n[13],...h)}return{c(){e=K("div"),t=K("img"),a=le(),o=K("div"),u=K("span"),l=Ue(s),c=le(),q(t,"class","mb-image-card-image"),Gi(t.src,r=n[1].internal.imagePathToUri(n[11]))||q(t,"src",r),q(t,"alt",i=n[11]),q(o,"class","mb-image-card-footer"),q(e,"class","mb-image-card"),q(e,"role","listitem")},m(h,d){Z(h,e,d),Q(e,t),Q(e,a),Q(e,o),Q(o,u),Q(u,l),Q(e,c),f||(p=Ee(e,"contextmenu",m),f=!0)},p(h,d){n=h,d&3&&!Gi(t.src,r=n[1].internal.imagePathToUri(n[11]))&&q(t,"src",r),d&1&&i!==(i=n[11])&&q(t,"alt",i),d&1&&s!==(s=n[11]+"")&&mt(l,s)},d(h){h&&j(e),f=!1,p()}}}function bH(n){let e;return{c(){e=Ue("Add new image")},m(t,r){Z(t,e,r)},d(t){t&&j(e)}}}function xH(n){let e,t,r,i,a,o=ot(n[0]),u=[];for(let s=0;s<o.length;s+=1)u[s]=cN(lN(n,o,s));return i=new Mt({props:{variant:"default",$$slots:{default:[bH]},$$scope:{ctx:n}}}),i.$on("click",n[8]),{c(){e=K("div");for(let s=0;s<u.length;s+=1)u[s].c();t=le(),r=K("div"),ge(i.$$.fragment),q(e,"class","mb-image-card-grid"),q(r,"class","mb-list-input")},m(s,l){Z(s,e,l);for(let c=0;c<u.length;c+=1)u[c]&&u[c].m(e,null);Z(s,t,l),Z(s,r,l),de(i,r,null),a=!0},p(s,[l]){if(l&11){o=ot(s[0]);let f;for(f=0;f<o.length;f+=1){let p=lN(s,o,f);u[f]?u[f].p(p,l):(u[f]=cN(p),u[f].c(),u[f].m(e,null))}for(;f<u.length;f+=1)u[f].d(1);u.length=o.length}let c={};l&16384&&(c.$$scope={dirty:l,ctx:s}),i.$set(c)},i(s){a||(Y(i.$$.fragment,s),a=!0)},o(s){te(i.$$.fragment,s),a=!1},d(s){s&&(j(e),j(t),j(r)),Gt(u,s),he(i)}}}function wH(n,e,t){let{plugin:r}=e,{value:i}=e,{showSuggester:a}=e,{onValueChange:o}=e;function u(h){t(0,i=h)}function s(h){i.push(h),t(0,i)}function l(h){i.splice(h,1),o(i),t(0,i)}function c(h){h.key===" "&&a()}function f(h,d){let v=[];d>0&&v.push({name:"Move left",icon:"arrow-left",onclick:()=>{let y=i[d-1];t(0,i[d-1]=i[d],i),t(0,i[d]=y,i),o(i)}}),d<i.length-1&&v.push({name:"Move right",icon:"arrow-right",onclick:()=>{let y=i[d+1];t(0,i[d+1]=i[d],i),t(0,i[d]=y,i),o(i)}}),v.push({name:"Copy image path",icon:"copy",onclick:()=>{let y=i[d];navigator.clipboard.writeText(y).then(()=>{r.internal.showNotice("Image path copied to clipboard")})}}),v.push({name:"Remove",icon:"x",warning:!0,onclick:()=>l(d)}),r.internal.createContextMenu(v).showWithEvent(h)}let p=(h,d)=>f(d,h),m=()=>a();return n.$$set=h=>{"plugin"in h&&t(1,r=h.plugin),"value"in h&&t(0,i=h.value),"showSuggester"in h&&t(2,a=h.showSuggester),"onValueChange"in h&&t(4,o=h.onValueChange)},[i,r,a,f,o,u,s,p,m]}var Nv=class extends Te{constructor(e){super(),Be(this,e,wH,xH,Pe,{plugin:1,value:0,showSuggester:2,onValueChange:4,setValue:5,addValue:6})}get setValue(){return this.$$.ctx[5]}get addValue(){return this.$$.ctx[6]}},fN=Nv;var jp=class extends jt{filterValue(e){return Hi(e)}getFallbackDefaultValue(){return[]}getSvelteComponent(){return fN}rawMapValue(e){return e}rawReverseMapValue(e){return e.map(t=>fa(t)).filter(t=>t!==void 0)}getMountArgs(){return{showSuggester:()=>this.openModal()}}openModal(){this.mountable.plugin.internal.openImageSuggesterModal(this,e=>{let t=this.getInternalValue();t.push(e),this.setInternalValue(t)})}};function _H(n){let e,t,r;return{c(){e=K("input"),q(e,"type","datetime-local")},m(i,a){Z(i,e,a),$e(e,n[0]),t||(r=[Ee(e,"input",n[3]),Ee(e,"input",n[4])],t=!0)},p(i,[a]){a&1&&$e(e,i[0])},i:je,o:je,d(i){i&&j(e),t=!1,Dt(r)}}}function SH(n,e,t){let{value:r}=e,{onValueChange:i}=e;function a(s){t(0,r=s)}function o(){r=this.value,t(0,r)}let u=()=>i(r);return n.$$set=s=>{"value"in s&&t(0,r=s.value),"onValueChange"in s&&t(1,i=s.onValueChange)},[r,i,a,o,u]}var Cv=class extends Te{constructor(e){super(),Be(this,e,SH,_H,Pe,{value:0,onValueChange:1,setValue:2})}get setValue(){return this.$$.ctx[2]}},pN=Cv;var Zp=class extends jt{filterValue(e){return Fa(e)}getFallbackDefaultValue(){return Rn.stringify(Rn.getDefaultDate())}getSvelteComponent(){return pN}rawMapValue(e){return e}rawReverseMapValue(e){return e}};var Jp=class{constructor(e){this.plugin=e}createInputField(e){let t=e.declaration.inputFieldType,r=e.renderChildType;if(t!=="invalid"&&this.checkRenderChildTypeAllowed(t,r),t==="toggle")return new Yp(e);if(t==="slider")return new zp(e);if(t==="text")return new Hp(e);if(t==="textArea")return new Gp(e);if(t==="select")return new qp(e);if(t==="multiSelect")return new Lp(e);if(t==="datePicker")return new Cp(e);if(t==="number")return new Vp(e);if(t==="suggester")return new $p(e);if(t==="editor")return new Tp(e);if(t==="progressBar")return new Up(e);if(t==="inlineSelect")return new Op(e);if(t==="imageSuggester")return new Fp(e);if(t==="list")return new kp(e);if(t==="listSuggester")return new Rp(e);if(t==="date")return new Np(e);if(t==="time")return new Wp(e);if(t==="inlineListSuggester")return new Bp(e);if(t==="inlineList")return new Pp(e);if(t==="imageListSuggester")return new jp(e);if(t==="dateTime")return new Zp(e);}checkRenderChildTypeAllowed(e,t){if(this.plugin.settings.ignoreCodeBlockRestrictions)return;let r=Ff[e];if(t==="block"&&!r.allowInBlock)throw new to({errorLevel:"ERROR",effect:"can not create input field",cause:`input fields of type '${e}' are not allowed inside of code blocks`,docs:[Ot.linkToInputField(e)]});if(t==="inline"&&!r.allowInline)throw new to({errorLevel:"ERROR",effect:"can not create input field",cause:`input fields of type '${e}' are not allowed inside of inline code blocks`,docs:[Ot.linkToInputField(e)]})}};var Xp=class extends mn{constructor(e,t,r,i){super(e,t,r),this.declaration=i,this.declarationString=i.declarationString,this.errorCollection=new Lt(this.getUuid()),this.errorCollection.merge(i.errorCollection),this.variables=[],this.buildVariables()}buildVariables(){var e;if(this.errorCollection.isEmpty())try{for(let t of(e=this.declaration.bindTargetMappings)!=null?e:[])this.variables.push({bindTargetDeclaration:t.bindTarget,inputSignal:new Ir(void 0),uuid:Dr(),contextName:t.name})}catch(t){this.errorCollection.add(t)}}buildContext(){var t,r;let e={};for(let i of(t=this.variables)!=null?t:[])!i.contextName||!i.inputSignal||(e[i.contextName]=(r=i.inputSignal.get())!=null?r:"");return e}async evaluate(){var e;return(e=this.jsRenderer)==null?void 0:e.evaluate({bound:this.buildContext()})}registerSelfToMetadataManager(){let e=new Ir(void 0);this.metadataSubscription=this.plugin.metadataManager.subscribeComputed(this.getUuid(),e,this.declaration.writeToBindTarget,this.variables.map(t=>({bindTarget:t.bindTargetDeclaration,callbackSignal:t.inputSignal})),async()=>await this.evaluate(),()=>this.unmount())}unregisterSelfFromMetadataManager(){var e;(e=this.metadataSubscription)==null||e.unsubscribe()}createErrorIndicator(e){this.plugin.internal.createErrorIndicator(e,{errorCollection:this.errorCollection,errorText:"Errors caused the creation of the field to fail. Sometimes one error only occurs because of another.",warningText:"Warnings will not cause the creation of a field to fail, but they indicate that a part of the declaration was invalid or uses deprecated functionality.",code:this.declarationString})}onMount(e){if(console.debug("meta-bind | JsViewFieldMountable >> mount",this.declaration),super.onMount(e),lt.addClass(e,"mb-view"),lt.empty(e),this.plugin.internal.isJsEngineAvailable()||this.errorCollection.add(new Xl({errorLevel:"ERROR",effect:"can not create js view field",cause:"The JS Engine plugin is not installed and enabled."})),!this.plugin.settings.enableJs)throw new Xl({errorLevel:"CRITICAL",effect:"Can't evaluate expression.",cause:"JS expressions are disabled in the plugin settings."});if(this.createErrorIndicator(e),this.errorCollection.hasErrors())return;let t=document.createElement("div");lt.addClass(t,"mb-view-wrapper"),this.jsRenderer=this.plugin.internal.createJsRenderer(t,this.getFilePath(),this.declaration.code),this.registerSelfToMetadataManager(),e.appendChild(t)}onUnmount(e){console.debug("meta-bind | JsViewFieldMountable >> unmount",this.declaration),super.onUnmount(e),this.unregisterSelfFromMetadataManager(),kn(e,"js view field")}};var Qp=class extends mn{constructor(e,t,r,i,a){super(e,t,r),this.renderChildType=i,this.declaration=a,this.declarationString=a.declarationString,this.errorCollection=new Lt(this.getUuid()),this.errorCollection.merge(a.errorCollection)}hasArgument(e){return this.getArguments(e).length>0}getArgument(e){return this.getArguments(e).at(0)}getArguments(e){if(this.declaration.errorCollection.hasErrors())throw new Bt({errorLevel:"ERROR",effect:"an not retrieve arguments",cause:"viewFieldDeclaration has errors"});return this.declaration.argumentContainer.getAll(e)}getDeclaration(){return this.declaration}createViewField(){if(!this.errorCollection.hasErrors())try{this.viewField=this.plugin.api.viewFieldFactory.createViewField(this)}catch(e){this.errorCollection.add(e)}!this.errorCollection.hasErrors()&&!this.viewField&&this.errorCollection.add(new Bt({errorLevel:"CRITICAL",effect:"can't render view field",cause:"view field is undefined"}))}createErrorIndicator(e){this.plugin.internal.createErrorIndicator(e,{errorCollection:this.errorCollection,errorText:"Errors caused the creation of the field to fail. Sometimes one error only occurs because of another.",warningText:"Warnings will not cause the creation of a field to fail, but they indicate that a part of the declaration was invalid or uses deprecated functionality.",code:this.declarationString})}onMount(e){var i;if(console.debug("meta-bind | ViewFieldMountable >> mount",this.declaration),super.onMount(e),lt.empty(e),lt.addClass(e,"mb-view"),this.createViewField(),this.errorCollection.hasErrors()){this.createErrorIndicator(e);return}let t=document.createElement("div");lt.addClass(t,"mb-view-wrapper");try{(i=this.viewField)==null||i.mount(t)}catch(a){this.errorCollection.add(a)}this.createErrorIndicator(e),e.append(t);let r=this.getArguments("class");for(let a of r)lt.addClasses(t,a.value);lt.addClass(t,`mb-view-type-${this.declaration.viewFieldType}`),this.renderChildType==="block"?lt.addClass(e,"mb-view-block"):lt.addClass(e,"mb-view-inline")}onUnmount(e){var t;console.debug("meta-bind | ViewFieldMountable >> unmount",this.declaration),super.onUnmount(e),(t=this.viewField)==null||t.unmount(),kn(e,"view field")}};var Pa=class extends Vn{constructor(e){super(),this.mountable=e,this.plugin=e.plugin,this.inputSignal=new Ir(void 0),this.variables=[],this.hidden=!1}async initialRender(e){var t,r;lt.addClass(e,"mb-view-text"),this.hidden=(r=(t=this.mountable.getArgument("hidden"))==null?void 0:t.value)!=null?r:!1,this.hidden&&lt.addClass(e,"mb-view-hidden"),await this.onInitialRender(e),await this.rerender(e,"")}async rerender(e,t){var r;if(!this.hidden){let i=(r=lp(t,this.mountable.plugin.settings.viewFieldDisplayNullAsEmpty))!=null?r:"";lt.empty(e),await this.onRerender(e,i)}}onMount(e){this.buildVariables(),this.inputSignal.registerListener({callback:t=>void this.rerender(e,t)}),this.metadataSubscription=this.mountable.plugin.metadataManager.subscribeComputed(this.mountable.getUuid(),this.inputSignal,this.mountable.getDeclaration().writeToBindTarget,this.variables.map(t=>({bindTarget:t.bindTargetDeclaration,callbackSignal:t.inputSignal})),async()=>await this.computeValue(),()=>this.mountable.unmount()),this.initialRender(e)}onUnmount(){var e;this.inputSignal.unregisterAllListeners(),(e=this.metadataSubscription)==null||e.unsubscribe()}};function AH(n){let e,t;return e=new Ip({props:{elements:n[0],$$slots:{default:[MH,({element:r})=>({1:r}),({element:r})=>r?2:0]},$$scope:{ctx:n}}}),{c(){ge(e.$$.fragment)},m(r,i){de(e,r,i),t=!0},p(r,i){let a={};i&1&&(a.elements=r[0]),i&6&&(a.$$scope={dirty:i,ctx:r}),e.$set(a)},i(r){t||(Y(e.$$.fragment,r),t=!0)},o(r){te(e.$$.fragment,r),t=!1},d(r){he(e,r)}}}function EH(n){let e,t;return e=new Uo({props:{mdLink:n[0][0]}}),{c(){ge(e.$$.fragment)},m(r,i){de(e,r,i),t=!0},p(r,i){let a={};i&1&&(a.mdLink=r[0][0]),e.$set(a)},i(r){t||(Y(e.$$.fragment,r),t=!0)},o(r){te(e.$$.fragment,r),t=!1},d(r){he(e,r)}}}function DH(n){let e;return{c(){e=K("span")},m(t,r){Z(t,e,r)},p:je,i:je,o:je,d(t){t&&j(e)}}}function MH(n){let e,t;return e=new Uo({props:{mdLink:n[1]}}),{c(){ge(e.$$.fragment)},m(r,i){de(e,r,i),t=!0},p(r,i){let a={};i&2&&(a.mdLink=r[1]),e.$set(a)},i(r){t||(Y(e.$$.fragment,r),t=!0)},o(r){te(e.$$.fragment,r),t=!1},d(r){he(e,r)}}}function NH(n){let e,t,r,i,a=[DH,EH,AH],o=[];function u(s,l){return s[0].length===0?0:s[0].length===1?1:2}return e=u(n,-1),t=o[e]=a[e](n),{c(){t.c(),r=yr()},m(s,l){o[e].m(s,l),Z(s,r,l),i=!0},p(s,[l]){let c=e;e=u(s,l),e===c?o[e].p(s,l):(dt(),te(o[c],1,1,()=>{o[c]=null}),ht(),t=o[e],t?t.p(s,l):(t=o[e]=a[e](s),t.c()),Y(t,1),t.m(r.parentNode,r))},i(s){i||(Y(t),i=!0)},o(s){te(t),i=!1},d(s){s&&j(r),o[e].d(s)}}}function CH(n,e,t){let{mdLinkList:r}=e;return n.$$set=i=>{"mdLinkList"in i&&t(0,r=i.mdLinkList)},[r]}var Tv=class extends Te{constructor(e){super(),Be(this,e,CH,NH,Pe,{mdLinkList:0})}},Fv=Tv;var Kp=class extends Pa{constructor(e){super(e)}buildVariables(){let e=this.mountable.getDeclaration().templateDeclaration.filter(r=>typeof r=="string"?r:!0);if(e.length!==1)throw new Po({errorLevel:"ERROR",effect:"can not create view field",cause:"link view filed only supports exactly a single bind target and not text content"});let t=e[0];if(typeof t=="string")throw new Po({errorLevel:"ERROR",effect:"can not create view field",cause:"link view filed only supports exactly a single bind target and not text content"});t.listenToChildren=!0,this.variables=[{bindTargetDeclaration:t,inputSignal:new Ir(void 0),uuid:Dr(),contextName:"MB_VAR_0"}]}computeValue(){if(this.variables.length!==1)throw new ca({errorLevel:"CRITICAL",effect:"failed to evaluate link view field",cause:"there should be exactly one variable"});let t=this.variables[0].inputSignal.get();return typeof t=="string"?sn.convertToLinkString(t):Array.isArray(t)?t.filter(i=>typeof i=="string").map(i=>sn.convertToLinkString(i)).filter(i=>i!=="").join(", "):""}onInitialRender(e){this.component=new Fv({target:e,props:{mdLinkList:[]}})}async onRerender(e,t){let r=sn.parseLinkList(t);this.component=new Fv({target:e,props:{mdLinkList:r}})}onUnmount(){var e;super.onUnmount(),(e=this.component)==null||e.$destroy()}};function kr(){return kr=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},kr.apply(this,arguments)}var Iv={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null};function yt(n){return typeof n=="number"}function st(n){return!n||typeof n!="object"||typeof n.constructor!="function"?!1:n.isBigNumber===!0&&typeof n.constructor.prototype=="object"&&n.constructor.prototype.isBigNumber===!0||typeof n.constructor.isDecimal=="function"&&n.constructor.isDecimal(n)===!0}function ai(n){return n&&typeof n=="object"&&Object.getPrototypeOf(n).isComplex===!0||!1}function so(n){return n&&typeof n=="object"&&Object.getPrototypeOf(n).isFraction===!0||!1}function Nn(n){return n&&n.constructor.prototype.isUnit===!0||!1}function Wr(n){return typeof n=="string"}var Zt=Array.isArray;function rt(n){return n&&n.constructor.prototype.isMatrix===!0||!1}function Qr(n){return Array.isArray(n)||rt(n)}function Vs(n){return n&&n.isDenseMatrix&&n.constructor.prototype.isMatrix===!0||!1}function ga(n){return n&&n.isSparseMatrix&&n.constructor.prototype.isMatrix===!0||!1}function $u(n){return n&&n.constructor.prototype.isRange===!0||!1}function qo(n){return n&&n.constructor.prototype.isIndex===!0||!1}function mN(n){return typeof n=="boolean"}function dN(n){return n&&n.constructor.prototype.isResultSet===!0||!1}function em(n){return n&&n.constructor.prototype.isHelp===!0||!1}function hN(n){return typeof n=="function"}function gN(n){return n instanceof Date}function vN(n){return n instanceof RegExp}function zo(n){return!!(n&&typeof n=="object"&&n.constructor===Object&&!ai(n)&&!so(n))}function yN(n){return n===null}function bN(n){return n===void 0}function Ti(n){return n&&n.isAccessorNode===!0&&n.constructor.prototype.isNode===!0||!1}function Cn(n){return n&&n.isArrayNode===!0&&n.constructor.prototype.isNode===!0||!1}function xN(n){return n&&n.isAssignmentNode===!0&&n.constructor.prototype.isNode===!0||!1}function wN(n){return n&&n.isBlockNode===!0&&n.constructor.prototype.isNode===!0||!1}function _N(n){return n&&n.isConditionalNode===!0&&n.constructor.prototype.isNode===!0||!1}function kt(n){return n&&n.isConstantNode===!0&&n.constructor.prototype.isNode===!0||!1}function lc(n){return kt(n)||Pr(n)&&n.args.length===1&&kt(n.args[0])&&"-+~".includes(n.op)}function Ba(n){return n&&n.isFunctionAssignmentNode===!0&&n.constructor.prototype.isNode===!0||!1}function oi(n){return n&&n.isFunctionNode===!0&&n.constructor.prototype.isNode===!0||!1}function ji(n){return n&&n.isIndexNode===!0&&n.constructor.prototype.isNode===!0||!1}function qt(n){return n&&n.isNode===!0&&n.constructor.prototype.isNode===!0||!1}function $o(n){return n&&n.isObjectNode===!0&&n.constructor.prototype.isNode===!0||!1}function Pr(n){return n&&n.isOperatorNode===!0&&n.constructor.prototype.isNode===!0||!1}function Tn(n){return n&&n.isParenthesisNode===!0&&n.constructor.prototype.isNode===!0||!1}function SN(n){return n&&n.isRangeNode===!0&&n.constructor.prototype.isNode===!0||!1}function AN(n){return n&&n.isRelationalNode===!0&&n.constructor.prototype.isNode===!0||!1}function Ar(n){return n&&n.isSymbolNode===!0&&n.constructor.prototype.isNode===!0||!1}function tm(n){return n&&n.constructor.prototype.isChain===!0||!1}function Wt(n){var e=typeof n;return e==="object"?n===null?"null":st(n)?"BigNumber":n.constructor&&n.constructor.name?n.constructor.name:"Object":e}function pt(n){var e=typeof n;if(e==="number"||e==="string"||e==="boolean"||n===null||n===void 0)return n;if(typeof n.clone=="function")return n.clone();if(Array.isArray(n))return n.map(function(t){return pt(t)});if(n instanceof Date)return new Date(n.valueOf());if(st(n))return n;if(zo(n))return TH(n,pt);throw new TypeError("Cannot clone: unknown type of value (value: ".concat(n,")"))}function TH(n,e){var t={};for(var r in n)it(n,r)&&(t[r]=e(n[r]));return t}function rm(n,e){for(var t in e)it(e,t)&&(n[t]=e[t]);return n}function va(n,e){var t,r,i;if(Array.isArray(n)){if(!Array.isArray(e)||n.length!==e.length)return!1;for(r=0,i=n.length;r<i;r++)if(!va(n[r],e[r]))return!1;return!0}else{if(typeof n=="function")return n===e;if(n instanceof Object){if(Array.isArray(e)||!(e instanceof Object))return!1;for(t in n)if(!(t in e)||!va(n[t],e[t]))return!1;for(t in e)if(!(t in n))return!1;return!0}else return n===e}}function EN(n,e,t){var r=!0,i;Object.defineProperty(n,e,{get:function(){return r&&(i=t(),r=!1),i},set:function(o){i=o,r=!1},configurable:!0,enumerable:!0})}function it(n,e){return n&&Object.hasOwnProperty.call(n,e)}function DN(n,e){for(var t={},r=0;r<e.length;r++){var i=e[r],a=n[i];a!==void 0&&(t[i]=a)}return t}var MN=["Matrix","Array"],NN=["number","BigNumber","Fraction"];var ke=function(e){if(e)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(Iv)};kr(ke,Iv,{MATRIX_OPTIONS:MN,NUMBER_OPTIONS:NN});var jv=hr(Ov(),1);function Ke(n){return typeof n=="boolean"?!0:isFinite(n)?n===Math.round(n):!1}var Zi=Math.sign||function(n){return n>0?1:n<0?-1:0},FN=Math.log2||function(e){return Math.log(e)/Math.LN2},IN=Math.log10||function(e){return Math.log(e)/Math.LN10},nm=Math.log1p||function(n){return Math.log(n+1)},PN=Math.cbrt||function(e){if(e===0)return e;var t=e<0,r;return t&&(e=-e),isFinite(e)?(r=Math.exp(Math.log(e)/3),r=(e/(r*r)+2*r)/3):r=e,t?-r:r},BN=Math.expm1||function(e){return e>=2e-4||e<=-2e-4?Math.exp(e)-1:e+e*e/2+e*e*e/6};function kv(n,e,t){var r={2:"0b",8:"0o",16:"0x"},i=r[e],a="";if(t){if(t<1)throw new Error("size must be in greater than 0");if(!Ke(t))throw new Error("size must be an integer");if(n>2**(t-1)-1||n<-(2**(t-1)))throw new Error("Value must be in range [-2^".concat(t-1,", 2^").concat(t-1,"-1]"));if(!Ke(n))throw new Error("Value must be an integer");n<0&&(n=n+2**t),a="i".concat(t)}var o="";return n<0&&(n=-n,o="-"),"".concat(o).concat(i).concat(n.toString(e)).concat(a)}function ya(n,e){if(typeof e=="function")return e(n);if(n===1/0)return"Infinity";if(n===-1/0)return"-Infinity";if(isNaN(n))return"NaN";var{notation:t,precision:r,wordSize:i}=Rv(e);switch(t){case"fixed":return Lv(n,r);case"exponential":return ON(n,r);case"engineering":return FH(n,r);case"bin":return kv(n,2,i);case"oct":return kv(n,8,i);case"hex":return kv(n,16,i);case"auto":return IH(n,r,e).replace(/((\.\d*?)(0+))($|e)/,function(){var a=arguments[2],o=arguments[4];return a!=="."?a+o:o});default:throw new Error('Unknown notation "'+t+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function Rv(n){var e="auto",t,r;if(n!==void 0)if(yt(n))t=n;else if(st(n))t=n.toNumber();else if(zo(n))n.precision!==void 0&&(t=CN(n.precision,()=>{throw new Error('Option "precision" must be a number or BigNumber')})),n.wordSize!==void 0&&(r=CN(n.wordSize,()=>{throw new Error('Option "wordSize" must be a number or BigNumber')})),n.notation&&(e=n.notation);else throw new Error("Unsupported type of options, number, BigNumber, or object expected");return{notation:e,precision:t,wordSize:r}}function Gu(n){var e=String(n).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!e)throw new SyntaxError("Invalid number "+n);var t=e[1],r=e[2],i=parseFloat(e[4]||"0"),a=r.indexOf(".");i+=a!==-1?a-1:r.length-1;var o=r.replace(".","").replace(/^0*/,function(u){return i-=u.length,""}).replace(/0*$/,"").split("").map(function(u){return parseInt(u)});return o.length===0&&(o.push(0),i++),{sign:t,coefficients:o,exponent:i}}function FH(n,e){if(isNaN(n)||!isFinite(n))return String(n);var t=Gu(n),r=im(t,e),i=r.exponent,a=r.coefficients,o=i%3===0?i:i<0?i-3-i%3:i-i%3;if(yt(e))for(;e>a.length||i-o+1>a.length;)a.push(0);else for(var u=Math.abs(i-o)-(a.length-1),s=0;s<u;s++)a.push(0);for(var l=Math.abs(i-o),c=1;l>0;)c++,l--;var f=a.slice(c).join(""),p=yt(e)&&f.length||f.match(/[1-9]/)?"."+f:"",m=a.slice(0,c).join("")+p+"e"+(i>=0?"+":"")+o.toString();return r.sign+m}function Lv(n,e){if(isNaN(n)||!isFinite(n))return String(n);var t=Gu(n),r=typeof e=="number"?im(t,t.exponent+1+e):t,i=r.coefficients,a=r.exponent+1,o=a+(e||0);return i.length<o&&(i=i.concat(Hu(o-i.length))),a<0&&(i=Hu(-a+1).concat(i),a=1),a<i.length&&i.splice(a,0,a===0?"0.":"."),r.sign+i.join("")}function ON(n,e){if(isNaN(n)||!isFinite(n))return String(n);var t=Gu(n),r=e?im(t,e):t,i=r.coefficients,a=r.exponent;i.length<e&&(i=i.concat(Hu(e-i.length)));var o=i.shift();return r.sign+o+(i.length>0?"."+i.join(""):"")+"e"+(a>=0?"+":"")+a}function IH(n,e,t){if(isNaN(n)||!isFinite(n))return String(n);var r=TN(t==null?void 0:t.lowerExp,-3),i=TN(t==null?void 0:t.upperExp,5),a=Gu(n),o=e?im(a,e):a;if(o.exponent<r||o.exponent>=i)return ON(n,e);var u=o.coefficients,s=o.exponent;u.length<e&&(u=u.concat(Hu(e-u.length))),u=u.concat(Hu(s-u.length+1+(u.length<e?e-u.length:0))),u=Hu(-s).concat(u);var l=s>0?s:0;return l<u.length-1&&u.splice(l+1,0,"."),o.sign+u.join("")}function im(n,e){for(var t={sign:n.sign,coefficients:n.coefficients,exponent:n.exponent},r=t.coefficients;e<=0;)r.unshift(0),t.exponent++,e++;if(r.length>e){var i=r.splice(e,r.length-e);if(i[0]>=5){var a=e-1;for(r[a]++;r[a]===10;)r.pop(),a===0&&(r.unshift(0),t.exponent++,a++),a--,r[a]++}}return t}function Hu(n){for(var e=[],t=0;t<n;t++)e.push(0);return e}function kN(n){return n.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}var PH=Number.EPSILON||2220446049250313e-31;function zr(n,e,t){if(t==null)return n===e;if(n===e)return!0;if(isNaN(n)||isNaN(e))return!1;if(isFinite(n)&&isFinite(e)){var r=Math.abs(n-e);return r<=PH?!0:r<=Math.max(Math.abs(n),Math.abs(e))*t}return!1}var RN=Math.acosh||function(n){return Math.log(Math.sqrt(n*n-1)+n)},LN=Math.asinh||function(n){return Math.log(Math.sqrt(n*n+1)+n)},VN=Math.atanh||function(n){return Math.log((1+n)/(1-n))/2},am=Math.cosh||function(n){return(Math.exp(n)+Math.exp(-n))/2},UN=Math.sinh||function(n){return(Math.exp(n)-Math.exp(-n))/2},om=Math.tanh||function(n){var e=Math.exp(2*n);return(e-1)/(e+1)};function qN(n,e){var t=n>0?!0:n<0?!1:1/n===1/0,r=e>0?!0:e<0?!1:1/e===1/0;return t^r?-n:n}function CN(n,e){if(yt(n))return n;if(st(n))return n.toNumber();e()}function TN(n,e){return yt(n)?n:st(n)?n.toNumber():e}function Vv(n,e,t){var r=n.constructor,i=new r(2),a="";if(t){if(t<1)throw new Error("size must be in greater than 0");if(!Ke(t))throw new Error("size must be an integer");if(n.greaterThan(i.pow(t-1).sub(1))||n.lessThan(i.pow(t-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(t-1,", 2^").concat(t-1,"-1]"));if(!n.isInteger())throw new Error("Value must be an integer");n.lessThan(0)&&(n=n.add(i.pow(t))),a="i".concat(t)}switch(e){case 2:return"".concat(n.toBinary()).concat(a);case 8:return"".concat(n.toOctal()).concat(a);case 16:return"".concat(n.toHexadecimal()).concat(a);default:throw new Error("Base ".concat(e," not supported "))}}function HN(n,e){if(typeof e=="function")return e(n);if(!n.isFinite())return n.isNaN()?"NaN":n.gt(0)?"Infinity":"-Infinity";var{notation:t,precision:r,wordSize:i}=Rv(e);switch(t){case"fixed":return OH(n,r);case"exponential":return zN(n,r);case"engineering":return BH(n,r);case"bin":return Vv(n,2,i);case"oct":return Vv(n,8,i);case"hex":return Vv(n,16,i);case"auto":{var a=$N(e==null?void 0:e.lowerExp,-3),o=$N(e==null?void 0:e.upperExp,5);if(n.isZero())return"0";var u,s=n.toSignificantDigits(r),l=s.e;return l>=a&&l<o?u=s.toFixed():u=zN(n,r),u.replace(/((\.\d*?)(0+))($|e)/,function(){var c=arguments[2],f=arguments[4];return c!=="."?c+f:f})}default:throw new Error('Unknown notation "'+t+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function BH(n,e){var t=n.e,r=t%3===0?t:t<0?t-3-t%3:t-t%3,i=n.mul(Math.pow(10,-r)),a=i.toPrecision(e);if(a.indexOf("e")!==-1){var o=n.constructor;a=new o(a).toFixed()}return a+"e"+(t>=0?"+":"")+r.toString()}function zN(n,e){return e!==void 0?n.toExponential(e-1):n.toExponential()}function OH(n,e){return n.toFixed(e)}function $N(n,e){return yt(n)?n:st(n)?n.toNumber():e}function WN(n,e){var t=n.length-e.length,r=n.length;return n.substring(t,r)===e}function xt(n,e){var t=kH(n,e);return e&&typeof e=="object"&&"truncate"in e&&t.length>e.truncate?t.substring(0,e.truncate-3)+"...":t}function kH(n,e){if(typeof n=="number")return ya(n,e);if(st(n))return HN(n,e);if(RH(n))return!e||e.fraction!=="decimal"?n.s*n.n+"/"+n.d:n.toString();if(Array.isArray(n))return YN(n,e);if(Wr(n))return Us(n);if(typeof n=="function")return n.syntax?String(n.syntax):"function";if(n&&typeof n=="object"){if(typeof n.format=="function")return n.format(e);if(n&&n.toString(e)!=={}.toString())return n.toString(e);var t=Object.keys(n).map(r=>Us(r)+": "+xt(n[r],e));return"{"+t.join(", ")+"}"}return String(n)}function Us(n){for(var e=String(n),t="",r=0;r<e.length;){var i=e.charAt(r);t+=i in GN?GN[i]:i,r++}return'"'+t+'"'}var GN={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"};function yn(n){var e=String(n);return e=e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),e}function YN(n,e){if(Array.isArray(n)){for(var t="[",r=n.length,i=0;i<r;i++)i!==0&&(t+=", "),t+=YN(n[i],e);return t+="]",t}else return xt(n,e)}function RH(n){return n&&typeof n=="object"&&typeof n.s=="number"&&typeof n.n=="number"&&typeof n.d=="number"||!1}function sm(n,e){if(!Wr(n))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+Wt(n)+", index: 0)");if(!Wr(e))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+Wt(e)+", index: 1)");return n===e?0:n>e?1:-1}function _t(n,e,t){if(!(this instanceof _t))throw new SyntaxError("Constructor must be called with the new operator");this.actual=n,this.expected=e,this.relation=t,this.message="Dimension mismatch ("+(Array.isArray(n)?"["+n.join(", ")+"]":n)+" "+(this.relation||"!=")+" "+(Array.isArray(e)?"["+e.join(", ")+"]":e)+")",this.stack=new Error().stack}_t.prototype=new RangeError;_t.prototype.constructor=RangeError;_t.prototype.name="DimensionError";_t.prototype.isDimensionError=!0;function Fn(n,e,t){if(!(this instanceof Fn))throw new SyntaxError("Constructor must be called with the new operator");this.index=n,arguments.length<3?(this.min=0,this.max=e):(this.min=e,this.max=t),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}Fn.prototype=new RangeError;Fn.prototype.constructor=RangeError;Fn.prototype.name="IndexError";Fn.prototype.isIndexError=!0;function vt(n){for(var e=[];Array.isArray(n);)e.push(n.length),n=n[0];return e}function jN(n,e,t){var r,i=n.length;if(i!==e[t])throw new _t(i,e[t]);if(t<e.length-1){var a=t+1;for(r=0;r<i;r++){var o=n[r];if(!Array.isArray(o))throw new _t(e.length-1,e.length,"<");jN(n[r],e,a)}}else for(r=0;r<i;r++)if(Array.isArray(n[r]))throw new _t(e.length+1,e.length,">")}function qv(n,e){var t=e.length===0;if(t){if(Array.isArray(n))throw new _t(n.length,0)}else jN(n,e,0)}function cc(n,e){var t=n.isMatrix?n._size:vt(n),r=e._sourceSize;r.forEach((i,a)=>{if(i!==null&&i!==t[a])throw new _t(i,t[a])})}function mr(n,e){if(n!==void 0){if(!yt(n)||!Ke(n))throw new TypeError("Index must be an integer (value: "+n+")");if(n<0||typeof e=="number"&&n>=e)throw new Fn(n,e)}}function qs(n){for(var e=0;e<n._dimensions.length;++e){var t=n._dimensions[e];if(t._data&&Zt(t._data)){if(t._size[0]===0)return!0}else if(t.isRange){if(t.start===t.end)return!0}else if(Wr(t)&&t.length===0)return!0}return!1}function ba(n,e,t){if(!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new Error("Resizing to scalar is not supported");e.forEach(function(i){if(!yt(i)||!Ke(i)||i<0)throw new TypeError("Invalid size, must contain positive integers (size: "+xt(e)+")")}),(yt(n)||st(n))&&(n=[n]);var r=t!==void 0?t:0;return Uv(n,e,0,r),n}function Uv(n,e,t,r){var i,a,o=n.length,u=e[t],s=Math.min(o,u);if(n.length=u,t<e.length-1){var l=t+1;for(i=0;i<s;i++)a=n[i],Array.isArray(a)||(a=[a],n[i]=a),Uv(a,e,l,r);for(i=s;i<u;i++)a=[],n[i]=a,Uv(a,e,l,r)}else{for(i=0;i<s;i++)for(;Array.isArray(n[i]);)n[i]=n[i][0];for(i=s;i<u;i++)n[i]=r}}function fc(n,e){var t=Ct(n),r=t.length;if(!Array.isArray(n)||!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new _t(0,r,"!=");e=pc(e,r);var i=ZN(e);if(r!==i)throw new _t(i,r,"!=");try{return LH(t,e)}catch(a){throw a instanceof _t?new _t(i,r,"!="):a}}function pc(n,e){var t=ZN(n),r=n.slice(),i=-1,a=n.indexOf(i),o=n.indexOf(i,a+1)>=0;if(o)throw new Error("More than one wildcard in sizes");var u=a>=0,s=e%t===0;if(u)if(s)r[a]=-e/t;else throw new Error("Could not replace wildcard, since "+e+" is no multiple of "+-t);return r}function ZN(n){return n.reduce((e,t)=>e*t,1)}function LH(n,e){for(var t=n,r,i=e.length-1;i>0;i--){var a=e[i];r=[];for(var o=t.length/a,u=0;u<o;u++)r.push(t.slice(u*a,(u+1)*a));t=r}return t}function Wu(n,e){for(var t=e||vt(n);Array.isArray(n)&&n.length===1;)n=n[0],t.shift();for(var r=t.length;t[r-1]===1;)r--;return r<t.length&&(n=JN(n,r,0),t.length=r),n}function JN(n,e,t){var r,i;if(t<e){var a=t+1;for(r=0,i=n.length;r<i;r++)n[r]=JN(n[r],e,a)}else for(;Array.isArray(n);)n=n[0];return n}function um(n,e,t,r){var i=r||vt(n);if(t)for(var a=0;a<t;a++)n=[n],i.unshift(1);for(n=XN(n,e,0);i.length<e;)i.push(1);return n}function XN(n,e,t){var r,i;if(Array.isArray(n)){var a=t+1;for(r=0,i=n.length;r<i;r++)n[r]=XN(n[r],e,a)}else for(var o=t;o<e;o++)n=[n];return n}function Ct(n){if(!Array.isArray(n))return n;var e=[];return n.forEach(function t(r){Array.isArray(r)?r.forEach(t):e.push(r)}),e}function fi(n,e){return Array.prototype.map.call(n,e)}function Ho(n,e){Array.prototype.forEach.call(n,e)}function lm(n,e){if(vt(n).length!==1)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(n,e)}function Yu(n,e){if(vt(n).length!==1)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(n,t=>e.test(t))}function zv(n,e){return Array.prototype.join.call(n,e)}function uo(n){if(!Array.isArray(n))throw new TypeError("Array input expected");if(n.length===0)return n;var e=[],t=0;e[0]={value:n[0],identifier:0};for(var r=1;r<n.length;r++)n[r]===n[r-1]?t++:t=0,e.push({value:n[r],identifier:t});return e}function ju(n){if(!Array.isArray(n))throw new TypeError("Array input expected");if(n.length===0)return n;for(var e=[],t=0;t<n.length;t++)e.push(n[t].value);return e}function Go(n,e){for(var t,r=0,i=0;i<n.length;i++){var a=n[i],o=Array.isArray(a);if(i===0&&o&&(r=a.length),o&&a.length!==r)return;var u=o?Go(a,e):e(a);if(t===void 0)t=u;else if(t!==u)return"mixed"}return t}function QN(n,e,t,r){if(r<t){if(n.length!==e.length)throw new _t(n.length,e.length);for(var i=[],a=0;a<n.length;a++)i[a]=QN(n[a],e[a],t,r+1);return i}else return n.concat(e)}function $v(){var n=Array.prototype.slice.call(arguments,0,-1),e=Array.prototype.slice.call(arguments,-1);if(n.length===1)return n[0];if(n.length>1)return n.slice(1).reduce(function(t,r){return QN(t,r,e,0)},n[0]);throw new Error("Wrong number of arguments in function concat")}function VH(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];for(var r=e.map(p=>p.length),i=Math.max(...r),a=new Array(i).fill(null),o=0;o<e.length;o++)for(var u=e[o],s=r[o],l=0;l<s;l++){var c=i-s+l;u[l]>a[c]&&(a[c]=u[l])}for(var f=0;f<e.length;f++)mc(e[f],a);return a}function mc(n,e){for(var t=e.length,r=n.length,i=0;i<r;i++){var a=t-r+i;if(n[i]<e[a]&&n[i]>1||n[i]>e[a])throw new Error("shape missmatch: missmatch is found in arg with shape (".concat(n,") not possible to broadcast dimension ").concat(r," with size ").concat(n[i]," to size ").concat(e[a]))}}function Hv(n,e){var t=vt(n);if(va(t,e))return n;mc(t,e);var r=VH(t,e),i=r.length,a=[...Array(i-t.length).fill(1),...t],o=qH(n);t.length<i&&(o=fc(o,a),t=vt(o));for(var u=0;u<i;u++)t[u]<r[u]&&(o=UH(o,r[u],u),t=vt(o));return o}function UH(n,e,t){return $v(...Array(e).fill(n),t)}function qH(n){return kr([],n)}function C(n,e,t,r){function i(a){var o=DN(a,e.map(HH));return zH(n,e,a),t(o)}return i.isFactory=!0,i.fn=n,i.dependencies=e.slice().sort(),r&&(i.meta=r),i}function zH(n,e,t){var r=e.filter(a=>!$H(a)).every(a=>t[a]!==void 0);if(!r){var i=e.filter(a=>t[a]===void 0);throw new Error('Cannot create function "'.concat(n,'", ')+"some dependencies are missing: ".concat(i.map(a=>'"'.concat(a,'"')).join(", "),"."))}}function $H(n){return n&&n[0]==="?"}function HH(n){return n&&n[0]==="?"?n.slice(1):n}function Rr(n,e){if(rC(n)&&eC(n,e))return n[e];throw typeof n[e]=="function"&&cm(n,e)?new Error('Cannot access method "'+e+'" as a property'):new Error('No access to property "'+e+'"')}function Oa(n,e,t){if(rC(n)&&eC(n,e))return n[e]=t,t;throw new Error('No access to property "'+e+'"')}function KN(n,e){return e in n}function eC(n,e){return!n||typeof n!="object"?!1:it(GH,e)?!0:!(e in Object.prototype||e in Function.prototype)}function tC(n,e){if(!cm(n,e))throw new Error('No access to method "'+e+'"');return n[e]}function cm(n,e){return n==null||typeof n[e]!="function"||it(n,e)&&Object.getPrototypeOf&&e in Object.getPrototypeOf(n)?!1:it(WH,e)?!0:!(e in Object.prototype||e in Function.prototype)}function rC(n){return typeof n=="object"&&n&&n.constructor===Object}var GH={length:!0,name:!0},WH={toString:!0,valueOf:!0,toLocaleString:!0};var zs=class{constructor(e){this.wrappedObject=e,this[Symbol.iterator]=this.entries}keys(){return Object.keys(this.wrappedObject).values()}get(e){return Rr(this.wrappedObject,e)}set(e,t){return Oa(this.wrappedObject,e,t),this}has(e){return KN(this.wrappedObject,e)}entries(){return nC(this.keys(),e=>[e,this.get(e)])}forEach(e){for(var t of this.keys())e(this.get(t),t,this)}delete(e){delete this.wrappedObject[e]}clear(){for(var e of this.keys())this.delete(e)}get size(){return Object.keys(this.wrappedObject).length}},Zu=class{constructor(e,t,r){this.a=e,this.b=t,this.bKeys=r,this[Symbol.iterator]=this.entries}get(e){return this.bKeys.has(e)?this.b.get(e):this.a.get(e)}set(e,t){return this.bKeys.has(e)?this.b.set(e,t):this.a.set(e,t),this}has(e){return this.b.has(e)||this.a.has(e)}keys(){return new Set([...this.a.keys(),...this.b.keys()])[Symbol.iterator]()}entries(){return nC(this.keys(),e=>[e,this.get(e)])}forEach(e){for(var t of this.keys())e(this.get(t),t,this)}delete(e){return this.bKeys.has(e)?this.b.delete(e):this.a.delete(e)}clear(){this.a.clear(),this.b.clear()}get size(){return[...this.keys()].length}};function nC(n,e){return{next:()=>{var t=n.next();return t.done?t:{value:e(t.value),done:!1}}}}function Wo(){return new Map}function lo(n){if(!n)return Wo();if(Gv(n))return n;if(zo(n))return new zs(n);throw new Error("createMap can create maps from objects or Maps")}function iC(n){if(n instanceof zs)return n.wrappedObject;var e={};for(var t of n.keys()){var r=n.get(t);Oa(e,t,r)}return e}function Gv(n){return n?n instanceof Map||n instanceof zs||typeof n.set=="function"&&typeof n.get=="function"&&typeof n.keys=="function"&&typeof n.has=="function":!1}var aC=function(){return aC=jv.default.create,jv.default},YH=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],Zv=C("typed",YH,function(e){var{BigNumber:t,Complex:r,DenseMatrix:i,Fraction:a}=e,o=aC();return o.clear(),o.addTypes([{name:"number",test:yt},{name:"Complex",test:ai},{name:"BigNumber",test:st},{name:"Fraction",test:so},{name:"Unit",test:Nn},{name:"identifier",test:u=>Wr&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(u)},{name:"string",test:Wr},{name:"Chain",test:tm},{name:"Array",test:Zt},{name:"Matrix",test:rt},{name:"DenseMatrix",test:Vs},{name:"SparseMatrix",test:ga},{name:"Range",test:$u},{name:"Index",test:qo},{name:"boolean",test:mN},{name:"ResultSet",test:dN},{name:"Help",test:em},{name:"function",test:hN},{name:"Date",test:gN},{name:"RegExp",test:vN},{name:"null",test:yN},{name:"undefined",test:bN},{name:"AccessorNode",test:Ti},{name:"ArrayNode",test:Cn},{name:"AssignmentNode",test:xN},{name:"BlockNode",test:wN},{name:"ConditionalNode",test:_N},{name:"ConstantNode",test:kt},{name:"FunctionNode",test:oi},{name:"FunctionAssignmentNode",test:Ba},{name:"IndexNode",test:ji},{name:"Node",test:qt},{name:"ObjectNode",test:$o},{name:"OperatorNode",test:Pr},{name:"ParenthesisNode",test:Tn},{name:"RangeNode",test:SN},{name:"RelationalNode",test:AN},{name:"SymbolNode",test:Ar},{name:"Map",test:Gv},{name:"Object",test:zo}]),o.addConversions([{from:"number",to:"BigNumber",convert:function(s){if(t||Wv(s),kN(s)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+s+"). Use function bignumber(x) to convert to BigNumber.");return new t(s)}},{from:"number",to:"Complex",convert:function(s){return r||fm(s),new r(s,0)}},{from:"BigNumber",to:"Complex",convert:function(s){return r||fm(s),new r(s.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(s){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(s){return r||fm(s),new r(s.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(s){a||Yv(s);var l=new a(s);if(l.valueOf()!==s)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+s+"). Use function fraction(x) to convert to Fraction.");return l}},{from:"string",to:"number",convert:function(s){var l=Number(s);if(isNaN(l))throw new Error('Cannot convert "'+s+'" to a number');return l}},{from:"string",to:"BigNumber",convert:function(s){t||Wv(s);try{return new t(s)}catch(l){throw new Error('Cannot convert "'+s+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(s){a||Yv(s);try{return new a(s)}catch(l){throw new Error('Cannot convert "'+s+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(s){r||fm(s);try{return new r(s)}catch(l){throw new Error('Cannot convert "'+s+'" to Complex')}}},{from:"boolean",to:"number",convert:function(s){return+s}},{from:"boolean",to:"BigNumber",convert:function(s){return t||Wv(s),new t(+s)}},{from:"boolean",to:"Fraction",convert:function(s){return a||Yv(s),new a(+s)}},{from:"boolean",to:"string",convert:function(s){return String(s)}},{from:"Array",to:"Matrix",convert:function(s){return i||jH(),new i(s)}},{from:"Matrix",to:"Array",convert:function(s){return s.valueOf()}}]),o.onMismatch=(u,s,l)=>{var c=o.createError(u,s,l);if(["wrongType","mismatch"].includes(c.data.category)&&s.length===1&&Qr(s[0])&&l.some(p=>!p.params.includes(","))){var f=new TypeError("Function '".concat(u,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(u,")'."));throw f.data=c.data,f}throw c},o.onMismatch=(u,s,l)=>{var c=o.createError(u,s,l);if(["wrongType","mismatch"].includes(c.data.category)&&s.length===1&&Qr(s[0])&&l.some(p=>!p.params.includes(","))){var f=new TypeError("Function '".concat(u,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(u,")'."));throw f.data=c.data,f}throw c},o});function Wv(n){throw new Error("Cannot convert value ".concat(n," into a BigNumber: no class 'BigNumber' provided"))}function fm(n){throw new Error("Cannot convert value ".concat(n," into a Complex number: no class 'Complex' provided"))}function jH(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function Yv(n){throw new Error("Cannot convert value ".concat(n," into a Fraction, no class 'Fraction' provided."))}var ZH="ResultSet",JH=[],Jv=C(ZH,JH,()=>{function n(e){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this.entries=e||[]}return n.prototype.type="ResultSet",n.prototype.isResultSet=!0,n.prototype.valueOf=function(){return this.entries},n.prototype.toString=function(){return"["+this.entries.join(", ")+"]"},n.prototype.toJSON=function(){return{mathjs:"ResultSet",entries:this.entries}},n.fromJSON=function(e){return new n(e.entries)},n},{isClass:!0});var Ju=9e15,Jo=1e9,Xv="0123456789abcdef",mm="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",dm="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",Qv={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-Ju,maxE:Ju,crypto:!1},lC,co,zt=!0,gm="[DecimalError] ",Zo=gm+"Invalid argument: ",cC=gm+"Precision limit exceeded",fC=gm+"crypto unavailable",pC="[object Decimal]",$n=Math.floor,bn=Math.pow,XH=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,QH=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,KH=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,mC=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,wa=1e7,Ft=7,eG=9007199254740991,tG=mm.length-1,Kv=dm.length-1,He={toStringTag:pC};He.absoluteValue=He.abs=function(){var n=new this.constructor(this);return n.s<0&&(n.s=1),At(n)};He.ceil=function(){return At(new this.constructor(this),this.e+1,2)};He.clampedTo=He.clamp=function(n,e){var t,r=this,i=r.constructor;if(n=new i(n),e=new i(e),!n.s||!e.s)return new i(NaN);if(n.gt(e))throw Error(Zo+e);return t=r.cmp(n),t<0?n:r.cmp(e)>0?e:new i(r)};He.comparedTo=He.cmp=function(n){var e,t,r,i,a=this,o=a.d,u=(n=new a.constructor(n)).d,s=a.s,l=n.s;if(!o||!u)return!s||!l?NaN:s!==l?s:o===u?0:!o^s<0?1:-1;if(!o[0]||!u[0])return o[0]?s:u[0]?-l:0;if(s!==l)return s;if(a.e!==n.e)return a.e>n.e^s<0?1:-1;for(r=o.length,i=u.length,e=0,t=r<i?r:i;e<t;++e)if(o[e]!==u[e])return o[e]>u[e]^s<0?1:-1;return r===i?0:r>i^s<0?1:-1};He.cosine=He.cos=function(){var n,e,t=this,r=t.constructor;return t.d?t.d[0]?(n=r.precision,e=r.rounding,r.precision=n+Math.max(t.e,t.sd())+Ft,r.rounding=1,t=rG(r,yC(r,t)),r.precision=n,r.rounding=e,At(co==2||co==3?t.neg():t,n,e,!0)):new r(1):new r(NaN)};He.cubeRoot=He.cbrt=function(){var n,e,t,r,i,a,o,u,s,l,c=this,f=c.constructor;if(!c.isFinite()||c.isZero())return new f(c);for(zt=!1,a=c.s*bn(c.s*c,1/3),!a||Math.abs(a)==1/0?(t=In(c.d),n=c.e,(a=(n-t.length+1)%3)&&(t+=a==1||a==-2?"0":"00"),a=bn(t,1/3),n=$n((n+1)/3)-(n%3==(n<0?-1:2)),a==1/0?t="5e"+n:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+n),r=new f(t),r.s=c.s):r=new f(a.toString()),o=(n=f.precision)+3;;)if(u=r,s=u.times(u).times(u),l=s.plus(c),r=Lr(l.plus(c).times(u),l.plus(s),o+2,1),In(u.d).slice(0,o)===(t=In(r.d)).slice(0,o))if(t=t.slice(o-3,o+1),t=="9999"||!i&&t=="4999"){if(!i&&(At(u,n+1,0),u.times(u).times(u).eq(c))){r=u;break}o+=4,i=1}else{(!+t||!+t.slice(1)&&t.charAt(0)=="5")&&(At(r,n+1,1),e=!r.times(r).times(r).eq(c));break}return zt=!0,At(r,n,f.rounding,e)};He.decimalPlaces=He.dp=function(){var n,e=this.d,t=NaN;if(e){if(n=e.length-1,t=(n-$n(this.e/Ft))*Ft,n=e[n],n)for(;n%10==0;n/=10)t--;t<0&&(t=0)}return t};He.dividedBy=He.div=function(n){return Lr(this,new this.constructor(n))};He.dividedToIntegerBy=He.divToInt=function(n){var e=this,t=e.constructor;return At(Lr(e,new t(n),0,1,1),t.precision,t.rounding)};He.equals=He.eq=function(n){return this.cmp(n)===0};He.floor=function(){return At(new this.constructor(this),this.e+1,3)};He.greaterThan=He.gt=function(n){return this.cmp(n)>0};He.greaterThanOrEqualTo=He.gte=function(n){var e=this.cmp(n);return e==1||e===0};He.hyperbolicCosine=He.cosh=function(){var n,e,t,r,i,a=this,o=a.constructor,u=new o(1);if(!a.isFinite())return new o(a.s?1/0:NaN);if(a.isZero())return u;t=o.precision,r=o.rounding,o.precision=t+Math.max(a.e,a.sd())+4,o.rounding=1,i=a.d.length,i<32?(n=Math.ceil(i/3),e=(1/ym(4,n)).toString()):(n=16,e="2.3283064365386962890625e-10"),a=Xu(o,1,a.times(e),new o(1),!0);for(var s,l=n,c=new o(8);l--;)s=a.times(a),a=u.minus(s.times(c.minus(s.times(c))));return At(a,o.precision=t,o.rounding=r,!0)};He.hyperbolicSine=He.sinh=function(){var n,e,t,r,i=this,a=i.constructor;if(!i.isFinite()||i.isZero())return new a(i);if(e=a.precision,t=a.rounding,a.precision=e+Math.max(i.e,i.sd())+4,a.rounding=1,r=i.d.length,r<3)i=Xu(a,2,i,i,!0);else{n=1.4*Math.sqrt(r),n=n>16?16:n|0,i=i.times(1/ym(5,n)),i=Xu(a,2,i,i,!0);for(var o,u=new a(5),s=new a(16),l=new a(20);n--;)o=i.times(i),i=i.times(u.plus(o.times(s.times(o).plus(l))))}return a.precision=e,a.rounding=t,At(i,e,t,!0)};He.hyperbolicTangent=He.tanh=function(){var n,e,t=this,r=t.constructor;return t.isFinite()?t.isZero()?new r(t):(n=r.precision,e=r.rounding,r.precision=n+7,r.rounding=1,Lr(t.sinh(),t.cosh(),r.precision=n,r.rounding=e)):new r(t.s)};He.inverseCosine=He.acos=function(){var n,e=this,t=e.constructor,r=e.abs().cmp(1),i=t.precision,a=t.rounding;return r!==-1?r===0?e.isNeg()?xa(t,i,a):new t(0):new t(NaN):e.isZero()?xa(t,i+4,a).times(.5):(t.precision=i+6,t.rounding=1,e=e.asin(),n=xa(t,i+4,a).times(.5),t.precision=i,t.rounding=a,n.minus(e))};He.inverseHyperbolicCosine=He.acosh=function(){var n,e,t=this,r=t.constructor;return t.lte(1)?new r(t.eq(1)?0:NaN):t.isFinite()?(n=r.precision,e=r.rounding,r.precision=n+Math.max(Math.abs(t.e),t.sd())+4,r.rounding=1,zt=!1,t=t.times(t).minus(1).sqrt().plus(t),zt=!0,r.precision=n,r.rounding=e,t.ln()):new r(t)};He.inverseHyperbolicSine=He.asinh=function(){var n,e,t=this,r=t.constructor;return!t.isFinite()||t.isZero()?new r(t):(n=r.precision,e=r.rounding,r.precision=n+2*Math.max(Math.abs(t.e),t.sd())+6,r.rounding=1,zt=!1,t=t.times(t).plus(1).sqrt().plus(t),zt=!0,r.precision=n,r.rounding=e,t.ln())};He.inverseHyperbolicTangent=He.atanh=function(){var n,e,t,r,i=this,a=i.constructor;return i.isFinite()?i.e>=0?new a(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(n=a.precision,e=a.rounding,r=i.sd(),Math.max(r,n)<2*-i.e-1?At(new a(i),n,e,!0):(a.precision=t=r-i.e,i=Lr(i.plus(1),new a(1).minus(i),t+n,1),a.precision=n+4,a.rounding=1,i=i.ln(),a.precision=n,a.rounding=e,i.times(.5))):new a(NaN)};He.inverseSine=He.asin=function(){var n,e,t,r,i=this,a=i.constructor;return i.isZero()?new a(i):(e=i.abs().cmp(1),t=a.precision,r=a.rounding,e!==-1?e===0?(n=xa(a,t+4,r).times(.5),n.s=i.s,n):new a(NaN):(a.precision=t+6,a.rounding=1,i=i.div(new a(1).minus(i.times(i)).sqrt().plus(1)).atan(),a.precision=t,a.rounding=r,i.times(2)))};He.inverseTangent=He.atan=function(){var n,e,t,r,i,a,o,u,s,l=this,c=l.constructor,f=c.precision,p=c.rounding;if(l.isFinite()){if(l.isZero())return new c(l);if(l.abs().eq(1)&&f+4<=Kv)return o=xa(c,f+4,p).times(.25),o.s=l.s,o}else{if(!l.s)return new c(NaN);if(f+4<=Kv)return o=xa(c,f+4,p).times(.5),o.s=l.s,o}for(c.precision=u=f+10,c.rounding=1,t=Math.min(28,u/Ft+2|0),n=t;n;--n)l=l.div(l.times(l).plus(1).sqrt().plus(1));for(zt=!1,e=Math.ceil(u/Ft),r=1,s=l.times(l),o=new c(l),i=l;n!==-1;)if(i=i.times(s),a=o.minus(i.div(r+=2)),i=i.times(s),o=a.plus(i.div(r+=2)),o.d[e]!==void 0)for(n=e;o.d[n]===a.d[n]&&n--;);return t&&(o=o.times(2<<t-1)),zt=!0,At(o,c.precision=f,c.rounding=p,!0)};He.isFinite=function(){return!!this.d};He.isInteger=He.isInt=function(){return!!this.d&&$n(this.e/Ft)>this.d.length-2};He.isNaN=function(){return!this.s};He.isNegative=He.isNeg=function(){return this.s<0};He.isPositive=He.isPos=function(){return this.s>0};He.isZero=function(){return!!this.d&&this.d[0]===0};He.lessThan=He.lt=function(n){return this.cmp(n)<0};He.lessThanOrEqualTo=He.lte=function(n){return this.cmp(n)<1};He.logarithm=He.log=function(n){var e,t,r,i,a,o,u,s,l=this,c=l.constructor,f=c.precision,p=c.rounding,m=5;if(n==null)n=new c(10),e=!0;else{if(n=new c(n),t=n.d,n.s<0||!t||!t[0]||n.eq(1))return new c(NaN);e=n.eq(10)}if(t=l.d,l.s<0||!t||!t[0]||l.eq(1))return new c(t&&!t[0]?-1/0:l.s!=1?NaN:t?0:1/0);if(e)if(t.length>1)a=!0;else{for(i=t[0];i%10===0;)i/=10;a=i!==1}if(zt=!1,u=f+m,o=jo(l,u),r=e?hm(c,u+10):jo(n,u),s=Lr(o,r,u,1),dc(s.d,i=f,p))do if(u+=10,o=jo(l,u),r=e?hm(c,u+10):jo(n,u),s=Lr(o,r,u,1),!a){+In(s.d).slice(i+1,i+15)+1==1e14&&(s=At(s,f+1,0));break}while(dc(s.d,i+=10,p));return zt=!0,At(s,f,p)};He.minus=He.sub=function(n){var e,t,r,i,a,o,u,s,l,c,f,p,m=this,h=m.constructor;if(n=new h(n),!m.d||!n.d)return!m.s||!n.s?n=new h(NaN):m.d?n.s=-n.s:n=new h(n.d||m.s!==n.s?m:NaN),n;if(m.s!=n.s)return n.s=-n.s,m.plus(n);if(l=m.d,p=n.d,u=h.precision,s=h.rounding,!l[0]||!p[0]){if(p[0])n.s=-n.s;else if(l[0])n=new h(m);else return new h(s===3?-0:0);return zt?At(n,u,s):n}if(t=$n(n.e/Ft),c=$n(m.e/Ft),l=l.slice(),a=c-t,a){for(f=a<0,f?(e=l,a=-a,o=p.length):(e=p,t=c,o=l.length),r=Math.max(Math.ceil(u/Ft),o)+2,a>r&&(a=r,e.length=1),e.reverse(),r=a;r--;)e.push(0);e.reverse()}else{for(r=l.length,o=p.length,f=r<o,f&&(o=r),r=0;r<o;r++)if(l[r]!=p[r]){f=l[r]<p[r];break}a=0}for(f&&(e=l,l=p,p=e,n.s=-n.s),o=l.length,r=p.length-o;r>0;--r)l[o++]=0;for(r=p.length;r>a;){if(l[--r]<p[r]){for(i=r;i&&l[--i]===0;)l[i]=wa-1;--l[i],l[r]+=wa}l[r]-=p[r]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--t;return l[0]?(n.d=l,n.e=vm(l,t),zt?At(n,u,s):n):new h(s===3?-0:0)};He.modulo=He.mod=function(n){var e,t=this,r=t.constructor;return n=new r(n),!t.d||!n.s||n.d&&!n.d[0]?new r(NaN):!n.d||t.d&&!t.d[0]?At(new r(t),r.precision,r.rounding):(zt=!1,r.modulo==9?(e=Lr(t,n.abs(),0,3,1),e.s*=n.s):e=Lr(t,n,0,r.modulo,1),e=e.times(n),zt=!0,t.minus(e))};He.naturalExponential=He.exp=function(){return ey(this)};He.naturalLogarithm=He.ln=function(){return jo(this)};He.negated=He.neg=function(){var n=new this.constructor(this);return n.s=-n.s,At(n)};He.plus=He.add=function(n){var e,t,r,i,a,o,u,s,l,c,f=this,p=f.constructor;if(n=new p(n),!f.d||!n.d)return!f.s||!n.s?n=new p(NaN):f.d||(n=new p(n.d||f.s===n.s?f:NaN)),n;if(f.s!=n.s)return n.s=-n.s,f.minus(n);if(l=f.d,c=n.d,u=p.precision,s=p.rounding,!l[0]||!c[0])return c[0]||(n=new p(f)),zt?At(n,u,s):n;if(a=$n(f.e/Ft),r=$n(n.e/Ft),l=l.slice(),i=a-r,i){for(i<0?(t=l,i=-i,o=c.length):(t=c,r=a,o=l.length),a=Math.ceil(u/Ft),o=a>o?a+1:o+1,i>o&&(i=o,t.length=1),t.reverse();i--;)t.push(0);t.reverse()}for(o=l.length,i=c.length,o-i<0&&(i=o,t=c,c=l,l=t),e=0;i;)e=(l[--i]=l[i]+c[i]+e)/wa|0,l[i]%=wa;for(e&&(l.unshift(e),++r),o=l.length;l[--o]==0;)l.pop();return n.d=l,n.e=vm(l,r),zt?At(n,u,s):n};He.precision=He.sd=function(n){var e,t=this;if(n!==void 0&&n!==!!n&&n!==1&&n!==0)throw Error(Zo+n);return t.d?(e=dC(t.d),n&&t.e+1>e&&(e=t.e+1)):e=NaN,e};He.round=function(){var n=this,e=n.constructor;return At(new e(n),n.e+1,e.rounding)};He.sine=He.sin=function(){var n,e,t=this,r=t.constructor;return t.isFinite()?t.isZero()?new r(t):(n=r.precision,e=r.rounding,r.precision=n+Math.max(t.e,t.sd())+Ft,r.rounding=1,t=iG(r,yC(r,t)),r.precision=n,r.rounding=e,At(co>2?t.neg():t,n,e,!0)):new r(NaN)};He.squareRoot=He.sqrt=function(){var n,e,t,r,i,a,o=this,u=o.d,s=o.e,l=o.s,c=o.constructor;if(l!==1||!u||!u[0])return new c(!l||l<0&&(!u||u[0])?NaN:u?o:1/0);for(zt=!1,l=Math.sqrt(+o),l==0||l==1/0?(e=In(u),(e.length+s)%2==0&&(e+="0"),l=Math.sqrt(e),s=$n((s+1)/2)-(s<0||s%2),l==1/0?e="5e"+s:(e=l.toExponential(),e=e.slice(0,e.indexOf("e")+1)+s),r=new c(e)):r=new c(l.toString()),t=(s=c.precision)+3;;)if(a=r,r=a.plus(Lr(o,a,t+2,1)).times(.5),In(a.d).slice(0,t)===(e=In(r.d)).slice(0,t))if(e=e.slice(t-3,t+1),e=="9999"||!i&&e=="4999"){if(!i&&(At(a,s+1,0),a.times(a).eq(o))){r=a;break}t+=4,i=1}else{(!+e||!+e.slice(1)&&e.charAt(0)=="5")&&(At(r,s+1,1),n=!r.times(r).eq(o));break}return zt=!0,At(r,s,c.rounding,n)};He.tangent=He.tan=function(){var n,e,t=this,r=t.constructor;return t.isFinite()?t.isZero()?new r(t):(n=r.precision,e=r.rounding,r.precision=n+10,r.rounding=1,t=t.sin(),t.s=1,t=Lr(t,new r(1).minus(t.times(t)).sqrt(),n+10,0),r.precision=n,r.rounding=e,At(co==2||co==4?t.neg():t,n,e,!0)):new r(NaN)};He.times=He.mul=function(n){var e,t,r,i,a,o,u,s,l,c=this,f=c.constructor,p=c.d,m=(n=new f(n)).d;if(n.s*=c.s,!p||!p[0]||!m||!m[0])return new f(!n.s||p&&!p[0]&&!m||m&&!m[0]&&!p?NaN:!p||!m?n.s/0:n.s*0);for(t=$n(c.e/Ft)+$n(n.e/Ft),s=p.length,l=m.length,s<l&&(a=p,p=m,m=a,o=s,s=l,l=o),a=[],o=s+l,r=o;r--;)a.push(0);for(r=l;--r>=0;){for(e=0,i=s+r;i>r;)u=a[i]+m[r]*p[i-r-1]+e,a[i--]=u%wa|0,e=u/wa|0;a[i]=(a[i]+e)%wa|0}for(;!a[--o];)a.pop();return e?++t:a.shift(),n.d=a,n.e=vm(a,t),zt?At(n,f.precision,f.rounding):n};He.toBinary=function(n,e){return ry(this,2,n,e)};He.toDecimalPlaces=He.toDP=function(n,e){var t=this,r=t.constructor;return t=new r(t),n===void 0?t:(pi(n,0,Jo),e===void 0?e=r.rounding:pi(e,0,8),At(t,n+t.e+1,e))};He.toExponential=function(n,e){var t,r=this,i=r.constructor;return n===void 0?t=ka(r,!0):(pi(n,0,Jo),e===void 0?e=i.rounding:pi(e,0,8),r=At(new i(r),n+1,e),t=ka(r,!0,n+1)),r.isNeg()&&!r.isZero()?"-"+t:t};He.toFixed=function(n,e){var t,r,i=this,a=i.constructor;return n===void 0?t=ka(i):(pi(n,0,Jo),e===void 0?e=a.rounding:pi(e,0,8),r=At(new a(i),n+i.e+1,e),t=ka(r,!1,n+r.e+1)),i.isNeg()&&!i.isZero()?"-"+t:t};He.toFraction=function(n){var e,t,r,i,a,o,u,s,l,c,f,p,m=this,h=m.d,d=m.constructor;if(!h)return new d(m);if(l=t=new d(1),r=s=new d(0),e=new d(r),a=e.e=dC(h)-m.e-1,o=a%Ft,e.d[0]=bn(10,o<0?Ft+o:o),n==null)n=a>0?e:l;else{if(u=new d(n),!u.isInt()||u.lt(l))throw Error(Zo+u);n=u.gt(e)?a>0?e:l:u}for(zt=!1,u=new d(In(h)),c=d.precision,d.precision=a=h.length*Ft*2;f=Lr(u,e,0,1,1),i=t.plus(f.times(r)),i.cmp(n)!=1;)t=r,r=i,i=l,l=s.plus(f.times(i)),s=i,i=e,e=u.minus(f.times(i)),u=i;return i=Lr(n.minus(t),r,0,1,1),s=s.plus(i.times(l)),t=t.plus(i.times(r)),s.s=l.s=m.s,p=Lr(l,r,a,1).minus(m).abs().cmp(Lr(s,t,a,1).minus(m).abs())<1?[l,r]:[s,t],d.precision=c,zt=!0,p};He.toHexadecimal=He.toHex=function(n,e){return ry(this,16,n,e)};He.toNearest=function(n,e){var t=this,r=t.constructor;if(t=new r(t),n==null){if(!t.d)return t;n=new r(1),e=r.rounding}else{if(n=new r(n),e===void 0?e=r.rounding:pi(e,0,8),!t.d)return n.s?t:n;if(!n.d)return n.s&&(n.s=t.s),n}return n.d[0]?(zt=!1,t=Lr(t,n,0,e,1).times(n),zt=!0,At(t)):(n.s=t.s,t=n),t};He.toNumber=function(){return+this};He.toOctal=function(n,e){return ry(this,8,n,e)};He.toPower=He.pow=function(n){var e,t,r,i,a,o,u=this,s=u.constructor,l=+(n=new s(n));if(!u.d||!n.d||!u.d[0]||!n.d[0])return new s(bn(+u,l));if(u=new s(u),u.eq(1))return u;if(r=s.precision,a=s.rounding,n.eq(1))return At(u,r,a);if(e=$n(n.e/Ft),e>=n.d.length-1&&(t=l<0?-l:l)<=eG)return i=hC(s,u,t,r),n.s<0?new s(1).div(i):At(i,r,a);if(o=u.s,o<0){if(e<n.d.length-1)return new s(NaN);if(n.d[e]&1||(o=1),u.e==0&&u.d[0]==1&&u.d.length==1)return u.s=o,u}return t=bn(+u,l),e=t==0||!isFinite(t)?$n(l*(Math.log("0."+In(u.d))/Math.LN10+u.e+1)):new s(t+"").e,e>s.maxE+1||e<s.minE-1?new s(e>0?o/0:0):(zt=!1,s.rounding=u.s=1,t=Math.min(12,(e+"").length),i=ey(n.times(jo(u,r+t)),r),i.d&&(i=At(i,r+5,1),dc(i.d,r,a)&&(e=r+10,i=At(ey(n.times(jo(u,e+t)),e),e+5,1),+In(i.d).slice(r+1,r+15)+1==1e14&&(i=At(i,r+1,0)))),i.s=o,zt=!0,s.rounding=a,At(i,r,a))};He.toPrecision=function(n,e){var t,r=this,i=r.constructor;return n===void 0?t=ka(r,r.e<=i.toExpNeg||r.e>=i.toExpPos):(pi(n,1,Jo),e===void 0?e=i.rounding:pi(e,0,8),r=At(new i(r),n,e),t=ka(r,n<=r.e||r.e<=i.toExpNeg,n)),r.isNeg()&&!r.isZero()?"-"+t:t};He.toSignificantDigits=He.toSD=function(n,e){var t=this,r=t.constructor;return n===void 0?(n=r.precision,e=r.rounding):(pi(n,1,Jo),e===void 0?e=r.rounding:pi(e,0,8)),At(new r(t),n,e)};He.toString=function(){var n=this,e=n.constructor,t=ka(n,n.e<=e.toExpNeg||n.e>=e.toExpPos);return n.isNeg()&&!n.isZero()?"-"+t:t};He.truncated=He.trunc=function(){return At(new this.constructor(this),this.e+1,1)};He.valueOf=He.toJSON=function(){var n=this,e=n.constructor,t=ka(n,n.e<=e.toExpNeg||n.e>=e.toExpPos);return n.isNeg()?"-"+t:t};function In(n){var e,t,r,i=n.length-1,a="",o=n[0];if(i>0){for(a+=o,e=1;e<i;e++)r=n[e]+"",t=Ft-r.length,t&&(a+=Yo(t)),a+=r;o=n[e],r=o+"",t=Ft-r.length,t&&(a+=Yo(t))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}function pi(n,e,t){if(n!==~~n||n<e||n>t)throw Error(Zo+n)}function dc(n,e,t,r){var i,a,o,u;for(a=n[0];a>=10;a/=10)--e;return--e<0?(e+=Ft,i=0):(i=Math.ceil((e+1)/Ft),e%=Ft),a=bn(10,Ft-e),u=n[i]%a|0,r==null?e<3?(e==0?u=u/100|0:e==1&&(u=u/10|0),o=t<4&&u==99999||t>3&&u==49999||u==5e4||u==0):o=(t<4&&u+1==a||t>3&&u+1==a/2)&&(n[i+1]/a/100|0)==bn(10,e-2)-1||(u==a/2||u==0)&&(n[i+1]/a/100|0)==0:e<4?(e==0?u=u/1e3|0:e==1?u=u/100|0:e==2&&(u=u/10|0),o=(r||t<4)&&u==9999||!r&&t>3&&u==4999):o=((r||t<4)&&u+1==a||!r&&t>3&&u+1==a/2)&&(n[i+1]/a/1e3|0)==bn(10,e-3)-1,o}function pm(n,e,t){for(var r,i=[0],a,o=0,u=n.length;o<u;){for(a=i.length;a--;)i[a]*=e;for(i[0]+=Xv.indexOf(n.charAt(o++)),r=0;r<i.length;r++)i[r]>t-1&&(i[r+1]===void 0&&(i[r+1]=0),i[r+1]+=i[r]/t|0,i[r]%=t)}return i.reverse()}function rG(n,e){var t,r,i;if(e.isZero())return e;r=e.d.length,r<32?(t=Math.ceil(r/3),i=(1/ym(4,t)).toString()):(t=16,i="2.3283064365386962890625e-10"),n.precision+=t,e=Xu(n,1,e.times(i),new n(1));for(var a=t;a--;){var o=e.times(e);e=o.times(o).minus(o).times(8).plus(1)}return n.precision-=t,e}var Lr=function(){function n(r,i,a){var o,u=0,s=r.length;for(r=r.slice();s--;)o=r[s]*i+u,r[s]=o%a|0,u=o/a|0;return u&&r.unshift(u),r}function e(r,i,a,o){var u,s;if(a!=o)s=a>o?1:-1;else for(u=s=0;u<a;u++)if(r[u]!=i[u]){s=r[u]>i[u]?1:-1;break}return s}function t(r,i,a,o){for(var u=0;a--;)r[a]-=u,u=r[a]<i[a]?1:0,r[a]=u*o+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o,u,s){var l,c,f,p,m,h,d,v,y,_,b,w,S,x,N,D,E,M,P,O,V=r.constructor,z=r.s==i.s?1:-1,L=r.d,B=i.d;if(!L||!L[0]||!B||!B[0])return new V(!r.s||!i.s||(L?B&&L[0]==B[0]:!B)?NaN:L&&L[0]==0||!B?z*0:z/0);for(s?(m=1,c=r.e-i.e):(s=wa,m=Ft,c=$n(r.e/m)-$n(i.e/m)),P=B.length,E=L.length,y=new V(z),_=y.d=[],f=0;B[f]==(L[f]||0);f++);if(B[f]>(L[f]||0)&&c--,a==null?(x=a=V.precision,o=V.rounding):u?x=a+(r.e-i.e)+1:x=a,x<0)_.push(1),h=!0;else{if(x=x/m+2|0,f=0,P==1){for(p=0,B=B[0],x++;(f<E||p)&&x--;f++)N=p*s+(L[f]||0),_[f]=N/B|0,p=N%B|0;h=p||f<E}else{for(p=s/(B[0]+1)|0,p>1&&(B=n(B,p,s),L=n(L,p,s),P=B.length,E=L.length),D=P,b=L.slice(0,P),w=b.length;w<P;)b[w++]=0;O=B.slice(),O.unshift(0),M=B[0],B[1]>=s/2&&++M;do p=0,l=e(B,b,P,w),l<0?(S=b[0],P!=w&&(S=S*s+(b[1]||0)),p=S/M|0,p>1?(p>=s&&(p=s-1),d=n(B,p,s),v=d.length,w=b.length,l=e(d,b,v,w),l==1&&(p--,t(d,P<v?O:B,v,s))):(p==0&&(l=p=1),d=B.slice()),v=d.length,v<w&&d.unshift(0),t(b,d,w,s),l==-1&&(w=b.length,l=e(B,b,P,w),l<1&&(p++,t(b,P<w?O:B,w,s))),w=b.length):l===0&&(p++,b=[0]),_[f++]=p,l&&b[0]?b[w++]=L[D]||0:(b=[L[D]],w=1);while((D++<E||b[0]!==void 0)&&x--);h=b[0]!==void 0}_[0]||_.shift()}if(m==1)y.e=c,lC=h;else{for(f=1,p=_[0];p>=10;p/=10)f++;y.e=f+c*m-1,At(y,u?a+y.e+1:a,o,h)}return y}}();function At(n,e,t,r){var i,a,o,u,s,l,c,f,p,m=n.constructor;e:if(e!=null){if(f=n.d,!f)return n;for(i=1,u=f[0];u>=10;u/=10)i++;if(a=e-i,a<0)a+=Ft,o=e,c=f[p=0],s=c/bn(10,i-o-1)%10|0;else if(p=Math.ceil((a+1)/Ft),u=f.length,p>=u)if(r){for(;u++<=p;)f.push(0);c=s=0,i=1,a%=Ft,o=a-Ft+1}else break e;else{for(c=u=f[p],i=1;u>=10;u/=10)i++;a%=Ft,o=a-Ft+i,s=o<0?0:c/bn(10,i-o-1)%10|0}if(r=r||e<0||f[p+1]!==void 0||(o<0?c:c%bn(10,i-o-1)),l=t<4?(s||r)&&(t==0||t==(n.s<0?3:2)):s>5||s==5&&(t==4||r||t==6&&(a>0?o>0?c/bn(10,i-o):0:f[p-1])%10&1||t==(n.s<0?8:7)),e<1||!f[0])return f.length=0,l?(e-=n.e+1,f[0]=bn(10,(Ft-e%Ft)%Ft),n.e=-e||0):f[0]=n.e=0,n;if(a==0?(f.length=p,u=1,p--):(f.length=p+1,u=bn(10,Ft-a),f[p]=o>0?(c/bn(10,i-o)%bn(10,o)|0)*u:0),l)for(;;)if(p==0){for(a=1,o=f[0];o>=10;o/=10)a++;for(o=f[0]+=u,u=1;o>=10;o/=10)u++;a!=u&&(n.e++,f[0]==wa&&(f[0]=1));break}else{if(f[p]+=u,f[p]!=wa)break;f[p--]=0,u=1}for(a=f.length;f[--a]===0;)f.pop()}return zt&&(n.e>m.maxE?(n.d=null,n.e=NaN):n.e<m.minE&&(n.e=0,n.d=[0])),n}function ka(n,e,t){if(!n.isFinite())return vC(n);var r,i=n.e,a=In(n.d),o=a.length;return e?(t&&(r=t-o)>0?a=a.charAt(0)+"."+a.slice(1)+Yo(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(n.e<0?"e":"e+")+n.e):i<0?(a="0."+Yo(-i-1)+a,t&&(r=t-o)>0&&(a+=Yo(r))):i>=o?(a+=Yo(i+1-o),t&&(r=t-i-1)>0&&(a=a+"."+Yo(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),t&&(r=t-o)>0&&(i+1===o&&(a+="."),a+=Yo(r))),a}function vm(n,e){var t=n[0];for(e*=Ft;t>=10;t/=10)e++;return e}function hm(n,e,t){if(e>tG)throw zt=!0,t&&(n.precision=t),Error(cC);return At(new n(mm),e,1,!0)}function xa(n,e,t){if(e>Kv)throw Error(cC);return At(new n(dm),e,t,!0)}function dC(n){var e=n.length-1,t=e*Ft+1;if(e=n[e],e){for(;e%10==0;e/=10)t--;for(e=n[0];e>=10;e/=10)t++}return t}function Yo(n){for(var e="";n--;)e+="0";return e}function hC(n,e,t,r){var i,a=new n(1),o=Math.ceil(r/Ft+4);for(zt=!1;;){if(t%2&&(a=a.times(e),sC(a.d,o)&&(i=!0)),t=$n(t/2),t===0){t=a.d.length-1,i&&a.d[t]===0&&++a.d[t];break}e=e.times(e),sC(e.d,o)}return zt=!0,a}function oC(n){return n.d[n.d.length-1]&1}function gC(n,e,t){for(var r,i=new n(e[0]),a=0;++a<e.length;)if(r=new n(e[a]),r.s)i[t](r)&&(i=r);else{i=r;break}return i}function ey(n,e){var t,r,i,a,o,u,s,l=0,c=0,f=0,p=n.constructor,m=p.rounding,h=p.precision;if(!n.d||!n.d[0]||n.e>17)return new p(n.d?n.d[0]?n.s<0?0:1/0:1:n.s?n.s<0?0:n:NaN);for(e==null?(zt=!1,s=h):s=e,u=new p(.03125);n.e>-2;)n=n.times(u),f+=5;for(r=Math.log(bn(2,f))/Math.LN10*2+5|0,s+=r,t=a=o=new p(1),p.precision=s;;){if(a=At(a.times(n),s,1),t=t.times(++c),u=o.plus(Lr(a,t,s,1)),In(u.d).slice(0,s)===In(o.d).slice(0,s)){for(i=f;i--;)o=At(o.times(o),s,1);if(e==null)if(l<3&&dc(o.d,s-r,m,l))p.precision=s+=10,t=a=u=new p(1),c=0,l++;else return At(o,p.precision=h,m,zt=!0);else return p.precision=h,o}o=u}}function jo(n,e){var t,r,i,a,o,u,s,l,c,f,p,m=1,h=10,d=n,v=d.d,y=d.constructor,_=y.rounding,b=y.precision;if(d.s<0||!v||!v[0]||!d.e&&v[0]==1&&v.length==1)return new y(v&&!v[0]?-1/0:d.s!=1?NaN:v?0:d);if(e==null?(zt=!1,c=b):c=e,y.precision=c+=h,t=In(v),r=t.charAt(0),Math.abs(a=d.e)<15e14){for(;r<7&&r!=1||r==1&&t.charAt(1)>3;)d=d.times(n),t=In(d.d),r=t.charAt(0),m++;a=d.e,r>1?(d=new y("0."+t),a++):d=new y(r+"."+t.slice(1))}else return l=hm(y,c+2,b).times(a+""),d=jo(new y(r+"."+t.slice(1)),c-h).plus(l),y.precision=b,e==null?At(d,b,_,zt=!0):d;for(f=d,s=o=d=Lr(d.minus(1),d.plus(1),c,1),p=At(d.times(d),c,1),i=3;;){if(o=At(o.times(p),c,1),l=s.plus(Lr(o,new y(i),c,1)),In(l.d).slice(0,c)===In(s.d).slice(0,c))if(s=s.times(2),a!==0&&(s=s.plus(hm(y,c+2,b).times(a+""))),s=Lr(s,new y(m),c,1),e==null)if(dc(s.d,c-h,_,u))y.precision=c+=h,l=o=d=Lr(f.minus(1),f.plus(1),c,1),p=At(d.times(d),c,1),i=u=1;else return At(s,y.precision=b,_,zt=!0);else return y.precision=b,s;s=l,i+=2}}function vC(n){return String(n.s*n.s/0)}function ty(n,e){var t,r,i;for((t=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(t<0&&(t=r),t+=+e.slice(r+1),e=e.substring(0,r)):t<0&&(t=e.length),r=0;e.charCodeAt(r)===48;r++);for(i=e.length;e.charCodeAt(i-1)===48;--i);if(e=e.slice(r,i),e){if(i-=r,n.e=t=t-r-1,n.d=[],r=(t+1)%Ft,t<0&&(r+=Ft),r<i){for(r&&n.d.push(+e.slice(0,r)),i-=Ft;r<i;)n.d.push(+e.slice(r,r+=Ft));e=e.slice(r),r=Ft-e.length}else r-=i;for(;r--;)e+="0";n.d.push(+e),zt&&(n.e>n.constructor.maxE?(n.d=null,n.e=NaN):n.e<n.constructor.minE&&(n.e=0,n.d=[0]))}else n.e=0,n.d=[0];return n}function nG(n,e){var t,r,i,a,o,u,s,l,c;if(e.indexOf("_")>-1){if(e=e.replace(/(\d)_(?=\d)/g,"$1"),mC.test(e))return ty(n,e)}else if(e==="Infinity"||e==="NaN")return+e||(n.s=NaN),n.e=NaN,n.d=null,n;if(QH.test(e))t=16,e=e.toLowerCase();else if(XH.test(e))t=2;else if(KH.test(e))t=8;else throw Error(Zo+e);for(a=e.search(/p/i),a>0?(s=+e.slice(a+1),e=e.substring(2,a)):e=e.slice(2),a=e.indexOf("."),o=a>=0,r=n.constructor,o&&(e=e.replace(".",""),u=e.length,a=u-a,i=hC(r,new r(t),a,a*2)),l=pm(e,t,wa),c=l.length-1,a=c;l[a]===0;--a)l.pop();return a<0?new r(n.s*0):(n.e=vm(l,c),n.d=l,zt=!1,o&&(n=Lr(n,i,u*4)),s&&(n=n.times(Math.abs(s)<54?bn(2,s):hc.pow(2,s))),zt=!0,n)}function iG(n,e){var t,r=e.d.length;if(r<3)return e.isZero()?e:Xu(n,2,e,e);t=1.4*Math.sqrt(r),t=t>16?16:t|0,e=e.times(1/ym(5,t)),e=Xu(n,2,e,e);for(var i,a=new n(5),o=new n(16),u=new n(20);t--;)i=e.times(e),e=e.times(a.plus(i.times(o.times(i).minus(u))));return e}function Xu(n,e,t,r,i){var a,o,u,s,l=1,c=n.precision,f=Math.ceil(c/Ft);for(zt=!1,s=t.times(t),u=new n(r);;){if(o=Lr(u.times(s),new n(e++*e++),c,1),u=i?r.plus(o):r.minus(o),r=Lr(o.times(s),new n(e++*e++),c,1),o=u.plus(r),o.d[f]!==void 0){for(a=f;o.d[a]===u.d[a]&&a--;);if(a==-1)break}a=u,u=r,r=o,o=a,l++}return zt=!0,o.d.length=f+1,o}function ym(n,e){for(var t=n;--e;)t*=n;return t}function yC(n,e){var t,r=e.s<0,i=xa(n,n.precision,1),a=i.times(.5);if(e=e.abs(),e.lte(a))return co=r?4:1,e;if(t=e.divToInt(i),t.isZero())co=r?3:2;else{if(e=e.minus(t.times(i)),e.lte(a))return co=oC(t)?r?2:3:r?4:1,e;co=oC(t)?r?1:4:r?3:2}return e.minus(i).abs()}function ry(n,e,t,r){var i,a,o,u,s,l,c,f,p,m=n.constructor,h=t!==void 0;if(h?(pi(t,1,Jo),r===void 0?r=m.rounding:pi(r,0,8)):(t=m.precision,r=m.rounding),!n.isFinite())c=vC(n);else{for(c=ka(n),o=c.indexOf("."),h?(i=2,e==16?t=t*4-3:e==8&&(t=t*3-2)):i=e,o>=0&&(c=c.replace(".",""),p=new m(1),p.e=c.length-o,p.d=pm(ka(p),10,i),p.e=p.d.length),f=pm(c,10,i),a=s=f.length;f[--s]==0;)f.pop();if(!f[0])c=h?"0p+0":"0";else{if(o<0?a--:(n=new m(n),n.d=f,n.e=a,n=Lr(n,p,t,r,0,i),f=n.d,a=n.e,l=lC),o=f[t],u=i/2,l=l||f[t+1]!==void 0,l=r<4?(o!==void 0||l)&&(r===0||r===(n.s<0?3:2)):o>u||o===u&&(r===4||l||r===6&&f[t-1]&1||r===(n.s<0?8:7)),f.length=t,l)for(;++f[--t]>i-1;)f[t]=0,t||(++a,f.unshift(1));for(s=f.length;!f[s-1];--s);for(o=0,c="";o<s;o++)c+=Xv.charAt(f[o]);if(h){if(s>1)if(e==16||e==8){for(o=e==16?4:3,--s;s%o;s++)c+="0";for(f=pm(c,i,e),s=f.length;!f[s-1];--s);for(o=1,c="1.";o<s;o++)c+=Xv.charAt(f[o])}else c=c.charAt(0)+"."+c.slice(1);c=c+(a<0?"p":"p+")+a}else if(a<0){for(;++a;)c="0"+c;c="0."+c}else if(++a>s)for(a-=s;a--;)c+="0";else a<s&&(c=c.slice(0,a)+"."+c.slice(a))}c=(e==16?"0x":e==2?"0b":e==8?"0o":"")+c}return n.s<0?"-"+c:c}function sC(n,e){if(n.length>e)return n.length=e,!0}function aG(n){return new this(n).abs()}function oG(n){return new this(n).acos()}function sG(n){return new this(n).acosh()}function uG(n,e){return new this(n).plus(e)}function lG(n){return new this(n).asin()}function cG(n){return new this(n).asinh()}function fG(n){return new this(n).atan()}function pG(n){return new this(n).atanh()}function mG(n,e){n=new this(n),e=new this(e);var t,r=this.precision,i=this.rounding,a=r+4;return!n.s||!e.s?t=new this(NaN):!n.d&&!e.d?(t=xa(this,a,1).times(e.s>0?.25:.75),t.s=n.s):!e.d||n.isZero()?(t=e.s<0?xa(this,r,i):new this(0),t.s=n.s):!n.d||e.isZero()?(t=xa(this,a,1).times(.5),t.s=n.s):e.s<0?(this.precision=a,this.rounding=1,t=this.atan(Lr(n,e,a,1)),e=xa(this,a,1),this.precision=r,this.rounding=i,t=n.s<0?t.minus(e):t.plus(e)):t=this.atan(Lr(n,e,a,1)),t}function dG(n){return new this(n).cbrt()}function hG(n){return At(n=new this(n),n.e+1,2)}function gG(n,e,t){return new this(n).clamp(e,t)}function vG(n){if(!n||typeof n!="object")throw Error(gm+"Object expected");var e,t,r,i=n.defaults===!0,a=["precision",1,Jo,"rounding",0,8,"toExpNeg",-Ju,0,"toExpPos",0,Ju,"maxE",0,Ju,"minE",-Ju,0,"modulo",0,9];for(e=0;e<a.length;e+=3)if(t=a[e],i&&(this[t]=Qv[t]),(r=n[t])!==void 0)if($n(r)===r&&r>=a[e+1]&&r<=a[e+2])this[t]=r;else throw Error(Zo+t+": "+r);if(t="crypto",i&&(this[t]=Qv[t]),(r=n[t])!==void 0)if(r===!0||r===!1||r===0||r===1)if(r)if(typeof crypto!="undefined"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[t]=!0;else throw Error(fC);else this[t]=!1;else throw Error(Zo+t+": "+r);return this}function yG(n){return new this(n).cos()}function bG(n){return new this(n).cosh()}function bC(n){var e,t,r;function i(a){var o,u,s,l=this;if(!(l instanceof i))return new i(a);if(l.constructor=i,uC(a)){l.s=a.s,zt?!a.d||a.e>i.maxE?(l.e=NaN,l.d=null):a.e<i.minE?(l.e=0,l.d=[0]):(l.e=a.e,l.d=a.d.slice()):(l.e=a.e,l.d=a.d?a.d.slice():a.d);return}if(s=typeof a,s==="number"){if(a===0){l.s=1/a<0?-1:1,l.e=0,l.d=[0];return}if(a<0?(a=-a,l.s=-1):l.s=1,a===~~a&&a<1e7){for(o=0,u=a;u>=10;u/=10)o++;zt?o>i.maxE?(l.e=NaN,l.d=null):o<i.minE?(l.e=0,l.d=[0]):(l.e=o,l.d=[a]):(l.e=o,l.d=[a]);return}else if(a*0!==0){a||(l.s=NaN),l.e=NaN,l.d=null;return}return ty(l,a.toString())}else if(s!=="string")throw Error(Zo+a);return(u=a.charCodeAt(0))===45?(a=a.slice(1),l.s=-1):(u===43&&(a=a.slice(1)),l.s=1),mC.test(a)?ty(l,a):nG(l,a)}if(i.prototype=He,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.EUCLID=9,i.config=i.set=vG,i.clone=bC,i.isDecimal=uC,i.abs=aG,i.acos=oG,i.acosh=sG,i.add=uG,i.asin=lG,i.asinh=cG,i.atan=fG,i.atanh=pG,i.atan2=mG,i.cbrt=dG,i.ceil=hG,i.clamp=gG,i.cos=yG,i.cosh=bG,i.div=xG,i.exp=wG,i.floor=_G,i.hypot=SG,i.ln=AG,i.log=EG,i.log10=MG,i.log2=DG,i.max=NG,i.min=CG,i.mod=TG,i.mul=FG,i.pow=IG,i.random=PG,i.round=BG,i.sign=OG,i.sin=kG,i.sinh=RG,i.sqrt=LG,i.sub=VG,i.sum=UG,i.tan=qG,i.tanh=zG,i.trunc=$G,n===void 0&&(n={}),n&&n.defaults!==!0)for(r=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],e=0;e<r.length;)n.hasOwnProperty(t=r[e++])||(n[t]=this[t]);return i.config(n),i}function xG(n,e){return new this(n).div(e)}function wG(n){return new this(n).exp()}function _G(n){return At(n=new this(n),n.e+1,3)}function SG(){var n,e,t=new this(0);for(zt=!1,n=0;n<arguments.length;)if(e=new this(arguments[n++]),e.d)t.d&&(t=t.plus(e.times(e)));else{if(e.s)return zt=!0,new this(1/0);t=e}return zt=!0,t.sqrt()}function uC(n){return n instanceof hc||n&&n.toStringTag===pC||!1}function AG(n){return new this(n).ln()}function EG(n,e){return new this(n).log(e)}function DG(n){return new this(n).log(2)}function MG(n){return new this(n).log(10)}function NG(){return gC(this,arguments,"lt")}function CG(){return gC(this,arguments,"gt")}function TG(n,e){return new this(n).mod(e)}function FG(n,e){return new this(n).mul(e)}function IG(n,e){return new this(n).pow(e)}function PG(n){var e,t,r,i,a=0,o=new this(1),u=[];if(n===void 0?n=this.precision:pi(n,1,Jo),r=Math.ceil(n/Ft),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(r));a<r;)i=e[a],i>=429e7?e[a]=crypto.getRandomValues(new Uint32Array(1))[0]:u[a++]=i%1e7;else if(crypto.randomBytes){for(e=crypto.randomBytes(r*=4);a<r;)i=e[a]+(e[a+1]<<8)+(e[a+2]<<16)+((e[a+3]&127)<<24),i>=214e7?crypto.randomBytes(4).copy(e,a):(u.push(i%1e7),a+=4);a=r/4}else throw Error(fC);else for(;a<r;)u[a++]=Math.random()*1e7|0;for(r=u[--a],n%=Ft,r&&n&&(i=bn(10,Ft-n),u[a]=(r/i|0)*i);u[a]===0;a--)u.pop();if(a<0)t=0,u=[0];else{for(t=-1;u[0]===0;t-=Ft)u.shift();for(r=1,i=u[0];i>=10;i/=10)r++;r<Ft&&(t-=Ft-r)}return o.e=t,o.d=u,o}function BG(n){return At(n=new this(n),n.e+1,this.rounding)}function OG(n){return n=new this(n),n.d?n.d[0]?n.s:0*n.s:n.s||NaN}function kG(n){return new this(n).sin()}function RG(n){return new this(n).sinh()}function LG(n){return new this(n).sqrt()}function VG(n,e){return new this(n).sub(e)}function UG(){var n=0,e=arguments,t=new this(e[n]);for(zt=!1;t.s&&++n<e.length;)t=t.plus(e[n]);return zt=!0,At(t,this.precision,this.rounding)}function qG(n){return new this(n).tan()}function zG(n){return new this(n).tanh()}function $G(n){return At(n=new this(n),n.e+1,1)}He[Symbol.for("nodejs.util.inspect.custom")]=He.toString;He[Symbol.toStringTag]="Decimal";var hc=He.constructor=bC(Qv);mm=new hc(mm);dm=new hc(dm);var $s=hc;var HG="BigNumber",GG=["?on","config"],ny=C(HG,GG,n=>{var{on:e,config:t}=n,r=$s.clone({precision:t.precision,modulo:$s.EUCLID});return r.prototype=Object.create(r.prototype),r.prototype.type="BigNumber",r.prototype.isBigNumber=!0,r.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},r.fromJSON=function(i){return new r(i.value)},e&&e("config",function(i,a){i.precision!==a.precision&&r.config({precision:i.precision})}),r},{isClass:!0});var Sn=hr(wC(),1);var WG="Complex",YG=[],ay=C(WG,YG,()=>(Object.defineProperty(Sn.default,"name",{value:"Complex"}),Sn.default.prototype.constructor=Sn.default,Sn.default.prototype.type="Complex",Sn.default.prototype.isComplex=!0,Sn.default.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},Sn.default.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},Sn.default.prototype.format=function(n){var e="",t=this.im,r=this.re,i=ya(this.re,n),a=ya(this.im,n),o=yt(n)?n:n?n.precision:null;if(o!==null){var u=Math.pow(10,-o);Math.abs(r/t)<u&&(r=0),Math.abs(t/r)<u&&(t=0)}return t===0?e=i:r===0?t===1?e="i":t===-1?e="-i":e=a+"i":t<0?t===-1?e=i+" - i":e=i+" - "+a.substring(1)+"i":t===1?e=i+" + i":e=i+" + "+a+"i",e},Sn.default.fromPolar=function(n){switch(arguments.length){case 1:{var e=arguments[0];if(typeof e=="object")return(0,Sn.default)(e);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var t=arguments[0],r=arguments[1];if(yt(t)){if(Nn(r)&&r.hasBase("ANGLE")&&(r=r.toNumber("rad")),yt(r))return new Sn.default({r:t,phi:r});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},Sn.default.prototype.valueOf=Sn.default.prototype.toString,Sn.default.fromJSON=function(n){return new Sn.default(n)},Sn.default.compare=function(n,e){return n.re>e.re?1:n.re<e.re?-1:n.im>e.im?1:n.im<e.im?-1:0},Sn.default),{isClass:!0});var Ra=hr(SC(),1);var jG="Fraction",ZG=[],sy=C(jG,ZG,()=>(Object.defineProperty(Ra.default,"name",{value:"Fraction"}),Ra.default.prototype.constructor=Ra.default,Ra.default.prototype.type="Fraction",Ra.default.prototype.isFraction=!0,Ra.default.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},Ra.default.fromJSON=function(n){return new Ra.default(n)},Ra.default),{isClass:!0});var JG="Range",XG=[],uy=C(JG,XG,()=>{function n(e,t,r){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");var i=e!=null,a=t!=null,o=r!=null;if(i){if(st(e))e=e.toNumber();else if(typeof e!="number")throw new TypeError("Parameter start must be a number")}if(a){if(st(t))t=t.toNumber();else if(typeof t!="number")throw new TypeError("Parameter end must be a number")}if(o){if(st(r))r=r.toNumber();else if(typeof r!="number")throw new TypeError("Parameter step must be a number")}this.start=i?parseFloat(e):0,this.end=a?parseFloat(t):0,this.step=o?parseFloat(r):1}return n.prototype.type="Range",n.prototype.isRange=!0,n.parse=function(e){if(typeof e!="string")return null;var t=e.split(":"),r=t.map(function(a){return parseFloat(a)}),i=r.some(function(a){return isNaN(a)});if(i)return null;switch(r.length){case 2:return new n(r[0],r[1]);case 3:return new n(r[0],r[2],r[1]);default:return null}},n.prototype.clone=function(){return new n(this.start,this.end,this.step)},n.prototype.size=function(){var e=0,t=this.start,r=this.step,i=this.end,a=i-t;return Zi(r)===Zi(a)?e=Math.ceil(a/r):a===0&&(e=0),isNaN(e)&&(e=0),[e]},n.prototype.min=function(){var e=this.size()[0];if(e>0)return this.step>0?this.start:this.start+(e-1)*this.step},n.prototype.max=function(){var e=this.size()[0];if(e>0)return this.step>0?this.start+(e-1)*this.step:this.start},n.prototype.forEach=function(e){var t=this.start,r=this.step,i=this.end,a=0;if(r>0)for(;t<i;)e(t,[a],this),t+=r,a++;else if(r<0)for(;t>i;)e(t,[a],this),t+=r,a++},n.prototype.map=function(e){var t=[];return this.forEach(function(r,i,a){t[i[0]]=e(r,i,a)}),t},n.prototype.toArray=function(){var e=[];return this.forEach(function(t,r){e[r[0]]=t}),e},n.prototype.valueOf=function(){return this.toArray()},n.prototype.format=function(e){var t=ya(this.start,e);return this.step!==1&&(t+=":"+ya(this.step,e)),t+=":"+ya(this.end,e),t},n.prototype.toString=function(){return this.format()},n.prototype.toJSON=function(){return{mathjs:"Range",start:this.start,end:this.end,step:this.step}},n.fromJSON=function(e){return new n(e.start,e.end,e.step)},n},{isClass:!0});var QG="Matrix",KG=[],ly=C(QG,KG,()=>{function n(){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator")}return n.prototype.type="Matrix",n.prototype.isMatrix=!0,n.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},n.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},n.prototype.create=function(e,t){throw new Error("Cannot invoke create on a Matrix interface")},n.prototype.subset=function(e,t,r){throw new Error("Cannot invoke subset on a Matrix interface")},n.prototype.get=function(e){throw new Error("Cannot invoke get on a Matrix interface")},n.prototype.set=function(e,t,r){throw new Error("Cannot invoke set on a Matrix interface")},n.prototype.resize=function(e,t){throw new Error("Cannot invoke resize on a Matrix interface")},n.prototype.reshape=function(e,t){throw new Error("Cannot invoke reshape on a Matrix interface")},n.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},n.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},n.prototype.map=function(e,t){throw new Error("Cannot invoke map on a Matrix interface")},n.prototype.forEach=function(e){throw new Error("Cannot invoke forEach on a Matrix interface")},n.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},n.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},n.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},n.prototype.format=function(e){throw new Error("Cannot invoke format on a Matrix interface")},n.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},n},{isClass:!0});function AC(n){var e=0,t=1,r=Object.create(null),i=Object.create(null),a=0,o=function(s){var l=i[s];if(l&&(delete r[l],delete i[s],--e,t===l)){if(!e){a=0,t=1;return}for(;!Object.prototype.hasOwnProperty.call(r,++t););}};return n=Math.abs(n),{hit:function(s){var l=i[s],c=++a;if(r[c]=s,i[s]=c,!l)return++e,e<=n?void 0:(s=r[t],o(s),s);if(delete r[l],t===l)for(;!Object.prototype.hasOwnProperty.call(r,++t););},delete:o,clear:function(){e=a=0,t=1,r=Object.create(null),i=Object.create(null)}}}function Hs(n){var{hasher:e,limit:t}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t=t==null?Number.POSITIVE_INFINITY:t,e=e==null?JSON.stringify:e,function r(){typeof r.cache!="object"&&(r.cache={values:new Map,lru:AC(t||Number.POSITIVE_INFINITY)});for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var o=e(i);if(r.cache.values.has(o))return r.cache.lru.hit(o),r.cache.values.get(o);var u=n.apply(n,i);return r.cache.values.set(o,u),r.cache.values.delete(r.cache.lru.hit(o)),u}}function bm(n){return Object.keys(n.signatures||{}).reduce(function(e,t){var r=(t.match(/,/g)||[]).length+1;return Math.max(e,r)},-1)}var eW="DenseMatrix",tW=["Matrix"],cy=C(eW,tW,n=>{var{Matrix:e}=n;function t(c,f){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if(f&&!Wr(f))throw new Error("Invalid datatype: "+f);if(rt(c))c.type==="DenseMatrix"?(this._data=pt(c._data),this._size=pt(c._size),this._datatype=f||c._datatype):(this._data=c.toArray(),this._size=c.size(),this._datatype=f||c._datatype);else if(c&&Zt(c.data)&&Zt(c.size))this._data=c.data,this._size=c.size,qv(this._data,this._size),this._datatype=f||c.datatype;else if(Zt(c))this._data=l(c),this._size=vt(this._data),qv(this._data,this._size),this._datatype=f;else{if(c)throw new TypeError("Unsupported type of data ("+Wt(c)+")");this._data=[],this._size=[0],this._datatype=f}}t.prototype=new e,t.prototype.createDenseMatrix=function(c,f){return new t(c,f)},Object.defineProperty(t,"name",{value:"DenseMatrix"}),t.prototype.constructor=t,t.prototype.type="DenseMatrix",t.prototype.isDenseMatrix=!0,t.prototype.getDataType=function(){return Go(this._data,Wt)},t.prototype.storage=function(){return"dense"},t.prototype.datatype=function(){return this._datatype},t.prototype.create=function(c,f){return new t(c,f)},t.prototype.subset=function(c,f,p){switch(arguments.length){case 1:return r(this,c);case 2:case 3:return a(this,c,f,p);default:throw new SyntaxError("Wrong number of arguments")}},t.prototype.get=function(c){if(!Zt(c))throw new TypeError("Array expected");if(c.length!==this._size.length)throw new _t(c.length,this._size.length);for(var f=0;f<c.length;f++)mr(c[f],this._size[f]);for(var p=this._data,m=0,h=c.length;m<h;m++){var d=c[m];mr(d,p.length),p=p[d]}return p},t.prototype.set=function(c,f,p){if(!Zt(c))throw new TypeError("Array expected");if(c.length<this._size.length)throw new _t(c.length,this._size.length,"<");var m,h,d,v=c.map(function(_){return _+1});s(this,v,p);var y=this._data;for(m=0,h=c.length-1;m<h;m++)d=c[m],mr(d,y.length),y=y[d];return d=c[c.length-1],mr(d,y.length),y[d]=f,this};function r(c,f){if(!qo(f))throw new TypeError("Invalid index");var p=f.isScalar();if(p)return c.get(f.min());var m=f.size();if(m.length!==c._size.length)throw new _t(m.length,c._size.length);for(var h=f.min(),d=f.max(),v=0,y=c._size.length;v<y;v++)mr(h[v],c._size[v]),mr(d[v],c._size[v]);return new t(i(c._data,f,m.length,0),c._datatype)}function i(c,f,p,m){var h=m===p-1,d=f.dimension(m);return h?d.map(function(v){return mr(v,c.length),c[v]}).valueOf():d.map(function(v){mr(v,c.length);var y=c[v];return i(y,f,p,m+1)}).valueOf()}function a(c,f,p,m){if(!f||f.isIndex!==!0)throw new TypeError("Invalid index");var h=f.size(),d=f.isScalar(),v;if(rt(p)?(v=p.size(),p=p.valueOf()):v=vt(p),d){if(v.length!==0)throw new TypeError("Scalar expected");c.set(f.min(),p,m)}else{if(!va(v,h))try{v.length===0?p=Hv([p],h):p=Hv(p,h),v=vt(p)}catch(x){}if(h.length<c._size.length)throw new _t(h.length,c._size.length,"<");if(v.length<h.length){for(var y=0,_=0;h[y]===1&&v[y]===1;)y++;for(;h[y]===1;)_++,y++;p=um(p,h.length,_,v)}if(!va(h,v))throw new _t(h,v,">");var b=f.max().map(function(x){return x+1});s(c,b,m);var w=h.length,S=0;o(c._data,f,p,w,S)}return c}function o(c,f,p,m,h){var d=h===m-1,v=f.dimension(h);d?v.forEach(function(y,_){mr(y),c[y]=p[_[0]]}):v.forEach(function(y,_){mr(y),o(c[y],f,p[_[0]],m,h+1)})}t.prototype.resize=function(c,f,p){if(!Qr(c))throw new TypeError("Array or Matrix expected");var m=c.valueOf().map(d=>Array.isArray(d)&&d.length===1?d[0]:d),h=p?this.clone():this;return u(h,m,f)};function u(c,f,p){if(f.length===0){for(var m=c._data;Zt(m);)m=m[0];return m}return c._size=f.slice(0),c._data=ba(c._data,c._size,p),c}t.prototype.reshape=function(c,f){var p=f?this.clone():this;p._data=fc(p._data,c);var m=p._size.reduce((h,d)=>h*d);return p._size=pc(c,m),p};function s(c,f,p){for(var m=c._size.slice(0),h=!1;m.length<f.length;)m.push(0),h=!0;for(var d=0,v=f.length;d<v;d++)f[d]>m[d]&&(m[d]=f[d],h=!0);h&&u(c,m,p)}t.prototype.clone=function(){var c=new t({data:pt(this._data),size:pt(this._size),datatype:this._datatype});return c},t.prototype.size=function(){return this._size.slice(0)},t.prototype.map=function(c){var f=this,p=bm(c),m=function v(y,_){return Zt(y)?y.map(function(b,w){return v(b,_.concat(w))}):p===1?c(y):p===2?c(y,_):c(y,_,f)},h=m(this._data,[]),d=this._datatype!==void 0?Go(h,Wt):void 0;return new t(h,d)},t.prototype.forEach=function(c){var f=this,p=function m(h,d){Zt(h)?h.forEach(function(v,y){m(v,d.concat(y))}):c(h,d,f)};p(this._data,[])},t.prototype[Symbol.iterator]=function*(){var c=function*f(p,m){if(Zt(p))for(var h=0;h<p.length;h++)yield*f(p[h],m.concat(h));else yield{value:p,index:m}};yield*c(this._data,[])},t.prototype.rows=function(){var c=[],f=this.size();if(f.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var p=this._data;for(var m of p)c.push(new t([m],this._datatype));return c},t.prototype.columns=function(){var c=this,f=[],p=this.size();if(p.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var m=this._data,h=function(y){var _=m.map(b=>[b[y]]);f.push(new t(_,c._datatype))},d=0;d<p[1];d++)h(d);return f},t.prototype.toArray=function(){return pt(this._data)},t.prototype.valueOf=function(){return this._data},t.prototype.format=function(c){return xt(this._data,c)},t.prototype.toString=function(){return xt(this._data)},t.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},t.prototype.diagonal=function(c){if(c){if(st(c)&&(c=c.toNumber()),!yt(c)||!Ke(c))throw new TypeError("The parameter k must be an integer number")}else c=0;for(var f=c>0?c:0,p=c<0?-c:0,m=this._size[0],h=this._size[1],d=Math.min(m-p,h-f),v=[],y=0;y<d;y++)v[y]=this._data[y+p][y+f];return new t({data:v,size:[d],datatype:this._datatype})},t.diagonal=function(c,f,p,m){if(!Zt(c))throw new TypeError("Array expected, size parameter");if(c.length!==2)throw new Error("Only two dimensions matrix are supported");if(c=c.map(function(N){if(st(N)&&(N=N.toNumber()),!yt(N)||!Ke(N)||N<1)throw new Error("Size values must be positive integers");return N}),p){if(st(p)&&(p=p.toNumber()),!yt(p)||!Ke(p))throw new TypeError("The parameter k must be an integer number")}else p=0;var h=p>0?p:0,d=p<0?-p:0,v=c[0],y=c[1],_=Math.min(v-d,y-h),b;if(Zt(f)){if(f.length!==_)throw new Error("Invalid value array length");b=function(D){return f[D]}}else if(rt(f)){var w=f.size();if(w.length!==1||w[0]!==_)throw new Error("Invalid matrix length");b=function(D){return f.get([D])}}else b=function(){return f};m||(m=st(b(0))?b(0).mul(0):0);var S=[];if(c.length>0){S=ba(S,c,m);for(var x=0;x<_;x++)S[x+d][x+h]=b(x)}return new t({data:S,size:[v,y]})},t.fromJSON=function(c){return new t(c)},t.prototype.swapRows=function(c,f){if(!yt(c)||!Ke(c)||!yt(f)||!Ke(f))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return mr(c,this._size[0]),mr(f,this._size[0]),t._swapRows(c,f,this._data),this},t._swapRows=function(c,f,p){var m=p[c];p[c]=p[f],p[f]=m};function l(c){return rt(c)?l(c.valueOf()):Zt(c)?c.map(l):c}return t},{isClass:!0});var EC="clone",rW=["typed"],fy=C(EC,rW,n=>{var{typed:e}=n;return e(EC,{any:pt})});function xm(n){var e=n.length,t=n[0].length,r,i,a=[];for(i=0;i<t;i++){var o=[];for(r=0;r<e;r++)o.push(n[r][i]);a.push(o)}return a}function Ji(n){for(var e=0;e<n.length;e++)if(Qr(n[e]))return!0;return!1}function Hn(n,e){rt(n)&&(n=n.valueOf());for(var t=0,r=n.length;t<r;t++){var i=n[t];Array.isArray(i)?Hn(i,e):e(i)}}function at(n,e,t){return n&&typeof n.map=="function"?n.map(function(r){return at(r,e,t)}):e(n)}function Xo(n,e,t){var r=Array.isArray(n)?vt(n):n.size();if(e<0||e>=r.length)throw new Fn(e,r.length);return rt(n)?n.create(wm(n.valueOf(),e,t)):wm(n,e,t)}function wm(n,e,t){var r,i,a,o;if(e<=0)if(Array.isArray(n[0])){for(o=xm(n),i=[],r=0;r<o.length;r++)i[r]=wm(o[r],e-1,t);return i}else{for(a=n[0],r=1;r<n.length;r++)a=t(a,n[r]);return a}else{for(i=[],r=0;r<n.length;r++)i[r]=wm(n[r],e-1,t);return i}}function py(n,e,t,r,i,a,o,u,s,l,c){var f=n._values,p=n._index,m=n._ptr,h,d,v,y;if(r)for(d=m[e],v=m[e+1],h=d;h<v;h++)y=p[h],t[y]!==a?(t[y]=a,o.push(y),l?(r[y]=s?u(f[h],c):u(c,f[h]),i[y]=a):r[y]=f[h]):(r[y]=s?u(f[h],r[y]):u(r[y],f[h]),i[y]=a);else for(d=m[e],v=m[e+1],h=d;h<v;h++)y=p[h],t[y]!==a?(t[y]=a,o.push(y)):i[y]=a}var DC="isInteger",nW=["typed"],my=C(DC,nW,n=>{var{typed:e}=n;return e(DC,{number:Ke,BigNumber:function(r){return r.isInt()},Fraction:function(r){return r.d===1&&isFinite(r.n)},"Array | Matrix":e.referToSelf(t=>r=>at(r,t))})});var mi="number",fo="number, number";function dy(n){return Math.abs(n)}dy.signature=mi;function hy(n,e){return n+e}hy.signature=fo;function gy(n,e){return n-e}gy.signature=fo;function vy(n,e){return n*e}vy.signature=fo;function iW(n,e){return n/e}iW.signature=fo;function yy(n){return-n}yy.signature=mi;function by(n){return n}by.signature=mi;function Qu(n){return PN(n)}Qu.signature=mi;function xy(n){return n*n*n}xy.signature=mi;function wy(n){return Math.exp(n)}wy.signature=mi;function _y(n){return BN(n)}_y.signature=mi;function aW(n,e){if(!Ke(n)||!Ke(e))throw new Error("Parameters in function gcd must be integer numbers");for(var t;e!==0;)t=n%e,n=e,e=t;return n<0?-n:n}aW.signature=fo;function Sy(n,e){if(!Ke(n)||!Ke(e))throw new Error("Parameters in function lcm must be integer numbers");if(n===0||e===0)return 0;for(var t,r=n*e;e!==0;)t=e,e=n%t,n=t;return Math.abs(r/n)}Sy.signature=fo;function MC(n,e){return e?Math.log(n)/Math.log(e):Math.log(n)}function Ay(n){return IN(n)}Ay.signature=mi;function Ey(n){return FN(n)}Ey.signature=mi;function oW(n){return nm(n)}oW.signature=mi;function sW(n,e){return e===0?n:n-e*Math.floor(n/e)}sW.signature=fo;function Dy(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,t=e<0;if(t&&(e=-e),e===0)throw new Error("Root must be non-zero");if(n<0&&Math.abs(e)%2!==1)throw new Error("Root must be odd when a is negative.");if(n===0)return t?1/0:0;if(!isFinite(n))return t?0:n;var r=Math.pow(Math.abs(n),1/e);return r=n<0?-r:r,t?1/r:r}function _m(n){return Zi(n)}_m.signature=mi;function uW(n){return Math.sqrt(n)}uW.signature=mi;function My(n){return n*n}My.signature=mi;function Ny(n,e){var t,r,i,a=0,o=1,u=1,s=0;if(!Ke(n)||!Ke(e))throw new Error("Parameters in function xgcd must be integer numbers");for(;e;)r=Math.floor(n/e),i=n-r*e,t=a,a=o-r*a,o=t,t=u,u=s-r*u,s=t,n=e,e=i;var l;return n<0?l=[-n,-o,-s]:l=[n,n?o:0,s],l}Ny.signature=fo;function Cy(n,e){return n*n<1&&e===1/0||n*n>1&&e===-1/0?0:Math.pow(n,e)}Cy.signature=fo;function Ku(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!Ke(e)||e<0||e>15)throw new Error("Number of decimals in function round must be an integer from 0 to 15 inclusive");return parseFloat(Lv(n,e))}function lW(n){return Math.abs(n)}lW.signature=mi;var cW="number",el="number, number";function Ty(n,e){if(!Ke(n)||!Ke(e))throw new Error("Integers expected in function bitAnd");return n&e}Ty.signature=el;function Fy(n){if(!Ke(n))throw new Error("Integer expected in function bitNot");return~n}Fy.signature=cW;function Iy(n,e){if(!Ke(n)||!Ke(e))throw new Error("Integers expected in function bitOr");return n|e}Iy.signature=el;function Py(n,e){if(!Ke(n)||!Ke(e))throw new Error("Integers expected in function bitXor");return n^e}Py.signature=el;function By(n,e){if(!Ke(n)||!Ke(e))throw new Error("Integers expected in function leftShift");return n<<e}By.signature=el;function Oy(n,e){if(!Ke(n)||!Ke(e))throw new Error("Integers expected in function rightArithShift");return n>>e}Oy.signature=el;function ky(n,e){if(!Ke(n)||!Ke(e))throw new Error("Integers expected in function rightLogShift");return n>>>e}ky.signature=el;function Fi(n,e){if(e<n)return 1;if(e===n)return e;var t=e+n>>1;return Fi(n,t)*Fi(t+1,e)}function Ry(n,e){if(!Ke(n)||n<0)throw new TypeError("Positive integer value expected in function combinations");if(!Ke(e)||e<0)throw new TypeError("Positive integer value expected in function combinations");if(e>n)throw new TypeError("k must be less than or equal to n");for(var t=n-e,r=1,i=e<t?t+1:e+1,a=2,o=e<t?e:t,u=i;u<=n;++u)for(r*=u;a<=o&&r%a===0;)r/=a,++a;return a<=o&&(r/=Fi(a,o)),r}Ry.signature="number, number";var NC=Math.PI,CC=2*Math.PI,TC=Math.E,FC=1.618033988749895;var fW="number",Ly="number, number";function Vy(n){return!n}Vy.signature=fW;function Uy(n,e){return!!(n||e)}Uy.signature=Ly;function qy(n,e){return!!n!=!!e}qy.signature=Ly;function zy(n,e){return!!(n&&e)}zy.signature=Ly;function gc(n){var e;if(Ke(n))return n<=0?isFinite(n)?1/0:NaN:n>171?1/0:Fi(1,n-1);if(n<.5)return Math.PI/(Math.sin(Math.PI*n)*gc(1-n));if(n>=171.35)return 1/0;if(n>85){var t=n*n,r=t*n,i=r*n,a=i*n;return Math.sqrt(2*Math.PI/n)*Math.pow(n/Math.E,n)*(1+1/(12*n)+1/(288*t)-139/(51840*r)-571/(2488320*i)+163879/(209018880*a)+5246819/(75246796800*a*n))}--n,e=Gs[0];for(var o=1;o<Gs.length;++o)e+=Gs[o]/(n+o);var u=n+$y+.5;return Math.sqrt(2*Math.PI)*Math.pow(u,n+.5)*Math.exp(-u)*e}gc.signature="number";var $y=4.7421875,Gs=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22],Hy=.9189385332046728,pW=5,mW=7,IC=[1.000000000190015,76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18];function vc(n){if(n<0)return NaN;if(n===0)return 1/0;if(!isFinite(n))return n;if(n<.5)return Math.log(Math.PI/Math.sin(Math.PI*n))-vc(1-n);n=n-1;for(var e=n+pW+.5,t=IC[0],r=mW-1;r>=1;r--)t+=IC[r]/(n+r);return Hy+(n+.5)*Math.log(e)-e+Math.log(t)}vc.signature="number";var Yr="number",dW="number, number";function hW(n){return Math.acos(n)}hW.signature=Yr;function Gy(n){return RN(n)}Gy.signature=Yr;function Wy(n){return Math.atan(1/n)}Wy.signature=Yr;function Yy(n){return isFinite(n)?(Math.log((n+1)/n)+Math.log(n/(n-1)))/2:0}Yy.signature=Yr;function jy(n){return Math.asin(1/n)}jy.signature=Yr;function Zy(n){var e=1/n;return Math.log(e+Math.sqrt(e*e+1))}Zy.signature=Yr;function Jy(n){return Math.acos(1/n)}Jy.signature=Yr;function Xy(n){var e=1/n,t=Math.sqrt(e*e-1);return Math.log(t+e)}Xy.signature=Yr;function gW(n){return Math.asin(n)}gW.signature=Yr;function Qy(n){return LN(n)}Qy.signature=Yr;function vW(n){return Math.atan(n)}vW.signature=Yr;function yW(n,e){return Math.atan2(n,e)}yW.signature=dW;function Ky(n){return VN(n)}Ky.signature=Yr;function bW(n){return Math.cos(n)}bW.signature=Yr;function xW(n){return am(n)}xW.signature=Yr;function e0(n){return 1/Math.tan(n)}e0.signature=Yr;function t0(n){var e=Math.exp(2*n);return(e+1)/(e-1)}t0.signature=Yr;function r0(n){return 1/Math.sin(n)}r0.signature=Yr;function n0(n){return n===0?Number.POSITIVE_INFINITY:Math.abs(2/(Math.exp(n)-Math.exp(-n)))*Zi(n)}n0.signature=Yr;function i0(n){return 1/Math.cos(n)}i0.signature=Yr;function a0(n){return 2/(Math.exp(n)+Math.exp(-n))}a0.signature=Yr;function wW(n){return Math.sin(n)}wW.signature=Yr;function o0(n){return UN(n)}o0.signature=Yr;function _W(n){return Math.tan(n)}_W.signature=Yr;function SW(n){return om(n)}SW.signature=Yr;var yc="number";function AW(n){return Ke(n)}AW.signature=yc;function s0(n){return n<0}s0.signature=yc;function u0(n){return n>0}u0.signature=yc;function l0(n){return n===0}l0.signature=yc;function c0(n){return Number.isNaN(n)}c0.signature=yc;var PC="isNegative",EW=["typed"],f0=C(PC,EW,n=>{var{typed:e}=n;return e(PC,{number:s0,BigNumber:function(r){return r.isNeg()&&!r.isZero()&&!r.isNaN()},Fraction:function(r){return r.s<0},Unit:e.referToSelf(t=>r=>e.find(t,r.valueType())(r.value)),"Array | Matrix":e.referToSelf(t=>r=>at(r,t))})});var BC="isNumeric",DW=["typed"],p0=C(BC,DW,n=>{var{typed:e}=n;return e(BC,{"number | BigNumber | Fraction | boolean":()=>!0,"Complex | Unit | string | null | undefined | Node":()=>!1,"Array | Matrix":e.referToSelf(t=>r=>at(r,t))})});var OC="hasNumericValue",MW=["typed","isNumeric"],m0=C(OC,MW,n=>{var{typed:e,isNumeric:t}=n;return e(OC,{boolean:()=>!0,string:function(i){return i.trim().length>0&&!isNaN(Number(i))},any:function(i){return t(i)}})});var kC="isPositive",NW=["typed"],d0=C(kC,NW,n=>{var{typed:e}=n;return e(kC,{number:u0,BigNumber:function(r){return!r.isNeg()&&!r.isZero()&&!r.isNaN()},Fraction:function(r){return r.s>0&&r.n>0},Unit:e.referToSelf(t=>r=>e.find(t,r.valueType())(r.value)),"Array | Matrix":e.referToSelf(t=>r=>at(r,t))})});var RC="isZero",CW=["typed"],h0=C(RC,CW,n=>{var{typed:e}=n;return e(RC,{number:l0,BigNumber:function(r){return r.isZero()},Complex:function(r){return r.re===0&&r.im===0},Fraction:function(r){return r.d===1&&r.n===0},Unit:e.referToSelf(t=>r=>e.find(t,r.valueType())(r.value)),"Array | Matrix":e.referToSelf(t=>r=>at(r,t))})});var LC="isNaN",TW=["typed"],g0=C(LC,TW,n=>{var{typed:e}=n;return e(LC,{number:c0,BigNumber:function(r){return r.isNaN()},Fraction:function(r){return!1},Complex:function(r){return r.isNaN()},Unit:function(r){return Number.isNaN(r.value)},"Array | Matrix":function(r){return at(r,Number.isNaN)}})});var VC="typeOf",FW=["typed"],v0=C(VC,FW,n=>{var{typed:e}=n;return e(VC,{any:Wt})});function un(n,e,t){if(t==null)return n.eq(e);if(n.eq(e))return!0;if(n.isNaN()||e.isNaN())return!1;if(n.isFinite()&&e.isFinite()){var r=n.minus(e).abs();if(r.isZero())return!0;var i=n.constructor.max(n.abs(),e.abs());return r.lte(i.times(t))}return!1}function UC(n,e,t){return zr(n.re,e.re,t)&&zr(n.im,e.im,t)}var Xi=C("compareUnits",["typed"],n=>{var{typed:e}=n;return{"Unit, Unit":e.referToSelf(t=>(r,i)=>{if(!r.equalBase(i))throw new Error("Cannot compare units with different base");return e.find(t,[r.valueType(),i.valueType()])(r.value,i.value)})}});var Sm="equalScalar",IW=["typed","config"],y0=C(Sm,IW,n=>{var{typed:e,config:t}=n,r=Xi({typed:e});return e(Sm,{"boolean, boolean":function(a,o){return a===o},"number, number":function(a,o){return zr(a,o,t.epsilon)},"BigNumber, BigNumber":function(a,o){return a.eq(o)||un(a,o,t.epsilon)},"Fraction, Fraction":function(a,o){return a.equals(o)},"Complex, Complex":function(a,o){return UC(a,o,t.epsilon)}},r)}),eve=C(Sm,["typed","config"],n=>{var{typed:e,config:t}=n;return e(Sm,{"number, number":function(i,a){return zr(i,a,t.epsilon)}})});var PW="SparseMatrix",BW=["typed","equalScalar","Matrix"],b0=C(PW,BW,n=>{var{typed:e,equalScalar:t,Matrix:r}=n;function i(d,v){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(v&&!Wr(v))throw new Error("Invalid datatype: "+v);if(rt(d))a(this,d,v);else if(d&&Zt(d.index)&&Zt(d.ptr)&&Zt(d.size))this._values=d.values,this._index=d.index,this._ptr=d.ptr,this._size=d.size,this._datatype=v||d.datatype;else if(Zt(d))o(this,d,v);else{if(d)throw new TypeError("Unsupported type of data ("+Wt(d)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=v}}function a(d,v,y){v.type==="SparseMatrix"?(d._values=v._values?pt(v._values):void 0,d._index=pt(v._index),d._ptr=pt(v._ptr),d._size=pt(v._size),d._datatype=y||v._datatype):o(d,v.valueOf(),y||v._datatype)}function o(d,v,y){d._values=[],d._index=[],d._ptr=[],d._datatype=y;var _=v.length,b=0,w=t,S=0;if(Wr(y)&&(w=e.find(t,[y,y])||t,S=e.convert(0,y)),_>0){var x=0;do{d._ptr.push(d._index.length);for(var N=0;N<_;N++){var D=v[N];if(Zt(D)){if(x===0&&b<D.length&&(b=D.length),x<D.length){var E=D[x];w(E,S)||(d._values.push(E),d._index.push(N))}}else x===0&&b<1&&(b=1),w(D,S)||(d._values.push(D),d._index.push(N))}x++}while(x<b)}d._ptr.push(d._index.length),d._size=[_,b]}i.prototype=new r,i.prototype.createSparseMatrix=function(d,v){return new i(d,v)},Object.defineProperty(i,"name",{value:"SparseMatrix"}),i.prototype.constructor=i,i.prototype.type="SparseMatrix",i.prototype.isSparseMatrix=!0,i.prototype.getDataType=function(){return Go(this._values,Wt)},i.prototype.storage=function(){return"sparse"},i.prototype.datatype=function(){return this._datatype},i.prototype.create=function(d,v){return new i(d,v)},i.prototype.density=function(){var d=this._size[0],v=this._size[1];return d!==0&&v!==0?this._index.length/(d*v):0},i.prototype.subset=function(d,v,y){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return u(this,d);case 2:case 3:return s(this,d,v,y);default:throw new SyntaxError("Wrong number of arguments")}};function u(d,v){if(!qo(v))throw new TypeError("Invalid index");var y=v.isScalar();if(y)return d.get(v.min());var _=v.size();if(_.length!==d._size.length)throw new _t(_.length,d._size.length);var b,w,S,x,N=v.min(),D=v.max();for(b=0,w=d._size.length;b<w;b++)mr(N[b],d._size[b]),mr(D[b],d._size[b]);var E=d._values,M=d._index,P=d._ptr,O=v.dimension(0),V=v.dimension(1),z=[],L=[];O.forEach(function(R,oe){L[R]=oe[0],z[R]=!0});var B=E?[]:void 0,T=[],G=[];return V.forEach(function(R){for(G.push(T.length),S=P[R],x=P[R+1];S<x;S++)b=M[S],z[b]===!0&&(T.push(L[b]),B&&B.push(E[S]))}),G.push(T.length),new i({values:B,index:T,ptr:G,size:_,datatype:d._datatype})}function s(d,v,y,_){if(!v||v.isIndex!==!0)throw new TypeError("Invalid index");var b=v.size(),w=v.isScalar(),S;if(rt(y)?(S=y.size(),y=y.toArray()):S=vt(y),w){if(S.length!==0)throw new TypeError("Scalar expected");d.set(v.min(),y,_)}else{if(b.length!==1&&b.length!==2)throw new _t(b.length,d._size.length,"<");if(S.length<b.length){for(var x=0,N=0;b[x]===1&&S[x]===1;)x++;for(;b[x]===1;)N++,x++;y=um(y,b.length,N,S)}if(!va(b,S))throw new _t(b,S,">");if(b.length===1){var D=v.dimension(0);D.forEach(function(P,O){mr(P),d.set([P,0],y[O[0]],_)})}else{var E=v.dimension(0),M=v.dimension(1);E.forEach(function(P,O){mr(P),M.forEach(function(V,z){mr(V),d.set([P,V],y[O[0]][z[0]],_)})})}}return d}i.prototype.get=function(d){if(!Zt(d))throw new TypeError("Array expected");if(d.length!==this._size.length)throw new _t(d.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var v=d[0],y=d[1];mr(v,this._size[0]),mr(y,this._size[1]);var _=l(v,this._ptr[y],this._ptr[y+1],this._index);return _<this._ptr[y+1]&&this._index[_]===v?this._values[_]:0},i.prototype.set=function(d,v,y){if(!Zt(d))throw new TypeError("Array expected");if(d.length!==this._size.length)throw new _t(d.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var _=d[0],b=d[1],w=this._size[0],S=this._size[1],x=t,N=0;Wr(this._datatype)&&(x=e.find(t,[this._datatype,this._datatype])||t,N=e.convert(0,this._datatype)),(_>w-1||b>S-1)&&(p(this,Math.max(_+1,w),Math.max(b+1,S),y),w=this._size[0],S=this._size[1]),mr(_,w),mr(b,S);var D=l(_,this._ptr[b],this._ptr[b+1],this._index);return D<this._ptr[b+1]&&this._index[D]===_?x(v,N)?c(D,b,this._values,this._index,this._ptr):this._values[D]=v:x(v,N)||f(D,_,b,v,this._values,this._index,this._ptr),this};function l(d,v,y,_){if(y-v===0)return y;for(var b=v;b<y;b++)if(_[b]===d)return b;return v}function c(d,v,y,_,b){y.splice(d,1),_.splice(d,1);for(var w=v+1;w<b.length;w++)b[w]--}function f(d,v,y,_,b,w,S){b.splice(d,0,_),w.splice(d,0,v);for(var x=y+1;x<S.length;x++)S[x]++}i.prototype.resize=function(d,v,y){if(!Qr(d))throw new TypeError("Array or Matrix expected");var _=d.valueOf().map(w=>Array.isArray(w)&&w.length===1?w[0]:w);if(_.length!==2)throw new Error("Only two dimensions matrix are supported");_.forEach(function(w){if(!yt(w)||!Ke(w)||w<0)throw new TypeError("Invalid size, must contain positive integers (size: "+xt(_)+")")});var b=y?this.clone():this;return p(b,_[0],_[1],v)};function p(d,v,y,_){var b=_||0,w=t,S=0;Wr(d._datatype)&&(w=e.find(t,[d._datatype,d._datatype])||t,S=e.convert(0,d._datatype),b=e.convert(b,d._datatype));var x=!w(b,S),N=d._size[0],D=d._size[1],E,M,P;if(y>D){for(M=D;M<y;M++)if(d._ptr[M]=d._values.length,x)for(E=0;E<N;E++)d._values.push(b),d._index.push(E);d._ptr[y]=d._values.length}else y<D&&(d._ptr.splice(y+1,D-y),d._values.splice(d._ptr[y],d._values.length),d._index.splice(d._ptr[y],d._index.length));if(D=y,v>N){if(x){var O=0;for(M=0;M<D;M++){d._ptr[M]=d._ptr[M]+O,P=d._ptr[M+1]+O;var V=0;for(E=N;E<v;E++,V++)d._values.splice(P+V,0,b),d._index.splice(P+V,0,E),O++}d._ptr[D]=d._values.length}}else if(v<N){var z=0;for(M=0;M<D;M++){d._ptr[M]=d._ptr[M]-z;var L=d._ptr[M],B=d._ptr[M+1]-z;for(P=L;P<B;P++)E=d._index[P],E>v-1&&(d._values.splice(P,1),d._index.splice(P,1),z++)}d._ptr[M]=d._values.length}return d._size[0]=v,d._size[1]=y,d}i.prototype.reshape=function(d,v){if(!Zt(d))throw new TypeError("Array expected");if(d.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");d.forEach(function(R){if(!yt(R)||!Ke(R)||R<=-2||R===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+xt(d)+")")});var y=this._size[0]*this._size[1];d=pc(d,y);var _=d[0]*d[1];if(y!==_)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var b=v?this.clone():this;if(this._size[0]===d[0]&&this._size[1]===d[1])return b;for(var w=[],S=0;S<b._ptr.length;S++)for(var x=0;x<b._ptr[S+1]-b._ptr[S];x++)w.push(S);for(var N=b._values.slice(),D=b._index.slice(),E=0;E<b._index.length;E++){var M=D[E],P=w[E],O=M*b._size[1]+P;w[E]=O%d[1],D[E]=Math.floor(O/d[1])}b._values.length=0,b._index.length=0,b._ptr.length=d[1]+1,b._size=d.slice();for(var V=0;V<b._ptr.length;V++)b._ptr[V]=0;for(var z=0;z<N.length;z++){var L=D[z],B=w[z],T=N[z],G=l(L,b._ptr[B],b._ptr[B+1],b._index);f(G,L,B,T,b._values,b._index,b._ptr)}return b},i.prototype.clone=function(){var d=new i({values:this._values?pt(this._values):void 0,index:pt(this._index),ptr:pt(this._ptr),size:pt(this._size),datatype:this._datatype});return d},i.prototype.size=function(){return this._size.slice(0)},i.prototype.map=function(d,v){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var y=this,_=this._size[0],b=this._size[1],w=bm(d),S=function(N,D,E){return w===1?d(N):w===2?d(N,[D,E]):d(N,[D,E],y)};return m(this,0,_-1,0,b-1,S,v)};function m(d,v,y,_,b,w,S){var x=[],N=[],D=[],E=t,M=0;Wr(d._datatype)&&(E=e.find(t,[d._datatype,d._datatype])||t,M=e.convert(0,d._datatype));for(var P=function(U,fe,De){U=w(U,fe,De),E(U,M)||(x.push(U),N.push(fe))},O=_;O<=b;O++){D.push(x.length);var V=d._ptr[O],z=d._ptr[O+1];if(S)for(var L=V;L<z;L++){var B=d._index[L];B>=v&&B<=y&&P(d._values[L],B-v,O-_)}else{for(var T={},G=V;G<z;G++){var R=d._index[G];T[R]=d._values[G]}for(var oe=v;oe<=y;oe++){var ee=oe in T?T[oe]:0;P(ee,oe-v,O-_)}}}return D.push(x.length),new i({values:x,index:N,ptr:D,size:[y-v+1,b-_+1]})}i.prototype.forEach=function(d,v){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var y=this,_=this._size[0],b=this._size[1],w=0;w<b;w++){var S=this._ptr[w],x=this._ptr[w+1];if(v)for(var N=S;N<x;N++){var D=this._index[N];d(this._values[N],[D,w],y)}else{for(var E={},M=S;M<x;M++){var P=this._index[M];E[P]=this._values[M]}for(var O=0;O<_;O++){var V=O in E?E[O]:0;d(V,[O,w],y)}}}},i.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var d=this._size[1],v=0;v<d;v++)for(var y=this._ptr[v],_=this._ptr[v+1],b=y;b<_;b++){var w=this._index[b];yield{value:this._values[b],index:[w,v]}}},i.prototype.toArray=function(){return h(this._values,this._index,this._ptr,this._size,!0)},i.prototype.valueOf=function(){return h(this._values,this._index,this._ptr,this._size,!1)};function h(d,v,y,_,b){var w=_[0],S=_[1],x=[],N,D;for(N=0;N<w;N++)for(x[N]=[],D=0;D<S;D++)x[N][D]=0;for(D=0;D<S;D++)for(var E=y[D],M=y[D+1],P=E;P<M;P++)N=v[P],x[N][D]=d?b?pt(d[P]):d[P]:1;return x}return i.prototype.format=function(d){for(var v=this._size[0],y=this._size[1],_=this.density(),b="Sparse Matrix ["+xt(v,d)+" x "+xt(y,d)+"] density: "+xt(_,d)+`
`,w=0;w<y;w++)for(var S=this._ptr[w],x=this._ptr[w+1],N=S;N<x;N++){var D=this._index[N];b+=`
    (`+xt(D,d)+", "+xt(w,d)+") ==> "+(this._values?xt(this._values[N],d):"X")}return b},i.prototype.toString=function(){return xt(this.toArray())},i.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},i.prototype.diagonal=function(d){if(d){if(st(d)&&(d=d.toNumber()),!yt(d)||!Ke(d))throw new TypeError("The parameter k must be an integer number")}else d=0;var v=d>0?d:0,y=d<0?-d:0,_=this._size[0],b=this._size[1],w=Math.min(_-y,b-v),S=[],x=[],N=[];N[0]=0;for(var D=v;D<b&&S.length<w;D++)for(var E=this._ptr[D],M=this._ptr[D+1],P=E;P<M;P++){var O=this._index[P];if(O===D-v+y){S.push(this._values[P]),x[S.length-1]=O-y;break}}return N.push(S.length),new i({values:S,index:x,ptr:N,size:[w,1]})},i.fromJSON=function(d){return new i(d)},i.diagonal=function(d,v,y,_,b){if(!Zt(d))throw new TypeError("Array expected, size parameter");if(d.length!==2)throw new Error("Only two dimensions matrix are supported");if(d=d.map(function(R){if(st(R)&&(R=R.toNumber()),!yt(R)||!Ke(R)||R<1)throw new Error("Size values must be positive integers");return R}),y){if(st(y)&&(y=y.toNumber()),!yt(y)||!Ke(y))throw new TypeError("The parameter k must be an integer number")}else y=0;var w=t,S=0;Wr(b)&&(w=e.find(t,[b,b])||t,S=e.convert(0,b));var x=y>0?y:0,N=y<0?-y:0,D=d[0],E=d[1],M=Math.min(D-N,E-x),P;if(Zt(v)){if(v.length!==M)throw new Error("Invalid value array length");P=function(oe){return v[oe]}}else if(rt(v)){var O=v.size();if(O.length!==1||O[0]!==M)throw new Error("Invalid matrix length");P=function(oe){return v.get([oe])}}else P=function(){return v};for(var V=[],z=[],L=[],B=0;B<E;B++){L.push(V.length);var T=B-x;if(T>=0&&T<M){var G=P(T);w(G,S)||(z.push(T+N),V.push(G))}}return L.push(V.length),new i({values:V,index:z,ptr:L,size:[D,E]})},i.prototype.swapRows=function(d,v){if(!yt(d)||!Ke(d)||!yt(v)||!Ke(v))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return mr(d,this._size[0]),mr(v,this._size[0]),i._swapRows(d,v,this._size[1],this._values,this._index,this._ptr),this},i._forEachRow=function(d,v,y,_,b){for(var w=_[d],S=_[d+1],x=w;x<S;x++)b(y[x],v[x])},i._swapRows=function(d,v,y,_,b,w){for(var S=0;S<y;S++){var x=w[S],N=w[S+1],D=l(d,x,N,b),E=l(v,x,N,b);if(D<N&&E<N&&b[D]===d&&b[E]===v){if(_){var M=_[D];_[D]=_[E],_[E]=M}continue}if(D<N&&b[D]===d&&(E>=N||b[E]!==v)){var P=_?_[D]:void 0;b.splice(E,0,v),_&&_.splice(E,0,P),b.splice(E<=D?D+1:D,1),_&&_.splice(E<=D?D+1:D,1);continue}if(E<N&&b[E]===v&&(D>=N||b[D]!==d)){var O=_?_[E]:void 0;b.splice(D,0,d),_&&_.splice(D,0,O),b.splice(D<=E?E+1:E,1),_&&_.splice(D<=E?E+1:E,1)}}},i},{isClass:!0});var OW="number",kW=["typed"];function RW(n){var e=n.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);if(e){var t={"0b":2,"0o":8,"0x":16}[e[1]],r=e[2],i=e[3];return{input:n,radix:t,integerPart:r,fractionalPart:i}}else return null}function LW(n){for(var e=parseInt(n.integerPart,n.radix),t=0,r=0;r<n.fractionalPart.length;r++){var i=parseInt(n.fractionalPart[r],n.radix);t+=i/Math.pow(n.radix,r+1)}var a=e+t;if(isNaN(a))throw new SyntaxError('String "'+n.input+'" is not a valid number');return a}var x0=C(OW,kW,n=>{var{typed:e}=n,t=e("number",{"":function(){return 0},number:function(i){return i},string:function(i){if(i==="NaN")return NaN;var a=RW(i);if(a)return LW(a);var o=0,u=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);u&&(o=Number(u[2]),i=u[1]);var s=Number(i);if(isNaN(s))throw new SyntaxError('String "'+i+'" is not a valid number');if(u){if(s>2**o-1)throw new SyntaxError('String "'.concat(i,'" is out of range'));s>=2**(o-1)&&(s=s-2**o)}return s},BigNumber:function(i){return i.toNumber()},Fraction:function(i){return i.valueOf()},Unit:e.referToSelf(r=>i=>{var a=i.clone();return a.value=r(i.value),a}),null:function(i){return 0},"Unit, string | Unit":function(i,a){return i.toNumber(a)},"Array | Matrix":e.referToSelf(r=>i=>at(i,r))});return t.fromJSON=function(r){return parseFloat(r.value)},t});var qC="string",VW=["typed"],w0=C(qC,VW,n=>{var{typed:e}=n;return e(qC,{"":function(){return""},number:ya,null:function(r){return"null"},boolean:function(r){return r+""},string:function(r){return r},"Array | Matrix":e.referToSelf(t=>r=>at(r,t)),any:function(r){return String(r)}})});var zC="boolean",UW=["typed"],_0=C(zC,UW,n=>{var{typed:e}=n;return e(zC,{"":function(){return!1},boolean:function(r){return r},number:function(r){return!!r},null:function(r){return!1},BigNumber:function(r){return!r.isZero()},string:function(r){var i=r.toLowerCase();if(i==="true")return!0;if(i==="false")return!1;var a=Number(r);if(r!==""&&!isNaN(a))return!!a;throw new Error('Cannot convert "'+r+'" to a boolean')},"Array | Matrix":e.referToSelf(t=>r=>at(r,t))})});var qW="bignumber",zW=["typed","BigNumber"],S0=C(qW,zW,n=>{var{typed:e,BigNumber:t}=n;return e("bignumber",{"":function(){return new t(0)},number:function(i){return new t(i+"")},string:function(i){var a=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(a){var o=a[2],u=t(a[1]),s=new t(2).pow(Number(o));if(u.gt(s.sub(1)))throw new SyntaxError('String "'.concat(i,'" is out of range'));var l=new t(2).pow(Number(o)-1);return u.gte(l)?u.sub(s):u}return new t(i)},BigNumber:function(i){return i},Unit:e.referToSelf(r=>i=>{var a=i.clone();return a.value=r(i.value),a}),Fraction:function(i){return new t(i.n).div(i.d).times(i.s)},null:function(i){return new t(0)},"Array | Matrix":e.referToSelf(r=>i=>at(i,r))})});var $W="complex",HW=["typed","Complex"],A0=C($W,HW,n=>{var{typed:e,Complex:t}=n;return e("complex",{"":function(){return t.ZERO},number:function(i){return new t(i,0)},"number, number":function(i,a){return new t(i,a)},"BigNumber, BigNumber":function(i,a){return new t(i.toNumber(),a.toNumber())},Fraction:function(i){return new t(i.valueOf(),0)},Complex:function(i){return i.clone()},string:function(i){return t(i)},null:function(i){return t(0)},Object:function(i){if("re"in i&&"im"in i)return new t(i.re,i.im);if("r"in i&&"phi"in i||"abs"in i&&"arg"in i)return new t(i);throw new Error("Expected object with properties (re and im) or (r and phi) or (abs and arg)")},"Array | Matrix":e.referToSelf(r=>i=>at(i,r))})});var GW="fraction",WW=["typed","Fraction"],E0=C(GW,WW,n=>{var{typed:e,Fraction:t}=n;return e("fraction",{number:function(i){if(!isFinite(i)||isNaN(i))throw new Error(i+" cannot be represented as a fraction");return new t(i)},string:function(i){return new t(i)},"number, number":function(i,a){return new t(i,a)},null:function(i){return new t(0)},BigNumber:function(i){return new t(i.toString())},Fraction:function(i){return i},Unit:e.referToSelf(r=>i=>{var a=i.clone();return a.value=r(i.value),a}),Object:function(i){return new t(i)},"Array | Matrix":e.referToSelf(r=>i=>at(i,r))})});var $C="matrix",YW=["typed","Matrix","DenseMatrix","SparseMatrix"],D0=C($C,YW,n=>{var{typed:e,Matrix:t,DenseMatrix:r,SparseMatrix:i}=n;return e($C,{"":function(){return a([])},string:function(u){return a([],u)},"string, string":function(u,s){return a([],u,s)},Array:function(u){return a(u)},Matrix:function(u){return a(u,u.storage())},"Array | Matrix, string":a,"Array | Matrix, string, string":a});function a(o,u,s){if(u==="dense"||u==="default"||u===void 0)return new r(o,s);if(u==="sparse")return new i(o,s);throw new TypeError("Unknown matrix type "+JSON.stringify(u)+".")}});var HC="matrixFromFunction",jW=["typed","matrix","isZero"],M0=C(HC,jW,n=>{var{typed:e,matrix:t,isZero:r}=n;return e(HC,{"Array | Matrix, function, string, string":function(o,u,s,l){return i(o,u,s,l)},"Array | Matrix, function, string":function(o,u,s){return i(o,u,s)},"Matrix, function":function(o,u){return i(o,u,"dense")},"Array, function":function(o,u){return i(o,u,"dense").toArray()},"Array | Matrix, string, function":function(o,u,s){return i(o,s,u)},"Array | Matrix, string, string, function":function(o,u,s,l){return i(o,l,u,s)}});function i(a,o,u,s){var l;return s!==void 0?l=t(u,s):l=t(u),l.resize(a),l.forEach(function(c,f){var p=o(f);r(p)||l.set(f,p)}),l}});var GC="matrixFromRows",ZW=["typed","matrix","flatten","size"],N0=C(GC,ZW,n=>{var{typed:e,matrix:t,flatten:r,size:i}=n;return e(GC,{"...Array":function(s){return a(s)},"...Matrix":function(s){return t(a(s.map(l=>l.toArray())))}});function a(u){if(u.length===0)throw new TypeError("At least one row is needed to construct a matrix.");var s=o(u[0]),l=[];for(var c of u){var f=o(c);if(f!==s)throw new TypeError("The vectors had different length: "+(s|0)+" \u2260 "+(f|0));l.push(r(c))}return l}function o(u){var s=i(u);if(s.length===1)return s[0];if(s.length===2){if(s[0]===1)return s[1];if(s[1]===1)return s[0];throw new TypeError("At least one of the arguments is not a vector.")}else throw new TypeError("Only one- or two-dimensional vectors are supported.")}});var WC="matrixFromColumns",JW=["typed","matrix","flatten","size"],C0=C(WC,JW,n=>{var{typed:e,matrix:t,flatten:r,size:i}=n;return e(WC,{"...Array":function(s){return a(s)},"...Matrix":function(s){return t(a(s.map(l=>l.toArray())))}});function a(u){if(u.length===0)throw new TypeError("At least one column is needed to construct a matrix.");for(var s=o(u[0]),l=[],c=0;c<s;c++)l[c]=[];for(var f of u){var p=o(f);if(p!==s)throw new TypeError("The vectors had different length: "+(s|0)+" \u2260 "+(p|0));for(var m=r(f),h=0;h<s;h++)l[h].push(m[h])}return l}function o(u){var s=i(u);if(s.length===1)return s[0];if(s.length===2){if(s[0]===1)return s[1];if(s[1]===1)return s[0];throw new TypeError("At least one of the arguments is not a vector.")}else throw new TypeError("Only one- or two-dimensional vectors are supported.")}});var YC="splitUnit",XW=["typed"],T0=C(YC,XW,n=>{var{typed:e}=n;return e(YC,{"Unit, Array":function(r,i){return r.splitUnit(i)}})});var jC="unaryMinus",QW=["typed"],F0=C(jC,QW,n=>{var{typed:e}=n;return e(jC,{number:yy,"Complex | BigNumber | Fraction":t=>t.neg(),Unit:e.referToSelf(t=>r=>{var i=r.clone();return i.value=e.find(t,i.valueType())(r.value),i}),"Array | Matrix":e.referToSelf(t=>r=>at(r,t,!0))})});var ZC="unaryPlus",KW=["typed","config","BigNumber"],I0=C(ZC,KW,n=>{var{typed:e,config:t,BigNumber:r}=n;return e(ZC,{number:by,Complex:function(a){return a},BigNumber:function(a){return a},Fraction:function(a){return a},Unit:function(a){return a.clone()},"Array | Matrix":e.referToSelf(i=>a=>at(a,i,!0)),"boolean | string":function(a){return t.number==="BigNumber"?new r(+a):+a}})});var JC="abs",eY=["typed"],P0=C(JC,eY,n=>{var{typed:e}=n;return e(JC,{number:dy,"Complex | BigNumber | Fraction | Unit":t=>t.abs(),"Array | Matrix":e.referToSelf(t=>r=>at(r,t,!0))})});var XC="apply",tY=["typed","isInteger"],Ws=C(XC,tY,n=>{var{typed:e,isInteger:t}=n;return e(XC,{"Array | Matrix, number | BigNumber, function":function(i,a,o){if(!t(a))throw new TypeError("Integer number expected for dimension");var u=Array.isArray(i)?vt(i):i.size();if(a<0||a>=u.length)throw new Fn(a,u.length);return rt(i)?i.create(Am(i.valueOf(),a,o)):Am(i,a,o)}})});function Am(n,e,t){var r,i,a;if(e<=0)if(Array.isArray(n[0])){for(a=rY(n),i=[],r=0;r<a.length;r++)i[r]=Am(a[r],e-1,t);return i}else return t(n);else{for(i=[],r=0;r<n.length;r++)i[r]=Am(n[r],e-1,t);return i}}function rY(n){var e=n.length,t=n[0].length,r,i,a=[];for(i=0;i<t;i++){var o=[];for(r=0;r<e;r++)o.push(n[r][i]);a.push(o)}return a}var QC="addScalar",nY=["typed"],B0=C(QC,nY,n=>{var{typed:e}=n;return e(QC,{"number, number":hy,"Complex, Complex":function(r,i){return r.add(i)},"BigNumber, BigNumber":function(r,i){return r.plus(i)},"Fraction, Fraction":function(r,i){return r.add(i)},"Unit, Unit":e.referToSelf(t=>(r,i)=>{if(r.value===null||r.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!r.equalBase(i))throw new Error("Units do not match");var a=r.clone();return a.value=e.find(t,[a.valueType(),i.valueType()])(a.value,i.value),a.fixPrefix=!1,a})})});var KC="subtractScalar",iY=["typed"],O0=C(KC,iY,n=>{var{typed:e}=n;return e(KC,{"number, number":gy,"Complex, Complex":function(r,i){return r.sub(i)},"BigNumber, BigNumber":function(r,i){return r.minus(i)},"Fraction, Fraction":function(r,i){return r.sub(i)},"Unit, Unit":e.referToSelf(t=>(r,i)=>{if(r.value===null||r.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!r.equalBase(i))throw new Error("Units do not match");var a=r.clone();return a.value=e.find(t,[a.valueType(),i.valueType()])(a.value,i.value),a.fixPrefix=!1,a})})});var eT="cbrt",aY=["config","typed","isNegative","unaryMinus","matrix","Complex","BigNumber","Fraction"],k0=C(eT,aY,n=>{var{config:e,typed:t,isNegative:r,unaryMinus:i,matrix:a,Complex:o,BigNumber:u,Fraction:s}=n;return t(eT,{number:Qu,Complex:l,"Complex, boolean":l,BigNumber:function(p){return p.cbrt()},Unit:c});function l(f,p){var m=f.arg()/3,h=f.abs(),d=new o(Qu(h),0).mul(new o(0,m).exp());if(p){var v=[d,new o(Qu(h),0).mul(new o(0,m+Math.PI*2/3).exp()),new o(Qu(h),0).mul(new o(0,m-Math.PI*2/3).exp())];return e.matrix==="Array"?v:a(v)}else return d}function c(f){if(f.value&&ai(f.value)){var p=f.clone();return p.value=1,p=p.pow(1/3),p.value=l(f.value),p}else{var m=r(f.value);m&&(f.value=i(f.value));var h;st(f.value)?h=new u(1).div(3):so(f.value)?h=new s(1,3):h=1/3;var d=f.pow(h);return m&&(d.value=i(d.value)),d}}});var oY="matAlgo11xS0s",sY=["typed","equalScalar"],dr=C(oY,sY,n=>{var{typed:e,equalScalar:t}=n;return function(i,a,o,u){var s=i._values,l=i._index,c=i._ptr,f=i._size,p=i._datatype;if(!s)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var m=f[0],h=f[1],d,v=t,y=0,_=o;typeof p=="string"&&(d=p,v=e.find(t,[d,d]),y=e.convert(0,d),a=e.convert(a,d),_=e.find(o,[d,d]));for(var b=[],w=[],S=[],x=0;x<h;x++){S[x]=w.length;for(var N=c[x],D=c[x+1],E=N;E<D;E++){var M=l[E],P=u?_(a,s[E]):_(s[E],a);v(P,y)||(w.push(M),b.push(P))}}return S[h]=w.length,i.createSparseMatrix({values:b,index:w,ptr:S,size:[m,h],datatype:d})}});var uY="matAlgo12xSfs",lY=["typed","DenseMatrix"],ir=C(uY,lY,n=>{var{typed:e,DenseMatrix:t}=n;return function(i,a,o,u){var s=i._values,l=i._index,c=i._ptr,f=i._size,p=i._datatype;if(!s)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var m=f[0],h=f[1],d,v=o;typeof p=="string"&&(d=p,a=e.convert(a,d),v=e.find(o,[d,d]));for(var y=[],_=[],b=[],w=0;w<h;w++){for(var S=w+1,x=c[w],N=c[w+1],D=x;D<N;D++){var E=l[D];_[E]=s[D],b[E]=S}for(var M=0;M<m;M++)w===0&&(y[M]=[]),b[M]===S?y[M][w]=u?v(a,_[M]):v(_[M],a):y[M][w]=u?v(a,0):v(0,a)}return new t({data:y,size:[m,h],datatype:d})}});var cY="matAlgo14xDs",fY=["typed"],tn=C(cY,fY,n=>{var{typed:e}=n;return function(i,a,o,u){var s=i._data,l=i._size,c=i._datatype,f,p=o;typeof c=="string"&&(f=c,a=e.convert(a,f),p=e.find(o,[f,f]));var m=l.length>0?t(p,0,l,l[0],s,a,u):[];return i.createDenseMatrix({data:m,size:pt(l),datatype:f})};function t(r,i,a,o,u,s,l){var c=[];if(i===a.length-1)for(var f=0;f<o;f++)c[f]=l?r(s,u[f]):r(u[f],s);else for(var p=0;p<o;p++)c[p]=t(r,i+1,a,a[i+1],u[p],s,l);return c}});var R0="ceil",pY=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix"],mY=C(R0,["typed","config","round"],n=>{var{typed:e,config:t,round:r}=n;return e(R0,{number:function(a){return zr(a,r(a),t.epsilon)?r(a):Math.ceil(a)},"number, number":function(a,o){if(zr(a,r(a,o),t.epsilon))return r(a,o);var[u,s]="".concat(a,"e").split("e"),l=Math.ceil(Number("".concat(u,"e").concat(Number(s)+o)));return[u,s]="".concat(l,"e").split("e"),Number("".concat(u,"e").concat(Number(s)-o))}})}),L0=C(R0,pY,n=>{var{typed:e,config:t,round:r,matrix:i,equalScalar:a,zeros:o,DenseMatrix:u}=n,s=dr({typed:e,equalScalar:a}),l=ir({typed:e,DenseMatrix:u}),c=tn({typed:e}),f=mY({typed:e,config:t,round:r});return e("ceil",{number:f.signatures.number,"number,number":f.signatures["number,number"],Complex:function(m){return m.ceil()},"Complex, number":function(m,h){return m.ceil(h)},"Complex, BigNumber":function(m,h){return m.ceil(h.toNumber())},BigNumber:function(m){return un(m,r(m),t.epsilon)?r(m):m.ceil()},"BigNumber, BigNumber":function(m,h){return un(m,r(m,h),t.epsilon)?r(m,h):m.toDecimalPlaces(h.toNumber(),$s.ROUND_CEIL)},Fraction:function(m){return m.ceil()},"Fraction, number":function(m,h){return m.ceil(h)},"Fraction, BigNumber":function(m,h){return m.ceil(h.toNumber())},"Array | Matrix":e.referToSelf(p=>m=>at(m,p,!0)),"Array, number | BigNumber":e.referToSelf(p=>(m,h)=>at(m,d=>p(d,h),!0)),"SparseMatrix, number | BigNumber":e.referToSelf(p=>(m,h)=>s(m,h,p,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(p=>(m,h)=>c(m,h,p,!1)),"number | Complex | Fraction | BigNumber, Array":e.referToSelf(p=>(m,h)=>c(i(h),m,p,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":e.referToSelf(p=>(m,h)=>a(m,0)?o(h.size(),h.storage()):h.storage()==="dense"?c(h,m,p,!0):l(h,m,p,!0))})});var tT="cube",dY=["typed"],V0=C(tT,dY,n=>{var{typed:e}=n;return e(tT,{number:xy,Complex:function(r){return r.mul(r).mul(r)},BigNumber:function(r){return r.times(r).times(r)},Fraction:function(r){return r.pow(3)},Unit:function(r){return r.pow(3)}})});var rT="exp",hY=["typed"],U0=C(rT,hY,n=>{var{typed:e}=n;return e(rT,{number:wy,Complex:function(r){return r.exp()},BigNumber:function(r){return r.exp()}})});var nT="expm1",gY=["typed","Complex"],q0=C(nT,gY,n=>{var{typed:e,Complex:t}=n;return e(nT,{number:_y,Complex:function(i){var a=Math.exp(i.re);return new t(a*Math.cos(i.im)-1,a*Math.sin(i.im))},BigNumber:function(i){return i.exp().minus(1)}})});var z0="fix",vY=["typed","Complex","matrix","ceil","floor","equalScalar","zeros","DenseMatrix"],yY=C(z0,["typed","ceil","floor"],n=>{var{typed:e,ceil:t,floor:r}=n;return e(z0,{number:function(a){return a>0?r(a):t(a)},"number, number":function(a,o){return a>0?r(a,o):t(a,o)}})}),$0=C(z0,vY,n=>{var{typed:e,Complex:t,matrix:r,ceil:i,floor:a,equalScalar:o,zeros:u,DenseMatrix:s}=n,l=ir({typed:e,DenseMatrix:s}),c=tn({typed:e}),f=yY({typed:e,ceil:i,floor:a});return e("fix",{number:f.signatures.number,"number, number | BigNumber":f.signatures["number,number"],Complex:function(m){return new t(m.re>0?Math.floor(m.re):Math.ceil(m.re),m.im>0?Math.floor(m.im):Math.ceil(m.im))},"Complex, number":function(m,h){return new t(m.re>0?a(m.re,h):i(m.re,h),m.im>0?a(m.im,h):i(m.im,h))},"Complex, BigNumber":function(m,h){var d=h.toNumber();return new t(m.re>0?a(m.re,d):i(m.re,d),m.im>0?a(m.im,d):i(m.im,d))},BigNumber:function(m){return m.isNegative()?i(m):a(m)},"BigNumber, number | BigNumber":function(m,h){return m.isNegative()?i(m,h):a(m,h)},Fraction:function(m){return m.s<0?m.ceil():m.floor()},"Fraction, number | BigNumber":function(m,h){return m.s<0?i(m,h):a(m,h)},"Array | Matrix":e.referToSelf(p=>m=>at(m,p,!0)),"Array | Matrix, number | BigNumber":e.referToSelf(p=>(m,h)=>at(m,d=>p(d,h),!0)),"number | Complex | Fraction | BigNumber, Array":e.referToSelf(p=>(m,h)=>c(r(h),m,p,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":e.referToSelf(p=>(m,h)=>o(m,0)?u(h.size(),h.storage()):h.storage()==="dense"?c(h,m,p,!0):l(h,m,p,!0))})});var H0="floor",bY=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix"],xY=C(H0,["typed","config","round"],n=>{var{typed:e,config:t,round:r}=n;return e(H0,{number:function(a){return zr(a,r(a),t.epsilon)?r(a):Math.floor(a)},"number, number":function(a,o){if(zr(a,r(a,o),t.epsilon))return r(a,o);var[u,s]="".concat(a,"e").split("e"),l=Math.floor(Number("".concat(u,"e").concat(Number(s)+o)));return[u,s]="".concat(l,"e").split("e"),Number("".concat(u,"e").concat(Number(s)-o))}})}),bc=C(H0,bY,n=>{var{typed:e,config:t,round:r,matrix:i,equalScalar:a,zeros:o,DenseMatrix:u}=n,s=dr({typed:e,equalScalar:a}),l=ir({typed:e,DenseMatrix:u}),c=tn({typed:e}),f=xY({typed:e,config:t,round:r});return e("floor",{number:f.signatures.number,"number,number":f.signatures["number,number"],Complex:function(m){return m.floor()},"Complex, number":function(m,h){return m.floor(h)},"Complex, BigNumber":function(m,h){return m.floor(h.toNumber())},BigNumber:function(m){return un(m,r(m),t.epsilon)?r(m):m.floor()},"BigNumber, BigNumber":function(m,h){return un(m,r(m,h),t.epsilon)?r(m,h):m.toDecimalPlaces(h.toNumber(),$s.ROUND_FLOOR)},Fraction:function(m){return m.floor()},"Fraction, number":function(m,h){return m.floor(h)},"Fraction, BigNumber":function(m,h){return m.floor(h.toNumber())},"Array | Matrix":e.referToSelf(p=>m=>at(m,p,!0)),"Array, number | BigNumber":e.referToSelf(p=>(m,h)=>at(m,d=>p(d,h),!0)),"SparseMatrix, number | BigNumber":e.referToSelf(p=>(m,h)=>s(m,h,p,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(p=>(m,h)=>c(m,h,p,!1)),"number | Complex | Fraction | BigNumber, Array":e.referToSelf(p=>(m,h)=>c(i(h),m,p,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":e.referToSelf(p=>(m,h)=>a(m,0)?o(h.size(),h.storage()):h.storage()==="dense"?c(h,m,p,!0):l(h,m,p,!0))})});var wY="matAlgo02xDS0",_Y=["typed","equalScalar"],rn=C(wY,_Y,n=>{var{typed:e,equalScalar:t}=n;return function(i,a,o,u){var s=i._data,l=i._size,c=i._datatype||i.getDataType(),f=a._values,p=a._index,m=a._ptr,h=a._size,d=a._datatype||a._data===void 0?a._datatype:a.getDataType();if(l.length!==h.length)throw new _t(l.length,h.length);if(l[0]!==h[0]||l[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+h+")");if(!f)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var v=l[0],y=l[1],_,b=t,w=0,S=o;typeof c=="string"&&c===d&&c!=="mixed"&&(_=c,b=e.find(t,[_,_]),w=e.convert(0,_),S=e.find(o,[_,_]));for(var x=[],N=[],D=[],E=0;E<y;E++){D[E]=N.length;for(var M=m[E],P=m[E+1],O=M;O<P;O++){var V=p[O],z=u?S(f[O],s[V][E]):S(s[V][E],f[O]);b(z,w)||(N.push(V),x.push(z))}}return D[y]=N.length,a.createSparseMatrix({values:x,index:N,ptr:D,size:[v,y],datatype:c===i._datatype&&d===a._datatype?_:void 0})}});var SY="matAlgo03xDSf",AY=["typed"],Nr=C(SY,AY,n=>{var{typed:e}=n;return function(r,i,a,o){var u=r._data,s=r._size,l=r._datatype||r.getDataType(),c=i._values,f=i._index,p=i._ptr,m=i._size,h=i._datatype||i._data===void 0?i._datatype:i.getDataType();if(s.length!==m.length)throw new _t(s.length,m.length);if(s[0]!==m[0]||s[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+s+") must match Matrix B ("+m+")");if(!c)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var d=s[0],v=s[1],y,_=0,b=a;typeof l=="string"&&l===h&&l!=="mixed"&&(y=l,_=e.convert(0,y),b=e.find(a,[y,y]));for(var w=[],S=0;S<d;S++)w[S]=[];for(var x=[],N=[],D=0;D<v;D++){for(var E=D+1,M=p[D],P=p[D+1],O=M;O<P;O++){var V=f[O];x[V]=o?b(c[O],u[V][D]):b(u[V][D],c[O]),N[V]=E}for(var z=0;z<d;z++)N[z]===E?w[z][D]=x[z]:w[z][D]=o?b(_,u[z][D]):b(u[z][D],_)}return r.createDenseMatrix({data:w,size:[d,v],datatype:l===r._datatype&&h===i._datatype?y:void 0})}});var EY="matAlgo05xSfSf",DY=["typed","equalScalar"],Qo=C(EY,DY,n=>{var{typed:e,equalScalar:t}=n;return function(i,a,o){var u=i._values,s=i._index,l=i._ptr,c=i._size,f=i._datatype||i._data===void 0?i._datatype:i.getDataType(),p=a._values,m=a._index,h=a._ptr,d=a._size,v=a._datatype||a._data===void 0?a._datatype:a.getDataType();if(c.length!==d.length)throw new _t(c.length,d.length);if(c[0]!==d[0]||c[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+d+")");var y=c[0],_=c[1],b,w=t,S=0,x=o;typeof f=="string"&&f===v&&f!=="mixed"&&(b=f,w=e.find(t,[b,b]),S=e.convert(0,b),x=e.find(o,[b,b]));var N=u&&p?[]:void 0,D=[],E=[],M=N?[]:void 0,P=N?[]:void 0,O=[],V=[],z,L,B,T;for(L=0;L<_;L++){E[L]=D.length;var G=L+1;for(B=l[L],T=l[L+1];B<T;B++)z=s[B],D.push(z),O[z]=G,M&&(M[z]=u[B]);for(B=h[L],T=h[L+1];B<T;B++)z=m[B],O[z]!==G&&D.push(z),V[z]=G,P&&(P[z]=p[B]);if(N)for(B=E[L];B<D.length;){z=D[B];var R=O[z],oe=V[z];if(R===G||oe===G){var ee=R===G?M[z]:S,H=oe===G?P[z]:S,U=x(ee,H);w(U,S)?D.splice(B,1):(N.push(U),B++)}}}return E[_]=D.length,i.createSparseMatrix({values:N,index:D,ptr:E,size:[y,_],datatype:f===i._datatype&&v===a._datatype?b:void 0})}});var MY="matAlgo13xDD",NY=["typed"],iT=C(MY,NY,n=>{var{typed:e}=n;return function(i,a,o){var u=i._data,s=i._size,l=i._datatype,c=a._data,f=a._size,p=a._datatype,m=[];if(s.length!==f.length)throw new _t(s.length,f.length);for(var h=0;h<s.length;h++){if(s[h]!==f[h])throw new RangeError("Dimension mismatch. Matrix A ("+s+") must match Matrix B ("+f+")");m[h]=s[h]}var d,v=o;typeof l=="string"&&l===p&&(d=l,v=e.find(o,[d,d]));var y=m.length>0?t(v,0,m,m[0],u,c):[];return i.createDenseMatrix({data:y,size:m,datatype:d})};function t(r,i,a,o,u,s){var l=[];if(i===a.length-1)for(var c=0;c<o;c++)l[c]=r(u[c],s[c]);else for(var f=0;f<o;f++)l[f]=t(r,i+1,a,a[i+1],u[f],s[f]);return l}});var CY="broadcast",TY=["concat"],aT=C(CY,TY,n=>{var{concat:e}=n;return function(i,a){var o=Math.max(i._size.length,a._size.length);if(i._size.length===a._size.length&&i._size.every((h,d)=>h===a._size[d]))return[i,a];for(var u=t(i._size,o,0),s=t(a._size,o,0),l=[],c=0;c<o;c++)l[c]=Math.max(u[c],s[c]);mc(u,l),mc(s,l);var f=i.clone(),p=a.clone();f._size.length<o?f.reshape(t(f._size,o,1)):p._size.length<o&&p.reshape(t(p._size,o,1));for(var m=0;m<o;m++)f._size[m]<l[m]&&(f=r(f,l[m],m)),p._size[m]<l[m]&&(p=r(p,l[m],m));return[f,p]};function t(i,a,o){return[...Array(a-i.length).fill(o),...i]}function r(i,a,o){return e(...Array(a).fill(i),o)}});var FY="matrixAlgorithmSuite",IY=["typed","matrix","concat"],Et=C(FY,IY,n=>{var{typed:e,matrix:t,concat:r}=n,i=iT({typed:e}),a=tn({typed:e}),o=aT({concat:r});return function(s){var l=s.elop,c=s.SD||s.DS,f;l?(f={"DenseMatrix, DenseMatrix":(d,v)=>i(...o(d,v),l),"Array, Array":(d,v)=>i(...o(t(d),t(v)),l).valueOf(),"Array, DenseMatrix":(d,v)=>i(...o(t(d),v),l),"DenseMatrix, Array":(d,v)=>i(...o(d,t(v)),l)},s.SS&&(f["SparseMatrix, SparseMatrix"]=(d,v)=>s.SS(...o(d,v),l,!1)),s.DS&&(f["DenseMatrix, SparseMatrix"]=(d,v)=>s.DS(...o(d,v),l,!1),f["Array, SparseMatrix"]=(d,v)=>s.DS(...o(t(d),v),l,!1)),c&&(f["SparseMatrix, DenseMatrix"]=(d,v)=>c(...o(v,d),l,!0),f["SparseMatrix, Array"]=(d,v)=>c(...o(t(v),d),l,!0))):(f={"DenseMatrix, DenseMatrix":e.referToSelf(d=>(v,y)=>i(...o(v,y),d)),"Array, Array":e.referToSelf(d=>(v,y)=>i(...o(t(v),t(y)),d).valueOf()),"Array, DenseMatrix":e.referToSelf(d=>(v,y)=>i(...o(t(v),y),d)),"DenseMatrix, Array":e.referToSelf(d=>(v,y)=>i(...o(v,t(y)),d))},s.SS&&(f["SparseMatrix, SparseMatrix"]=e.referToSelf(d=>(v,y)=>s.SS(...o(v,y),d,!1))),s.DS&&(f["DenseMatrix, SparseMatrix"]=e.referToSelf(d=>(v,y)=>s.DS(...o(v,y),d,!1)),f["Array, SparseMatrix"]=e.referToSelf(d=>(v,y)=>s.DS(...o(t(v),y),d,!1))),c&&(f["SparseMatrix, DenseMatrix"]=e.referToSelf(d=>(v,y)=>c(...o(y,v),d,!0)),f["SparseMatrix, Array"]=e.referToSelf(d=>(v,y)=>c(...o(t(y),v),d,!0))));var p=s.scalar||"any",m=s.Ds||s.Ss;m&&(l?(f["DenseMatrix,"+p]=(d,v)=>a(d,v,l,!1),f[p+", DenseMatrix"]=(d,v)=>a(v,d,l,!0),f["Array,"+p]=(d,v)=>a(t(d),v,l,!1).valueOf(),f[p+", Array"]=(d,v)=>a(t(v),d,l,!0).valueOf()):(f["DenseMatrix,"+p]=e.referToSelf(d=>(v,y)=>a(v,y,d,!1)),f[p+", DenseMatrix"]=e.referToSelf(d=>(v,y)=>a(y,v,d,!0)),f["Array,"+p]=e.referToSelf(d=>(v,y)=>a(t(v),y,d,!1).valueOf()),f[p+", Array"]=e.referToSelf(d=>(v,y)=>a(t(y),v,d,!0).valueOf())));var h=s.sS!==void 0?s.sS:s.Ss;return l?(s.Ss&&(f["SparseMatrix,"+p]=(d,v)=>s.Ss(d,v,l,!1)),h&&(f[p+", SparseMatrix"]=(d,v)=>h(v,d,l,!0))):(s.Ss&&(f["SparseMatrix,"+p]=e.referToSelf(d=>(v,y)=>s.Ss(v,y,d,!1))),h&&(f[p+", SparseMatrix"]=e.referToSelf(d=>(v,y)=>h(y,v,d,!0)))),l&&l.signatures&&rm(f,l.signatures),f}});var oT="mod",PY=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix","concat"],xc=C(oT,PY,n=>{var{typed:e,config:t,round:r,matrix:i,equalScalar:a,zeros:o,DenseMatrix:u,concat:s}=n,l=bc({typed:e,config:t,round:r,matrix:i,equalScalar:a,zeros:o,DenseMatrix:u}),c=rn({typed:e,equalScalar:a}),f=Nr({typed:e}),p=Qo({typed:e,equalScalar:a}),m=dr({typed:e,equalScalar:a}),h=ir({typed:e,DenseMatrix:u}),d=Et({typed:e,matrix:i,concat:s});return e(oT,{"number, number":v,"BigNumber, BigNumber":function(_,b){return b.isZero()?_:_.sub(b.mul(l(_.div(b))))},"Fraction, Fraction":function(_,b){return b.equals(0)?_:_.sub(b.mul(l(_.div(b))))}},d({SS:p,DS:f,SD:c,Ss:m,sS:h}));function v(y,_){return _===0?y:y-_*l(y/_)}});var BY="matAlgo01xDSid",OY=["typed"],Gn=C(BY,OY,n=>{var{typed:e}=n;return function(r,i,a,o){var u=r._data,s=r._size,l=r._datatype||r.getDataType(),c=i._values,f=i._index,p=i._ptr,m=i._size,h=i._datatype||i._data===void 0?i._datatype:i.getDataType();if(s.length!==m.length)throw new _t(s.length,m.length);if(s[0]!==m[0]||s[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+s+") must match Matrix B ("+m+")");if(!c)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var d=s[0],v=s[1],y=typeof l=="string"&&l!=="mixed"&&l===h?l:void 0,_=y?e.find(a,[y,y]):a,b,w,S=[];for(b=0;b<d;b++)S[b]=[];var x=[],N=[];for(w=0;w<v;w++){for(var D=w+1,E=p[w],M=p[w+1],P=E;P<M;P++)b=f[P],x[b]=o?_(c[P],u[b][w]):_(u[b][w],c[P]),N[b]=D;for(b=0;b<d;b++)N[b]===D?S[b][w]=x[b]:S[b][w]=u[b][w]}return r.createDenseMatrix({data:S,size:[d,v],datatype:l===r._datatype&&h===i._datatype?y:void 0})}});var kY="matAlgo04xSidSid",RY=["typed","equalScalar"],tl=C(kY,RY,n=>{var{typed:e,equalScalar:t}=n;return function(i,a,o){var u=i._values,s=i._index,l=i._ptr,c=i._size,f=i._datatype||i._data===void 0?i._datatype:i.getDataType(),p=a._values,m=a._index,h=a._ptr,d=a._size,v=a._datatype||a._data===void 0?a._datatype:a.getDataType();if(c.length!==d.length)throw new _t(c.length,d.length);if(c[0]!==d[0]||c[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+d+")");var y=c[0],_=c[1],b,w=t,S=0,x=o;typeof f=="string"&&f===v&&f!=="mixed"&&(b=f,w=e.find(t,[b,b]),S=e.convert(0,b),x=e.find(o,[b,b]));var N=u&&p?[]:void 0,D=[],E=[],M=u&&p?[]:void 0,P=u&&p?[]:void 0,O=[],V=[],z,L,B,T,G;for(L=0;L<_;L++){E[L]=D.length;var R=L+1;for(T=l[L],G=l[L+1],B=T;B<G;B++)z=s[B],D.push(z),O[z]=R,M&&(M[z]=u[B]);for(T=h[L],G=h[L+1],B=T;B<G;B++)if(z=m[B],O[z]===R){if(M){var oe=x(M[z],p[B]);w(oe,S)?O[z]=null:M[z]=oe}}else D.push(z),V[z]=R,P&&(P[z]=p[B]);if(M&&P)for(B=E[L];B<D.length;)z=D[B],O[z]===R?(N[B]=M[z],B++):V[z]===R?(N[B]=P[z],B++):D.splice(B,1)}return E[_]=D.length,i.createSparseMatrix({values:N,index:D,ptr:E,size:[y,_],datatype:f===i._datatype&&v===a._datatype?b:void 0})}});var LY="matAlgo10xSids",VY=["typed","DenseMatrix"],di=C(LY,VY,n=>{var{typed:e,DenseMatrix:t}=n;return function(i,a,o,u){var s=i._values,l=i._index,c=i._ptr,f=i._size,p=i._datatype;if(!s)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var m=f[0],h=f[1],d,v=o;typeof p=="string"&&(d=p,a=e.convert(a,d),v=e.find(o,[d,d]));for(var y=[],_=[],b=[],w=0;w<h;w++){for(var S=w+1,x=c[w],N=c[w+1],D=x;D<N;D++){var E=l[D];_[E]=s[D],b[E]=S}for(var M=0;M<m;M++)w===0&&(y[M]=[]),b[M]===S?y[M][w]=u?v(a,_[M]):v(_[M],a):y[M][w]=a}return new t({data:y,size:[m,h],datatype:d})}});function po(n,e,t,r){if(!(this instanceof po))throw new SyntaxError("Constructor must be called with the new operator");this.fn=n,this.count=e,this.min=t,this.max=r,this.message="Wrong number of arguments in function "+n+" ("+e+" provided, "+t+(r!=null?"-"+r:"")+" expected)",this.stack=new Error().stack}po.prototype=new Error;po.prototype.constructor=Error;po.prototype.name="ArgumentsError";po.prototype.isArgumentsError=!0;var sT="gcd",UY=["typed","config","round","matrix","equalScalar","zeros","BigNumber","DenseMatrix","concat"],G0="number | BigNumber | Fraction | Matrix | Array",qY="".concat(G0,", ").concat(G0,", ...").concat(G0);function uT(n){return!n.some(e=>Array.isArray(e))}var W0=C(sT,UY,n=>{var{typed:e,matrix:t,config:r,round:i,equalScalar:a,zeros:o,BigNumber:u,DenseMatrix:s,concat:l}=n,c=xc({typed:e,config:r,round:i,matrix:t,equalScalar:a,zeros:o,DenseMatrix:s,concat:l}),f=Gn({typed:e}),p=tl({typed:e,equalScalar:a}),m=di({typed:e,DenseMatrix:s}),h=Et({typed:e,matrix:t,concat:l});return e(sT,{"number, number":d,"BigNumber, BigNumber":v,"Fraction, Fraction":(y,_)=>y.gcd(_)},h({SS:p,DS:f,Ss:m}),{[qY]:e.referToSelf(y=>(_,b,w)=>{for(var S=y(_,b),x=0;x<w.length;x++)S=y(S,w[x]);return S}),Array:e.referToSelf(y=>_=>{if(_.length===1&&Array.isArray(_[0])&&uT(_[0]))return y(..._[0]);if(uT(_))return y(..._);throw new po("gcd() supports only 1d matrices!")}),Matrix:e.referToSelf(y=>_=>y(_.toArray()))});function d(y,_){if(!Ke(y)||!Ke(_))throw new Error("Parameters in function gcd must be integer numbers");for(var b;_!==0;)b=c(y,_),y=_,_=b;return y<0?-y:y}function v(y,_){if(!y.isInt()||!_.isInt())throw new Error("Parameters in function gcd must be integer numbers");for(var b=new u(0);!_.isZero();){var w=c(y,_);y=_,_=w}return y.lt(b)?y.neg():y}});var zY="matAlgo06xS0S0",$Y=["typed","equalScalar"],Ko=C(zY,$Y,n=>{var{typed:e,equalScalar:t}=n;return function(i,a,o){var u=i._values,s=i._size,l=i._datatype||i._data===void 0?i._datatype:i.getDataType(),c=a._values,f=a._size,p=a._datatype||a._data===void 0?a._datatype:a.getDataType();if(s.length!==f.length)throw new _t(s.length,f.length);if(s[0]!==f[0]||s[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+s+") must match Matrix B ("+f+")");var m=s[0],h=s[1],d,v=t,y=0,_=o;typeof l=="string"&&l===p&&l!=="mixed"&&(d=l,v=e.find(t,[d,d]),y=e.convert(0,d),_=e.find(o,[d,d]));for(var b=u&&c?[]:void 0,w=[],S=[],x=b?[]:void 0,N=[],D=[],E=0;E<h;E++){S[E]=w.length;var M=E+1;if(py(i,E,N,x,D,M,w,_),py(a,E,N,x,D,M,w,_),x)for(var P=S[E];P<w.length;){var O=w[P];if(D[O]===M){var V=x[O];v(V,y)?w.splice(P,1):(b.push(V),P++)}else w.splice(P,1)}else for(var z=S[E];z<w.length;){var L=w[z];D[L]!==M?w.splice(z,1):z++}}return S[h]=w.length,i.createSparseMatrix({values:b,index:w,ptr:S,size:[m,h],datatype:l===i._datatype&&p===a._datatype?d:void 0})}});var lT="lcm",HY=["typed","matrix","equalScalar","concat"],Y0=C(lT,HY,n=>{var{typed:e,matrix:t,equalScalar:r,concat:i}=n,a=rn({typed:e,equalScalar:r}),o=Ko({typed:e,equalScalar:r}),u=dr({typed:e,equalScalar:r}),s=Et({typed:e,matrix:t,concat:i}),l="number | BigNumber | Fraction | Matrix | Array",c={};return c["".concat(l,", ").concat(l,", ...").concat(l)]=e.referToSelf(p=>(m,h,d)=>{for(var v=p(m,h),y=0;y<d.length;y++)v=p(v,d[y]);return v}),e(lT,{"number, number":Sy,"BigNumber, BigNumber":f,"Fraction, Fraction":(p,m)=>p.lcm(m)},s({SS:o,DS:a,Ss:u}),c);function f(p,m){if(!p.isInt()||!m.isInt())throw new Error("Parameters in function lcm must be integer numbers");if(p.isZero())return p;if(m.isZero())return m;for(var h=p.times(m);!m.isZero();){var d=m;m=p.mod(d),p=d}return h.div(p).abs()}});var cT="log10",GY=["typed","config","Complex"],j0=C(cT,GY,n=>{var{typed:e,config:t,Complex:r}=n;return e(cT,{number:function(a){return a>=0||t.predictable?Ay(a):new r(a,0).log().div(Math.LN10)},Complex:function(a){return new r(a).log().div(Math.LN10)},BigNumber:function(a){return!a.isNegative()||t.predictable?a.log():new r(a.toNumber(),0).log().div(Math.LN10)},"Array | Matrix":e.referToSelf(i=>a=>at(a,i))})});var fT="log2",WY=["typed","config","Complex"],Z0=C(fT,WY,n=>{var{typed:e,config:t,Complex:r}=n;return e(fT,{number:function(o){return o>=0||t.predictable?Ey(o):i(new r(o,0))},Complex:i,BigNumber:function(o){return!o.isNegative()||t.predictable?o.log(2):i(new r(o.toNumber(),0))},"Array | Matrix":e.referToSelf(a=>o=>at(o,a))});function i(a){var o=Math.sqrt(a.re*a.re+a.im*a.im);return new r(Math.log2?Math.log2(o):Math.log(o)/Math.LN2,Math.atan2(a.im,a.re)/Math.LN2)}});var YY="multiplyScalar",jY=["typed"],J0=C(YY,jY,n=>{var{typed:e}=n;return e("multiplyScalar",{"number, number":vy,"Complex, Complex":function(r,i){return r.mul(i)},"BigNumber, BigNumber":function(r,i){return r.times(i)},"Fraction, Fraction":function(r,i){return r.mul(i)},"number | Fraction | BigNumber | Complex, Unit":(t,r)=>r.multiply(t),"Unit, number | Fraction | BigNumber | Complex | Unit":(t,r)=>t.multiply(r)})});var pT="multiply",ZY=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],X0=C(pT,ZY,n=>{var{typed:e,matrix:t,addScalar:r,multiplyScalar:i,equalScalar:a,dot:o}=n,u=dr({typed:e,equalScalar:a}),s=tn({typed:e});function l(S,x){switch(S.length){case 1:switch(x.length){case 1:if(S[0]!==x[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(S[0]!==x[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+S[0]+") must match Matrix rows ("+x[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+x.length+" dimensions)")}break;case 2:switch(x.length){case 1:if(S[1]!==x[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+S[1]+") must match Vector length ("+x[0]+")");break;case 2:if(S[1]!==x[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+S[1]+") must match Matrix B rows ("+x[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+x.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+S.length+" dimensions)")}}function c(S,x,N){if(N===0)throw new Error("Cannot multiply two empty vectors");return o(S,x)}function f(S,x){if(x.storage()!=="dense")throw new Error("Support for SparseMatrix not implemented");return p(S,x)}function p(S,x){var N=S._data,D=S._size,E=S._datatype||S.getDataType(),M=x._data,P=x._size,O=x._datatype||x.getDataType(),V=D[0],z=P[1],L,B=r,T=i;E&&O&&E===O&&typeof E=="string"&&E!=="mixed"&&(L=E,B=e.find(r,[L,L]),T=e.find(i,[L,L]));for(var G=[],R=0;R<z;R++){for(var oe=T(N[0],M[0][R]),ee=1;ee<V;ee++)oe=B(oe,T(N[ee],M[ee][R]));G[R]=oe}return S.createDenseMatrix({data:G,size:[z],datatype:E===S._datatype&&O===x._datatype?L:void 0})}var m=e("_multiplyMatrixVector",{"DenseMatrix, any":d,"SparseMatrix, any":_}),h=e("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":v,"DenseMatrix, SparseMatrix":y,"SparseMatrix, DenseMatrix":b,"SparseMatrix, SparseMatrix":w});function d(S,x){var N=S._data,D=S._size,E=S._datatype||S.getDataType(),M=x._data,P=x._datatype||x.getDataType(),O=D[0],V=D[1],z,L=r,B=i;E&&P&&E===P&&typeof E=="string"&&E!=="mixed"&&(z=E,L=e.find(r,[z,z]),B=e.find(i,[z,z]));for(var T=[],G=0;G<O;G++){for(var R=N[G],oe=B(R[0],M[0]),ee=1;ee<V;ee++)oe=L(oe,B(R[ee],M[ee]));T[G]=oe}return S.createDenseMatrix({data:T,size:[O],datatype:E===S._datatype&&P===x._datatype?z:void 0})}function v(S,x){var N=S._data,D=S._size,E=S._datatype||S.getDataType(),M=x._data,P=x._size,O=x._datatype||x.getDataType(),V=D[0],z=D[1],L=P[1],B,T=r,G=i;E&&O&&E===O&&typeof E=="string"&&E!=="mixed"&&E!=="mixed"&&(B=E,T=e.find(r,[B,B]),G=e.find(i,[B,B]));for(var R=[],oe=0;oe<V;oe++){var ee=N[oe];R[oe]=[];for(var H=0;H<L;H++){for(var U=G(ee[0],M[0][H]),fe=1;fe<z;fe++)U=T(U,G(ee[fe],M[fe][H]));R[oe][H]=U}}return S.createDenseMatrix({data:R,size:[V,L],datatype:E===S._datatype&&O===x._datatype?B:void 0})}function y(S,x){var N=S._data,D=S._size,E=S._datatype||S.getDataType(),M=x._values,P=x._index,O=x._ptr,V=x._size,z=x._datatype||x._data===void 0?x._datatype:x.getDataType();if(!M)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var L=D[0],B=V[1],T,G=r,R=i,oe=a,ee=0;E&&z&&E===z&&typeof E=="string"&&E!=="mixed"&&(T=E,G=e.find(r,[T,T]),R=e.find(i,[T,T]),oe=e.find(a,[T,T]),ee=e.convert(0,T));for(var H=[],U=[],fe=[],De=x.createSparseMatrix({values:H,index:U,ptr:fe,size:[L,B],datatype:E===S._datatype&&z===x._datatype?T:void 0}),me=0;me<B;me++){fe[me]=U.length;var ve=O[me],Ae=O[me+1];if(Ae>ve)for(var be=0,we=0;we<L;we++){for(var Se=we+1,Me=void 0,Ie=ve;Ie<Ae;Ie++){var et=P[Ie];be!==Se?(Me=R(N[we][et],M[Ie]),be=Se):Me=G(Me,R(N[we][et],M[Ie]))}be===Se&&!oe(Me,ee)&&(U.push(we),H.push(Me))}}return fe[B]=U.length,De}function _(S,x){var N=S._values,D=S._index,E=S._ptr,M=S._datatype||S._data===void 0?S._datatype:S.getDataType();if(!N)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var P=x._data,O=x._datatype||x.getDataType(),V=S._size[0],z=x._size[0],L=[],B=[],T=[],G,R=r,oe=i,ee=a,H=0;M&&O&&M===O&&typeof M=="string"&&M!=="mixed"&&(G=M,R=e.find(r,[G,G]),oe=e.find(i,[G,G]),ee=e.find(a,[G,G]),H=e.convert(0,G));var U=[],fe=[];T[0]=0;for(var De=0;De<z;De++){var me=P[De];if(!ee(me,H))for(var ve=E[De],Ae=E[De+1],be=ve;be<Ae;be++){var we=D[be];fe[we]?U[we]=R(U[we],oe(me,N[be])):(fe[we]=!0,B.push(we),U[we]=oe(me,N[be]))}}for(var Se=B.length,Me=0;Me<Se;Me++){var Ie=B[Me];L[Me]=U[Ie]}return T[1]=B.length,S.createSparseMatrix({values:L,index:B,ptr:T,size:[V,1],datatype:M===S._datatype&&O===x._datatype?G:void 0})}function b(S,x){var N=S._values,D=S._index,E=S._ptr,M=S._datatype||S._data===void 0?S._datatype:S.getDataType();if(!N)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var P=x._data,O=x._datatype||x.getDataType(),V=S._size[0],z=x._size[0],L=x._size[1],B,T=r,G=i,R=a,oe=0;M&&O&&M===O&&typeof M=="string"&&M!=="mixed"&&(B=M,T=e.find(r,[B,B]),G=e.find(i,[B,B]),R=e.find(a,[B,B]),oe=e.convert(0,B));for(var ee=[],H=[],U=[],fe=S.createSparseMatrix({values:ee,index:H,ptr:U,size:[V,L],datatype:M===S._datatype&&O===x._datatype?B:void 0}),De=[],me=[],ve=0;ve<L;ve++){U[ve]=H.length;for(var Ae=ve+1,be=0;be<z;be++){var we=P[be][ve];if(!R(we,oe))for(var Se=E[be],Me=E[be+1],Ie=Se;Ie<Me;Ie++){var et=D[Ie];me[et]!==Ae?(me[et]=Ae,H.push(et),De[et]=G(we,N[Ie])):De[et]=T(De[et],G(we,N[Ie]))}}for(var X=U[ve],re=H.length,xe=X;xe<re;xe++){var W=H[xe];ee[xe]=De[W]}}return U[L]=H.length,fe}function w(S,x){var N=S._values,D=S._index,E=S._ptr,M=S._datatype||S._data===void 0?S._datatype:S.getDataType(),P=x._values,O=x._index,V=x._ptr,z=x._datatype||x._data===void 0?x._datatype:x.getDataType(),L=S._size[0],B=x._size[1],T=N&&P,G,R=r,oe=i;M&&z&&M===z&&typeof M=="string"&&M!=="mixed"&&(G=M,R=e.find(r,[G,G]),oe=e.find(i,[G,G]));for(var ee=T?[]:void 0,H=[],U=[],fe=S.createSparseMatrix({values:ee,index:H,ptr:U,size:[L,B],datatype:M===S._datatype&&z===x._datatype?G:void 0}),De=T?[]:void 0,me=[],ve,Ae,be,we,Se,Me,Ie,et,X=0;X<B;X++){U[X]=H.length;var re=X+1;for(Se=V[X],Me=V[X+1],we=Se;we<Me;we++)if(et=O[we],T)for(Ae=E[et],be=E[et+1],ve=Ae;ve<be;ve++)Ie=D[ve],me[Ie]!==re?(me[Ie]=re,H.push(Ie),De[Ie]=oe(P[we],N[ve])):De[Ie]=R(De[Ie],oe(P[we],N[ve]));else for(Ae=E[et],be=E[et+1],ve=Ae;ve<be;ve++)Ie=D[ve],me[Ie]!==re&&(me[Ie]=re,H.push(Ie));if(T)for(var xe=U[X],W=H.length,ne=xe;ne<W;ne++){var ue=H[ne];ee[ne]=De[ue]}}return U[B]=H.length,fe}return e(pT,i,{"Array, Array":e.referTo("Matrix, Matrix",S=>(x,N)=>{l(vt(x),vt(N));var D=S(t(x),t(N));return rt(D)?D.valueOf():D}),"Matrix, Matrix":function(x,N){var D=x.size(),E=N.size();return l(D,E),D.length===1?E.length===1?c(x,N,D[0]):f(x,N):E.length===1?m(x,N):h(x,N)},"Matrix, Array":e.referTo("Matrix,Matrix",S=>(x,N)=>S(x,t(N))),"Array, Matrix":e.referToSelf(S=>(x,N)=>S(t(x,N.storage()),N)),"SparseMatrix, any":function(x,N){return u(x,N,i,!1)},"DenseMatrix, any":function(x,N){return s(x,N,i,!1)},"any, SparseMatrix":function(x,N){return u(N,x,i,!0)},"any, DenseMatrix":function(x,N){return s(N,x,i,!0)},"Array, any":function(x,N){return s(t(x),N,i,!1).valueOf()},"any, Array":function(x,N){return s(t(N),x,i,!0).valueOf()},"any, any":i,"any, any, ...any":e.referToSelf(S=>(x,N,D)=>{for(var E=S(x,N),M=0;M<D.length;M++)E=S(E,D[M]);return E})})});var mT="nthRoot",JY=["typed","matrix","equalScalar","BigNumber","concat"],Q0=C(mT,JY,n=>{var{typed:e,matrix:t,equalScalar:r,BigNumber:i,concat:a}=n,o=Gn({typed:e}),u=rn({typed:e,equalScalar:r}),s=Ko({typed:e,equalScalar:r}),l=dr({typed:e,equalScalar:r}),c=Et({typed:e,matrix:t,concat:a});function f(){throw new Error("Complex number not supported in function nthRoot. Use nthRoots instead.")}return e(mT,{number:Dy,"number, number":Dy,BigNumber:m=>p(m,new i(2)),"BigNumber, BigNumber":p,Complex:f,"Complex, number":f,Array:e.referTo("DenseMatrix,number",m=>h=>m(t(h),2).valueOf()),DenseMatrix:e.referTo("DenseMatrix,number",m=>h=>m(h,2)),SparseMatrix:e.referTo("SparseMatrix,number",m=>h=>m(h,2)),"SparseMatrix, SparseMatrix":e.referToSelf(m=>(h,d)=>{if(d.density()===1)return s(h,d,m);throw new Error("Root must be non-zero")}),"DenseMatrix, SparseMatrix":e.referToSelf(m=>(h,d)=>{if(d.density()===1)return o(h,d,m,!1);throw new Error("Root must be non-zero")}),"Array, SparseMatrix":e.referTo("DenseMatrix,SparseMatrix",m=>(h,d)=>m(t(h),d)),"number | BigNumber, SparseMatrix":e.referToSelf(m=>(h,d)=>{if(d.density()===1)return l(d,h,m,!0);throw new Error("Root must be non-zero")})},c({scalar:"number | BigNumber",SD:u,Ss:l,sS:!1}));function p(m,h){var d=i.precision,v=i.clone({precision:d+2}),y=new i(0),_=new v(1),b=h.isNegative();if(b&&(h=h.neg()),h.isZero())throw new Error("Root must be non-zero");if(m.isNegative()&&!h.abs().mod(2).equals(1))throw new Error("Root must be odd when a is negative.");if(m.isZero())return b?new v(1/0):0;if(!m.isFinite())return b?y:m;var w=m.abs().pow(_.div(h));return w=m.isNeg()?w.neg():w,new i((b?_.div(w):w).toPrecision(d))}});var dT="sign",XY=["typed","BigNumber","Fraction","complex"],K0=C(dT,XY,n=>{var{typed:e,BigNumber:t,complex:r,Fraction:i}=n;return e(dT,{number:_m,Complex:function(o){return o.im===0?r(_m(o.re)):o.sign()},BigNumber:function(o){return new t(o.cmp(0))},Fraction:function(o){return new i(o.s,1)},"Array | Matrix":e.referToSelf(a=>o=>at(o,a,!0)),Unit:e.referToSelf(a=>o=>{if(!o._isDerived()&&o.units[0].unit.offset!==0)throw new TypeError("sign is ambiguous for units with offset");return e.find(a,o.valueType())(o.value)})})});var QY="sqrt",KY=["config","typed","Complex"],eb=C(QY,KY,n=>{var{config:e,typed:t,Complex:r}=n;return t("sqrt",{number:i,Complex:function(o){return o.sqrt()},BigNumber:function(o){return!o.isNegative()||e.predictable?o.sqrt():i(o.toNumber())},Unit:function(o){return o.pow(.5)}});function i(a){return isNaN(a)?NaN:a>=0||e.predictable?Math.sqrt(a):new r(a,0).sqrt()}});var hT="square",ej=["typed"],tb=C(hT,ej,n=>{var{typed:e}=n;return e(hT,{number:My,Complex:function(r){return r.mul(r)},BigNumber:function(r){return r.times(r)},Fraction:function(r){return r.mul(r)},Unit:function(r){return r.pow(2)}})});var gT="subtract",tj=["typed","matrix","equalScalar","subtractScalar","unaryMinus","DenseMatrix","concat"],rb=C(gT,tj,n=>{var{typed:e,matrix:t,equalScalar:r,subtractScalar:i,unaryMinus:a,DenseMatrix:o,concat:u}=n,s=Gn({typed:e}),l=Nr({typed:e}),c=Qo({typed:e,equalScalar:r}),f=di({typed:e,DenseMatrix:o}),p=ir({typed:e,DenseMatrix:o}),m=Et({typed:e,matrix:t,concat:u});return e(gT,{"any, any":i},m({elop:i,SS:c,DS:s,SD:l,Ss:p,sS:f}))});var vT="xgcd",rj=["typed","config","matrix","BigNumber"],nb=C(vT,rj,n=>{var{typed:e,config:t,matrix:r,BigNumber:i}=n;return e(vT,{"number, number":function(u,s){var l=Ny(u,s);return t.matrix==="Array"?l:r(l)},"BigNumber, BigNumber":a});function a(o,u){var s,l,c,f=new i(0),p=new i(1),m=f,h=p,d=p,v=f;if(!o.isInt()||!u.isInt())throw new Error("Parameters in function xgcd must be integer numbers");for(;!u.isZero();)l=o.div(u).floor(),c=o.mod(u),s=m,m=h.minus(l.times(m)),h=s,s=d,d=v.minus(l.times(d)),v=s,o=u,u=c;var y;return o.lt(f)?y=[o.neg(),h.neg(),v.neg()]:y=[o,o.isZero()?0:h,v],t.matrix==="Array"?y:r(y)}});var yT="invmod",nj=["typed","config","BigNumber","xgcd","equal","smaller","mod","add","isInteger"],ib=C(yT,nj,n=>{var{typed:e,config:t,BigNumber:r,xgcd:i,equal:a,smaller:o,mod:u,add:s,isInteger:l}=n;return e(yT,{"number, number":c,"BigNumber, BigNumber":c});function c(f,p){if(!l(f)||!l(p))throw new Error("Parameters in function invmod must be integer numbers");if(f=u(f,p),a(p,0))throw new Error("Divisor must be non zero");var m=i(f,p);m=m.valueOf();var[h,d]=m;return a(h,r(1))?(d=u(d,p),o(d,r(0))&&(d=s(d,p)),d):NaN}});var ij="matAlgo09xS0Sf",aj=["typed","equalScalar"],Em=C(ij,aj,n=>{var{typed:e,equalScalar:t}=n;return function(i,a,o){var u=i._values,s=i._index,l=i._ptr,c=i._size,f=i._datatype||i._data===void 0?i._datatype:i.getDataType(),p=a._values,m=a._index,h=a._ptr,d=a._size,v=a._datatype||a._data===void 0?a._datatype:a.getDataType();if(c.length!==d.length)throw new _t(c.length,d.length);if(c[0]!==d[0]||c[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+d+")");var y=c[0],_=c[1],b,w=t,S=0,x=o;typeof f=="string"&&f===v&&f!=="mixed"&&(b=f,w=e.find(t,[b,b]),S=e.convert(0,b),x=e.find(o,[b,b]));var N=u&&p?[]:void 0,D=[],E=[],M=N?[]:void 0,P=[],O,V,z,L,B;for(V=0;V<_;V++){E[V]=D.length;var T=V+1;if(M)for(L=h[V],B=h[V+1],z=L;z<B;z++)O=m[z],P[O]=T,M[O]=p[z];for(L=l[V],B=l[V+1],z=L;z<B;z++)if(O=s[z],M){var G=P[O]===T?M[O]:S,R=x(u[z],G);w(R,S)||(D.push(O),N.push(R))}else D.push(O)}return E[_]=D.length,i.createSparseMatrix({values:N,index:D,ptr:E,size:[y,_],datatype:f===i._datatype&&v===a._datatype?b:void 0})}});var bT="dotMultiply",oj=["typed","matrix","equalScalar","multiplyScalar","concat"],ab=C(bT,oj,n=>{var{typed:e,matrix:t,equalScalar:r,multiplyScalar:i,concat:a}=n,o=rn({typed:e,equalScalar:r}),u=Em({typed:e,equalScalar:r}),s=dr({typed:e,equalScalar:r}),l=Et({typed:e,matrix:t,concat:a});return e(bT,l({elop:i,SS:u,DS:o,Ss:s}))});function xT(n,e){if(n.isFinite()&&!n.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitAnd");var t=n.constructor;if(n.isNaN()||e.isNaN())return new t(NaN);if(n.isZero()||e.eq(-1)||n.eq(e))return n;if(e.isZero()||n.eq(-1))return e;if(!n.isFinite()||!e.isFinite()){if(!n.isFinite()&&!e.isFinite())return n.isNegative()===e.isNegative()?n:new t(0);if(!n.isFinite())return e.isNegative()?n:n.isNegative()?new t(0):e;if(!e.isFinite())return n.isNegative()?e:e.isNegative()?new t(0):n}return ob(n,e,function(r,i){return r&i})}function rl(n){if(n.isFinite()&&!n.isInteger())throw new Error("Integer expected in function bitNot");var e=n.constructor,t=e.precision;e.config({precision:1e9});var r=n.plus(new e(1));return r.s=-r.s||null,e.config({precision:t}),r}function wT(n,e){if(n.isFinite()&&!n.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitOr");var t=n.constructor;if(n.isNaN()||e.isNaN())return new t(NaN);var r=new t(-1);return n.isZero()||e.eq(r)||n.eq(e)?e:e.isZero()||n.eq(r)?n:!n.isFinite()||!e.isFinite()?!n.isFinite()&&!n.isNegative()&&e.isNegative()||n.isNegative()&&!e.isNegative()&&!e.isFinite()?r:n.isNegative()&&e.isNegative()?n.isFinite()?n:e:n.isFinite()?e:n:ob(n,e,function(i,a){return i|a})}function ob(n,e,t){var r=n.constructor,i,a,o=+(n.s<0),u=+(e.s<0);if(o){i=Dm(rl(n));for(var s=0;s<i.length;++s)i[s]^=1}else i=Dm(n);if(u){a=Dm(rl(e));for(var l=0;l<a.length;++l)a[l]^=1}else a=Dm(e);var c,f,p;i.length<=a.length?(c=i,f=a,p=o):(c=a,f=i,p=u);var m=c.length,h=f.length,d=t(o,u)^1,v=new r(d^1),y=new r(1),_=new r(2),b=r.precision;for(r.config({precision:1e9});m>0;)t(c[--m],f[--h])===d&&(v=v.plus(y)),y=y.times(_);for(;h>0;)t(p,f[--h])===d&&(v=v.plus(y)),y=y.times(_);return r.config({precision:b}),d===0&&(v.s=-v.s),v}function Dm(n){for(var e=n.d,t=e[0]+"",r=1;r<e.length;++r){for(var i=e[r]+"",a=7-i.length;a--;)i="0"+i;t+=i}for(var o=t.length;t.charAt(o)==="0";)o--;var u=n.e,s=t.slice(0,o+1||1),l=s.length;if(u>0)if(++u>l)for(u-=l;u--;)s+="0";else u<l&&(s=s.slice(0,u)+"."+s.slice(u));for(var c=[0],f=0;f<s.length;){for(var p=c.length;p--;)c[p]*=10;c[0]+=parseInt(s.charAt(f++));for(var m=0;m<c.length;++m)c[m]>1&&((c[m+1]===null||c[m+1]===void 0)&&(c[m+1]=0),c[m+1]+=c[m]>>1,c[m]&=1)}return c.reverse()}function _T(n,e){if(n.isFinite()&&!n.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitXor");var t=n.constructor;if(n.isNaN()||e.isNaN())return new t(NaN);if(n.isZero())return e;if(e.isZero())return n;if(n.eq(e))return new t(0);var r=new t(-1);return n.eq(r)?rl(e):e.eq(r)?rl(n):!n.isFinite()||!e.isFinite()?!n.isFinite()&&!e.isFinite()?r:new t(n.isNegative()===e.isNegative()?1/0:-1/0):ob(n,e,function(i,a){return i^a})}function ST(n,e){if(n.isFinite()&&!n.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function leftShift");var t=n.constructor;return n.isNaN()||e.isNaN()||e.isNegative()&&!e.isZero()?new t(NaN):n.isZero()||e.isZero()?n:!n.isFinite()&&!e.isFinite()?new t(NaN):e.lt(55)?n.times(Math.pow(2,e.toNumber())+""):n.times(new t(2).pow(e))}function AT(n,e){if(n.isFinite()&&!n.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function rightArithShift");var t=n.constructor;return n.isNaN()||e.isNaN()||e.isNegative()&&!e.isZero()?new t(NaN):n.isZero()||e.isZero()?n:e.isFinite()?e.lt(55)?n.div(Math.pow(2,e.toNumber())+"").floor():n.div(new t(2).pow(e)).floor():n.isNegative()?new t(-1):n.isFinite()?new t(0):new t(NaN)}var ET="bitAnd",sj=["typed","matrix","equalScalar","concat"],wc=C(ET,sj,n=>{var{typed:e,matrix:t,equalScalar:r,concat:i}=n,a=rn({typed:e,equalScalar:r}),o=Ko({typed:e,equalScalar:r}),u=dr({typed:e,equalScalar:r}),s=Et({typed:e,matrix:t,concat:i});return e(ET,{"number, number":Ty,"BigNumber, BigNumber":xT},s({SS:o,DS:a,Ss:u}))});var DT="bitNot",uj=["typed"],sb=C(DT,uj,n=>{var{typed:e}=n;return e(DT,{number:Fy,BigNumber:rl,"Array | Matrix":e.referToSelf(t=>r=>at(r,t))})});var MT="bitOr",lj=["typed","matrix","equalScalar","DenseMatrix","concat"],_c=C(MT,lj,n=>{var{typed:e,matrix:t,equalScalar:r,DenseMatrix:i,concat:a}=n,o=Gn({typed:e}),u=tl({typed:e,equalScalar:r}),s=di({typed:e,DenseMatrix:i}),l=Et({typed:e,matrix:t,concat:a});return e(MT,{"number, number":Iy,"BigNumber, BigNumber":wT},l({SS:u,DS:o,Ss:s}))});var cj="matAlgo07xSSf",fj=["typed","DenseMatrix"],dn=C(cj,fj,n=>{var{typed:e,DenseMatrix:t}=n;return function(a,o,u){var s=a._size,l=a._datatype||a._data===void 0?a._datatype:a.getDataType(),c=o._size,f=o._datatype||o._data===void 0?o._datatype:o.getDataType();if(s.length!==c.length)throw new _t(s.length,c.length);if(s[0]!==c[0]||s[1]!==c[1])throw new RangeError("Dimension mismatch. Matrix A ("+s+") must match Matrix B ("+c+")");var p=s[0],m=s[1],h,d=0,v=u;typeof l=="string"&&l===f&&l!=="mixed"&&(h=l,d=e.convert(0,h),v=e.find(u,[h,h]));var y,_,b=[];for(y=0;y<p;y++)b[y]=[];var w=[],S=[],x=[],N=[];for(_=0;_<m;_++){var D=_+1;for(r(a,_,x,w,D),r(o,_,N,S,D),y=0;y<p;y++){var E=x[y]===D?w[y]:d,M=N[y]===D?S[y]:d;b[y][_]=v(E,M)}}return new t({data:b,size:[p,m],datatype:l===a._datatype&&f===o._datatype?h:void 0})};function r(i,a,o,u,s){for(var l=i._values,c=i._index,f=i._ptr,p=f[a],m=f[a+1];p<m;p++){var h=c[p];o[h]=s,u[h]=l[p]}}});var NT="bitXor",pj=["typed","matrix","DenseMatrix","concat"],ub=C(NT,pj,n=>{var{typed:e,matrix:t,DenseMatrix:r,concat:i}=n,a=Nr({typed:e}),o=dn({typed:e,DenseMatrix:r}),u=ir({typed:e,DenseMatrix:r}),s=Et({typed:e,matrix:t,concat:i});return e(NT,{"number, number":Py,"BigNumber, BigNumber":_T},s({SS:o,DS:a,Ss:u}))});var CT="arg",mj=["typed"],lb=C(CT,mj,n=>{var{typed:e}=n;return e(CT,{number:function(r){return Math.atan2(0,r)},BigNumber:function(r){return r.constructor.atan2(0,r)},Complex:function(r){return r.arg()},"Array | Matrix":e.referToSelf(t=>r=>at(r,t))})});var TT="conj",dj=["typed"],cb=C(TT,dj,n=>{var{typed:e}=n;return e(TT,{"number | BigNumber | Fraction":t=>t,Complex:t=>t.conjugate(),"Array | Matrix":e.referToSelf(t=>r=>at(r,t))})});var FT="im",hj=["typed"],fb=C(FT,hj,n=>{var{typed:e}=n;return e(FT,{number:()=>0,"BigNumber | Fraction":t=>t.mul(0),Complex:t=>t.im,"Array | Matrix":e.referToSelf(t=>r=>at(r,t))})});var IT="re",gj=["typed"],pb=C(IT,gj,n=>{var{typed:e}=n;return e(IT,{"number | BigNumber | Fraction":t=>t,Complex:t=>t.re,"Array | Matrix":e.referToSelf(t=>r=>at(r,t))})});var PT="not",vj=["typed"],mb=C(PT,vj,n=>{var{typed:e}=n;return e(PT,{"null | undefined":()=>!0,number:Vy,Complex:function(r){return r.re===0&&r.im===0},BigNumber:function(r){return r.isZero()||r.isNaN()},Unit:e.referToSelf(t=>r=>e.find(t,r.valueType())(r.value)),"Array | Matrix":e.referToSelf(t=>r=>at(r,t))})});var BT="or",yj=["typed","matrix","equalScalar","DenseMatrix","concat"],Sc=C(BT,yj,n=>{var{typed:e,matrix:t,equalScalar:r,DenseMatrix:i,concat:a}=n,o=Nr({typed:e}),u=Qo({typed:e,equalScalar:r}),s=ir({typed:e,DenseMatrix:i}),l=Et({typed:e,matrix:t,concat:a});return e(BT,{"number, number":Uy,"Complex, Complex":function(f,p){return f.re!==0||f.im!==0||p.re!==0||p.im!==0},"BigNumber, BigNumber":function(f,p){return!f.isZero()&&!f.isNaN()||!p.isZero()&&!p.isNaN()},"Unit, Unit":e.referToSelf(c=>(f,p)=>c(f.value||0,p.value||0))},l({SS:u,DS:o,Ss:s}))});var OT="xor",bj=["typed","matrix","DenseMatrix","concat"],db=C(OT,bj,n=>{var{typed:e,matrix:t,DenseMatrix:r,concat:i}=n,a=Nr({typed:e}),o=dn({typed:e,DenseMatrix:r}),u=ir({typed:e,DenseMatrix:r}),s=Et({typed:e,matrix:t,concat:i});return e(OT,{"number, number":qy,"Complex, Complex":function(c,f){return(c.re!==0||c.im!==0)!=(f.re!==0||f.im!==0)},"BigNumber, BigNumber":function(c,f){return(!c.isZero()&&!c.isNaN())!=(!f.isZero()&&!f.isNaN())},"Unit, Unit":e.referToSelf(l=>(c,f)=>l(c.value||0,f.value||0))},s({SS:o,DS:a,Ss:u}))});var kT="concat",xj=["typed","matrix","isInteger"],Ac=C(kT,xj,n=>{var{typed:e,matrix:t,isInteger:r}=n;return e(kT,{"...Array | Matrix | number | BigNumber":function(a){var o,u=a.length,s=-1,l,c=!1,f=[];for(o=0;o<u;o++){var p=a[o];if(rt(p)&&(c=!0),yt(p)||st(p)){if(o!==u-1)throw new Error("Dimension must be specified as last argument");if(l=s,s=p.valueOf(),!r(s))throw new TypeError("Integer number expected for dimension");if(s<0||o>0&&s>l)throw new Fn(s,l+1)}else{var m=pt(p).valueOf(),h=vt(m);if(f[o]=m,l=s,s=h.length-1,o>0&&s!==l)throw new _t(l+1,s+1)}}if(f.length===0)throw new SyntaxError("At least one matrix expected");for(var d=f.shift();f.length;)d=$v(d,f.shift(),s);return c?t(d):d},"...string":function(a){return a.join("")}})});var RT="column",wj=["typed","Index","matrix","range"],Ec=C(RT,wj,n=>{var{typed:e,Index:t,matrix:r,range:i}=n;return e(RT,{"Matrix, number":a,"Array, number":function(u,s){return a(r(pt(u)),s).valueOf()}});function a(o,u){if(o.size().length!==2)throw new Error("Only two dimensional matrix is supported");mr(u,o.size()[1]);var s=i(0,o.size()[0]),l=new t(s,u),c=o.subset(l);return rt(c)?c:r([[c]])}});var LT="count",_j=["typed","size","prod"],hb=C(LT,_j,n=>{var{typed:e,size:t,prod:r}=n;return e(LT,{string:function(a){return a.length},"Matrix | Array":function(a){return r(t(a))}})});var VT="cross",Sj=["typed","matrix","subtract","multiply"],gb=C(VT,Sj,n=>{var{typed:e,matrix:t,subtract:r,multiply:i}=n;return e(VT,{"Matrix, Matrix":function(u,s){return t(a(u.toArray(),s.toArray()))},"Matrix, Array":function(u,s){return t(a(u.toArray(),s))},"Array, Matrix":function(u,s){return t(a(u,s.toArray()))},"Array, Array":a});function a(o,u){var s=Math.max(vt(o).length,vt(u).length);o=Wu(o),u=Wu(u);var l=vt(o),c=vt(u);if(l.length!==1||c.length!==1||l[0]!==3||c[0]!==3)throw new RangeError("Vectors with length 3 expected (Size A = ["+l.join(", ")+"], B = ["+c.join(", ")+"])");var f=[r(i(o[1],u[2]),i(o[2],u[1])),r(i(o[2],u[0]),i(o[0],u[2])),r(i(o[0],u[1]),i(o[1],u[0]))];return s>1?[f]:f}});var UT="diag",Aj=["typed","matrix","DenseMatrix","SparseMatrix"],vb=C(UT,Aj,n=>{var{typed:e,matrix:t,DenseMatrix:r,SparseMatrix:i}=n;return e(UT,{Array:function(l){return a(l,0,vt(l),null)},"Array, number":function(l,c){return a(l,c,vt(l),null)},"Array, BigNumber":function(l,c){return a(l,c.toNumber(),vt(l),null)},"Array, string":function(l,c){return a(l,0,vt(l),c)},"Array, number, string":function(l,c,f){return a(l,c,vt(l),f)},"Array, BigNumber, string":function(l,c,f){return a(l,c.toNumber(),vt(l),f)},Matrix:function(l){return a(l,0,l.size(),l.storage())},"Matrix, number":function(l,c){return a(l,c,l.size(),l.storage())},"Matrix, BigNumber":function(l,c){return a(l,c.toNumber(),l.size(),l.storage())},"Matrix, string":function(l,c){return a(l,0,l.size(),c)},"Matrix, number, string":function(l,c,f){return a(l,c,l.size(),f)},"Matrix, BigNumber, string":function(l,c,f){return a(l,c.toNumber(),l.size(),f)}});function a(s,l,c,f){if(!Ke(l))throw new TypeError("Second parameter in function diag must be an integer");var p=l>0?l:0,m=l<0?-l:0;switch(c.length){case 1:return o(s,l,f,c[0],m,p);case 2:return u(s,l,f,c,m,p)}throw new RangeError("Matrix for function diag must be 2 dimensional")}function o(s,l,c,f,p,m){var h=[f+p,f+m];if(c&&c!=="sparse"&&c!=="dense")throw new TypeError("Unknown matrix type ".concat(c,'"'));var d=c==="sparse"?i.diagonal(h,s,l):r.diagonal(h,s,l);return c!==null?d:d.valueOf()}function u(s,l,c,f,p,m){if(rt(s)){var h=s.diagonal(l);return c!==null?c!==h.storage()?t(h,c):h:h.valueOf()}for(var d=Math.min(f[0]-p,f[1]-m),v=[],y=0;y<d;y++)v[y]=s[y+p][y+m];return c!==null?t(v):v}});var Dc=hr(Ov(),1);function Qi(n,e,t,r,i){if(Dc.default.isTypedFunction(n)){var a=[e,t,r],o=Dc.default.resolve(n,a);if(o)return f(o.implementation,a);var u=[e,t],s=Dc.default.resolve(n,u);if(s)return f(s.implementation,u);var l=[e],c=Dc.default.resolve(n,l);return c?f(c.implementation,l):f(n,a)}else return n(e,t,r);function f(p,m){try{return p.apply(p,m)}catch(v){var h;if(v instanceof TypeError&&((h=v.data)===null||h===void 0?void 0:h.category)==="wrongType"){var d=[];throw d.push("value: ".concat(Wt(e))),m.length>=2&&d.push("index: ".concat(Wt(t))),m.length>=3&&d.push("array: ".concat(Wt(r))),new TypeError("Function ".concat(i," cannot apply callback arguments ")+"".concat(n.name,"(").concat(d.join(", "),") at index ").concat(JSON.stringify(t)))}else throw new TypeError("Function ".concat(i," cannot apply callback arguments ")+"to function ".concat(n.name,": ").concat(v.message))}}}var Ej="filter",Dj=["typed"],yb=C(Ej,Dj,n=>{var{typed:e}=n;return e("filter",{"Array, function":qT,"Matrix, function":function(r,i){return r.create(qT(r.toArray(),i))},"Array, RegExp":Yu,"Matrix, RegExp":function(r,i){return r.create(Yu(r.toArray(),i))}})});function qT(n,e){return lm(n,function(t,r,i){return Qi(e,t,[r],i,"filter")})}var zT="flatten",Mj=["typed","matrix"],bb=C(zT,Mj,n=>{var{typed:e,matrix:t}=n;return e(zT,{Array:function(i){return Ct(i)},Matrix:function(i){var a=Ct(i.toArray());return t(a)}})});var $T="forEach",Nj=["typed"],xb=C($T,Nj,n=>{var{typed:e}=n;return e($T,{"Array, function":Cj,"Matrix, function":function(r,i){r.forEach(i)}})});function Cj(n,e){var t=function r(i,a){if(Array.isArray(i))Ho(i,function(o,u){r(o,a.concat(u))});else return Qi(e,i,a,n,"forEach")};t(n,[])}var HT="getMatrixDataType",Tj=["typed"],wb=C(HT,Tj,n=>{var{typed:e}=n;return e(HT,{Array:function(r){return Go(r,Wt)},Matrix:function(r){return r.getDataType()}})});var GT="identity",Fj=["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],_b=C(GT,Fj,n=>{var{typed:e,config:t,matrix:r,BigNumber:i,DenseMatrix:a,SparseMatrix:o}=n;return e(GT,{"":function(){return t.matrix==="Matrix"?r([]):[]},string:function(c){return r(c)},"number | BigNumber":function(c){return s(c,c,t.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, string":function(c,f){return s(c,c,f)},"number | BigNumber, number | BigNumber":function(c,f){return s(c,f,t.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(c,f,p){return s(c,f,p)},Array:function(c){return u(c)},"Array, string":function(c,f){return u(c,f)},Matrix:function(c){return u(c.valueOf(),c.storage())},"Matrix, string":function(c,f){return u(c.valueOf(),f)}});function u(l,c){switch(l.length){case 0:return c?r(c):[];case 1:return s(l[0],l[0],c);case 2:return s(l[0],l[1],c);default:throw new Error("Vector containing two values expected")}}function s(l,c,f){var p=st(l)||st(c)?i:null;if(st(l)&&(l=l.toNumber()),st(c)&&(c=c.toNumber()),!Ke(l)||l<1)throw new Error("Parameters in function identity must be positive integers");if(!Ke(c)||c<1)throw new Error("Parameters in function identity must be positive integers");var m=p?new i(1):1,h=p?new p(0):0,d=[l,c];if(f){if(f==="sparse")return o.diagonal(d,m,0,h);if(f==="dense")return a.diagonal(d,m,0,h);throw new TypeError('Unknown matrix type "'.concat(f,'"'))}for(var v=ba([],d,h),y=l<c?l:c,_=0;_<y;_++)v[_][_]=m;return v}});var WT="kron",Ij=["typed","matrix","multiplyScalar"],Sb=C(WT,Ij,n=>{var{typed:e,matrix:t,multiplyScalar:r}=n;return e(WT,{"Matrix, Matrix":function(o,u){return t(i(o.toArray(),u.toArray()))},"Matrix, Array":function(o,u){return t(i(o.toArray(),u))},"Array, Matrix":function(o,u){return t(i(o,u.toArray()))},"Array, Array":i});function i(a,o){if(vt(a).length===1&&(a=[a]),vt(o).length===1&&(o=[o]),vt(a).length>2||vt(o).length>2)throw new RangeError("Vectors with dimensions greater then 2 are not supported expected (Size x = "+JSON.stringify(a.length)+", y = "+JSON.stringify(o.length)+")");var u=[],s=[];return a.map(function(l){return o.map(function(c){return s=[],u.push(s),l.map(function(f){return c.map(function(p){return s.push(r(f,p))})})})})&&u}});var YT="map",Pj=["typed"],Ab=C(YT,Pj,n=>{var{typed:e}=n;return e(YT,{"Array, function":Bj,"Matrix, function":function(r,i){return r.map(i)}})});function Bj(n,e){var t=function r(i,a){return Array.isArray(i)?i.map(function(o,u){return r(o,a.concat(u))}):Qi(e,i,a,n,"map")};return t(n,[])}var jT="diff",Oj=["typed","matrix","subtract","number"],Mc=C(jT,Oj,n=>{var{typed:e,matrix:t,subtract:r,number:i}=n;return e(jT,{"Array | Matrix":function(c){return rt(c)?t(o(c.toArray())):o(c)},"Array | Matrix, number":function(c,f){if(!Ke(f))throw new RangeError("Dimension must be a whole number");return rt(c)?t(a(c.toArray(),f)):a(c,f)},"Array, BigNumber":e.referTo("Array,number",l=>(c,f)=>l(c,i(f))),"Matrix, BigNumber":e.referTo("Matrix,number",l=>(c,f)=>l(c,i(f)))});function a(l,c){if(rt(l)&&(l=l.toArray()),!Array.isArray(l))throw RangeError("Array/Matrix does not have that many dimensions");if(c>0){var f=[];return l.forEach(p=>{f.push(a(p,c-1))}),f}else{if(c===0)return o(l);throw RangeError("Cannot have negative dimension")}}function o(l){for(var c=[],f=l.length,p=1;p<f;p++)c.push(u(l[p-1],l[p]));return c}function u(l,c){rt(l)&&(l=l.toArray()),rt(c)&&(c=c.toArray());var f=Array.isArray(l),p=Array.isArray(c);if(f&&p)return s(l,c);if(!f&&!p)return r(c,l);throw TypeError("Cannot calculate difference between 1 array and 1 non-array")}function s(l,c){if(l.length!==c.length)throw RangeError("Not all sub-arrays have the same length");for(var f=[],p=l.length,m=0;m<p;m++)f.push(u(l[m],c[m]));return f}});var kj="ones",Rj=["typed","config","matrix","BigNumber"],Eb=C(kj,Rj,n=>{var{typed:e,config:t,matrix:r,BigNumber:i}=n;return e("ones",{"":function(){return t.matrix==="Array"?a([]):a([],"default")},"...number | BigNumber | string":function(l){var c=l[l.length-1];if(typeof c=="string"){var f=l.pop();return a(l,f)}else return t.matrix==="Array"?a(l):a(l,"default")},Array:a,Matrix:function(l){var c=l.storage();return a(l.valueOf(),c)},"Array | Matrix, string":function(l,c){return a(l.valueOf(),c)}});function a(s,l){var c=o(s),f=c?new i(1):1;if(u(s),l){var p=r(l);return s.length>0?p.resize(s,f):p}else{var m=[];return s.length>0?ba(m,s,f):m}}function o(s){var l=!1;return s.forEach(function(c,f,p){st(c)&&(l=!0,p[f]=c.toNumber())}),l}function u(s){s.forEach(function(l){if(typeof l!="number"||!Ke(l)||l<0)throw new Error("Parameters in function ones must be positive integers")})}});function nl(){throw new Error('No "bignumber" implementation available')}function Mm(){throw new Error('No "fraction" implementation available')}function Nm(){throw new Error('No "matrix" implementation available')}var ZT="range",Lj=["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq","add","isPositive"],Nc=C(ZT,Lj,n=>{var{typed:e,config:t,matrix:r,bignumber:i,smaller:a,smallerEq:o,larger:u,largerEq:s,add:l,isPositive:c}=n;return e(ZT,{string:p,"string, boolean":p,"number, number":function(v,y){return f(m(v,y,1,!1))},"number, number, number":function(v,y,_){return f(m(v,y,_,!1))},"number, number, boolean":function(v,y,_){return f(m(v,y,1,_))},"number, number, number, boolean":function(v,y,_,b){return f(m(v,y,_,b))},"BigNumber, BigNumber":function(v,y){var _=v.constructor;return f(m(v,y,new _(1),!1))},"BigNumber, BigNumber, BigNumber":function(v,y,_){return f(m(v,y,_,!1))},"BigNumber, BigNumber, boolean":function(v,y,_){var b=v.constructor;return f(m(v,y,new b(1),_))},"BigNumber, BigNumber, BigNumber, boolean":function(v,y,_,b){return f(m(v,y,_,b))},"Unit, Unit, Unit":function(v,y,_){return f(m(v,y,_,!1))},"Unit, Unit, Unit, boolean":function(v,y,_,b){return f(m(v,y,_,b))}});function f(d){return t.matrix==="Matrix"?r?r(d):Nm():d}function p(d,v){var y=h(d);if(!y)throw new SyntaxError('String "'+d+'" is no valid range');return t.number==="BigNumber"?(i===void 0&&nl(),f(m(i(y.start),i(y.end),i(y.step)),v)):f(m(y.start,y.end,y.step,v))}function m(d,v,y,_){for(var b=[],w=c(y)?_?o:a:_?s:u,S=d;w(S,v);)b.push(S),S=l(S,y);return b}function h(d){var v=d.split(":"),y=v.map(function(b){return Number(b)}),_=y.some(function(b){return isNaN(b)});if(_)return null;switch(y.length){case 2:return{start:y[0],end:y[1],step:1};case 3:return{start:y[0],end:y[2],step:y[1]};default:return null}}});var JT="reshape",Vj=["typed","isInteger","matrix"],Db=C(JT,Vj,n=>{var{typed:e,isInteger:t}=n;return e(JT,{"Matrix, Array":function(i,a){return i.reshape(a,!0)},"Array, Array":function(i,a){return a.forEach(function(o){if(!t(o))throw new TypeError("Invalid size for dimension: "+o)}),fc(i,a)}})});var Uj="resize",qj=["config","matrix"],Mb=C(Uj,qj,n=>{var{config:e,matrix:t}=n;return function(a,o,u){if(arguments.length!==2&&arguments.length!==3)throw new po("resize",arguments.length,2,3);if(rt(o)&&(o=o.valueOf()),st(o[0])&&(o=o.map(function(c){return st(c)?c.toNumber():c})),rt(a))return a.resize(o,u,!0);if(typeof a=="string")return r(a,o,u);var s=Array.isArray(a)?!1:e.matrix!=="Array";if(o.length===0){for(;Array.isArray(a);)a=a[0];return pt(a)}else{Array.isArray(a)||(a=[a]),a=pt(a);var l=ba(a,o,u);return s?t(l):l}};function r(i,a,o){if(o!==void 0){if(typeof o!="string"||o.length!==1)throw new TypeError("Single character expected as defaultValue")}else o=" ";if(a.length!==1)throw new _t(a.length,1);var u=a[0];if(typeof u!="number"||!Ke(u))throw new TypeError("Invalid size, must contain positive integers (size: "+xt(a)+")");if(i.length>u)return i.substring(0,u);if(i.length<u){for(var s=i,l=0,c=u-i.length;l<c;l++)s+=o;return s}else return i}});var XT="rotate",zj=["typed","multiply","rotationMatrix"],Nb=C(XT,zj,n=>{var{typed:e,multiply:t,rotationMatrix:r}=n;return e(XT,{"Array , number | BigNumber | Complex | Unit":function(o,u){i(o,2);var s=t(r(u),o);return s.toArray()},"Matrix , number | BigNumber | Complex | Unit":function(o,u){return i(o,2),t(r(u),o)},"Array, number | BigNumber | Complex | Unit, Array | Matrix":function(o,u,s){i(o,3);var l=t(r(u,s),o);return l},"Matrix, number | BigNumber | Complex | Unit, Array | Matrix":function(o,u,s){return i(o,3),t(r(u,s),o)}});function i(a,o){var u=Array.isArray(a)?vt(a):a.size();if(u.length>2)throw new RangeError("Vector must be of dimensions 1x".concat(o));if(u.length===2&&u[1]!==1)throw new RangeError("Vector must be of dimensions 1x".concat(o));if(u[0]!==o)throw new RangeError("Vector must be of dimensions 1x".concat(o))}});var QT="rotationMatrix",$j=["typed","config","multiplyScalar","addScalar","unaryMinus","norm","matrix","BigNumber","DenseMatrix","SparseMatrix","cos","sin"],Cb=C(QT,$j,n=>{var{typed:e,config:t,multiplyScalar:r,addScalar:i,unaryMinus:a,norm:o,BigNumber:u,matrix:s,DenseMatrix:l,SparseMatrix:c,cos:f,sin:p}=n;return e(QT,{"":function(){return t.matrix==="Matrix"?s([]):[]},string:function(b){return s(b)},"number | BigNumber | Complex | Unit":function(b){return m(b,t.matrix==="Matrix"?"dense":void 0)},"number | BigNumber | Complex | Unit, string":function(b,w){return m(b,w)},"number | BigNumber | Complex | Unit, Array":function(b,w){var S=s(w);return h(S),y(b,S,void 0)},"number | BigNumber | Complex | Unit, Matrix":function(b,w){h(w);var S=w.storage()||(t.matrix==="Matrix"?"dense":void 0);return y(b,w,S)},"number | BigNumber | Complex | Unit, Array, string":function(b,w,S){var x=s(w);return h(x),y(b,x,S)},"number | BigNumber | Complex | Unit, Matrix, string":function(b,w,S){return h(w),y(b,w,S)}});function m(_,b){var w=st(_),S=w?new u(-1):-1,x=f(_),N=p(_),D=[[x,r(S,N)],[N,x]];return v(D,b)}function h(_){var b=_.size();if(b.length<1||b[0]!==3)throw new RangeError("Vector must be of dimensions 1x3")}function d(_){return _.reduce((b,w)=>r(b,w))}function v(_,b){if(b){if(b==="sparse")return new c(_);if(b==="dense")return new l(_);throw new TypeError('Unknown matrix type "'.concat(b,'"'))}return _}function y(_,b,w){var S=o(b);if(S===0)throw new RangeError("Rotation around zero vector");var x=st(_)?u:null,N=x?new x(1):1,D=x?new x(-1):-1,E=x?new x(b.get([0])/S):b.get([0])/S,M=x?new x(b.get([1])/S):b.get([1])/S,P=x?new x(b.get([2])/S):b.get([2])/S,O=f(_),V=i(N,a(O)),z=p(_),L=i(O,d([E,E,V])),B=i(d([E,M,V]),d([D,P,z])),T=i(d([E,P,V]),d([M,z])),G=i(d([E,M,V]),d([P,z])),R=i(O,d([M,M,V])),oe=i(d([M,P,V]),d([D,E,z])),ee=i(d([E,P,V]),d([D,M,z])),H=i(d([M,P,V]),d([E,z])),U=i(O,d([P,P,V])),fe=[[L,B,T],[G,R,oe],[ee,H,U]];return v(fe,w)}});var KT="row",Hj=["typed","Index","matrix","range"],Cc=C(KT,Hj,n=>{var{typed:e,Index:t,matrix:r,range:i}=n;return e(KT,{"Matrix, number":a,"Array, number":function(u,s){return a(r(pt(u)),s).valueOf()}});function a(o,u){if(o.size().length!==2)throw new Error("Only two dimensional matrix is supported");mr(u,o.size()[0]);var s=i(0,o.size()[1]),l=new t(u,s),c=o.subset(l);return rt(c)?c:r([[c]])}});var e2="size",Gj=["typed","config","?matrix"],Tb=C(e2,Gj,n=>{var{typed:e,config:t,matrix:r}=n;return e(e2,{Matrix:function(a){return a.create(a.size())},Array:vt,string:function(a){return t.matrix==="Array"?[a.length]:r([a.length])},"number | Complex | BigNumber | Unit | boolean | null":function(a){return t.matrix==="Array"?[]:r?r([]):Nm()}})});var t2="squeeze",Wj=["typed","matrix"],Fb=C(t2,Wj,n=>{var{typed:e,matrix:t}=n;return e(t2,{Array:function(i){return Wu(pt(i))},Matrix:function(i){var a=Wu(i.toArray());return Array.isArray(a)?t(a):a},any:function(i){return pt(i)}})});var r2="subset",Yj=["typed","matrix","zeros","add"],Tc=C(r2,Yj,n=>{var{typed:e,matrix:t,zeros:r,add:i}=n;return e(r2,{"Matrix, Index":function(u,s){return qs(s)?t():(cc(u,s),u.subset(s))},"Array, Index":e.referTo("Matrix, Index",function(o){return function(u,s){var l=o(t(u),s);return s.isScalar()?l:l.valueOf()}}),"Object, Index":Zj,"string, Index":jj,"Matrix, Index, any, any":function(u,s,l,c){return qs(s)?u:(cc(u,s),u.clone().subset(s,a(l,s),c))},"Array, Index, any, any":e.referTo("Matrix, Index, any, any",function(o){return function(u,s,l,c){var f=o(t(u),s,l,c);return f.isMatrix?f.valueOf():f}}),"Array, Index, any":e.referTo("Matrix, Index, any, any",function(o){return function(u,s,l){return o(t(u),s,l,void 0).valueOf()}}),"Matrix, Index, any":e.referTo("Matrix, Index, any, any",function(o){return function(u,s,l){return o(u,s,l,void 0)}}),"string, Index, string":n2,"string, Index, string, string":n2,"Object, Index, any":Jj});function a(o,u){if(typeof o=="string")throw new Error("can't boradcast a string");if(u._isScalar)return o;var s=u.size();if(s.every(l=>l>0))try{return i(o,r(s))}catch(l){return o}else return o}});function jj(n,e){if(!qo(e))throw new TypeError("Index expected");if(qs(e))return"";if(cc(Array.from(n),e),e.size().length!==1)throw new _t(e.size().length,1);var t=n.length;mr(e.min()[0],t),mr(e.max()[0],t);var r=e.dimension(0),i="";return r.forEach(function(a){i+=n.charAt(a)}),i}function n2(n,e,t,r){if(!e||e.isIndex!==!0)throw new TypeError("Index expected");if(qs(e))return n;if(cc(Array.from(n),e),e.size().length!==1)throw new _t(e.size().length,1);if(r!==void 0){if(typeof r!="string"||r.length!==1)throw new TypeError("Single character expected as defaultValue")}else r=" ";var i=e.dimension(0),a=i.size()[0];if(a!==t.length)throw new _t(i.size()[0],t.length);var o=n.length;mr(e.min()[0]),mr(e.max()[0]);for(var u=[],s=0;s<o;s++)u[s]=n.charAt(s);if(i.forEach(function(f,p){u[f]=t.charAt(p[0])}),u.length>o)for(var l=o-1,c=u.length;l<c;l++)u[l]||(u[l]=r);return u.join("")}function Zj(n,e){if(!qs(e)){if(e.size().length!==1)throw new _t(e.size(),1);var t=e.dimension(0);if(typeof t!="string")throw new TypeError("String expected as index to retrieve an object property");return Rr(n,t)}}function Jj(n,e,t){if(qs(e))return n;if(e.size().length!==1)throw new _t(e.size(),1);var r=e.dimension(0);if(typeof r!="string")throw new TypeError("String expected as index to retrieve an object property");var i=pt(n);return Oa(i,r,t),i}var i2="transpose",Xj=["typed","matrix"],Ib=C(i2,Xj,n=>{var{typed:e,matrix:t}=n;return e(i2,{Array:o=>r(t(o)).valueOf(),Matrix:r,any:pt});function r(o){var u=o.size(),s;switch(u.length){case 1:s=o.clone();break;case 2:{var l=u[0],c=u[1];if(c===0)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+xt(u)+")");switch(o.storage()){case"dense":s=i(o,l,c);break;case"sparse":s=a(o,l,c);break}}break;default:throw new RangeError("Matrix must be a vector or two dimensional (size: "+xt(u)+")")}return s}function i(o,u,s){for(var l=o._data,c=[],f,p=0;p<s;p++){f=c[p]=[];for(var m=0;m<u;m++)f[m]=pt(l[m][p])}return o.createDenseMatrix({data:c,size:[s,u],datatype:o._datatype})}function a(o,u,s){for(var l=o._values,c=o._index,f=o._ptr,p=l?[]:void 0,m=[],h=[],d=[],v=0;v<u;v++)d[v]=0;var y,_,b;for(y=0,_=c.length;y<_;y++)d[c[y]]++;for(var w=0,S=0;S<u;S++)h.push(w),w+=d[S],d[S]=h[S];for(h.push(w),b=0;b<s;b++)for(var x=f[b],N=f[b+1],D=x;D<N;D++){var E=d[c[D]]++;m[E]=b,l&&(p[E]=pt(l[D]))}return o.createSparseMatrix({values:p,index:m,ptr:h,size:[s,u],datatype:o._datatype})}});var a2="ctranspose",Qj=["typed","transpose","conj"],Pb=C(a2,Qj,n=>{var{typed:e,transpose:t,conj:r}=n;return e(a2,{any:function(a){return r(t(a))}})});var o2="zeros",Kj=["typed","config","matrix","BigNumber"],Bb=C(o2,Kj,n=>{var{typed:e,config:t,matrix:r,BigNumber:i}=n;return e(o2,{"":function(){return t.matrix==="Array"?a([]):a([],"default")},"...number | BigNumber | string":function(l){var c=l[l.length-1];if(typeof c=="string"){var f=l.pop();return a(l,f)}else return t.matrix==="Array"?a(l):a(l,"default")},Array:a,Matrix:function(l){var c=l.storage();return a(l.valueOf(),c)},"Array | Matrix, string":function(l,c){return a(l.valueOf(),c)}});function a(s,l){var c=o(s),f=c?new i(0):0;if(u(s),l){var p=r(l);return s.length>0?p.resize(s,f):p}else{var m=[];return s.length>0?ba(m,s,f):m}}function o(s){var l=!1;return s.forEach(function(c,f,p){st(c)&&(l=!0,p[f]=c.toNumber())}),l}function u(s){s.forEach(function(l){if(typeof l!="number"||!Ke(l)||l<0)throw new Error("Parameters in function zeros must be positive integers")})}});var s2="fft",eZ=["typed","matrix","addScalar","multiplyScalar","divideScalar","exp","tau","i","dotDivide","conj","pow","ceil","log2"],Ob=C(s2,eZ,n=>{var{typed:e,matrix:t,addScalar:r,multiplyScalar:i,divideScalar:a,exp:o,tau:u,i:s,dotDivide:l,conj:c,pow:f,ceil:p,log2:m}=n;return e(s2,{Array:h,Matrix:function(b){return b.create(h(b.toArray()))}});function h(_){var b=vt(_);return b.length===1?y(_,b[0]):d(_.map(w=>h(w,b.slice(1))),0)}function d(_,b){var w=vt(_);if(b!==0)return new Array(w[0]).fill(0).map((x,N)=>d(_[N],b-1));if(w.length===1)return y(_);function S(x){var N=vt(x);return new Array(N[1]).fill(0).map((D,E)=>new Array(N[0]).fill(0).map((M,P)=>x[P][E]))}return S(d(S(_),1))}function v(_){for(var b=_.length,w=o(a(i(-1,i(s,u)),b)),S=[],x=1-b;x<b;x++)S.push(f(w,a(f(x,2),2)));for(var N=f(2,p(m(b+b-1))),D=[...new Array(b).fill(0).map((B,T)=>i(_[T],S[b-1+T])),...new Array(N-b).fill(0)],E=[...new Array(b+b-1).fill(0).map((B,T)=>a(1,S[T])),...new Array(N-(b+b-1)).fill(0)],M=y(D),P=y(E),O=new Array(N).fill(0).map((B,T)=>i(M[T],P[T])),V=l(c(h(c(O))),N),z=[],L=b-1;L<b+b-1;L++)z.push(i(V[L],S[L]));return z}function y(_){var b=_.length;if(b===1)return[_[0]];if(b%2===0){for(var w=[...y(_.filter((D,E)=>E%2===0),b/2),...y(_.filter((D,E)=>E%2===1),b/2)],S=0;S<b/2;S++){var x=w[S],N=i(w[S+b/2],o(i(i(u,s),a(-S,b))));w[S]=r(x,N),w[S+b/2]=r(x,i(-1,N))}return w}else return v(_)}});var u2="ifft",tZ=["typed","fft","dotDivide","conj"],kb=C(u2,tZ,n=>{var{typed:e,fft:t,dotDivide:r,conj:i}=n;return e(u2,{"Array | Matrix":function(o){var u=rt(o)?o.size():vt(o);return r(i(t(i(o))),u.reduce((s,l)=>s*l,1))}})});function es(n){"@babel/helpers - typeof";return es=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},es(n)}function Rb(n,e){if(es(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(es(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Lb(n){var e=Rb(n,"string");return es(e)=="symbol"?e:e+""}function ar(n,e,t){return e=Lb(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function l2(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function rZ(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?l2(Object(t),!0).forEach(function(r){ar(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):l2(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}var nZ="solveODE",iZ=["typed","add","subtract","multiply","divide","max","map","abs","isPositive","isNegative","larger","smaller","matrix","bignumber","unaryMinus"],Vb=C(nZ,iZ,n=>{var{typed:e,add:t,subtract:r,multiply:i,divide:a,max:o,map:u,abs:s,isPositive:l,isNegative:c,larger:f,smaller:p,matrix:m,bignumber:h,unaryMinus:d}=n;function v(D){return function(E,M,P,O){var V=!(M.length===2&&(M.every(x)||M.every(Nn)));if(V)throw new Error('"tspan" must be an Array of two numeric values or two units [tStart, tEnd]');var z=M[0],L=M[1],B=f(L,z),T=O.firstStep;if(T!==void 0&&!l(T))throw new Error('"firstStep" must be positive');var G=O.maxStep;if(G!==void 0&&!l(G))throw new Error('"maxStep" must be positive');var R=O.minStep;if(R&&c(R))throw new Error('"minStep" must be positive or zero');var oe=[z,L,T,R,G].filter(Ye=>Ye!==void 0);if(!(oe.every(x)||oe.every(Nn)))throw new Error('Inconsistent type of "t" dependant variables');for(var ee=1,H=O.tol?O.tol:1e-4,U=O.minDelta?O.minDelta:.2,fe=O.maxDelta?O.maxDelta:5,De=O.maxIter?O.maxIter:1e4,me=[z,L,...P,G,R].some(st),[ve,Ae,be,we]=me?[h(D.a),h(D.c),h(D.b),h(D.bp)]:[D.a,D.c,D.b,D.bp],Se=T?B?T:d(T):a(r(L,z),ee),Me=[z],Ie=[P],et=r(be,we),X=0,re=0,xe=w(B),W=S(B);xe(Me[X],L);){var ne=[];Se=W(Me[X],L,Se),ne.push(E(Me[X],Ie[X]));for(var ue=1;ue<Ae.length;++ue)ne.push(E(t(Me[X],i(Ae[ue],Se)),t(Ie[X],i(Se,ve[ue],ne))));var Ne=o(s(u(i(et,ne),Ye=>Nn(Ye)?Ye.value:Ye)));Ne<H&&H/Ne>1/4&&(Me.push(t(Me[X],Se)),Ie.push(t(Ie[X],i(Se,be,ne))),X++);var Ce=.84*(H/Ne)**(1/5);if(p(Ce,U)?Ce=U:f(Ce,fe)&&(Ce=fe),Ce=me?h(Ce):Ce,Se=i(Se,Ce),G&&f(s(Se),G)?Se=B?G:d(G):R&&p(s(Se),R)&&(Se=B?R:d(R)),re++,re>De)throw new Error("Maximum number of iterations reached, try changing options")}return{t:Me,y:Ie}}}function y(D,E,M,P){var O=[[],[.5],[0,.75],[.2222222222222222,.3333333333333333,.4444444444444444]],V=[null,1/2,3/4,1],z=[2/9,1/3,4/9,0],L=[7/24,1/4,1/3,1/8],B={a:O,c:V,b:z,bp:L};return v(B)(D,E,M,P)}function _(D,E,M,P){var O=[[],[.2],[.075,.225],[.9777777777777777,-3.7333333333333334,3.5555555555555554],[2.9525986892242035,-11.595793324188385,9.822892851699436,-.2908093278463649],[2.8462752525252526,-10.757575757575758,8.906422717743473,.2784090909090909,-.2735313036020583],[.09114583333333333,0,.44923629829290207,.6510416666666666,-.322376179245283,.13095238095238096]],V=[null,1/5,3/10,4/5,8/9,1,1],z=[35/384,0,500/1113,125/192,-2187/6784,11/84,0],L=[5179/57600,0,7571/16695,393/640,-92097/339200,187/2100,1/40],B={a:O,c:V,b:z,bp:L};return v(B)(D,E,M,P)}function b(D,E,M,P){var O=P.method?P.method:"RK45",V={RK23:y,RK45:_};if(O.toUpperCase()in V){var z=rZ({},P);return delete z.method,V[O.toUpperCase()](D,E,M,z)}else{var L=Object.keys(V).map(T=>'"'.concat(T,'"')),B="".concat(L.slice(0,-1).join(", ")," and ").concat(L.slice(-1));throw new Error('Unavailable method "'.concat(O,'". Available methods are ').concat(B))}}function w(D){return D?p:f}function S(D){var E=D?f:p;return function(M,P,O){var V=t(M,O);return E(V,P)?r(P,M):O}}function x(D){return st(D)||yt(D)}function N(D,E,M,P){var O=b(D,E.toArray(),M.toArray(),P);return{t:m(O.t),y:m(O.y)}}return e("solveODE",{"function, Array, Array, Object":b,"function, Matrix, Matrix, Object":N,"function, Array, Array":(D,E,M)=>b(D,E,M,{}),"function, Matrix, Matrix":(D,E,M)=>N(D,E,M,{}),"function, Array, number | BigNumber | Unit":(D,E,M)=>{var P=b(D,E,[M],{});return{t:P.t,y:P.y.map(O=>O[0])}},"function, Matrix, number | BigNumber | Unit":(D,E,M)=>{var P=b(D,E.toArray(),[M],{});return{t:m(P.t),y:m(P.y.map(O=>O[0]))}},"function, Array, number | BigNumber | Unit, Object":(D,E,M,P)=>{var O=b(D,E,[M],P);return{t:O.t,y:O.y.map(V=>V[0])}},"function, Matrix, number | BigNumber | Unit, Object":(D,E,M,P)=>{var O=b(D,E.toArray(),[M],P);return{t:m(O.t),y:m(O.y.map(V=>V[0]))}}})});var aZ="erf",oZ=["typed"],Ub=C(aZ,oZ,n=>{var{typed:e}=n;return e("name",{number:function(o){var u=Math.abs(o);return u>=lZ?Zi(o):u<=sZ?Zi(o)*t(u):u<=4?Zi(o)*(1-r(u)):Zi(o)*(1-i(u))},"Array | Matrix":e.referToSelf(a=>o=>at(o,a))});function t(a){var o=a*a,u=mo[0][4]*o,s=o,l;for(l=0;l<3;l+=1)u=(u+mo[0][l])*o,s=(s+il[0][l])*o;return a*(u+mo[0][3])/(s+il[0][3])}function r(a){var o=mo[1][8]*a,u=a,s;for(s=0;s<7;s+=1)o=(o+mo[1][s])*a,u=(u+il[1][s])*a;var l=(o+mo[1][7])/(u+il[1][7]),c=parseInt(a*16)/16,f=(a-c)*(a+c);return Math.exp(-c*c)*Math.exp(-f)*l}function i(a){var o=1/(a*a),u=mo[2][5]*o,s=o,l;for(l=0;l<4;l+=1)u=(u+mo[2][l])*o,s=(s+il[2][l])*o;var c=o*(u+mo[2][4])/(s+il[2][4]);c=(uZ-c)/a,o=parseInt(a*16)/16;var f=(a-o)*(a+o);return Math.exp(-o*o)*Math.exp(-f)*c}}),sZ=.46875,uZ=.5641895835477563,mo=[[3.1611237438705655,113.86415415105016,377.485237685302,3209.3775891384694,.18577770618460315],[.5641884969886701,8.883149794388377,66.11919063714163,298.6351381974001,881.952221241769,1712.0476126340707,2051.0783778260716,1230.3393547979972,21531153547440383e-24],[.30532663496123236,.36034489994980445,.12578172611122926,.016083785148742275,.0006587491615298378,.016315387137302097]],il=[[23.601290952344122,244.02463793444417,1282.6165260773723,2844.236833439171],[15.744926110709835,117.6939508913125,537.1811018620099,1621.3895745666903,3290.7992357334597,4362.619090143247,3439.3676741437216,1230.3393548037495],[2.568520192289822,1.8729528499234604,.5279051029514285,.06051834131244132,.0023352049762686918]],lZ=Math.pow(2,53);var c2="zeta",cZ=["typed","config","multiply","pow","divide","factorial","equal","smallerEq","isNegative","gamma","sin","subtract","add","?Complex","?BigNumber","pi"],qb=C(c2,cZ,n=>{var{typed:e,config:t,multiply:r,pow:i,divide:a,factorial:o,equal:u,smallerEq:s,isNegative:l,gamma:c,sin:f,subtract:p,add:m,Complex:h,BigNumber:d,pi:v}=n;return e(c2,{number:x=>y(x,N=>N,()=>20),BigNumber:x=>y(x,N=>new d(N),()=>Math.abs(Math.log10(t.epsilon))),Complex:_});function y(x,N,D){return u(x,0)?N(-.5):u(x,1)?N(NaN):isFinite(x)?b(x,N,D,E=>E):l(x)?N(NaN):N(1)}function _(x){return x.re===0&&x.im===0?new h(-.5):x.re===1?new h(NaN,NaN):x.re===1/0&&x.im===0?new h(1):x.im===1/0||x.re===-1/0?new h(NaN,NaN):b(x,N=>N,N=>Math.round(1.3*15+.9*Math.abs(N.im)),N=>N.re)}function b(x,N,D,E){var M=D(x);if(E(x)>-(M-1)/2)return S(x,N(M),N);var P=r(i(2,x),i(N(v),p(x,1)));return P=r(P,f(r(a(N(v),2),x))),P=r(P,c(p(1,x))),r(P,b(p(1,x),N,D,E))}function w(x,N){for(var D=x,E=x;s(E,N);E=m(E,1)){var M=a(r(o(m(N,p(E,1))),i(4,E)),r(o(p(N,E)),o(r(2,E))));D=m(D,M)}return r(N,D)}function S(x,N,D){for(var E=a(1,r(w(D(0),N),p(1,i(2,p(1,x))))),M=D(0),P=D(1);s(P,N);P=m(P,1))M=m(M,a(r((-1)**(P-1),w(P,N)),i(P,x)));return r(E,M)}});var f2="mode",fZ=["typed","isNaN","isNumeric"],zb=C(f2,fZ,n=>{var{typed:e,isNaN:t,isNumeric:r}=n;return e(f2,{"Array | Matrix":i,"...":function(o){return i(o)}});function i(a){a=Ct(a.valueOf());var o=a.length;if(o===0)throw new Error("Cannot calculate mode of an empty array");for(var u={},s=[],l=0,c=0;c<a.length;c++){var f=a[c];if(r(f)&&t(f))throw new Error("Cannot calculate mode of an array containing NaN values");f in u||(u[f]=0),u[f]++,u[f]===l?s.push(f):u[f]>l&&(l=u[f],s=[f])}return s}});function jr(n,e,t){var r;return String(n).indexOf("Unexpected type")!==-1?(r=arguments.length>2?" (type: "+Wt(t)+", value: "+JSON.stringify(t)+")":" (type: "+n.data.actual+")",new TypeError("Cannot calculate "+e+", unexpected type of argument"+r)):String(n).indexOf("complex numbers")!==-1?(r=arguments.length>2?" (type: "+Wt(t)+", value: "+JSON.stringify(t)+")":"",new TypeError("Cannot calculate "+e+", no ordering relation is defined for complex numbers"+r)):n}var p2="prod",pZ=["typed","config","multiplyScalar","numeric"],$b=C(p2,pZ,n=>{var{typed:e,config:t,multiplyScalar:r,numeric:i}=n;return e(p2,{"Array | Matrix":a,"Array | Matrix, number | BigNumber":function(u,s){throw new Error("prod(A, dim) is not yet supported")},"...":function(u){return a(u)}});function a(o){var u;if(Hn(o,function(s){try{u=u===void 0?s:r(u,s)}catch(l){throw jr(l,"prod",s)}}),typeof u=="string"&&(u=i(u,t.number)),u===void 0)throw new Error("Cannot calculate prod of an empty array");return u}});var m2="format",mZ=["typed"],Hb=C(m2,mZ,n=>{var{typed:e}=n;return e(m2,{any:xt,"any, Object | function | number | BigNumber":xt})});var d2="bin",dZ=["typed","format"],Gb=C(d2,dZ,n=>{var{typed:e,format:t}=n;return e(d2,{"number | BigNumber":function(i){return t(i,{notation:"bin"})},"number | BigNumber, number | BigNumber":function(i,a){return t(i,{notation:"bin",wordSize:a})}})});var h2="oct",hZ=["typed","format"],Wb=C(h2,hZ,n=>{var{typed:e,format:t}=n;return e(h2,{"number | BigNumber":function(i){return t(i,{notation:"oct"})},"number | BigNumber, number | BigNumber":function(i,a){return t(i,{notation:"oct",wordSize:a})}})});var g2="hex",gZ=["typed","format"],Yb=C(g2,gZ,n=>{var{typed:e,format:t}=n;return e(g2,{"number | BigNumber":function(i){return t(i,{notation:"hex"})},"number | BigNumber, number | BigNumber":function(i,a){return t(i,{notation:"hex",wordSize:a})}})});var Cm=/\$([\w.]+)/g;var v2="print",vZ=["typed"],Fc=C(v2,vZ,n=>{var{typed:e}=n;return e(v2,{"string, Object | Array":y2,"string, Object | Array, number | Object":y2})});function y2(n,e,t){return n.replace(Cm,function(r,i){var a=i.split("."),o=e[a.shift()];for(o!==void 0&&o.isMatrix&&(o=o.toArray());a.length&&o!==void 0;){var u=a.shift();o=u?o[u]:o+"."}return o!==void 0?Wr(o)?o:xt(o,t):r})}var b2="to",yZ=["typed","matrix","concat"],jb=C(b2,yZ,n=>{var{typed:e,matrix:t,concat:r}=n,i=Et({typed:e,matrix:t,concat:r});return e(b2,{"Unit, Unit | string":(a,o)=>a.to(o)},i({Ds:!0}))});var x2="isPrime",bZ=["typed"],Zb=C(x2,bZ,n=>{var{typed:e}=n;return e(x2,{number:function(r){if(r*0!==0)return!1;if(r<=3)return r>1;if(r%2===0||r%3===0)return!1;for(var i=5;i*i<=r;i+=6)if(r%i===0||r%(i+2)===0)return!1;return!0},BigNumber:function(r){if(r.toNumber()*0!==0)return!1;if(r.lte(3))return r.gt(1);if(r.mod(2).eq(0)||r.mod(3).eq(0))return!1;if(r.lt(Math.pow(2,32))){for(var i=r.toNumber(),a=5;a*a<=i;a+=6)if(i%a===0||i%(a+2)===0)return!1;return!0}function o(_,b,w){for(var S=1;!b.eq(0);)b.mod(2).eq(0)?(b=b.div(2),_=_.mul(_).mod(w)):(b=b.sub(1),S=_.mul(S).mod(w));return S}var u=r.constructor.clone({precision:r.toFixed(0).length*2});r=new u(r);for(var s=0,l=r.sub(1);l.mod(2).eq(0);)l=l.div(2),s+=1;var c=null;if(r.lt("3317044064679887385961981"))c=[2,3,5,7,11,13,17,19,23,29,31,37,41].filter(_=>_<r);else{var f=Math.min(r.toNumber()-2,Math.floor(2*Math.pow(r.toFixed(0).length*Math.log(10),2)));c=[];for(var p=2;p<=f;p+=1)c.push(f)}for(var m=0;m<c.length;m+=1){var h=c[m],d=o(r.sub(r).add(h),l,r);if(!d.eq(1)){for(var v=0,y=d;!y.eq(r.sub(1));v+=1,y=y.mul(y).mod(r))if(v===s-1)return!1}}return!0},"Array | Matrix":e.referToSelf(t=>r=>at(r,t))})});var xZ="numeric",wZ=["number","?bignumber","?fraction"],Jb=C(xZ,wZ,n=>{var{number:e,bignumber:t,fraction:r}=n,i={string:!0,number:!0,BigNumber:!0,Fraction:!0},a={number:o=>e(o),BigNumber:t?o=>t(o):nl,Fraction:r?o=>r(o):Mm};return function(u){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"number",l=arguments.length>2?arguments[2]:void 0;if(l!==void 0)throw new SyntaxError("numeric() takes one or two arguments");var c=Wt(u);if(!(c in i))throw new TypeError("Cannot convert "+u+' of type "'+c+'"; valid input types are '+Object.keys(i).join(", "));if(!(s in a))throw new TypeError("Cannot convert "+u+' to type "'+s+'"; valid output types are '+Object.keys(a).join(", "));return s===c?u:a[s](u)}});var w2="divideScalar",_Z=["typed","numeric"],Xb=C(w2,_Z,n=>{var{typed:e,numeric:t}=n;return e(w2,{"number, number":function(i,a){return i/a},"Complex, Complex":function(i,a){return i.div(a)},"BigNumber, BigNumber":function(i,a){return i.div(a)},"Fraction, Fraction":function(i,a){return i.div(a)},"Unit, number | Complex | Fraction | BigNumber | Unit":(r,i)=>r.divide(i),"number | Fraction | Complex | BigNumber, Unit":(r,i)=>i.divideInto(r)})});var _2="pow",SZ=["typed","config","identity","multiply","matrix","inv","fraction","number","Complex"],Qb=C(_2,SZ,n=>{var{typed:e,config:t,identity:r,multiply:i,matrix:a,inv:o,number:u,fraction:s,Complex:l}=n;return e(_2,{"number, number":c,"Complex, Complex":function(h,d){return h.pow(d)},"BigNumber, BigNumber":function(h,d){return d.isInteger()||h>=0||t.predictable?h.pow(d):new l(h.toNumber(),0).pow(d.toNumber(),0)},"Fraction, Fraction":function(h,d){var v=h.pow(d);if(v!=null)return v;if(t.predictable)throw new Error("Result of pow is non-rational and cannot be expressed as a fraction");return c(h.valueOf(),d.valueOf())},"Array, number":f,"Array, BigNumber":function(h,d){return f(h,d.toNumber())},"Matrix, number":p,"Matrix, BigNumber":function(h,d){return p(h,d.toNumber())},"Unit, number | BigNumber":function(h,d){return h.pow(d)}});function c(m,h){if(t.predictable&&!Ke(h)&&m<0)try{var d=s(h),v=u(d);if((h===v||Math.abs((h-v)/h)<1e-14)&&d.d%2===1)return(d.n%2===0?1:-1)*Math.pow(-m,h)}catch(y){}return t.predictable&&(m<-1&&h===1/0||m>-1&&m<0&&h===-1/0)?NaN:Ke(h)||m>=0||t.predictable?Cy(m,h):m*m<1&&h===1/0||m*m>1&&h===-1/0?0:new l(m,0).pow(h,0)}function f(m,h){if(!Ke(h))throw new TypeError("For A^b, b must be an integer (value is "+h+")");var d=vt(m);if(d.length!==2)throw new Error("For A^b, A must be 2 dimensional (A has "+d.length+" dimensions)");if(d[0]!==d[1])throw new Error("For A^b, A must be square (size is "+d[0]+"x"+d[1]+")");if(h<0)try{return f(o(m),-h)}catch(_){throw _.message==="Cannot calculate inverse, determinant is zero"?new TypeError("For A^b, when A is not invertible, b must be a positive integer (value is "+h+")"):_}for(var v=r(d[0]).valueOf(),y=m;h>=1;)(h&1)===1&&(v=i(y,v)),h>>=1,y=i(y,y);return v}function p(m,h){return a(f(m.valueOf(),h))}});var al="Number of decimals in function round must be an integer",S2="round",AZ=["typed","config","matrix","equalScalar","zeros","BigNumber","DenseMatrix"],Kb=C(S2,AZ,n=>{var{typed:e,config:t,matrix:r,equalScalar:i,zeros:a,BigNumber:o,DenseMatrix:u}=n,s=dr({typed:e,equalScalar:i}),l=ir({typed:e,DenseMatrix:u}),c=tn({typed:e});function f(p){return Math.abs(Gu(p).exponent)}return e(S2,{number:function(m){var h=Ku(m,f(t.epsilon)),d=zr(m,h,t.epsilon)?h:m;return Ku(d)},"number, number":function(m,h){var d=f(t.epsilon);if(h>=d)return Ku(m,h);var v=Ku(m,d),y=zr(m,v,t.epsilon)?v:m;return Ku(y,h)},"number, BigNumber":function(m,h){if(!h.isInteger())throw new TypeError(al);return new o(m).toDecimalPlaces(h.toNumber())},Complex:function(m){return m.round()},"Complex, number":function(m,h){if(h%1)throw new TypeError(al);return m.round(h)},"Complex, BigNumber":function(m,h){if(!h.isInteger())throw new TypeError(al);var d=h.toNumber();return m.round(d)},BigNumber:function(m){var h=new o(m).toDecimalPlaces(f(t.epsilon)),d=un(m,h,t.epsilon)?h:m;return d.toDecimalPlaces(0)},"BigNumber, BigNumber":function(m,h){if(!h.isInteger())throw new TypeError(al);var d=f(t.epsilon);if(h>=d)return m.toDecimalPlaces(h.toNumber());var v=m.toDecimalPlaces(d),y=un(m,v,t.epsilon)?v:m;return y.toDecimalPlaces(h.toNumber())},Fraction:function(m){return m.round()},"Fraction, number":function(m,h){if(h%1)throw new TypeError(al);return m.round(h)},"Fraction, BigNumber":function(m,h){if(!h.isInteger())throw new TypeError(al);return m.round(h.toNumber())},"Unit, number, Unit":e.referToSelf(p=>function(m,h,d){var v=m.toNumeric(d);return d.multiply(p(v,h))}),"Unit, BigNumber, Unit":e.referToSelf(p=>(m,h,d)=>p(m,h.toNumber(),d)),"Unit, Unit":e.referToSelf(p=>(m,h)=>p(m,0,h)),"Array | Matrix, number, Unit":e.referToSelf(p=>(m,h,d)=>at(m,v=>p(v,h,d),!0)),"Array | Matrix, BigNumber, Unit":e.referToSelf(p=>(m,h,d)=>p(m,h.toNumber(),d)),"Array | Matrix, Unit":e.referToSelf(p=>(m,h)=>p(m,0,h)),"Array | Matrix":e.referToSelf(p=>m=>at(m,p,!0)),"SparseMatrix, number | BigNumber":e.referToSelf(p=>(m,h)=>s(m,h,p,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(p=>(m,h)=>c(m,h,p,!1)),"Array, number | BigNumber":e.referToSelf(p=>(m,h)=>c(r(m),h,p,!1).valueOf()),"number | Complex | BigNumber | Fraction, SparseMatrix":e.referToSelf(p=>(m,h)=>i(m,0)?a(h.size(),h.storage()):l(h,m,p,!0)),"number | Complex | BigNumber | Fraction, DenseMatrix":e.referToSelf(p=>(m,h)=>i(m,0)?a(h.size(),h.storage()):c(h,m,p,!0)),"number | Complex | BigNumber | Fraction, Array":e.referToSelf(p=>(m,h)=>c(r(h),m,p,!0).valueOf())})});var A2="log",EZ=["config","typed","divideScalar","Complex"],ex=C(A2,EZ,n=>{var{typed:e,config:t,divideScalar:r,Complex:i}=n;return e(A2,{number:function(o){return o>=0||t.predictable?MC(o):new i(o,0).log()},Complex:function(o){return o.log()},BigNumber:function(o){return!o.isNegative()||t.predictable?o.ln():new i(o.toNumber(),0).log()},"any, any":e.referToSelf(a=>(o,u)=>r(a(o),a(u)))})});var E2="log1p",DZ=["typed","config","divideScalar","log","Complex"],tx=C(E2,DZ,n=>{var{typed:e,config:t,divideScalar:r,log:i,Complex:a}=n;return e(E2,{number:function(s){return s>=-1||t.predictable?nm(s):o(new a(s,0))},Complex:o,BigNumber:function(s){var l=s.plus(1);return!l.isNegative()||t.predictable?l.ln():o(new a(s.toNumber(),0))},"Array | Matrix":e.referToSelf(u=>s=>at(s,u)),"any, any":e.referToSelf(u=>(s,l)=>r(u(s),i(l)))});function o(u){var s=u.re+1;return new a(Math.log(Math.sqrt(s*s+u.im*u.im)),Math.atan2(u.im,s))}});var D2="nthRoots",MZ=["config","typed","divideScalar","Complex"],rx=C(D2,MZ,n=>{var{typed:e,config:t,divideScalar:r,Complex:i}=n,a=[function(s){return new i(s,0)},function(s){return new i(0,s)},function(s){return new i(-s,0)},function(s){return new i(0,-s)}];function o(u,s){if(s<0)throw new Error("Root must be greater than zero");if(s===0)throw new Error("Root must be non-zero");if(s%1!==0)throw new Error("Root must be an integer");if(u===0||u.abs()===0)return[new i(0,0)];var l=typeof u=="number",c;(l||u.re===0||u.im===0)&&(l?c=2*+(u<0):u.im===0?c=2*+(u.re<0):c=2*+(u.im<0)+1);for(var f=u.arg(),p=u.abs(),m=[],h=Math.pow(p,1/s),d=0;d<s;d++){var v=(c+4*d)/s;if(v===Math.round(v)){m.push(a[v%4](h));continue}m.push(new i({r:h,phi:(f+2*Math.PI*d)/s}))}return m}return e(D2,{Complex:function(s){return o(s,2)},"Complex, number":o})});var M2="dotPow",NZ=["typed","equalScalar","matrix","pow","DenseMatrix","concat"],nx=C(M2,NZ,n=>{var{typed:e,equalScalar:t,matrix:r,pow:i,DenseMatrix:a,concat:o}=n,u=Nr({typed:e}),s=dn({typed:e,DenseMatrix:a}),l=dr({typed:e,equalScalar:t}),c=ir({typed:e,DenseMatrix:a}),f=Et({typed:e,matrix:r,concat:o}),p={};for(var m in i.signatures)Object.prototype.hasOwnProperty.call(i.signatures,m)&&!m.includes("Matrix")&&!m.includes("Array")&&(p[m]=i.signatures[m]);var h=e(p);return e(M2,f({elop:h,SS:s,DS:u,Ss:l,sS:c}))});var N2="dotDivide",CZ=["typed","matrix","equalScalar","divideScalar","DenseMatrix","concat"],ix=C(N2,CZ,n=>{var{typed:e,matrix:t,equalScalar:r,divideScalar:i,DenseMatrix:a,concat:o}=n,u=rn({typed:e,equalScalar:r}),s=Nr({typed:e}),l=dn({typed:e,DenseMatrix:a}),c=dr({typed:e,equalScalar:r}),f=ir({typed:e,DenseMatrix:a}),p=Et({typed:e,matrix:t,concat:o});return e(N2,p({elop:i,SS:l,DS:s,SD:u,Ss:c,sS:f}))});function La(n){var{DenseMatrix:e}=n;return function(r,i,a){var o=r.size();if(o.length!==2)throw new RangeError("Matrix must be two dimensional (size: "+xt(o)+")");var u=o[0],s=o[1];if(u!==s)throw new RangeError("Matrix must be square (size: "+xt(o)+")");var l=[];if(rt(i)){var c=i.size(),f=i._data;if(c.length===1){if(c[0]!==u)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var p=0;p<u;p++)l[p]=[f[p]];return new e({data:l,size:[u,1],datatype:i._datatype})}if(c.length===2){if(c[0]!==u||c[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");if(Vs(i)){if(a){l=[];for(var m=0;m<u;m++)l[m]=[f[m][0]];return new e({data:l,size:[u,1],datatype:i._datatype})}return i}if(ga(i)){for(var h=0;h<u;h++)l[h]=[0];for(var d=i._values,v=i._index,y=i._ptr,_=y[1],b=y[0];b<_;b++){var w=v[b];l[w][0]=d[b]}return new e({data:l,size:[u,1],datatype:i._datatype})}}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}if(Zt(i)){var S=vt(i);if(S.length===1){if(S[0]!==u)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var x=0;x<u;x++)l[x]=[i[x]];return new e({data:l,size:[u,1]})}if(S.length===2){if(S[0]!==u||S[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var N=0;N<u;N++)l[N]=[i[N][0]];return new e({data:l,size:[u,1]})}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}}}var C2="lsolve",TZ=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],ax=C(C2,TZ,n=>{var{typed:e,matrix:t,divideScalar:r,multiplyScalar:i,subtractScalar:a,equalScalar:o,DenseMatrix:u}=n,s=La({DenseMatrix:u});return e(C2,{"SparseMatrix, Array | Matrix":function(p,m){return c(p,m)},"DenseMatrix, Array | Matrix":function(p,m){return l(p,m)},"Array, Array | Matrix":function(p,m){var h=t(p),d=l(h,m);return d.valueOf()}});function l(f,p){p=s(f,p,!0);for(var m=p._data,h=f._size[0],d=f._size[1],v=[],y=f._data,_=0;_<d;_++){var b=m[_][0]||0,w=void 0;if(o(b,0))w=0;else{var S=y[_][_];if(o(S,0))throw new Error("Linear system cannot be solved since matrix is singular");w=r(b,S);for(var x=_+1;x<h;x++)m[x]=[a(m[x][0]||0,i(w,y[x][_]))]}v[_]=[w]}return new u({data:v,size:[h,1]})}function c(f,p){p=s(f,p,!0);for(var m=p._data,h=f._size[0],d=f._size[1],v=f._values,y=f._index,_=f._ptr,b=[],w=0;w<d;w++){var S=m[w][0]||0;if(o(S,0))b[w]=[0];else{for(var x=0,N=[],D=[],E=_[w],M=_[w+1],P=E;P<M;P++){var O=y[P];O===w?x=v[P]:O>w&&(N.push(v[P]),D.push(O))}if(o(x,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var V=r(S,x),z=0,L=D.length;z<L;z++){var B=D[z];m[B]=[a(m[B][0]||0,i(V,N[z]))]}b[w]=[V]}}return new u({data:b,size:[h,1]})}});var T2="usolve",FZ=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],ox=C(T2,FZ,n=>{var{typed:e,matrix:t,divideScalar:r,multiplyScalar:i,subtractScalar:a,equalScalar:o,DenseMatrix:u}=n,s=La({DenseMatrix:u});return e(T2,{"SparseMatrix, Array | Matrix":function(p,m){return c(p,m)},"DenseMatrix, Array | Matrix":function(p,m){return l(p,m)},"Array, Array | Matrix":function(p,m){var h=t(p),d=l(h,m);return d.valueOf()}});function l(f,p){p=s(f,p,!0);for(var m=p._data,h=f._size[0],d=f._size[1],v=[],y=f._data,_=d-1;_>=0;_--){var b=m[_][0]||0,w=void 0;if(o(b,0))w=0;else{var S=y[_][_];if(o(S,0))throw new Error("Linear system cannot be solved since matrix is singular");w=r(b,S);for(var x=_-1;x>=0;x--)m[x]=[a(m[x][0]||0,i(w,y[x][_]))]}v[_]=[w]}return new u({data:v,size:[h,1]})}function c(f,p){p=s(f,p,!0);for(var m=p._data,h=f._size[0],d=f._size[1],v=f._values,y=f._index,_=f._ptr,b=[],w=d-1;w>=0;w--){var S=m[w][0]||0;if(o(S,0))b[w]=[0];else{for(var x=0,N=[],D=[],E=_[w],M=_[w+1],P=M-1;P>=E;P--){var O=y[P];O===w?x=v[P]:O<w&&(N.push(v[P]),D.push(O))}if(o(x,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var V=r(S,x),z=0,L=D.length;z<L;z++){var B=D[z];m[B]=[a(m[B][0],i(V,N[z]))]}b[w]=[V]}}return new u({data:b,size:[h,1]})}});var F2="lsolveAll",IZ=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],sx=C(F2,IZ,n=>{var{typed:e,matrix:t,divideScalar:r,multiplyScalar:i,subtractScalar:a,equalScalar:o,DenseMatrix:u}=n,s=La({DenseMatrix:u});return e(F2,{"SparseMatrix, Array | Matrix":function(p,m){return c(p,m)},"DenseMatrix, Array | Matrix":function(p,m){return l(p,m)},"Array, Array | Matrix":function(p,m){var h=t(p),d=l(h,m);return d.map(v=>v.valueOf())}});function l(f,p){for(var m=[s(f,p,!0)._data.map(D=>D[0])],h=f._data,d=f._size[0],v=f._size[1],y=0;y<v;y++)for(var _=m.length,b=0;b<_;b++){var w=m[b];if(o(h[y][y],0))if(o(w[y],0)){if(b===0){var x=[...w];x[y]=1;for(var N=y+1;N<v;N++)x[N]=a(x[N],h[N][y]);m.push(x)}}else{if(b===0)return[];m.splice(b,1),b-=1,_-=1}else{w[y]=r(w[y],h[y][y]);for(var S=y+1;S<v;S++)w[S]=a(w[S],i(w[y],h[S][y]))}}return m.map(D=>new u({data:D.map(E=>[E]),size:[d,1]}))}function c(f,p){for(var m=[s(f,p,!0)._data.map(ee=>ee[0])],h=f._size[0],d=f._size[1],v=f._values,y=f._index,_=f._ptr,b=0;b<d;b++)for(var w=m.length,S=0;S<w;S++){for(var x=m[S],N=[],D=[],E=_[b],M=_[b+1],P=0,O=E;O<M;O++){var V=y[O];V===b?P=v[O]:V>b&&(N.push(v[O]),D.push(V))}if(o(P,0))if(o(x[b],0)){if(S===0){var T=[...x];T[b]=1;for(var G=0,R=D.length;G<R;G++){var oe=D[G];T[oe]=a(T[oe],N[G])}m.push(T)}}else{if(S===0)return[];m.splice(S,1),S-=1,w-=1}else{x[b]=r(x[b],P);for(var z=0,L=D.length;z<L;z++){var B=D[z];x[B]=a(x[B],i(x[b],N[z]))}}}return m.map(ee=>new u({data:ee.map(H=>[H]),size:[h,1]}))}});var I2="usolveAll",PZ=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],ux=C(I2,PZ,n=>{var{typed:e,matrix:t,divideScalar:r,multiplyScalar:i,subtractScalar:a,equalScalar:o,DenseMatrix:u}=n,s=La({DenseMatrix:u});return e(I2,{"SparseMatrix, Array | Matrix":function(p,m){return c(p,m)},"DenseMatrix, Array | Matrix":function(p,m){return l(p,m)},"Array, Array | Matrix":function(p,m){var h=t(p),d=l(h,m);return d.map(v=>v.valueOf())}});function l(f,p){for(var m=[s(f,p,!0)._data.map(D=>D[0])],h=f._data,d=f._size[0],v=f._size[1],y=v-1;y>=0;y--)for(var _=m.length,b=0;b<_;b++){var w=m[b];if(o(h[y][y],0))if(o(w[y],0)){if(b===0){var x=[...w];x[y]=1;for(var N=y-1;N>=0;N--)x[N]=a(x[N],h[N][y]);m.push(x)}}else{if(b===0)return[];m.splice(b,1),b-=1,_-=1}else{w[y]=r(w[y],h[y][y]);for(var S=y-1;S>=0;S--)w[S]=a(w[S],i(w[y],h[S][y]))}}return m.map(D=>new u({data:D.map(E=>[E]),size:[d,1]}))}function c(f,p){for(var m=[s(f,p,!0)._data.map(ee=>ee[0])],h=f._size[0],d=f._size[1],v=f._values,y=f._index,_=f._ptr,b=d-1;b>=0;b--)for(var w=m.length,S=0;S<w;S++){for(var x=m[S],N=[],D=[],E=_[b],M=_[b+1],P=0,O=M-1;O>=E;O--){var V=y[O];V===b?P=v[O]:V<b&&(N.push(v[O]),D.push(V))}if(o(P,0))if(o(x[b],0)){if(S===0){var T=[...x];T[b]=1;for(var G=0,R=D.length;G<R;G++){var oe=D[G];T[oe]=a(T[oe],N[G])}m.push(T)}}else{if(S===0)return[];m.splice(S,1),S-=1,w-=1}else{x[b]=r(x[b],P);for(var z=0,L=D.length;z<L;z++){var B=D[z];x[B]=a(x[B],i(x[b],N[z]))}}}return m.map(ee=>new u({data:ee.map(H=>[H]),size:[h,1]}))}});var BZ="matAlgo08xS0Sid",OZ=["typed","equalScalar"],ol=C(BZ,OZ,n=>{var{typed:e,equalScalar:t}=n;return function(i,a,o){var u=i._values,s=i._index,l=i._ptr,c=i._size,f=i._datatype||i._data===void 0?i._datatype:i.getDataType(),p=a._values,m=a._index,h=a._ptr,d=a._size,v=a._datatype||a._data===void 0?a._datatype:a.getDataType();if(c.length!==d.length)throw new _t(c.length,d.length);if(c[0]!==d[0]||c[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+d+")");if(!u||!p)throw new Error("Cannot perform operation on Pattern Sparse Matrices");var y=c[0],_=c[1],b,w=t,S=0,x=o;typeof f=="string"&&f===v&&f!=="mixed"&&(b=f,w=e.find(t,[b,b]),S=e.convert(0,b),x=e.find(o,[b,b]));for(var N=[],D=[],E=[],M=[],P=[],O,V,z,L,B=0;B<_;B++){E[B]=D.length;var T=B+1;for(V=l[B],z=l[B+1],O=V;O<z;O++)L=s[O],P[L]=T,M[L]=u[O],D.push(L);for(V=h[B],z=h[B+1],O=V;O<z;O++)L=m[O],P[L]===T&&(M[L]=x(M[L],p[O]));for(O=E[B];O<D.length;){L=D[O];var G=M[L];w(G,S)?D.splice(O,1):(N.push(G),O++)}}return E[_]=D.length,i.createSparseMatrix({values:N,index:D,ptr:E,size:[y,_],datatype:f===i._datatype&&v===a._datatype?b:void 0})}});var sl=C("useMatrixForArrayScalar",["typed","matrix"],n=>{var{typed:e,matrix:t}=n;return{"Array, number":e.referTo("DenseMatrix, number",r=>(i,a)=>r(t(i),a).valueOf()),"Array, BigNumber":e.referTo("DenseMatrix, BigNumber",r=>(i,a)=>r(t(i),a).valueOf()),"number, Array":e.referTo("number, DenseMatrix",r=>(i,a)=>r(i,t(a)).valueOf()),"BigNumber, Array":e.referTo("BigNumber, DenseMatrix",r=>(i,a)=>r(i,t(a)).valueOf())}});var P2="leftShift",kZ=["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],lx=C(P2,kZ,n=>{var{typed:e,matrix:t,equalScalar:r,zeros:i,DenseMatrix:a,concat:o}=n,u=Gn({typed:e}),s=rn({typed:e,equalScalar:r}),l=ol({typed:e,equalScalar:r}),c=di({typed:e,DenseMatrix:a}),f=dr({typed:e,equalScalar:r}),p=tn({typed:e}),m=Et({typed:e,matrix:t,concat:o}),h=sl({typed:e,matrix:t});return e(P2,{"number, number":By,"BigNumber, BigNumber":ST,"SparseMatrix, number | BigNumber":e.referToSelf(d=>(v,y)=>r(y,0)?v.clone():f(v,y,d,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(d=>(v,y)=>r(y,0)?v.clone():p(v,y,d,!1)),"number | BigNumber, SparseMatrix":e.referToSelf(d=>(v,y)=>r(v,0)?i(y.size(),y.storage()):c(y,v,d,!0)),"number | BigNumber, DenseMatrix":e.referToSelf(d=>(v,y)=>r(v,0)?i(y.size(),y.storage()):p(y,v,d,!0))},h,m({SS:l,DS:u,SD:s}))});var B2="rightArithShift",RZ=["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],cx=C(B2,RZ,n=>{var{typed:e,matrix:t,equalScalar:r,zeros:i,DenseMatrix:a,concat:o}=n,u=Gn({typed:e}),s=rn({typed:e,equalScalar:r}),l=ol({typed:e,equalScalar:r}),c=di({typed:e,DenseMatrix:a}),f=dr({typed:e,equalScalar:r}),p=tn({typed:e}),m=Et({typed:e,matrix:t,concat:o}),h=sl({typed:e,matrix:t});return e(B2,{"number, number":Oy,"BigNumber, BigNumber":AT,"SparseMatrix, number | BigNumber":e.referToSelf(d=>(v,y)=>r(y,0)?v.clone():f(v,y,d,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(d=>(v,y)=>r(y,0)?v.clone():p(v,y,d,!1)),"number | BigNumber, SparseMatrix":e.referToSelf(d=>(v,y)=>r(v,0)?i(y.size(),y.storage()):c(y,v,d,!0)),"number | BigNumber, DenseMatrix":e.referToSelf(d=>(v,y)=>r(v,0)?i(y.size(),y.storage()):p(y,v,d,!0))},h,m({SS:l,DS:u,SD:s}))});var O2="rightLogShift",LZ=["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],fx=C(O2,LZ,n=>{var{typed:e,matrix:t,equalScalar:r,zeros:i,DenseMatrix:a,concat:o}=n,u=Gn({typed:e}),s=rn({typed:e,equalScalar:r}),l=ol({typed:e,equalScalar:r}),c=di({typed:e,DenseMatrix:a}),f=dr({typed:e,equalScalar:r}),p=tn({typed:e}),m=Et({typed:e,matrix:t,concat:o}),h=sl({typed:e,matrix:t});return e(O2,{"number, number":ky,"SparseMatrix, number | BigNumber":e.referToSelf(d=>(v,y)=>r(y,0)?v.clone():f(v,y,d,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(d=>(v,y)=>r(y,0)?v.clone():p(v,y,d,!1)),"number | BigNumber, SparseMatrix":e.referToSelf(d=>(v,y)=>r(v,0)?i(y.size(),y.storage()):c(y,v,d,!0)),"number | BigNumber, DenseMatrix":e.referToSelf(d=>(v,y)=>r(v,0)?i(y.size(),y.storage()):p(y,v,d,!0))},h,m({SS:l,DS:u,SD:s}))});var k2="and",VZ=["typed","matrix","equalScalar","zeros","not","concat"],Ic=C(k2,VZ,n=>{var{typed:e,matrix:t,equalScalar:r,zeros:i,not:a,concat:o}=n,u=rn({typed:e,equalScalar:r}),s=Ko({typed:e,equalScalar:r}),l=dr({typed:e,equalScalar:r}),c=tn({typed:e}),f=Et({typed:e,matrix:t,concat:o});return e(k2,{"number, number":zy,"Complex, Complex":function(m,h){return(m.re!==0||m.im!==0)&&(h.re!==0||h.im!==0)},"BigNumber, BigNumber":function(m,h){return!m.isZero()&&!h.isZero()&&!m.isNaN()&&!h.isNaN()},"Unit, Unit":e.referToSelf(p=>(m,h)=>p(m.value||0,h.value||0)),"SparseMatrix, any":e.referToSelf(p=>(m,h)=>a(h)?i(m.size(),m.storage()):l(m,h,p,!1)),"DenseMatrix, any":e.referToSelf(p=>(m,h)=>a(h)?i(m.size(),m.storage()):c(m,h,p,!1)),"any, SparseMatrix":e.referToSelf(p=>(m,h)=>a(m)?i(m.size(),m.storage()):l(h,m,p,!0)),"any, DenseMatrix":e.referToSelf(p=>(m,h)=>a(m)?i(m.size(),m.storage()):c(h,m,p,!0)),"Array, any":e.referToSelf(p=>(m,h)=>p(t(m),h).valueOf()),"any, Array":e.referToSelf(p=>(m,h)=>p(m,t(h)).valueOf())},f({SS:s,DS:u}))});var Tm="compare",UZ=["typed","config","matrix","equalScalar","BigNumber","Fraction","DenseMatrix","concat"],px=C(Tm,UZ,n=>{var{typed:e,config:t,equalScalar:r,matrix:i,BigNumber:a,Fraction:o,DenseMatrix:u,concat:s}=n,l=Nr({typed:e}),c=Qo({typed:e,equalScalar:r}),f=ir({typed:e,DenseMatrix:u}),p=Et({typed:e,matrix:i,concat:s}),m=Xi({typed:e});return e(Tm,qZ({typed:e,config:t}),{"boolean, boolean":function(d,v){return d===v?0:d>v?1:-1},"BigNumber, BigNumber":function(d,v){return un(d,v,t.epsilon)?new a(0):new a(d.cmp(v))},"Fraction, Fraction":function(d,v){return new o(d.compare(v))},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},m,p({SS:c,DS:l,Ss:f}))}),qZ=C(Tm,["typed","config"],n=>{var{typed:e,config:t}=n;return e(Tm,{"number, number":function(i,a){return zr(i,a,t.epsilon)?0:i>a?1:-1}})});var Ys=hr(L2(),1);var V2="compareNatural",zZ=["typed","compare"],mx=C(V2,zZ,n=>{var{typed:e,compare:t}=n,r=t.signatures["boolean,boolean"];return e(V2,{"any, any":i});function i(s,l){var c=Wt(s),f=Wt(l),p;if((c==="number"||c==="BigNumber"||c==="Fraction")&&(f==="number"||f==="BigNumber"||f==="Fraction"))return p=t(s,l),p.toString()!=="0"?p>0?1:-1:(0,Ys.default)(c,f);var m=["Array","DenseMatrix","SparseMatrix"];if(m.includes(c)||m.includes(f))return p=a(i,s,l),p!==0?p:(0,Ys.default)(c,f);if(c!==f)return(0,Ys.default)(c,f);if(c==="Complex")return $Z(s,l);if(c==="Unit")return s.equalBase(l)?i(s.value,l.value):o(i,s.formatUnits(),l.formatUnits());if(c==="boolean")return r(s,l);if(c==="string")return(0,Ys.default)(s,l);if(c==="Object")return u(i,s,l);if(c==="null"||c==="undefined")return 0;throw new TypeError('Unsupported type of value "'+c+'"')}function a(s,l,c){return ga(l)&&ga(c)?o(s,l.toJSON().values,c.toJSON().values):ga(l)?a(s,l.toArray(),c):ga(c)?a(s,l,c.toArray()):Vs(l)?a(s,l.toJSON().data,c):Vs(c)?a(s,l,c.toJSON().data):Array.isArray(l)?Array.isArray(c)?o(s,l,c):a(s,l,[c]):a(s,[l],c)}function o(s,l,c){for(var f=0,p=Math.min(l.length,c.length);f<p;f++){var m=s(l[f],c[f]);if(m!==0)return m}return l.length>c.length?1:l.length<c.length?-1:0}function u(s,l,c){var f=Object.keys(l),p=Object.keys(c);f.sort(Ys.default),p.sort(Ys.default);var m=o(s,f,p);if(m!==0)return m;for(var h=0;h<f.length;h++){var d=s(l[f[h]],c[p[h]]);if(d!==0)return d}return 0}});function $Z(n,e){return n.re>e.re?1:n.re<e.re?-1:n.im>e.im?1:n.im<e.im?-1:0}var U2="compareText",HZ=["typed","matrix","concat"];sm.signature="any, any";var dx=C(U2,HZ,n=>{var{typed:e,matrix:t,concat:r}=n,i=Et({typed:e,matrix:t,concat:r});return e(U2,sm,i({elop:sm,Ds:!0}))});var Fm="equal",GZ=["typed","matrix","equalScalar","DenseMatrix","concat"],hx=C(Fm,GZ,n=>{var{typed:e,matrix:t,equalScalar:r,DenseMatrix:i,concat:a}=n,o=Nr({typed:e}),u=dn({typed:e,DenseMatrix:i}),s=ir({typed:e,DenseMatrix:i}),l=Et({typed:e,matrix:t,concat:a});return e(Fm,WZ({typed:e,equalScalar:r}),l({elop:r,SS:u,DS:o,Ss:s}))}),WZ=C(Fm,["typed","equalScalar"],n=>{var{typed:e,equalScalar:t}=n;return e(Fm,{"any, any":function(i,a){return i===null?a===null:a===null?i===null:i===void 0?a===void 0:a===void 0?i===void 0:t(i,a)}})});var q2="equalText",YZ=["typed","compareText","isZero"],gx=C(q2,YZ,n=>{var{typed:e,compareText:t,isZero:r}=n;return e(q2,{"any, any":function(a,o){return r(t(a,o))}})});var Im="smaller",jZ=["typed","config","matrix","DenseMatrix","concat"],vx=C(Im,jZ,n=>{var{typed:e,config:t,matrix:r,DenseMatrix:i,concat:a}=n,o=Nr({typed:e}),u=dn({typed:e,DenseMatrix:i}),s=ir({typed:e,DenseMatrix:i}),l=Et({typed:e,matrix:r,concat:a}),c=Xi({typed:e});return e(Im,ZZ({typed:e,config:t}),{"boolean, boolean":(f,p)=>f<p,"BigNumber, BigNumber":function(p,m){return p.lt(m)&&!un(p,m,t.epsilon)},"Fraction, Fraction":(f,p)=>f.compare(p)===-1,"Complex, Complex":function(p,m){throw new TypeError("No ordering relation is defined for complex numbers")}},c,l({SS:u,DS:o,Ss:s}))}),ZZ=C(Im,["typed","config"],n=>{var{typed:e,config:t}=n;return e(Im,{"number, number":function(i,a){return i<a&&!zr(i,a,t.epsilon)}})});var Pm="smallerEq",JZ=["typed","config","matrix","DenseMatrix","concat"],yx=C(Pm,JZ,n=>{var{typed:e,config:t,matrix:r,DenseMatrix:i,concat:a}=n,o=Nr({typed:e}),u=dn({typed:e,DenseMatrix:i}),s=ir({typed:e,DenseMatrix:i}),l=Et({typed:e,matrix:r,concat:a}),c=Xi({typed:e});return e(Pm,XZ({typed:e,config:t}),{"boolean, boolean":(f,p)=>f<=p,"BigNumber, BigNumber":function(p,m){return p.lte(m)||un(p,m,t.epsilon)},"Fraction, Fraction":(f,p)=>f.compare(p)!==1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},c,l({SS:u,DS:o,Ss:s}))}),XZ=C(Pm,["typed","config"],n=>{var{typed:e,config:t}=n;return e(Pm,{"number, number":function(i,a){return i<=a||zr(i,a,t.epsilon)}})});var Bm="larger",QZ=["typed","config","matrix","DenseMatrix","concat"],bx=C(Bm,QZ,n=>{var{typed:e,config:t,matrix:r,DenseMatrix:i,concat:a}=n,o=Nr({typed:e}),u=dn({typed:e,DenseMatrix:i}),s=ir({typed:e,DenseMatrix:i}),l=Et({typed:e,matrix:r,concat:a}),c=Xi({typed:e});return e(Bm,KZ({typed:e,config:t}),{"boolean, boolean":(f,p)=>f>p,"BigNumber, BigNumber":function(p,m){return p.gt(m)&&!un(p,m,t.epsilon)},"Fraction, Fraction":(f,p)=>f.compare(p)===1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},c,l({SS:u,DS:o,Ss:s}))}),KZ=C(Bm,["typed","config"],n=>{var{typed:e,config:t}=n;return e(Bm,{"number, number":function(i,a){return i>a&&!zr(i,a,t.epsilon)}})});var Om="largerEq",eJ=["typed","config","matrix","DenseMatrix","concat"],xx=C(Om,eJ,n=>{var{typed:e,config:t,matrix:r,DenseMatrix:i,concat:a}=n,o=Nr({typed:e}),u=dn({typed:e,DenseMatrix:i}),s=ir({typed:e,DenseMatrix:i}),l=Et({typed:e,matrix:r,concat:a}),c=Xi({typed:e});return e(Om,tJ({typed:e,config:t}),{"boolean, boolean":(f,p)=>f>=p,"BigNumber, BigNumber":function(p,m){return p.gte(m)||un(p,m,t.epsilon)},"Fraction, Fraction":(f,p)=>f.compare(p)!==-1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},c,l({SS:u,DS:o,Ss:s}))}),tJ=C(Om,["typed","config"],n=>{var{typed:e,config:t}=n;return e(Om,{"number, number":function(i,a){return i>=a||zr(i,a,t.epsilon)}})});var z2="deepEqual",rJ=["typed","equal"],wx=C(z2,rJ,n=>{var{typed:e,equal:t}=n;return e(z2,{"any, any":function(a,o){return r(a.valueOf(),o.valueOf())}});function r(i,a){if(Array.isArray(i))if(Array.isArray(a)){var o=i.length;if(o!==a.length)return!1;for(var u=0;u<o;u++)if(!r(i[u],a[u]))return!1;return!0}else return!1;else return Array.isArray(a)?!1:t(i,a)}});var km="unequal",nJ=["typed","config","equalScalar","matrix","DenseMatrix","concat"],_x=C(km,nJ,n=>{var{typed:e,config:t,equalScalar:r,matrix:i,DenseMatrix:a,concat:o}=n,u=Nr({typed:e}),s=dn({typed:e,DenseMatrix:a}),l=ir({typed:e,DenseMatrix:a}),c=Et({typed:e,matrix:i,concat:o});return e(km,iJ({typed:e,equalScalar:r}),c({elop:f,SS:s,DS:u,Ss:l}));function f(p,m){return!r(p,m)}}),iJ=C(km,["typed","equalScalar"],n=>{var{typed:e,equalScalar:t}=n;return e(km,{"any, any":function(i,a){return i===null?a!==null:a===null?i!==null:i===void 0?a!==void 0:a===void 0?i!==void 0:!t(i,a)}})});var $2="partitionSelect",aJ=["typed","isNumeric","isNaN","compare"],Sx=C($2,aJ,n=>{var{typed:e,isNumeric:t,isNaN:r,compare:i}=n,a=i,o=(l,c)=>-i(l,c);return e($2,{"Array | Matrix, number":function(c,f){return u(c,f,a)},"Array | Matrix, number, string":function(c,f,p){if(p==="asc")return u(c,f,a);if(p==="desc")return u(c,f,o);throw new Error('Compare string must be "asc" or "desc"')},"Array | Matrix, number, function":u});function u(l,c,f){if(!Ke(c)||c<0)throw new Error("k must be a non-negative integer");if(rt(l)){var p=l.size();if(p.length>1)throw new Error("Only one dimensional matrices supported");return s(l.valueOf(),c,f)}if(Array.isArray(l))return s(l,c,f)}function s(l,c,f){if(c>=l.length)throw new Error("k out of bounds");for(var p=0;p<l.length;p++)if(t(l[p])&&r(l[p]))return l[p];for(var m=0,h=l.length-1;m<h;){for(var d=m,v=h,y=l[Math.floor(Math.random()*(h-m+1))+m];d<v;)if(f(l[d],y)>=0){var _=l[v];l[v]=l[d],l[d]=_,--v}else++d;f(l[d],y)>0&&--d,c<=d?h=d:m=d+1}return l[c]}});var H2="sort",oJ=["typed","matrix","compare","compareNatural"],Ax=C(H2,oJ,n=>{var{typed:e,matrix:t,compare:r,compareNatural:i}=n,a=r,o=(c,f)=>-r(c,f);return e(H2,{Array:function(f){return s(f),f.sort(a)},Matrix:function(f){return l(f),t(f.toArray().sort(a),f.storage())},"Array, function":function(f,p){return s(f),f.sort(p)},"Matrix, function":function(f,p){return l(f),t(f.toArray().sort(p),f.storage())},"Array, string":function(f,p){return s(f),f.sort(u(p))},"Matrix, string":function(f,p){return l(f),t(f.toArray().sort(u(p)),f.storage())}});function u(c){if(c==="asc")return a;if(c==="desc")return o;if(c==="natural")return i;throw new Error('String "asc", "desc", or "natural" expected')}function s(c){if(vt(c).length!==1)throw new Error("One dimensional array expected")}function l(c){if(c.size().length!==1)throw new Error("One dimensional matrix expected")}});var G2="max",sJ=["typed","config","numeric","larger"],Pc=C(G2,sJ,n=>{var{typed:e,config:t,numeric:r,larger:i}=n;return e(G2,{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(s,l){return Xo(s,l.valueOf(),a)},"...":function(s){if(Ji(s))throw new TypeError("Scalar values expected in function max");return o(s)}});function a(u,s){try{return i(u,s)?u:s}catch(l){throw jr(l,"max",s)}}function o(u){var s;if(Hn(u,function(l){try{isNaN(l)&&typeof l=="number"?s=NaN:(s===void 0||i(l,s))&&(s=l)}catch(c){throw jr(c,"max",l)}}),s===void 0)throw new Error("Cannot calculate max of an empty array");return typeof s=="string"&&(s=r(s,t.number)),s}});var W2="min",uJ=["typed","config","numeric","smaller"],Bc=C(W2,uJ,n=>{var{typed:e,config:t,numeric:r,smaller:i}=n;return e(W2,{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(s,l){return Xo(s,l.valueOf(),a)},"...":function(s){if(Ji(s))throw new TypeError("Scalar values expected in function min");return o(s)}});function a(u,s){try{return i(u,s)?u:s}catch(l){throw jr(l,"min",s)}}function o(u){var s;if(Hn(u,function(l){try{isNaN(l)&&typeof l=="number"?s=NaN:(s===void 0||i(l,s))&&(s=l)}catch(c){throw jr(c,"min",l)}}),s===void 0)throw new Error("Cannot calculate min of an empty array");return typeof s=="string"&&(s=r(s,t.number)),s}});var lJ="ImmutableDenseMatrix",cJ=["smaller","DenseMatrix"],Ex=C(lJ,cJ,n=>{var{smaller:e,DenseMatrix:t}=n;function r(i,a){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(a&&!Wr(a))throw new Error("Invalid datatype: "+a);if(rt(i)||Zt(i)){var o=new t(i,a);this._data=o._data,this._size=o._size,this._datatype=o._datatype,this._min=null,this._max=null}else if(i&&Zt(i.data)&&Zt(i.size))this._data=i.data,this._size=i.size,this._datatype=i.datatype,this._min=typeof i.min!="undefined"?i.min:null,this._max=typeof i.max!="undefined"?i.max:null;else{if(i)throw new TypeError("Unsupported type of data ("+Wt(i)+")");this._data=[],this._size=[0],this._datatype=a,this._min=null,this._max=null}}return r.prototype=new t,r.prototype.type="ImmutableDenseMatrix",r.prototype.isImmutableDenseMatrix=!0,r.prototype.subset=function(i){switch(arguments.length){case 1:{var a=t.prototype.subset.call(this,i);return rt(a)?new r({data:a._data,size:a._size,datatype:a._datatype}):a}case 2:case 3:throw new Error("Cannot invoke set subset on an Immutable Matrix instance");default:throw new SyntaxError("Wrong number of arguments")}},r.prototype.set=function(){throw new Error("Cannot invoke set on an Immutable Matrix instance")},r.prototype.resize=function(){throw new Error("Cannot invoke resize on an Immutable Matrix instance")},r.prototype.reshape=function(){throw new Error("Cannot invoke reshape on an Immutable Matrix instance")},r.prototype.clone=function(){return new r({data:pt(this._data),size:pt(this._size),datatype:this._datatype})},r.prototype.toJSON=function(){return{mathjs:"ImmutableDenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},r.fromJSON=function(i){return new r(i)},r.prototype.swapRows=function(){throw new Error("Cannot invoke swapRows on an Immutable Matrix instance")},r.prototype.min=function(){if(this._min===null){var i=null;this.forEach(function(a){(i===null||e(a,i))&&(i=a)}),this._min=i!==null?i:void 0}return this._min},r.prototype.max=function(){if(this._max===null){var i=null;this.forEach(function(a){(i===null||e(i,a))&&(i=a)}),this._max=i!==null?i:void 0}return this._max},r},{isClass:!0});var fJ="Index",pJ=["ImmutableDenseMatrix","getMatrixDataType"],Dx=C(fJ,pJ,n=>{var{ImmutableDenseMatrix:e,getMatrixDataType:t}=n;function r(a){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this._dimensions=[],this._sourceSize=[],this._isScalar=!0;for(var o=0,u=arguments.length;o<u;o++){var s=arguments[o],l=Zt(s),c=rt(s),f=null;if($u(s))this._dimensions.push(s),this._isScalar=!1;else if(l||c){var p=void 0;t(s)==="boolean"?(l&&(p=i(Y2(s).valueOf())),c&&(p=i(Y2(s._data).valueOf())),f=s.valueOf().length):p=i(s.valueOf()),this._dimensions.push(p);var m=p.size();(m.length!==1||m[0]!==1||f!==null)&&(this._isScalar=!1)}else if(typeof s=="number")this._dimensions.push(i([s]));else if(typeof s=="string")this._dimensions.push(s);else throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");this._sourceSize.push(f)}}r.prototype.type="Index",r.prototype.isIndex=!0;function i(a){for(var o=0,u=a.length;o<u;o++)if(typeof a[o]!="number"||!Ke(a[o]))throw new TypeError("Index parameters must be positive integer numbers");return new e(a)}return r.prototype.clone=function(){var a=new r;return a._dimensions=pt(this._dimensions),a._isScalar=this._isScalar,a._sourceSize=this._sourceSize,a},r.create=function(a){var o=new r;return r.apply(o,a),o},r.prototype.size=function(){for(var a=[],o=0,u=this._dimensions.length;o<u;o++){var s=this._dimensions[o];a[o]=typeof s=="string"?1:s.size()[0]}return a},r.prototype.max=function(){for(var a=[],o=0,u=this._dimensions.length;o<u;o++){var s=this._dimensions[o];a[o]=typeof s=="string"?s:s.max()}return a},r.prototype.min=function(){for(var a=[],o=0,u=this._dimensions.length;o<u;o++){var s=this._dimensions[o];a[o]=typeof s=="string"?s:s.min()}return a},r.prototype.forEach=function(a){for(var o=0,u=this._dimensions.length;o<u;o++)a(this._dimensions[o],o,this)},r.prototype.dimension=function(a){return this._dimensions[a]||null},r.prototype.isObjectProperty=function(){return this._dimensions.length===1&&typeof this._dimensions[0]=="string"},r.prototype.getObjectProperty=function(){return this.isObjectProperty()?this._dimensions[0]:null},r.prototype.isScalar=function(){return this._isScalar},r.prototype.toArray=function(){for(var a=[],o=0,u=this._dimensions.length;o<u;o++){var s=this._dimensions[o];a.push(typeof s=="string"?s:s.toArray())}return a},r.prototype.valueOf=r.prototype.toArray,r.prototype.toString=function(){for(var a=[],o=0,u=this._dimensions.length;o<u;o++){var s=this._dimensions[o];typeof s=="string"?a.push(JSON.stringify(s)):a.push(s.toString())}return"["+a.join(", ")+"]"},r.prototype.toJSON=function(){return{mathjs:"Index",dimensions:this._dimensions}},r.fromJSON=function(a){return r.create(a.dimensions)},r},{isClass:!0});function Y2(n){var e=[];return n.forEach((t,r)=>{t&&e.push(r)}),e}var mJ="FibonacciHeap",dJ=["smaller","larger"],Mx=C(mJ,dJ,n=>{var{smaller:e,larger:t}=n,r=1/Math.log((1+Math.sqrt(5))/2);function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}i.prototype.type="FibonacciHeap",i.prototype.isFibonacciHeap=!0,i.prototype.insert=function(c,f){var p={key:c,value:f,degree:0};if(this._minimum){var m=this._minimum;p.left=m,p.right=m.right,m.right=p,p.right.left=p,e(c,m.key)&&(this._minimum=p)}else p.left=p,p.right=p,this._minimum=p;return this._size++,p},i.prototype.size=function(){return this._size},i.prototype.clear=function(){this._minimum=null,this._size=0},i.prototype.isEmpty=function(){return this._size===0},i.prototype.extractMinimum=function(){var c=this._minimum;if(c===null)return c;for(var f=this._minimum,p=c.degree,m=c.child;p>0;){var h=m.right;m.left.right=m.right,m.right.left=m.left,m.left=f,m.right=f.right,f.right=m,m.right.left=m,m.parent=null,m=h,p--}return c.left.right=c.right,c.right.left=c.left,c===c.right?f=null:(f=c.right,f=l(f,this._size)),this._size--,this._minimum=f,c},i.prototype.remove=function(c){this._minimum=a(this._minimum,c,-1),this.extractMinimum()};function a(c,f,p){f.key=p;var m=f.parent;return m&&e(f.key,m.key)&&(o(c,f,m),u(c,m)),e(f.key,c.key)&&(c=f),c}function o(c,f,p){f.left.right=f.right,f.right.left=f.left,p.degree--,p.child===f&&(p.child=f.right),p.degree===0&&(p.child=null),f.left=c,f.right=c.right,c.right=f,f.right.left=f,f.parent=null,f.mark=!1}function u(c,f){var p=f.parent;p&&(f.mark?(o(c,f,p),u(p)):f.mark=!0)}var s=function(f,p){f.left.right=f.right,f.right.left=f.left,f.parent=p,p.child?(f.left=p.child,f.right=p.child.right,p.child.right=f,f.right.left=f):(p.child=f,f.right=f,f.left=f),p.degree++,f.mark=!1};function l(c,f){var p=Math.floor(Math.log(f)*r)+1,m=new Array(p),h=0,d=c;if(d)for(h++,d=d.right;d!==c;)h++,d=d.right;for(var v;h>0;){for(var y=d.degree,_=d.right;v=m[y],!!v;){if(t(d.key,v.key)){var b=v;v=d,d=b}s(v,d),m[y]=null,y++}m[y]=d,d=_,h--}c=null;for(var w=0;w<p;w++)v=m[w],v&&(c?(v.left.right=v.right,v.right.left=v.left,v.left=c,v.right=c.right,c.right=v,v.right.left=v,e(v.key,c.key)&&(c=v)):c=v);return c}return i},{isClass:!0});var hJ="Spa",gJ=["addScalar","equalScalar","FibonacciHeap"],Nx=C(hJ,gJ,n=>{var{addScalar:e,equalScalar:t,FibonacciHeap:r}=n;function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new r}return i.prototype.type="Spa",i.prototype.isSpa=!0,i.prototype.set=function(a,o){if(this._values[a])this._values[a].value=o;else{var u=this._heap.insert(a,o);this._values[a]=u}},i.prototype.get=function(a){var o=this._values[a];return o?o.value:0},i.prototype.accumulate=function(a,o){var u=this._values[a];u?u.value=e(u.value,o):(u=this._heap.insert(a,o),this._values[a]=u)},i.prototype.forEach=function(a,o,u){var s=this._heap,l=this._values,c=[],f=s.extractMinimum();for(f&&c.push(f);f&&f.key<=o;)f.key>=a&&(t(f.value,0)||u(f.key,f.value,this)),f=s.extractMinimum(),f&&c.push(f);for(var p=0;p<c.length;p++){var m=c[p];f=s.insert(m.key,m.value),l[f.key]=f}},i.prototype.swap=function(a,o){var u=this._values[a],s=this._values[o];if(!u&&s)u=this._heap.insert(a,s.value),this._heap.remove(s),this._values[a]=u,this._values[o]=void 0;else if(u&&!s)s=this._heap.insert(o,u.value),this._heap.remove(u),this._values[o]=s,this._values[a]=void 0;else if(u&&s){var l=u.value;u.value=s.value,s.value=l}},i},{isClass:!0});var j2=Hs(function(n){return new n(1).exp()},{hasher:Rm}),Z2=Hs(function(n){return new n(1).plus(new n(5).sqrt()).div(2)},{hasher:Rm}),Oc=Hs(function(n){return n.acos(-1)},{hasher:Rm}),J2=Hs(function(n){return Oc(n).times(2)},{hasher:Rm});function Rm(n){return n[0].precision}function X2(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Cx(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?X2(Object(t),!0).forEach(function(r){ar(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):X2(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}var vJ="Unit",yJ=["?on","config","addScalar","subtractScalar","multiplyScalar","divideScalar","pow","abs","fix","round","equal","isNumeric","format","number","Complex","BigNumber","Fraction"],Tx=C(vJ,yJ,n=>{var{on:e,config:t,addScalar:r,subtractScalar:i,multiplyScalar:a,divideScalar:o,pow:u,abs:s,fix:l,round:c,equal:f,isNumeric:p,format:m,number:h,Complex:d,BigNumber:v,Fraction:y}=n,_=h;function b(X,re){if(!(this instanceof b))throw new Error("Constructor must be called with the new operator");if(!(X==null||p(X)||ai(X)))throw new TypeError("First parameter in Unit constructor must be number, BigNumber, Fraction, Complex, or undefined");if(this.fixPrefix=!1,this.skipAutomaticSimplification=!0,re===void 0)this.units=[],this.dimensions=G.map(W=>0);else if(typeof re=="string"){var xe=b.parse(re);this.units=xe.units,this.dimensions=xe.dimensions}else if(Nn(re)&&re.value===null)this.fixPrefix=re.fixPrefix,this.skipAutomaticSimplification=re.skipAutomaticSimplification,this.dimensions=re.dimensions.slice(0),this.units=re.units.map(W=>kr({},W));else throw new TypeError("Second parameter in Unit constructor must be a string or valueless Unit");this.value=this._normalize(X)}Object.defineProperty(b,"name",{value:"Unit"}),b.prototype.constructor=b,b.prototype.type="Unit",b.prototype.isUnit=!0;var w,S,x;function N(){for(;x===" "||x==="	";)M()}function D(X){return X>="0"&&X<="9"||X==="."}function E(X){return X>="0"&&X<="9"}function M(){S++,x=w.charAt(S)}function P(X){S=X,x=w.charAt(S)}function O(){var X="",re=S;if(x==="+"?M():x==="-"&&(X+=x,M()),!D(x))return P(re),null;if(x==="."){if(X+=x,M(),!E(x))return P(re),null}else{for(;E(x);)X+=x,M();x==="."&&(X+=x,M())}for(;E(x);)X+=x,M();if(x==="E"||x==="e"){var xe="",W=S;if(xe+=x,M(),(x==="+"||x==="-")&&(xe+=x,M()),!E(x))return P(W),X;for(X=X+xe;E(x);)X+=x,M()}return X}function V(){for(var X="";E(x)||b.isValidAlpha(x);)X+=x,M();var re=X.charAt(0);return b.isValidAlpha(re)?X:null}function z(X){return x===X?(M(),X):null}b.parse=function(X,re){if(re=re||{},w=X,S=-1,x="",typeof w!="string")throw new TypeError("Invalid argument in Unit.parse, string expected");var xe=new b;xe.units=[];var W=1,ne=!1;M(),N();var ue=O(),Ne=null;if(ue){if(t.number==="BigNumber")Ne=new v(ue);else if(t.number==="Fraction")try{Ne=new y(ue)}catch(_e){Ne=parseFloat(ue)}else Ne=parseFloat(ue);N(),z("*")?(W=1,ne=!0):z("/")&&(W=-1,ne=!0)}for(var Ce=[],Ye=1;;){for(N();x==="(";)Ce.push(W),Ye*=W,W=1,M(),N();var Fe=void 0;if(x){var Qe=x;if(Fe=V(),Fe===null)throw new SyntaxError('Unexpected "'+Qe+'" in "'+w+'" at index '+S.toString())}else break;var wt=L(Fe);if(wt===null)throw new SyntaxError('Unit "'+Fe+'" not found.');var tr=W*Ye;if(N(),z("^")){N();var St=O();if(St===null)throw new SyntaxError('In "'+X+'", "^" must be followed by a floating-point number');tr*=St}xe.units.push({unit:wt.unit,prefix:wt.prefix,power:tr});for(var ie=0;ie<G.length;ie++)xe.dimensions[ie]+=(wt.unit.dimensions[ie]||0)*tr;for(N();x===")";){if(Ce.length===0)throw new SyntaxError('Unmatched ")" in "'+w+'" at index '+S.toString());Ye/=Ce.pop(),M(),N()}if(ne=!1,z("*")?(W=1,ne=!0):z("/")?(W=-1,ne=!0):W=1,wt.unit.base){var pe=wt.unit.base.key;me.auto[pe]={unit:wt.unit,prefix:wt.prefix}}}if(N(),x)throw new SyntaxError('Could not parse: "'+X+'"');if(ne)throw new SyntaxError('Trailing characters: "'+X+'"');if(Ce.length!==0)throw new SyntaxError('Unmatched "(" in "'+w+'"');if(xe.units.length===0&&!re.allowNoUnits)throw new SyntaxError('"'+X+'" contains no units');return xe.value=Ne!==void 0?xe._normalize(Ne):null,xe},b.prototype.clone=function(){var X=new b;X.fixPrefix=this.fixPrefix,X.skipAutomaticSimplification=this.skipAutomaticSimplification,X.value=pt(this.value),X.dimensions=this.dimensions.slice(0),X.units=[];for(var re=0;re<this.units.length;re++){X.units[re]={};for(var xe in this.units[re])it(this.units[re],xe)&&(X.units[re][xe]=this.units[re][xe])}return X},b.prototype.valueType=function(){return Wt(this.value)},b.prototype._isDerived=function(){return this.units.length===0?!1:this.units.length>1||Math.abs(this.units[0].power-1)>1e-15},b.prototype._normalize=function(X){if(X==null||this.units.length===0)return X;for(var re=X,xe=b._getNumberConverter(Wt(X)),W=0;W<this.units.length;W++){var ne=xe(this.units[W].unit.value),ue=xe(this.units[W].prefix.value),Ne=xe(this.units[W].power);re=a(re,u(a(ne,ue),Ne))}return re},b.prototype._denormalize=function(X,re){if(X==null||this.units.length===0)return X;for(var xe=X,W=b._getNumberConverter(Wt(X)),ne=0;ne<this.units.length;ne++){var ue=W(this.units[ne].unit.value),Ne=W(this.units[ne].prefix.value),Ce=W(this.units[ne].power);xe=o(xe,u(a(ue,Ne),Ce))}return xe};var L=Hs(X=>{if(it(U,X)){var re=U[X],xe=re.prefixes[""];return{unit:re,prefix:xe}}for(var W in U)if(it(U,W)&&WN(X,W)){var ne=U[W],ue=X.length-W.length,Ne=X.substring(0,ue),Ce=it(ne.prefixes,Ne)?ne.prefixes[Ne]:void 0;if(Ce!==void 0)return{unit:ne,prefix:Ce}}return null},{hasher:X=>X[0],limit:100});b.isValuelessUnit=function(X){return L(X)!==null},b.prototype.hasBase=function(X){if(typeof X=="string"&&(X=R[X]),!X)return!1;for(var re=0;re<G.length;re++)if(Math.abs((this.dimensions[re]||0)-(X.dimensions[re]||0))>1e-12)return!1;return!0},b.prototype.equalBase=function(X){for(var re=0;re<G.length;re++)if(Math.abs((this.dimensions[re]||0)-(X.dimensions[re]||0))>1e-12)return!1;return!0},b.prototype.equals=function(X){return this.equalBase(X)&&f(this.value,X.value)},b.prototype.multiply=function(X){for(var re=this.clone(),xe=Nn(X)?X:new b(X),W=0;W<G.length;W++)re.dimensions[W]=(this.dimensions[W]||0)+(xe.dimensions[W]||0);for(var ne=0;ne<xe.units.length;ne++){var ue=Cx({},xe.units[ne]);re.units.push(ue)}if(this.value!==null||xe.value!==null){var Ne=this.value===null?this._normalize(1):this.value,Ce=xe.value===null?xe._normalize(1):xe.value;re.value=a(Ne,Ce)}else re.value=null;return Nn(X)&&(re.skipAutomaticSimplification=!1),B(re)},b.prototype.divideInto=function(X){return new b(X).divide(this)},b.prototype.divide=function(X){for(var re=this.clone(),xe=Nn(X)?X:new b(X),W=0;W<G.length;W++)re.dimensions[W]=(this.dimensions[W]||0)-(xe.dimensions[W]||0);for(var ne=0;ne<xe.units.length;ne++){var ue=Cx(Cx({},xe.units[ne]),{},{power:-xe.units[ne].power});re.units.push(ue)}if(this.value!==null||xe.value!==null){var Ne=this.value===null?this._normalize(1):this.value,Ce=xe.value===null?xe._normalize(1):xe.value;re.value=o(Ne,Ce)}else re.value=null;return Nn(X)&&(re.skipAutomaticSimplification=!1),B(re)},b.prototype.pow=function(X){for(var re=this.clone(),xe=0;xe<G.length;xe++)re.dimensions[xe]=(this.dimensions[xe]||0)*X;for(var W=0;W<re.units.length;W++)re.units[W].power*=X;return re.value!==null?re.value=u(re.value,X):re.value=null,re.skipAutomaticSimplification=!1,B(re)};function B(X){return X.equalBase(R.NONE)&&X.value!==null&&!t.predictable?X.value:X}b.prototype.abs=function(){var X=this.clone();if(X.value!==null)if(X._isDerived()||X.units.length===0||X.units[0].unit.offset===0)X.value=s(X.value);else{var re=X._numberConverter(),xe=re(X.units[0].unit.value),W=re(X.units[0].unit.offset),ne=a(xe,W);X.value=i(s(r(X.value,ne)),ne)}for(var ue in X.units)(X.units[ue].unit.name==="VA"||X.units[ue].unit.name==="VAR")&&(X.units[ue].unit=U.W);return X},b.prototype.to=function(X){var re=this.value===null?this._normalize(1):this.value,xe;if(typeof X=="string")xe=b.parse(X);else if(Nn(X))xe=X.clone();else throw new Error("String or Unit expected as parameter");if(!this.equalBase(xe))throw new Error("Units do not match ('".concat(xe.toString(),"' != '").concat(this.toString(),"')"));if(xe.value!==null)throw new Error("Cannot convert to a unit with a value");if(this.value===null||this._isDerived()||this.units.length===0||xe.units.length===0||this.units[0].unit.offset===xe.units[0].unit.offset)xe.value=pt(re);else{var W=b._getNumberConverter(Wt(re)),ne=this.units[0].unit.value,ue=this.units[0].unit.offset,Ne=a(ne,ue),Ce=xe.units[0].unit.value,Ye=xe.units[0].unit.offset,Fe=a(Ce,Ye);xe.value=r(re,W(i(Ne,Fe)))}return xe.fixPrefix=!0,xe.skipAutomaticSimplification=!0,xe},b.prototype.toNumber=function(X){return _(this.toNumeric(X))},b.prototype.toNumeric=function(X){var re;return X?re=this.to(X):re=this.clone(),re._isDerived()||re.units.length===0?re._denormalize(re.value):re._denormalize(re.value,re.units[0].prefix.value)},b.prototype.toString=function(){return this.format()},b.prototype.toJSON=function(){return{mathjs:"Unit",value:this._denormalize(this.value),unit:this.formatUnits(),fixPrefix:this.fixPrefix}},b.fromJSON=function(X){var re=new b(X.value,X.unit);return re.fixPrefix=X.fixPrefix||!1,re},b.prototype.valueOf=b.prototype.toString,b.prototype.simplify=function(){var X=this.clone(),re=[],xe;for(var W in ve)if(it(ve,W)&&X.hasBase(R[W])){xe=W;break}if(xe==="NONE")X.units=[];else{var ne;if(xe&&it(ve,xe)&&(ne=ve[xe]),ne)X.units=[{unit:ne.unit,prefix:ne.prefix,power:1}];else{for(var ue=!1,Ne=0;Ne<G.length;Ne++){var Ce=G[Ne];Math.abs(X.dimensions[Ne]||0)>1e-12&&(it(ve,Ce)?re.push({unit:ve[Ce].unit,prefix:ve[Ce].prefix,power:X.dimensions[Ne]||0}):ue=!0)}re.length<X.units.length&&!ue&&(X.units=re)}}return X},b.prototype.toSI=function(){for(var X=this.clone(),re=[],xe=0;xe<G.length;xe++){var W=G[xe];if(Math.abs(X.dimensions[xe]||0)>1e-12)if(it(me.si,W))re.push({unit:me.si[W].unit,prefix:me.si[W].prefix,power:X.dimensions[xe]||0});else throw new Error("Cannot express custom unit "+W+" in SI units")}return X.units=re,X.fixPrefix=!0,X.skipAutomaticSimplification=!0,this.value!==null?(X.value=null,this.to(X)):X},b.prototype.formatUnits=function(){for(var X="",re="",xe=0,W=0,ne=0;ne<this.units.length;ne++)this.units[ne].power>0?(xe++,X+=" "+this.units[ne].prefix.name+this.units[ne].unit.name,Math.abs(this.units[ne].power-1)>1e-15&&(X+="^"+this.units[ne].power)):this.units[ne].power<0&&W++;if(W>0)for(var ue=0;ue<this.units.length;ue++)this.units[ue].power<0&&(xe>0?(re+=" "+this.units[ue].prefix.name+this.units[ue].unit.name,Math.abs(this.units[ue].power+1)>1e-15&&(re+="^"+-this.units[ue].power)):(re+=" "+this.units[ue].prefix.name+this.units[ue].unit.name,re+="^"+this.units[ue].power));X=X.substr(1),re=re.substr(1),xe>1&&W>0&&(X="("+X+")"),W>1&&xe>0&&(re="("+re+")");var Ne=X;return xe>0&&W>0&&(Ne+=" / "),Ne+=re,Ne},b.prototype.format=function(X){var re=this.skipAutomaticSimplification||this.value===null?this.clone():this.simplify(),xe=!1;typeof re.value!="undefined"&&re.value!==null&&ai(re.value)&&(xe=Math.abs(re.value.re)<1e-14);for(var W in re.units)it(re.units,W)&&re.units[W].unit&&(re.units[W].unit.name==="VA"&&xe?re.units[W].unit=U.VAR:re.units[W].unit.name==="VAR"&&!xe&&(re.units[W].unit=U.VA));re.units.length===1&&!re.fixPrefix&&Math.abs(re.units[0].power-Math.round(re.units[0].power))<1e-14&&(re.units[0].prefix=re._bestPrefix());var ne=re._denormalize(re.value),ue=re.value!==null?m(ne,X||{}):"",Ne=re.formatUnits();return re.value&&ai(re.value)&&(ue="("+ue+")"),Ne.length>0&&ue.length>0&&(ue+=" "),ue+=Ne,ue},b.prototype._bestPrefix=function(){if(this.units.length!==1)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");if(Math.abs(this.units[0].power-Math.round(this.units[0].power))>=1e-14)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");var X=this.value!==null?s(this.value):0,re=s(this.units[0].unit.value),xe=this.units[0].prefix;if(X===0)return xe;var W=this.units[0].power,ne=Math.log(X/Math.pow(xe.value*re,W))/Math.LN10-1.2;if(ne>-2.200001&&ne<1.800001)return xe;ne=Math.abs(ne);var ue=this.units[0].unit.prefixes;for(var Ne in ue)if(it(ue,Ne)){var Ce=ue[Ne];if(Ce.scientific){var Ye=Math.abs(Math.log(X/Math.pow(Ce.value*re,W))/Math.LN10-1.2);(Ye<ne||Ye===ne&&Ce.name.length<xe.name.length)&&(xe=Ce,ne=Ye)}}return xe},b.prototype.splitUnit=function(X){for(var re=this.clone(),xe=[],W=0;W<X.length&&(re=re.to(X[W]),W!==X.length-1);W++){var ne=re.toNumeric(),ue=c(ne),Ne=void 0,Ce=f(ue,ne);Ce?Ne=ue:Ne=l(re.toNumeric());var Ye=new b(Ne,X[W].toString());xe.push(Ye),re=i(re,Ye)}for(var Fe=0,Qe=0;Qe<xe.length;Qe++)Fe=r(Fe,xe[Qe].value);return f(Fe,this.value)&&(re.value=0),xe.push(re),xe};var T={NONE:{"":{name:"",value:1,scientific:!0}},SHORT:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:10,scientific:!1},h:{name:"h",value:100,scientific:!1},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0},R:{name:"R",value:1e27,scientific:!0},Q:{name:"Q",value:1e30,scientific:!0},d:{name:"d",value:.1,scientific:!1},c:{name:"c",value:.01,scientific:!1},m:{name:"m",value:.001,scientific:!0},u:{name:"u",value:1e-6,scientific:!0},n:{name:"n",value:1e-9,scientific:!0},p:{name:"p",value:1e-12,scientific:!0},f:{name:"f",value:1e-15,scientific:!0},a:{name:"a",value:1e-18,scientific:!0},z:{name:"z",value:1e-21,scientific:!0},y:{name:"y",value:1e-24,scientific:!0},r:{name:"r",value:1e-27,scientific:!0},q:{name:"q",value:1e-30,scientific:!0}},LONG:{"":{name:"",value:1,scientific:!0},deca:{name:"deca",value:10,scientific:!1},hecto:{name:"hecto",value:100,scientific:!1},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0},ronna:{name:"ronna",value:1e27,scientific:!0},quetta:{name:"quetta",value:1e30,scientific:!0},deci:{name:"deci",value:.1,scientific:!1},centi:{name:"centi",value:.01,scientific:!1},milli:{name:"milli",value:.001,scientific:!0},micro:{name:"micro",value:1e-6,scientific:!0},nano:{name:"nano",value:1e-9,scientific:!0},pico:{name:"pico",value:1e-12,scientific:!0},femto:{name:"femto",value:1e-15,scientific:!0},atto:{name:"atto",value:1e-18,scientific:!0},zepto:{name:"zepto",value:1e-21,scientific:!0},yocto:{name:"yocto",value:1e-24,scientific:!0},ronto:{name:"ronto",value:1e-27,scientific:!0},quecto:{name:"quecto",value:1e-30,scientific:!0}},SQUARED:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:100,scientific:!1},h:{name:"h",value:1e4,scientific:!1},k:{name:"k",value:1e6,scientific:!0},M:{name:"M",value:1e12,scientific:!0},G:{name:"G",value:1e18,scientific:!0},T:{name:"T",value:1e24,scientific:!0},P:{name:"P",value:1e30,scientific:!0},E:{name:"E",value:1e36,scientific:!0},Z:{name:"Z",value:1e42,scientific:!0},Y:{name:"Y",value:1e48,scientific:!0},R:{name:"R",value:1e54,scientific:!0},Q:{name:"Q",value:1e60,scientific:!0},d:{name:"d",value:.01,scientific:!1},c:{name:"c",value:1e-4,scientific:!1},m:{name:"m",value:1e-6,scientific:!0},u:{name:"u",value:1e-12,scientific:!0},n:{name:"n",value:1e-18,scientific:!0},p:{name:"p",value:1e-24,scientific:!0},f:{name:"f",value:1e-30,scientific:!0},a:{name:"a",value:1e-36,scientific:!0},z:{name:"z",value:1e-42,scientific:!0},y:{name:"y",value:1e-48,scientific:!0},r:{name:"r",value:1e-54,scientific:!0},q:{name:"q",value:1e-60,scientific:!0}},CUBIC:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:1e3,scientific:!1},h:{name:"h",value:1e6,scientific:!1},k:{name:"k",value:1e9,scientific:!0},M:{name:"M",value:1e18,scientific:!0},G:{name:"G",value:1e27,scientific:!0},T:{name:"T",value:1e36,scientific:!0},P:{name:"P",value:1e45,scientific:!0},E:{name:"E",value:1e54,scientific:!0},Z:{name:"Z",value:1e63,scientific:!0},Y:{name:"Y",value:1e72,scientific:!0},R:{name:"R",value:1e81,scientific:!0},Q:{name:"Q",value:1e90,scientific:!0},d:{name:"d",value:.001,scientific:!1},c:{name:"c",value:1e-6,scientific:!1},m:{name:"m",value:1e-9,scientific:!0},u:{name:"u",value:1e-18,scientific:!0},n:{name:"n",value:1e-27,scientific:!0},p:{name:"p",value:1e-36,scientific:!0},f:{name:"f",value:1e-45,scientific:!0},a:{name:"a",value:1e-54,scientific:!0},z:{name:"z",value:1e-63,scientific:!0},y:{name:"y",value:1e-72,scientific:!0},r:{name:"r",value:1e-81,scientific:!0},q:{name:"q",value:1e-90,scientific:!0}},BINARY_SHORT_SI:{"":{name:"",value:1,scientific:!0},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0}},BINARY_SHORT_IEC:{"":{name:"",value:1,scientific:!0},Ki:{name:"Ki",value:1024,scientific:!0},Mi:{name:"Mi",value:Math.pow(1024,2),scientific:!0},Gi:{name:"Gi",value:Math.pow(1024,3),scientific:!0},Ti:{name:"Ti",value:Math.pow(1024,4),scientific:!0},Pi:{name:"Pi",value:Math.pow(1024,5),scientific:!0},Ei:{name:"Ei",value:Math.pow(1024,6),scientific:!0},Zi:{name:"Zi",value:Math.pow(1024,7),scientific:!0},Yi:{name:"Yi",value:Math.pow(1024,8),scientific:!0}},BINARY_LONG_SI:{"":{name:"",value:1,scientific:!0},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0}},BINARY_LONG_IEC:{"":{name:"",value:1,scientific:!0},kibi:{name:"kibi",value:1024,scientific:!0},mebi:{name:"mebi",value:Math.pow(1024,2),scientific:!0},gibi:{name:"gibi",value:Math.pow(1024,3),scientific:!0},tebi:{name:"tebi",value:Math.pow(1024,4),scientific:!0},pebi:{name:"pebi",value:Math.pow(1024,5),scientific:!0},exi:{name:"exi",value:Math.pow(1024,6),scientific:!0},zebi:{name:"zebi",value:Math.pow(1024,7),scientific:!0},yobi:{name:"yobi",value:Math.pow(1024,8),scientific:!0}},BTU:{"":{name:"",value:1,scientific:!0},MM:{name:"MM",value:1e6,scientific:!0}}};T.SHORTLONG=kr({},T.SHORT,T.LONG),T.BINARY_SHORT=kr({},T.BINARY_SHORT_SI,T.BINARY_SHORT_IEC),T.BINARY_LONG=kr({},T.BINARY_LONG_SI,T.BINARY_LONG_IEC);var G=["MASS","LENGTH","TIME","CURRENT","TEMPERATURE","LUMINOUS_INTENSITY","AMOUNT_OF_SUBSTANCE","ANGLE","BIT"],R={NONE:{dimensions:[0,0,0,0,0,0,0,0,0]},MASS:{dimensions:[1,0,0,0,0,0,0,0,0]},LENGTH:{dimensions:[0,1,0,0,0,0,0,0,0]},TIME:{dimensions:[0,0,1,0,0,0,0,0,0]},CURRENT:{dimensions:[0,0,0,1,0,0,0,0,0]},TEMPERATURE:{dimensions:[0,0,0,0,1,0,0,0,0]},LUMINOUS_INTENSITY:{dimensions:[0,0,0,0,0,1,0,0,0]},AMOUNT_OF_SUBSTANCE:{dimensions:[0,0,0,0,0,0,1,0,0]},FORCE:{dimensions:[1,1,-2,0,0,0,0,0,0]},SURFACE:{dimensions:[0,2,0,0,0,0,0,0,0]},VOLUME:{dimensions:[0,3,0,0,0,0,0,0,0]},ENERGY:{dimensions:[1,2,-2,0,0,0,0,0,0]},POWER:{dimensions:[1,2,-3,0,0,0,0,0,0]},PRESSURE:{dimensions:[1,-1,-2,0,0,0,0,0,0]},ELECTRIC_CHARGE:{dimensions:[0,0,1,1,0,0,0,0,0]},ELECTRIC_CAPACITANCE:{dimensions:[-1,-2,4,2,0,0,0,0,0]},ELECTRIC_POTENTIAL:{dimensions:[1,2,-3,-1,0,0,0,0,0]},ELECTRIC_RESISTANCE:{dimensions:[1,2,-3,-2,0,0,0,0,0]},ELECTRIC_INDUCTANCE:{dimensions:[1,2,-2,-2,0,0,0,0,0]},ELECTRIC_CONDUCTANCE:{dimensions:[-1,-2,3,2,0,0,0,0,0]},MAGNETIC_FLUX:{dimensions:[1,2,-2,-1,0,0,0,0,0]},MAGNETIC_FLUX_DENSITY:{dimensions:[1,0,-2,-1,0,0,0,0,0]},FREQUENCY:{dimensions:[0,0,-1,0,0,0,0,0,0]},ANGLE:{dimensions:[0,0,0,0,0,0,0,1,0]},BIT:{dimensions:[0,0,0,0,0,0,0,0,1]}};for(var oe in R)it(R,oe)&&(R[oe].key=oe);var ee={},H={name:"",base:ee,value:1,offset:0,dimensions:G.map(X=>0)},U={meter:{name:"meter",base:R.LENGTH,prefixes:T.LONG,value:1,offset:0},inch:{name:"inch",base:R.LENGTH,prefixes:T.NONE,value:.0254,offset:0},foot:{name:"foot",base:R.LENGTH,prefixes:T.NONE,value:.3048,offset:0},yard:{name:"yard",base:R.LENGTH,prefixes:T.NONE,value:.9144,offset:0},mile:{name:"mile",base:R.LENGTH,prefixes:T.NONE,value:1609.344,offset:0},link:{name:"link",base:R.LENGTH,prefixes:T.NONE,value:.201168,offset:0},rod:{name:"rod",base:R.LENGTH,prefixes:T.NONE,value:5.0292,offset:0},chain:{name:"chain",base:R.LENGTH,prefixes:T.NONE,value:20.1168,offset:0},angstrom:{name:"angstrom",base:R.LENGTH,prefixes:T.NONE,value:1e-10,offset:0},m:{name:"m",base:R.LENGTH,prefixes:T.SHORT,value:1,offset:0},in:{name:"in",base:R.LENGTH,prefixes:T.NONE,value:.0254,offset:0},ft:{name:"ft",base:R.LENGTH,prefixes:T.NONE,value:.3048,offset:0},yd:{name:"yd",base:R.LENGTH,prefixes:T.NONE,value:.9144,offset:0},mi:{name:"mi",base:R.LENGTH,prefixes:T.NONE,value:1609.344,offset:0},li:{name:"li",base:R.LENGTH,prefixes:T.NONE,value:.201168,offset:0},rd:{name:"rd",base:R.LENGTH,prefixes:T.NONE,value:5.02921,offset:0},ch:{name:"ch",base:R.LENGTH,prefixes:T.NONE,value:20.1168,offset:0},mil:{name:"mil",base:R.LENGTH,prefixes:T.NONE,value:254e-7,offset:0},m2:{name:"m2",base:R.SURFACE,prefixes:T.SQUARED,value:1,offset:0},sqin:{name:"sqin",base:R.SURFACE,prefixes:T.NONE,value:64516e-8,offset:0},sqft:{name:"sqft",base:R.SURFACE,prefixes:T.NONE,value:.09290304,offset:0},sqyd:{name:"sqyd",base:R.SURFACE,prefixes:T.NONE,value:.83612736,offset:0},sqmi:{name:"sqmi",base:R.SURFACE,prefixes:T.NONE,value:2589988110336e-6,offset:0},sqrd:{name:"sqrd",base:R.SURFACE,prefixes:T.NONE,value:25.29295,offset:0},sqch:{name:"sqch",base:R.SURFACE,prefixes:T.NONE,value:404.6873,offset:0},sqmil:{name:"sqmil",base:R.SURFACE,prefixes:T.NONE,value:64516e-14,offset:0},acre:{name:"acre",base:R.SURFACE,prefixes:T.NONE,value:4046.86,offset:0},hectare:{name:"hectare",base:R.SURFACE,prefixes:T.NONE,value:1e4,offset:0},m3:{name:"m3",base:R.VOLUME,prefixes:T.CUBIC,value:1,offset:0},L:{name:"L",base:R.VOLUME,prefixes:T.SHORT,value:.001,offset:0},l:{name:"l",base:R.VOLUME,prefixes:T.SHORT,value:.001,offset:0},litre:{name:"litre",base:R.VOLUME,prefixes:T.LONG,value:.001,offset:0},cuin:{name:"cuin",base:R.VOLUME,prefixes:T.NONE,value:16387064e-12,offset:0},cuft:{name:"cuft",base:R.VOLUME,prefixes:T.NONE,value:.028316846592,offset:0},cuyd:{name:"cuyd",base:R.VOLUME,prefixes:T.NONE,value:.764554857984,offset:0},teaspoon:{name:"teaspoon",base:R.VOLUME,prefixes:T.NONE,value:5e-6,offset:0},tablespoon:{name:"tablespoon",base:R.VOLUME,prefixes:T.NONE,value:15e-6,offset:0},drop:{name:"drop",base:R.VOLUME,prefixes:T.NONE,value:5e-8,offset:0},gtt:{name:"gtt",base:R.VOLUME,prefixes:T.NONE,value:5e-8,offset:0},minim:{name:"minim",base:R.VOLUME,prefixes:T.NONE,value:6161152e-14,offset:0},fluiddram:{name:"fluiddram",base:R.VOLUME,prefixes:T.NONE,value:36966911e-13,offset:0},fluidounce:{name:"fluidounce",base:R.VOLUME,prefixes:T.NONE,value:2957353e-11,offset:0},gill:{name:"gill",base:R.VOLUME,prefixes:T.NONE,value:.0001182941,offset:0},cc:{name:"cc",base:R.VOLUME,prefixes:T.NONE,value:1e-6,offset:0},cup:{name:"cup",base:R.VOLUME,prefixes:T.NONE,value:.0002365882,offset:0},pint:{name:"pint",base:R.VOLUME,prefixes:T.NONE,value:.0004731765,offset:0},quart:{name:"quart",base:R.VOLUME,prefixes:T.NONE,value:.0009463529,offset:0},gallon:{name:"gallon",base:R.VOLUME,prefixes:T.NONE,value:.003785412,offset:0},beerbarrel:{name:"beerbarrel",base:R.VOLUME,prefixes:T.NONE,value:.1173478,offset:0},oilbarrel:{name:"oilbarrel",base:R.VOLUME,prefixes:T.NONE,value:.1589873,offset:0},hogshead:{name:"hogshead",base:R.VOLUME,prefixes:T.NONE,value:.238481,offset:0},fldr:{name:"fldr",base:R.VOLUME,prefixes:T.NONE,value:36966911e-13,offset:0},floz:{name:"floz",base:R.VOLUME,prefixes:T.NONE,value:2957353e-11,offset:0},gi:{name:"gi",base:R.VOLUME,prefixes:T.NONE,value:.0001182941,offset:0},cp:{name:"cp",base:R.VOLUME,prefixes:T.NONE,value:.0002365882,offset:0},pt:{name:"pt",base:R.VOLUME,prefixes:T.NONE,value:.0004731765,offset:0},qt:{name:"qt",base:R.VOLUME,prefixes:T.NONE,value:.0009463529,offset:0},gal:{name:"gal",base:R.VOLUME,prefixes:T.NONE,value:.003785412,offset:0},bbl:{name:"bbl",base:R.VOLUME,prefixes:T.NONE,value:.1173478,offset:0},obl:{name:"obl",base:R.VOLUME,prefixes:T.NONE,value:.1589873,offset:0},g:{name:"g",base:R.MASS,prefixes:T.SHORT,value:.001,offset:0},gram:{name:"gram",base:R.MASS,prefixes:T.LONG,value:.001,offset:0},ton:{name:"ton",base:R.MASS,prefixes:T.SHORT,value:907.18474,offset:0},t:{name:"t",base:R.MASS,prefixes:T.SHORT,value:1e3,offset:0},tonne:{name:"tonne",base:R.MASS,prefixes:T.LONG,value:1e3,offset:0},grain:{name:"grain",base:R.MASS,prefixes:T.NONE,value:6479891e-11,offset:0},dram:{name:"dram",base:R.MASS,prefixes:T.NONE,value:.0017718451953125,offset:0},ounce:{name:"ounce",base:R.MASS,prefixes:T.NONE,value:.028349523125,offset:0},poundmass:{name:"poundmass",base:R.MASS,prefixes:T.NONE,value:.45359237,offset:0},hundredweight:{name:"hundredweight",base:R.MASS,prefixes:T.NONE,value:45.359237,offset:0},stick:{name:"stick",base:R.MASS,prefixes:T.NONE,value:.115,offset:0},stone:{name:"stone",base:R.MASS,prefixes:T.NONE,value:6.35029318,offset:0},gr:{name:"gr",base:R.MASS,prefixes:T.NONE,value:6479891e-11,offset:0},dr:{name:"dr",base:R.MASS,prefixes:T.NONE,value:.0017718451953125,offset:0},oz:{name:"oz",base:R.MASS,prefixes:T.NONE,value:.028349523125,offset:0},lbm:{name:"lbm",base:R.MASS,prefixes:T.NONE,value:.45359237,offset:0},cwt:{name:"cwt",base:R.MASS,prefixes:T.NONE,value:45.359237,offset:0},s:{name:"s",base:R.TIME,prefixes:T.SHORT,value:1,offset:0},min:{name:"min",base:R.TIME,prefixes:T.NONE,value:60,offset:0},h:{name:"h",base:R.TIME,prefixes:T.NONE,value:3600,offset:0},second:{name:"second",base:R.TIME,prefixes:T.LONG,value:1,offset:0},sec:{name:"sec",base:R.TIME,prefixes:T.LONG,value:1,offset:0},minute:{name:"minute",base:R.TIME,prefixes:T.NONE,value:60,offset:0},hour:{name:"hour",base:R.TIME,prefixes:T.NONE,value:3600,offset:0},day:{name:"day",base:R.TIME,prefixes:T.NONE,value:86400,offset:0},week:{name:"week",base:R.TIME,prefixes:T.NONE,value:7*86400,offset:0},month:{name:"month",base:R.TIME,prefixes:T.NONE,value:2629800,offset:0},year:{name:"year",base:R.TIME,prefixes:T.NONE,value:31557600,offset:0},decade:{name:"decade",base:R.TIME,prefixes:T.NONE,value:315576e3,offset:0},century:{name:"century",base:R.TIME,prefixes:T.NONE,value:315576e4,offset:0},millennium:{name:"millennium",base:R.TIME,prefixes:T.NONE,value:315576e5,offset:0},hertz:{name:"Hertz",base:R.FREQUENCY,prefixes:T.LONG,value:1,offset:0,reciprocal:!0},Hz:{name:"Hz",base:R.FREQUENCY,prefixes:T.SHORT,value:1,offset:0,reciprocal:!0},rad:{name:"rad",base:R.ANGLE,prefixes:T.SHORT,value:1,offset:0},radian:{name:"radian",base:R.ANGLE,prefixes:T.LONG,value:1,offset:0},deg:{name:"deg",base:R.ANGLE,prefixes:T.SHORT,value:null,offset:0},degree:{name:"degree",base:R.ANGLE,prefixes:T.LONG,value:null,offset:0},grad:{name:"grad",base:R.ANGLE,prefixes:T.SHORT,value:null,offset:0},gradian:{name:"gradian",base:R.ANGLE,prefixes:T.LONG,value:null,offset:0},cycle:{name:"cycle",base:R.ANGLE,prefixes:T.NONE,value:null,offset:0},arcsec:{name:"arcsec",base:R.ANGLE,prefixes:T.NONE,value:null,offset:0},arcmin:{name:"arcmin",base:R.ANGLE,prefixes:T.NONE,value:null,offset:0},A:{name:"A",base:R.CURRENT,prefixes:T.SHORT,value:1,offset:0},ampere:{name:"ampere",base:R.CURRENT,prefixes:T.LONG,value:1,offset:0},K:{name:"K",base:R.TEMPERATURE,prefixes:T.SHORT,value:1,offset:0},degC:{name:"degC",base:R.TEMPERATURE,prefixes:T.SHORT,value:1,offset:273.15},degF:{name:"degF",base:R.TEMPERATURE,prefixes:T.SHORT,value:new y(5,9),offset:459.67},degR:{name:"degR",base:R.TEMPERATURE,prefixes:T.SHORT,value:new y(5,9),offset:0},kelvin:{name:"kelvin",base:R.TEMPERATURE,prefixes:T.LONG,value:1,offset:0},celsius:{name:"celsius",base:R.TEMPERATURE,prefixes:T.LONG,value:1,offset:273.15},fahrenheit:{name:"fahrenheit",base:R.TEMPERATURE,prefixes:T.LONG,value:new y(5,9),offset:459.67},rankine:{name:"rankine",base:R.TEMPERATURE,prefixes:T.LONG,value:new y(5,9),offset:0},mol:{name:"mol",base:R.AMOUNT_OF_SUBSTANCE,prefixes:T.SHORT,value:1,offset:0},mole:{name:"mole",base:R.AMOUNT_OF_SUBSTANCE,prefixes:T.LONG,value:1,offset:0},cd:{name:"cd",base:R.LUMINOUS_INTENSITY,prefixes:T.SHORT,value:1,offset:0},candela:{name:"candela",base:R.LUMINOUS_INTENSITY,prefixes:T.LONG,value:1,offset:0},N:{name:"N",base:R.FORCE,prefixes:T.SHORT,value:1,offset:0},newton:{name:"newton",base:R.FORCE,prefixes:T.LONG,value:1,offset:0},dyn:{name:"dyn",base:R.FORCE,prefixes:T.SHORT,value:1e-5,offset:0},dyne:{name:"dyne",base:R.FORCE,prefixes:T.LONG,value:1e-5,offset:0},lbf:{name:"lbf",base:R.FORCE,prefixes:T.NONE,value:4.4482216152605,offset:0},poundforce:{name:"poundforce",base:R.FORCE,prefixes:T.NONE,value:4.4482216152605,offset:0},kip:{name:"kip",base:R.FORCE,prefixes:T.LONG,value:4448.2216,offset:0},kilogramforce:{name:"kilogramforce",base:R.FORCE,prefixes:T.NONE,value:9.80665,offset:0},J:{name:"J",base:R.ENERGY,prefixes:T.SHORT,value:1,offset:0},joule:{name:"joule",base:R.ENERGY,prefixes:T.LONG,value:1,offset:0},erg:{name:"erg",base:R.ENERGY,prefixes:T.SHORTLONG,value:1e-7,offset:0},Wh:{name:"Wh",base:R.ENERGY,prefixes:T.SHORT,value:3600,offset:0},BTU:{name:"BTU",base:R.ENERGY,prefixes:T.BTU,value:1055.05585262,offset:0},eV:{name:"eV",base:R.ENERGY,prefixes:T.SHORT,value:1602176565e-28,offset:0},electronvolt:{name:"electronvolt",base:R.ENERGY,prefixes:T.LONG,value:1602176565e-28,offset:0},W:{name:"W",base:R.POWER,prefixes:T.SHORT,value:1,offset:0},watt:{name:"watt",base:R.POWER,prefixes:T.LONG,value:1,offset:0},hp:{name:"hp",base:R.POWER,prefixes:T.NONE,value:745.6998715386,offset:0},VAR:{name:"VAR",base:R.POWER,prefixes:T.SHORT,value:d.I,offset:0},VA:{name:"VA",base:R.POWER,prefixes:T.SHORT,value:1,offset:0},Pa:{name:"Pa",base:R.PRESSURE,prefixes:T.SHORT,value:1,offset:0},psi:{name:"psi",base:R.PRESSURE,prefixes:T.NONE,value:6894.75729276459,offset:0},atm:{name:"atm",base:R.PRESSURE,prefixes:T.NONE,value:101325,offset:0},bar:{name:"bar",base:R.PRESSURE,prefixes:T.SHORTLONG,value:1e5,offset:0},torr:{name:"torr",base:R.PRESSURE,prefixes:T.NONE,value:133.322,offset:0},mmHg:{name:"mmHg",base:R.PRESSURE,prefixes:T.NONE,value:133.322,offset:0},mmH2O:{name:"mmH2O",base:R.PRESSURE,prefixes:T.NONE,value:9.80665,offset:0},cmH2O:{name:"cmH2O",base:R.PRESSURE,prefixes:T.NONE,value:98.0665,offset:0},coulomb:{name:"coulomb",base:R.ELECTRIC_CHARGE,prefixes:T.LONG,value:1,offset:0},C:{name:"C",base:R.ELECTRIC_CHARGE,prefixes:T.SHORT,value:1,offset:0},farad:{name:"farad",base:R.ELECTRIC_CAPACITANCE,prefixes:T.LONG,value:1,offset:0},F:{name:"F",base:R.ELECTRIC_CAPACITANCE,prefixes:T.SHORT,value:1,offset:0},volt:{name:"volt",base:R.ELECTRIC_POTENTIAL,prefixes:T.LONG,value:1,offset:0},V:{name:"V",base:R.ELECTRIC_POTENTIAL,prefixes:T.SHORT,value:1,offset:0},ohm:{name:"ohm",base:R.ELECTRIC_RESISTANCE,prefixes:T.SHORTLONG,value:1,offset:0},henry:{name:"henry",base:R.ELECTRIC_INDUCTANCE,prefixes:T.LONG,value:1,offset:0},H:{name:"H",base:R.ELECTRIC_INDUCTANCE,prefixes:T.SHORT,value:1,offset:0},siemens:{name:"siemens",base:R.ELECTRIC_CONDUCTANCE,prefixes:T.LONG,value:1,offset:0},S:{name:"S",base:R.ELECTRIC_CONDUCTANCE,prefixes:T.SHORT,value:1,offset:0},weber:{name:"weber",base:R.MAGNETIC_FLUX,prefixes:T.LONG,value:1,offset:0},Wb:{name:"Wb",base:R.MAGNETIC_FLUX,prefixes:T.SHORT,value:1,offset:0},tesla:{name:"tesla",base:R.MAGNETIC_FLUX_DENSITY,prefixes:T.LONG,value:1,offset:0},T:{name:"T",base:R.MAGNETIC_FLUX_DENSITY,prefixes:T.SHORT,value:1,offset:0},b:{name:"b",base:R.BIT,prefixes:T.BINARY_SHORT,value:1,offset:0},bits:{name:"bits",base:R.BIT,prefixes:T.BINARY_LONG,value:1,offset:0},B:{name:"B",base:R.BIT,prefixes:T.BINARY_SHORT,value:8,offset:0},bytes:{name:"bytes",base:R.BIT,prefixes:T.BINARY_LONG,value:8,offset:0}},fe={meters:"meter",inches:"inch",feet:"foot",yards:"yard",miles:"mile",links:"link",rods:"rod",chains:"chain",angstroms:"angstrom",lt:"l",litres:"litre",liter:"litre",liters:"litre",teaspoons:"teaspoon",tablespoons:"tablespoon",minims:"minim",fluiddrams:"fluiddram",fluidounces:"fluidounce",gills:"gill",cups:"cup",pints:"pint",quarts:"quart",gallons:"gallon",beerbarrels:"beerbarrel",oilbarrels:"oilbarrel",hogsheads:"hogshead",gtts:"gtt",grams:"gram",tons:"ton",tonnes:"tonne",grains:"grain",drams:"dram",ounces:"ounce",poundmasses:"poundmass",hundredweights:"hundredweight",sticks:"stick",lb:"lbm",lbs:"lbm",kips:"kip",kgf:"kilogramforce",acres:"acre",hectares:"hectare",sqfeet:"sqft",sqyard:"sqyd",sqmile:"sqmi",sqmiles:"sqmi",mmhg:"mmHg",mmh2o:"mmH2O",cmh2o:"cmH2O",seconds:"second",secs:"second",minutes:"minute",mins:"minute",hours:"hour",hr:"hour",hrs:"hour",days:"day",weeks:"week",months:"month",years:"year",decades:"decade",centuries:"century",millennia:"millennium",hertz:"hertz",radians:"radian",degrees:"degree",gradians:"gradian",cycles:"cycle",arcsecond:"arcsec",arcseconds:"arcsec",arcminute:"arcmin",arcminutes:"arcmin",BTUs:"BTU",watts:"watt",joules:"joule",amperes:"ampere",amps:"ampere",amp:"ampere",coulombs:"coulomb",volts:"volt",ohms:"ohm",farads:"farad",webers:"weber",teslas:"tesla",electronvolts:"electronvolt",moles:"mole",bit:"bits",byte:"bytes"};function De(X){if(X.number==="BigNumber"){var re=Oc(v);U.rad.value=new v(1),U.deg.value=re.div(180),U.grad.value=re.div(200),U.cycle.value=re.times(2),U.arcsec.value=re.div(648e3),U.arcmin.value=re.div(10800)}else U.rad.value=1,U.deg.value=Math.PI/180,U.grad.value=Math.PI/200,U.cycle.value=Math.PI*2,U.arcsec.value=Math.PI/648e3,U.arcmin.value=Math.PI/10800;U.radian.value=U.rad.value,U.degree.value=U.deg.value,U.gradian.value=U.grad.value}De(t),e&&e("config",function(X,re){X.number!==re.number&&De(X)});var me={si:{NONE:{unit:H,prefix:T.NONE[""]},LENGTH:{unit:U.m,prefix:T.SHORT[""]},MASS:{unit:U.g,prefix:T.SHORT.k},TIME:{unit:U.s,prefix:T.SHORT[""]},CURRENT:{unit:U.A,prefix:T.SHORT[""]},TEMPERATURE:{unit:U.K,prefix:T.SHORT[""]},LUMINOUS_INTENSITY:{unit:U.cd,prefix:T.SHORT[""]},AMOUNT_OF_SUBSTANCE:{unit:U.mol,prefix:T.SHORT[""]},ANGLE:{unit:U.rad,prefix:T.SHORT[""]},BIT:{unit:U.bits,prefix:T.SHORT[""]},FORCE:{unit:U.N,prefix:T.SHORT[""]},ENERGY:{unit:U.J,prefix:T.SHORT[""]},POWER:{unit:U.W,prefix:T.SHORT[""]},PRESSURE:{unit:U.Pa,prefix:T.SHORT[""]},ELECTRIC_CHARGE:{unit:U.C,prefix:T.SHORT[""]},ELECTRIC_CAPACITANCE:{unit:U.F,prefix:T.SHORT[""]},ELECTRIC_POTENTIAL:{unit:U.V,prefix:T.SHORT[""]},ELECTRIC_RESISTANCE:{unit:U.ohm,prefix:T.SHORT[""]},ELECTRIC_INDUCTANCE:{unit:U.H,prefix:T.SHORT[""]},ELECTRIC_CONDUCTANCE:{unit:U.S,prefix:T.SHORT[""]},MAGNETIC_FLUX:{unit:U.Wb,prefix:T.SHORT[""]},MAGNETIC_FLUX_DENSITY:{unit:U.T,prefix:T.SHORT[""]},FREQUENCY:{unit:U.Hz,prefix:T.SHORT[""]}}};me.cgs=JSON.parse(JSON.stringify(me.si)),me.cgs.LENGTH={unit:U.m,prefix:T.SHORT.c},me.cgs.MASS={unit:U.g,prefix:T.SHORT[""]},me.cgs.FORCE={unit:U.dyn,prefix:T.SHORT[""]},me.cgs.ENERGY={unit:U.erg,prefix:T.NONE[""]},me.us=JSON.parse(JSON.stringify(me.si)),me.us.LENGTH={unit:U.ft,prefix:T.NONE[""]},me.us.MASS={unit:U.lbm,prefix:T.NONE[""]},me.us.TEMPERATURE={unit:U.degF,prefix:T.NONE[""]},me.us.FORCE={unit:U.lbf,prefix:T.NONE[""]},me.us.ENERGY={unit:U.BTU,prefix:T.BTU[""]},me.us.POWER={unit:U.hp,prefix:T.NONE[""]},me.us.PRESSURE={unit:U.psi,prefix:T.NONE[""]},me.auto=JSON.parse(JSON.stringify(me.si));var ve=me.auto;b.setUnitSystem=function(X){if(it(me,X))ve=me[X];else throw new Error("Unit system "+X+" does not exist. Choices are: "+Object.keys(me).join(", "))},b.getUnitSystem=function(){for(var X in me)if(it(me,X)&&me[X]===ve)return X},b.typeConverters={BigNumber:function(re){return re!=null&&re.isFraction?new v(re.n).div(re.d).times(re.s):new v(re+"")},Fraction:function(re){return new y(re)},Complex:function(re){return re},number:function(re){return re!=null&&re.isFraction?h(re):re}},b.prototype._numberConverter=function(){var X=b.typeConverters[this.valueType()];if(X)return X;throw new TypeError('Unsupported Unit value type "'+this.valueType()+'"')},b._getNumberConverter=function(X){if(!b.typeConverters[X])throw new TypeError('Unsupported type "'+X+'"');return b.typeConverters[X]};for(var Ae in U)if(it(U,Ae)){var be=U[Ae];be.dimensions=be.base.dimensions}for(var we in fe)if(it(fe,we)){var Se=U[fe[we]],Me={};for(var Ie in Se)it(Se,Ie)&&(Me[Ie]=Se[Ie]);Me.name=we,U[we]=Me}b.isValidAlpha=function(re){return/^[a-zA-Z]$/.test(re)};function et(X){for(var re=0;re<X.length;re++){if(x=X.charAt(re),re===0&&!b.isValidAlpha(x))throw new Error('Invalid unit name (must begin with alpha character): "'+X+'"');if(re>0&&!(b.isValidAlpha(x)||E(x)))throw new Error('Invalid unit name (only alphanumeric characters are allowed): "'+X+'"')}}return b.createUnit=function(X,re){if(typeof X!="object")throw new TypeError("createUnit expects first parameter to be of type 'Object'");if(re&&re.override){for(var xe in X)if(it(X,xe)&&b.deleteUnit(xe),X[xe].aliases)for(var W=0;W<X[xe].aliases.length;W++)b.deleteUnit(X[xe].aliases[W])}var ne;for(var ue in X)it(X,ue)&&(ne=b.createUnitSingle(ue,X[ue]));return ne},b.createUnitSingle=function(X,re){if((typeof re=="undefined"||re===null)&&(re={}),typeof X!="string")throw new TypeError("createUnitSingle expects first parameter to be of type 'string'");if(it(U,X))throw new Error('Cannot create unit "'+X+'": a unit with that name already exists');et(X);var xe=null,W=[],ne=0,ue,Ne,Ce;if(re&&re.type==="Unit")xe=re.clone();else if(typeof re=="string")re!==""&&(ue=re);else if(typeof re=="object")ue=re.definition,Ne=re.prefixes,ne=re.offset,Ce=re.baseName,re.aliases&&(W=re.aliases.valueOf());else throw new TypeError('Cannot create unit "'+X+'" from "'+re.toString()+'": expecting "string" or "Unit" or "Object"');if(W){for(var Ye=0;Ye<W.length;Ye++)if(it(U,W[Ye]))throw new Error('Cannot create alias "'+W[Ye]+'": a unit with that name already exists')}if(ue&&typeof ue=="string"&&!xe)try{xe=b.parse(ue,{allowNoUnits:!0})}catch(F){throw F.message='Could not create unit "'+X+'" from "'+ue+'": '+F.message,F}else ue&&ue.type==="Unit"&&(xe=ue.clone());W=W||[],ne=ne||0,Ne&&Ne.toUpperCase?Ne=T[Ne.toUpperCase()]||T.NONE:Ne=T.NONE;var Fe={};if(xe){Fe={name:X,value:xe.value,dimensions:xe.dimensions.slice(0),prefixes:Ne,offset:ne};var St=!1;for(var ie in R)if(it(R,ie)){for(var pe=!0,_e=0;_e<G.length;_e++)if(Math.abs((Fe.dimensions[_e]||0)-(R[ie].dimensions[_e]||0))>1e-12){pe=!1;break}if(pe){St=!0,Fe.base=R[ie];break}}if(!St){Ce=Ce||X+"_STUFF";var Ve={dimensions:xe.dimensions.slice(0)};Ve.key=Ce,R[Ce]=Ve,ve[Ce]={unit:Fe,prefix:T.NONE[""]},Fe.base=R[Ce]}}else{if(Ce=Ce||X+"_STUFF",G.indexOf(Ce)>=0)throw new Error('Cannot create new base unit "'+X+'": a base unit with that name already exists (and cannot be overridden)');G.push(Ce);for(var Qe in R)it(R,Qe)&&(R[Qe].dimensions[G.length-1]=0);for(var wt={dimensions:[]},tr=0;tr<G.length;tr++)wt.dimensions[tr]=0;wt.dimensions[G.length-1]=1,wt.key=Ce,R[Ce]=wt,Fe={name:X,value:1,dimensions:R[Ce].dimensions.slice(0),prefixes:Ne,offset:ne,base:R[Ce]},ve[Ce]={unit:Fe,prefix:T.NONE[""]}}b.UNITS[X]=Fe;for(var ze=0;ze<W.length;ze++){var Re=W[ze],qe={};for(var Ge in Fe)it(Fe,Ge)&&(qe[Ge]=Fe[Ge]);qe.name=Re,b.UNITS[Re]=qe}return delete L.cache,new b(null,X)},b.deleteUnit=function(X){delete b.UNITS[X],delete L.cache},b.PREFIXES=T,b.BASE_DIMENSIONS=G,b.BASE_UNITS=R,b.UNIT_SYSTEMS=me,b.UNITS=U,b},{isClass:!0});var Q2="unit",bJ=["typed","Unit"],Fx=C(Q2,bJ,n=>{var{typed:e,Unit:t}=n;return e(Q2,{Unit:function(i){return i.clone()},string:function(i){return t.isValuelessUnit(i)?new t(null,i):t.parse(i,{allowNoUnits:!0})},"number | BigNumber | Fraction | Complex, string | Unit":function(i,a){return new t(i,a)},"number | BigNumber | Fraction":function(i){return new t(i)},"Array | Matrix":e.referToSelf(r=>i=>at(i,r))})});var K2="sparse",xJ=["typed","SparseMatrix"],Ix=C(K2,xJ,n=>{var{typed:e,SparseMatrix:t}=n;return e(K2,{"":function(){return new t([])},string:function(i){return new t([],i)},"Array | Matrix":function(i){return new t(i)},"Array | Matrix, string":function(i,a){return new t(i,a)}})});var eF="createUnit",wJ=["typed","Unit"],Px=C(eF,wJ,n=>{var{typed:e,Unit:t}=n;return e(eF,{"Object, Object":function(i,a){return t.createUnit(i,a)},Object:function(i){return t.createUnit(i,{})},"string, Unit | string | Object, Object":function(i,a,o){var u={};return u[i]=a,t.createUnit(u,o)},"string, Unit | string | Object":function(i,a){var o={};return o[i]=a,t.createUnit(o,{})},string:function(i){var a={};return a[i]={},t.createUnit(a,{})}})});var tF="acos",_J=["typed","config","Complex"],Bx=C(tF,_J,n=>{var{typed:e,config:t,Complex:r}=n;return e(tF,{number:function(a){return a>=-1&&a<=1||t.predictable?Math.acos(a):new r(a,0).acos()},Complex:function(a){return a.acos()},BigNumber:function(a){return a.acos()}})});var rF="acosh",SJ=["typed","config","Complex"],Ox=C(rF,SJ,n=>{var{typed:e,config:t,Complex:r}=n;return e(rF,{number:function(a){return a>=1||t.predictable?Gy(a):a<=-1?new r(Math.log(Math.sqrt(a*a-1)-a),Math.PI):new r(a,0).acosh()},Complex:function(a){return a.acosh()},BigNumber:function(a){return a.acosh()}})});var nF="acot",AJ=["typed","BigNumber"],kx=C(nF,AJ,n=>{var{typed:e,BigNumber:t}=n;return e(nF,{number:Wy,Complex:function(i){return i.acot()},BigNumber:function(i){return new t(1).div(i).atan()}})});var iF="acoth",EJ=["typed","config","Complex","BigNumber"],Rx=C(iF,EJ,n=>{var{typed:e,config:t,Complex:r,BigNumber:i}=n;return e(iF,{number:function(o){return o>=1||o<=-1||t.predictable?Yy(o):new r(o,0).acoth()},Complex:function(o){return o.acoth()},BigNumber:function(o){return new i(1).div(o).atanh()}})});var aF="acsc",DJ=["typed","config","Complex","BigNumber"],Lx=C(aF,DJ,n=>{var{typed:e,config:t,Complex:r,BigNumber:i}=n;return e(aF,{number:function(o){return o<=-1||o>=1||t.predictable?jy(o):new r(o,0).acsc()},Complex:function(o){return o.acsc()},BigNumber:function(o){return new i(1).div(o).asin()}})});var oF="acsch",MJ=["typed","BigNumber"],Vx=C(oF,MJ,n=>{var{typed:e,BigNumber:t}=n;return e(oF,{number:Zy,Complex:function(i){return i.acsch()},BigNumber:function(i){return new t(1).div(i).asinh()}})});var sF="asec",NJ=["typed","config","Complex","BigNumber"],Ux=C(sF,NJ,n=>{var{typed:e,config:t,Complex:r,BigNumber:i}=n;return e(sF,{number:function(o){return o<=-1||o>=1||t.predictable?Jy(o):new r(o,0).asec()},Complex:function(o){return o.asec()},BigNumber:function(o){return new i(1).div(o).acos()}})});var uF="asech",CJ=["typed","config","Complex","BigNumber"],qx=C(uF,CJ,n=>{var{typed:e,config:t,Complex:r,BigNumber:i}=n;return e(uF,{number:function(o){if(o<=1&&o>=-1||t.predictable){var u=1/o;if(u>0||t.predictable)return Xy(o);var s=Math.sqrt(u*u-1);return new r(Math.log(s-u),Math.PI)}return new r(o,0).asech()},Complex:function(o){return o.asech()},BigNumber:function(o){return new i(1).div(o).acosh()}})});var lF="asin",TJ=["typed","config","Complex"],zx=C(lF,TJ,n=>{var{typed:e,config:t,Complex:r}=n;return e(lF,{number:function(a){return a>=-1&&a<=1||t.predictable?Math.asin(a):new r(a,0).asin()},Complex:function(a){return a.asin()},BigNumber:function(a){return a.asin()}})});var FJ="asinh",IJ=["typed"],$x=C(FJ,IJ,n=>{var{typed:e}=n;return e("asinh",{number:Qy,Complex:function(r){return r.asinh()},BigNumber:function(r){return r.asinh()}})});var PJ="atan",BJ=["typed"],Hx=C(PJ,BJ,n=>{var{typed:e}=n;return e("atan",{number:function(r){return Math.atan(r)},Complex:function(r){return r.atan()},BigNumber:function(r){return r.atan()}})});var cF="atan2",OJ=["typed","matrix","equalScalar","BigNumber","DenseMatrix","concat"],Gx=C(cF,OJ,n=>{var{typed:e,matrix:t,equalScalar:r,BigNumber:i,DenseMatrix:a,concat:o}=n,u=rn({typed:e,equalScalar:r}),s=Nr({typed:e}),l=Em({typed:e,equalScalar:r}),c=dr({typed:e,equalScalar:r}),f=ir({typed:e,DenseMatrix:a}),p=Et({typed:e,matrix:t,concat:o});return e(cF,{"number, number":Math.atan2,"BigNumber, BigNumber":(m,h)=>i.atan2(m,h)},p({scalar:"number | BigNumber",SS:l,DS:s,SD:u,Ss:c,sS:f}))});var fF="atanh",kJ=["typed","config","Complex"],Wx=C(fF,kJ,n=>{var{typed:e,config:t,Complex:r}=n;return e(fF,{number:function(a){return a<=1&&a>=-1||t.predictable?Ky(a):new r(a,0).atanh()},Complex:function(a){return a.atanh()},BigNumber:function(a){return a.atanh()}})});var Ki=C("trigUnit",["typed"],n=>{var{typed:e}=n;return{Unit:e.referToSelf(t=>r=>{if(!r.hasBase(r.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cot is no angle");return e.find(t,r.valueType())(r.value)})}});var pF="cos",RJ=["typed"],Yx=C(pF,RJ,n=>{var{typed:e}=n,t=Ki({typed:e});return e(pF,{number:Math.cos,"Complex | BigNumber":r=>r.cos()},t)});var mF="cosh",LJ=["typed"],jx=C(mF,LJ,n=>{var{typed:e}=n;return e(mF,{number:am,"Complex | BigNumber":t=>t.cosh()})});var dF="cot",VJ=["typed","BigNumber"],Zx=C(dF,VJ,n=>{var{typed:e,BigNumber:t}=n,r=Ki({typed:e});return e(dF,{number:e0,Complex:i=>i.cot(),BigNumber:i=>new t(1).div(i.tan())},r)});var hF="coth",UJ=["typed","BigNumber"],Jx=C(hF,UJ,n=>{var{typed:e,BigNumber:t}=n;return e(hF,{number:t0,Complex:r=>r.coth(),BigNumber:r=>new t(1).div(r.tanh())})});var gF="csc",qJ=["typed","BigNumber"],Xx=C(gF,qJ,n=>{var{typed:e,BigNumber:t}=n,r=Ki({typed:e});return e(gF,{number:r0,Complex:i=>i.csc(),BigNumber:i=>new t(1).div(i.sin())},r)});var vF="csch",zJ=["typed","BigNumber"],Qx=C(vF,zJ,n=>{var{typed:e,BigNumber:t}=n;return e(vF,{number:n0,Complex:r=>r.csch(),BigNumber:r=>new t(1).div(r.sinh())})});var yF="sec",$J=["typed","BigNumber"],Kx=C(yF,$J,n=>{var{typed:e,BigNumber:t}=n,r=Ki({typed:e});return e(yF,{number:i0,Complex:i=>i.sec(),BigNumber:i=>new t(1).div(i.cos())},r)});var bF="sech",HJ=["typed","BigNumber"],e1=C(bF,HJ,n=>{var{typed:e,BigNumber:t}=n;return e(bF,{number:a0,Complex:r=>r.sech(),BigNumber:r=>new t(1).div(r.cosh())})});var xF="sin",GJ=["typed"],t1=C(xF,GJ,n=>{var{typed:e}=n,t=Ki({typed:e});return e(xF,{number:Math.sin,"Complex | BigNumber":r=>r.sin()},t)});var wF="sinh",WJ=["typed"],r1=C(wF,WJ,n=>{var{typed:e}=n;return e(wF,{number:o0,"Complex | BigNumber":t=>t.sinh()})});var _F="tan",YJ=["typed"],n1=C(_F,YJ,n=>{var{typed:e}=n,t=Ki({typed:e});return e(_F,{number:Math.tan,"Complex | BigNumber":r=>r.tan()},t)});var jJ="tanh",ZJ=["typed"],i1=C(jJ,ZJ,n=>{var{typed:e}=n;return e("tanh",{number:om,"Complex | BigNumber":t=>t.tanh()})});var SF="setCartesian",JJ=["typed","size","subset","compareNatural","Index","DenseMatrix"],a1=C(SF,JJ,n=>{var{typed:e,size:t,subset:r,compareNatural:i,Index:a,DenseMatrix:o}=n;return e(SF,{"Array | Matrix, Array | Matrix":function(s,l){var c=[];if(r(t(s),new a(0))!==0&&r(t(l),new a(0))!==0){var f=Ct(Array.isArray(s)?s:s.toArray()).sort(i),p=Ct(Array.isArray(l)?l:l.toArray()).sort(i);c=[];for(var m=0;m<f.length;m++)for(var h=0;h<p.length;h++)c.push([f[m],p[h]])}return Array.isArray(s)&&Array.isArray(l)?c:new o(c)}})});var AF="setDifference",XJ=["typed","size","subset","compareNatural","Index","DenseMatrix"],o1=C(AF,XJ,n=>{var{typed:e,size:t,subset:r,compareNatural:i,Index:a,DenseMatrix:o}=n;return e(AF,{"Array | Matrix, Array | Matrix":function(s,l){var c;if(r(t(s),new a(0))===0)c=[];else{if(r(t(l),new a(0))===0)return Ct(s.toArray());var f=uo(Ct(Array.isArray(s)?s:s.toArray()).sort(i)),p=uo(Ct(Array.isArray(l)?l:l.toArray()).sort(i));c=[];for(var m,h=0;h<f.length;h++){m=!1;for(var d=0;d<p.length;d++)if(i(f[h].value,p[d].value)===0&&f[h].identifier===p[d].identifier){m=!0;break}m||c.push(f[h])}}return Array.isArray(s)&&Array.isArray(l)?ju(c):new o(ju(c))}})});var EF="setDistinct",QJ=["typed","size","subset","compareNatural","Index","DenseMatrix"],s1=C(EF,QJ,n=>{var{typed:e,size:t,subset:r,compareNatural:i,Index:a,DenseMatrix:o}=n;return e(EF,{"Array | Matrix":function(s){var l;if(r(t(s),new a(0))===0)l=[];else{var c=Ct(Array.isArray(s)?s:s.toArray()).sort(i);l=[],l.push(c[0]);for(var f=1;f<c.length;f++)i(c[f],c[f-1])!==0&&l.push(c[f])}return Array.isArray(s)?l:new o(l)}})});var DF="setIntersect",KJ=["typed","size","subset","compareNatural","Index","DenseMatrix"],u1=C(DF,KJ,n=>{var{typed:e,size:t,subset:r,compareNatural:i,Index:a,DenseMatrix:o}=n;return e(DF,{"Array | Matrix, Array | Matrix":function(s,l){var c;if(r(t(s),new a(0))===0||r(t(l),new a(0))===0)c=[];else{var f=uo(Ct(Array.isArray(s)?s:s.toArray()).sort(i)),p=uo(Ct(Array.isArray(l)?l:l.toArray()).sort(i));c=[];for(var m=0;m<f.length;m++)for(var h=0;h<p.length;h++)if(i(f[m].value,p[h].value)===0&&f[m].identifier===p[h].identifier){c.push(f[m]);break}}return Array.isArray(s)&&Array.isArray(l)?ju(c):new o(ju(c))}})});var MF="setIsSubset",eX=["typed","size","subset","compareNatural","Index"],l1=C(MF,eX,n=>{var{typed:e,size:t,subset:r,compareNatural:i,Index:a}=n;return e(MF,{"Array | Matrix, Array | Matrix":function(u,s){if(r(t(u),new a(0))===0)return!0;if(r(t(s),new a(0))===0)return!1;for(var l=uo(Ct(Array.isArray(u)?u:u.toArray()).sort(i)),c=uo(Ct(Array.isArray(s)?s:s.toArray()).sort(i)),f,p=0;p<l.length;p++){f=!1;for(var m=0;m<c.length;m++)if(i(l[p].value,c[m].value)===0&&l[p].identifier===c[m].identifier){f=!0;break}if(f===!1)return!1}return!0}})});var NF="setMultiplicity",tX=["typed","size","subset","compareNatural","Index"],c1=C(NF,tX,n=>{var{typed:e,size:t,subset:r,compareNatural:i,Index:a}=n;return e(NF,{"number | BigNumber | Fraction | Complex, Array | Matrix":function(u,s){if(r(t(s),new a(0))===0)return 0;for(var l=Ct(Array.isArray(s)?s:s.toArray()),c=0,f=0;f<l.length;f++)i(l[f],u)===0&&c++;return c}})});var CF="setPowerset",rX=["typed","size","subset","compareNatural","Index"],f1=C(CF,rX,n=>{var{typed:e,size:t,subset:r,compareNatural:i,Index:a}=n;return e(CF,{"Array | Matrix":function(l){if(r(t(l),new a(0))===0)return[];for(var c=Ct(Array.isArray(l)?l:l.toArray()).sort(i),f=[],p=0;p.toString(2).length<=c.length;)f.push(o(c,p.toString(2).split("").reverse())),p++;return u(f)}});function o(s,l){for(var c=[],f=0;f<l.length;f++)l[f]==="1"&&c.push(s[f]);return c}function u(s){for(var l=[],c=s.length-1;c>0;c--)for(var f=0;f<c;f++)s[f].length>s[f+1].length&&(l=s[f],s[f]=s[f+1],s[f+1]=l);return s}});var TF="setSize",nX=["typed","compareNatural"],p1=C(TF,nX,n=>{var{typed:e,compareNatural:t}=n;return e(TF,{"Array | Matrix":function(i){return Array.isArray(i)?Ct(i).length:Ct(i.toArray()).length},"Array | Matrix, boolean":function(i,a){if(a===!1||i.length===0)return Array.isArray(i)?Ct(i).length:Ct(i.toArray()).length;for(var o=Ct(Array.isArray(i)?i:i.toArray()).sort(t),u=1,s=1;s<o.length;s++)t(o[s],o[s-1])!==0&&u++;return u}})});var FF="setSymDifference",iX=["typed","size","concat","subset","setDifference","Index"],m1=C(FF,iX,n=>{var{typed:e,size:t,concat:r,subset:i,setDifference:a,Index:o}=n;return e(FF,{"Array | Matrix, Array | Matrix":function(s,l){if(i(t(s),new o(0))===0)return Ct(l);if(i(t(l),new o(0))===0)return Ct(s);var c=Ct(s),f=Ct(l);return r(a(c,f),a(f,c))}})});var IF="setUnion",aX=["typed","size","concat","subset","setIntersect","setSymDifference","Index"],d1=C(IF,aX,n=>{var{typed:e,size:t,concat:r,subset:i,setIntersect:a,setSymDifference:o,Index:u}=n;return e(IF,{"Array | Matrix, Array | Matrix":function(l,c){if(i(t(l),new u(0))===0)return Ct(c);if(i(t(c),new u(0))===0)return Ct(l);var f=Ct(l),p=Ct(c);return r(o(f,p),a(f,p))}})});var PF="add",oX=["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix","concat"],h1=C(PF,oX,n=>{var{typed:e,matrix:t,addScalar:r,equalScalar:i,DenseMatrix:a,SparseMatrix:o,concat:u}=n,s=Gn({typed:e}),l=tl({typed:e,equalScalar:i}),c=di({typed:e,DenseMatrix:a}),f=Et({typed:e,matrix:t,concat:u});return e(PF,{"any, any":r,"any, any, ...any":e.referToSelf(p=>(m,h,d)=>{for(var v=p(m,h),y=0;y<d.length;y++)v=p(v,d[y]);return v})},f({elop:r,DS:s,SS:l,Ss:c}))});var BF="hypot",sX=["typed","abs","addScalar","divideScalar","multiplyScalar","sqrt","smaller","isPositive"],g1=C(BF,sX,n=>{var{typed:e,abs:t,addScalar:r,divideScalar:i,multiplyScalar:a,sqrt:o,smaller:u,isPositive:s}=n;return e(BF,{"... number | BigNumber":l,Array:l,Matrix:c=>l(Ct(c.toArray()))});function l(c){for(var f=0,p=0,m=0;m<c.length;m++){if(ai(c[m]))throw new TypeError("Unexpected type of argument to hypot");var h=t(c[m]);u(p,h)?(f=a(f,a(i(p,h),i(p,h))),f=r(f,1),p=h):f=r(f,s(h)?a(i(h,p),i(h,p)):h)}return a(p,o(f))}});var OF="norm",uX=["typed","abs","add","pow","conj","sqrt","multiply","equalScalar","larger","smaller","matrix","ctranspose","eigs"],v1=C(OF,uX,n=>{var{typed:e,abs:t,add:r,pow:i,conj:a,sqrt:o,multiply:u,equalScalar:s,larger:l,smaller:c,matrix:f,ctranspose:p,eigs:m}=n;return e(OF,{number:Math.abs,Complex:function(D){return D.abs()},BigNumber:function(D){return D.abs()},boolean:function(D){return Math.abs(D)},Array:function(D){return x(f(D),2)},Matrix:function(D){return x(D,2)},"Array, number | BigNumber | string":function(D,E){return x(f(D),E)},"Matrix, number | BigNumber | string":function(D,E){return x(D,E)}});function h(N){var D=0;return N.forEach(function(E){var M=t(E);l(M,D)&&(D=M)},!0),D}function d(N){var D;return N.forEach(function(E){var M=t(E);(!D||c(M,D))&&(D=M)},!0),D||0}function v(N,D){if(D===Number.POSITIVE_INFINITY||D==="inf")return h(N);if(D===Number.NEGATIVE_INFINITY||D==="-inf")return d(N);if(D==="fro")return x(N,2);if(typeof D=="number"&&!isNaN(D)){if(!s(D,0)){var E=0;return N.forEach(function(M){E=r(i(t(M),D),E)},!0),i(E,1/D)}return Number.POSITIVE_INFINITY}throw new Error("Unsupported parameter value")}function y(N){var D=0;return N.forEach(function(E,M){D=r(D,u(E,a(E)))}),t(o(D))}function _(N){var D=[],E=0;return N.forEach(function(M,P){var O=P[1],V=r(D[O]||0,t(M));l(V,E)&&(E=V),D[O]=V},!0),E}function b(N){var D=N.size();if(D[0]!==D[1])throw new RangeError("Invalid matrix dimensions");var E=p(N),M=u(E,N),P=m(M).values.toArray(),O=P[P.length-1];return t(o(O))}function w(N){var D=[],E=0;return N.forEach(function(M,P){var O=P[0],V=r(D[O]||0,t(M));l(V,E)&&(E=V),D[O]=V},!0),E}function S(N,D){if(D===1)return _(N);if(D===Number.POSITIVE_INFINITY||D==="inf")return w(N);if(D==="fro")return y(N);if(D===2)return b(N);throw new Error("Unsupported parameter value "+D)}function x(N,D){var E=N.size();if(E.length===1)return v(N,D);if(E.length===2){if(E[0]&&E[1])return S(N,D);throw new RangeError("Invalid matrix dimensions")}}});var kF="dot",lX=["typed","addScalar","multiplyScalar","conj","size"],y1=C(kF,lX,n=>{var{typed:e,addScalar:t,multiplyScalar:r,conj:i,size:a}=n;return e(kF,{"Array | DenseMatrix, Array | DenseMatrix":u,"SparseMatrix, SparseMatrix":s});function o(c,f){var p=l(c),m=l(f),h,d;if(p.length===1)h=p[0];else if(p.length===2&&p[1]===1)h=p[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+p.join(", ")+")");if(m.length===1)d=m[0];else if(m.length===2&&m[1]===1)d=m[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+m.join(", ")+")");if(h!==d)throw new RangeError("Vectors must have equal length ("+h+" != "+d+")");if(h===0)throw new RangeError("Cannot calculate the dot product of empty vectors");return h}function u(c,f){var p=o(c,f),m=rt(c)?c._data:c,h=rt(c)?c._datatype||c.getDataType():void 0,d=rt(f)?f._data:f,v=rt(f)?f._datatype||f.getDataType():void 0,y=l(c).length===2,_=l(f).length===2,b=t,w=r;if(h&&v&&h===v&&typeof h=="string"&&h!=="mixed"){var S=h;b=e.find(t,[S,S]),w=e.find(r,[S,S])}if(!y&&!_){for(var x=w(i(m[0]),d[0]),N=1;N<p;N++)x=b(x,w(i(m[N]),d[N]));return x}if(!y&&_){for(var D=w(i(m[0]),d[0][0]),E=1;E<p;E++)D=b(D,w(i(m[E]),d[E][0]));return D}if(y&&!_){for(var M=w(i(m[0][0]),d[0]),P=1;P<p;P++)M=b(M,w(i(m[P][0]),d[P]));return M}if(y&&_){for(var O=w(i(m[0][0]),d[0][0]),V=1;V<p;V++)O=b(O,w(i(m[V][0]),d[V][0]));return O}}function s(c,f){o(c,f);for(var p=c._index,m=c._values,h=f._index,d=f._values,v=0,y=t,_=r,b=0,w=0;b<p.length&&w<h.length;){var S=p[b],x=h[w];if(S<x){b++;continue}if(S>x){w++;continue}S===x&&(v=y(v,_(m[b],d[w])),b++,w++)}return v}function l(c){return rt(c)?c.size():a(c)}});var cX="trace",fX=["typed","matrix","add"],b1=C(cX,fX,n=>{var{typed:e,matrix:t,add:r}=n;return e("trace",{Array:function(u){return i(t(u))},SparseMatrix:a,DenseMatrix:i,any:pt});function i(o){var u=o._size,s=o._data;switch(u.length){case 1:if(u[0]===1)return pt(s[0]);throw new RangeError("Matrix must be square (size: "+xt(u)+")");case 2:{var l=u[0],c=u[1];if(l===c){for(var f=0,p=0;p<l;p++)f=r(f,s[p][p]);return f}else throw new RangeError("Matrix must be square (size: "+xt(u)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+xt(u)+")")}}function a(o){var u=o._values,s=o._index,l=o._ptr,c=o._size,f=c[0],p=c[1];if(f===p){var m=0;if(u.length>0)for(var h=0;h<p;h++)for(var d=l[h],v=l[h+1],y=d;y<v;y++){var _=s[y];if(_===h){m=r(m,u[y]);break}if(_>h)break}return m}throw new RangeError("Matrix must be square (size: "+xt(c)+")")}});var RF="index",pX=["typed","Index"],x1=C(RF,pX,n=>{var{typed:e,Index:t}=n;return e(RF,{"...number | string | BigNumber | Range | Array | Matrix":function(i){var a=i.map(function(u){return st(u)?u.toNumber():Zt(u)||rt(u)?u.map(function(s){return st(s)?s.toNumber():s}):u}),o=new t;return t.apply(o,a),o}})});var Lm=new Set(["end"]);var mX="Node",dX=["mathWithTransform"],w1=C(mX,dX,n=>{var{mathWithTransform:e}=n;function t(i){for(var a of[...Lm])if(i.has(a))throw new Error('Scope contains an illegal symbol, "'+a+'" is a reserved keyword')}class r{get type(){return"Node"}get isNode(){return!0}evaluate(a){return this.compile().evaluate(a)}compile(){var a=this._compile(e,{}),o={},u=null;function s(l){var c=lo(l);return t(c),a(c,o,u)}return{evaluate:s}}_compile(a,o){throw new Error("Method _compile must be implemented by type "+this.type)}forEach(a){throw new Error("Cannot run forEach on a Node interface")}map(a){throw new Error("Cannot run map on a Node interface")}_ifNode(a){if(!qt(a))throw new TypeError("Callback function must return a Node");return a}traverse(a){a(this,null,null);function o(u,s){u.forEach(function(l,c,f){s(l,c,f),o(l,s)})}o(this,a)}transform(a){function o(u,s,l){var c=a(u,s,l);return c!==u?c:u.map(o)}return o(this,null,null)}filter(a){var o=[];return this.traverse(function(u,s,l){a(u,s,l)&&o.push(u)}),o}clone(){throw new Error("Cannot clone a Node interface")}cloneDeep(){return this.map(function(a){return a.cloneDeep()})}equals(a){return a?this.type===a.type&&va(this,a):!1}toString(a){var o=this._getCustomString(a);return typeof o!="undefined"?o:this._toString(a)}_toString(){throw new Error("_toString not implemented for "+this.type)}toJSON(){throw new Error("Cannot serialize object: toJSON not implemented by "+this.type)}toHTML(a){var o=this._getCustomString(a);return typeof o!="undefined"?o:this._toHTML(a)}_toHTML(){throw new Error("_toHTML not implemented for "+this.type)}toTex(a){var o=this._getCustomString(a);return typeof o!="undefined"?o:this._toTex(a)}_toTex(a){throw new Error("_toTex not implemented for "+this.type)}_getCustomString(a){if(a&&typeof a=="object")switch(typeof a.handler){case"object":case"undefined":return;case"function":return a.handler(this,a);default:throw new TypeError("Object or function expected as callback")}}getIdentifier(){return this.type}getContent(){return this}}return r},{isClass:!0,isNode:!0});function Cr(n){return n&&n.isIndexError?new Fn(n.index+1,n.min+1,n.max!==void 0?n.max+1:void 0):n}function Vm(n){var{subset:e}=n;return function(r,i){try{if(Array.isArray(r))return e(r,i);if(r&&typeof r.subset=="function")return r.subset(i);if(typeof r=="string")return e(r,i);if(typeof r=="object"){if(!i.isObjectProperty())throw new TypeError("Cannot apply a numeric index as object property");return Rr(r,i.getObjectProperty())}else throw new TypeError("Cannot apply index: unsupported type of object")}catch(a){throw Cr(a)}}}var Um="AccessorNode",hX=["subset","Node"],_1=C(Um,hX,n=>{var{subset:e,Node:t}=n,r=Vm({subset:e});function i(o){return!(Ti(o)||Cn(o)||kt(o)||oi(o)||$o(o)||Tn(o)||Ar(o))}class a extends t{constructor(u,s){if(super(),!qt(u))throw new TypeError('Node expected for parameter "object"');if(!ji(s))throw new TypeError('IndexNode expected for parameter "index"');this.object=u,this.index=s}get name(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}get type(){return Um}get isAccessorNode(){return!0}_compile(u,s){var l=this.object._compile(u,s),c=this.index._compile(u,s);if(this.index.isObjectProperty()){var f=this.index.getObjectProperty();return function(m,h,d){return Rr(l(m,h,d),f)}}else return function(m,h,d){var v=l(m,h,d),y=c(m,h,v);return r(v,y)}}forEach(u){u(this.object,"object",this),u(this.index,"index",this)}map(u){return new a(this._ifNode(u(this.object,"object",this)),this._ifNode(u(this.index,"index",this)))}clone(){return new a(this.object,this.index)}_toString(u){var s=this.object.toString(u);return i(this.object)&&(s="("+s+")"),s+this.index.toString(u)}_toHTML(u){var s=this.object.toHTML(u);return i(this.object)&&(s='<span class="math-parenthesis math-round-parenthesis">(</span>'+s+'<span class="math-parenthesis math-round-parenthesis">)</span>'),s+this.index.toHTML(u)}_toTex(u){var s=this.object.toTex(u);return i(this.object)&&(s="\\left(' + object + '\\right)"),s+this.index.toTex(u)}toJSON(){return{mathjs:Um,object:this.object,index:this.index}}static fromJSON(u){return new a(u.object,u.index)}}return ar(a,"name",Um),a},{isClass:!0,isNode:!0});var qm="ArrayNode",gX=["Node"],S1=C(qm,gX,n=>{var{Node:e}=n;class t extends e{constructor(i){if(super(),this.items=i||[],!Array.isArray(this.items)||!this.items.every(qt))throw new TypeError("Array containing Nodes expected")}get type(){return qm}get isArrayNode(){return!0}_compile(i,a){var o=fi(this.items,function(l){return l._compile(i,a)}),u=i.config.matrix!=="Array";if(u){var s=i.matrix;return function(c,f,p){return s(fi(o,function(m){return m(c,f,p)}))}}else return function(c,f,p){return fi(o,function(m){return m(c,f,p)})}}forEach(i){for(var a=0;a<this.items.length;a++){var o=this.items[a];i(o,"items["+a+"]",this)}}map(i){for(var a=[],o=0;o<this.items.length;o++)a[o]=this._ifNode(i(this.items[o],"items["+o+"]",this));return new t(a)}clone(){return new t(this.items.slice(0))}_toString(i){var a=this.items.map(function(o){return o.toString(i)});return"["+a.join(", ")+"]"}toJSON(){return{mathjs:qm,items:this.items}}static fromJSON(i){return new t(i.items)}_toHTML(i){var a=this.items.map(function(o){return o.toHTML(i)});return'<span class="math-parenthesis math-square-parenthesis">[</span>'+a.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'}_toTex(i){function a(o,u){var s=o.some(Cn)&&!o.every(Cn),l=u||s,c=l?"&":"\\\\",f=o.map(function(p){return p.items?a(p.items,!u):p.toTex(i)}).join(c);return s||!l||l&&!u?"\\begin{bmatrix}"+f+"\\end{bmatrix}":f}return a(this.items,!1)}}return ar(t,"name",qm),t},{isClass:!0,isNode:!0});function LF(n){var{subset:e,matrix:t}=n;return function(i,a,o){try{if(Array.isArray(i)){var u=t(i).subset(a,o).valueOf();return u.forEach((s,l)=>{i[l]=s}),i}else{if(i&&typeof i.subset=="function")return i.subset(a,o);if(typeof i=="string")return e(i,a,o);if(typeof i=="object"){if(!a.isObjectProperty())throw TypeError("Cannot apply a numeric index as object property");return Oa(i,a.getObjectProperty(),o),i}else throw new TypeError("Cannot apply index: unsupported type of object")}}catch(s){throw Cr(s)}}}var ea=[{AssignmentNode:{},FunctionAssignmentNode:{}},{ConditionalNode:{latexLeftParens:!1,latexRightParens:!1,latexParens:!1}},{"OperatorNode:or":{op:"or",associativity:"left",associativeWith:[]}},{"OperatorNode:xor":{op:"xor",associativity:"left",associativeWith:[]}},{"OperatorNode:and":{op:"and",associativity:"left",associativeWith:[]}},{"OperatorNode:bitOr":{op:"|",associativity:"left",associativeWith:[]}},{"OperatorNode:bitXor":{op:"^|",associativity:"left",associativeWith:[]}},{"OperatorNode:bitAnd":{op:"&",associativity:"left",associativeWith:[]}},{"OperatorNode:equal":{op:"==",associativity:"left",associativeWith:[]},"OperatorNode:unequal":{op:"!=",associativity:"left",associativeWith:[]},"OperatorNode:smaller":{op:"<",associativity:"left",associativeWith:[]},"OperatorNode:larger":{op:">",associativity:"left",associativeWith:[]},"OperatorNode:smallerEq":{op:"<=",associativity:"left",associativeWith:[]},"OperatorNode:largerEq":{op:">=",associativity:"left",associativeWith:[]},RelationalNode:{associativity:"left",associativeWith:[]}},{"OperatorNode:leftShift":{op:"<<",associativity:"left",associativeWith:[]},"OperatorNode:rightArithShift":{op:">>",associativity:"left",associativeWith:[]},"OperatorNode:rightLogShift":{op:">>>",associativity:"left",associativeWith:[]}},{"OperatorNode:to":{op:"to",associativity:"left",associativeWith:[]}},{RangeNode:{}},{"OperatorNode:add":{op:"+",associativity:"left",associativeWith:["OperatorNode:add","OperatorNode:subtract"]},"OperatorNode:subtract":{op:"-",associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{op:"*",associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]},"OperatorNode:divide":{op:"/",associativity:"left",associativeWith:[],latexLeftParens:!1,latexRightParens:!1,latexParens:!1},"OperatorNode:dotMultiply":{op:".*",associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","OperatorNode:dotMultiply","OperatorNode:doDivide"]},"OperatorNode:dotDivide":{op:"./",associativity:"left",associativeWith:[]},"OperatorNode:mod":{op:"mod",associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]}},{"OperatorNode:unaryPlus":{op:"+",associativity:"right"},"OperatorNode:unaryMinus":{op:"-",associativity:"right"},"OperatorNode:bitNot":{op:"~",associativity:"right"},"OperatorNode:not":{op:"not",associativity:"right"}},{"OperatorNode:pow":{op:"^",associativity:"right",associativeWith:[],latexRightParens:!1},"OperatorNode:dotPow":{op:".^",associativity:"right",associativeWith:[]}},{"OperatorNode:factorial":{op:"!",associativity:"left"}},{"OperatorNode:ctranspose":{op:"'",associativity:"left"}}];function zm(n,e){if(!e||e!=="auto")return n;for(var t=n;Tn(t);)t=t.content;return t}function cr(n,e,t,r){var i=n;e!=="keep"&&(i=n.getContent());for(var a=i.getIdentifier(),o=null,u=0;u<ea.length;u++)if(a in ea[u]){o=u;break}if(a==="OperatorNode:multiply"&&i.implicit&&t!=="show"){var s=zm(i.args[0],e);!(kt(s)&&r&&r.getIdentifier()==="OperatorNode:divide"&&lc(zm(r.args[0],e)))&&!(s.getIdentifier()==="OperatorNode:divide"&&lc(zm(s.args[0],e))&&kt(zm(s.args[1])))&&(o+=1)}return o}function ul(n,e){var t=n;e!=="keep"&&(t=n.getContent());var r=t.getIdentifier(),i=cr(t,e);if(i===null)return null;var a=ea[i][r];if(it(a,"associativity")){if(a.associativity==="left")return"left";if(a.associativity==="right")return"right";throw Error("'"+r+"' has the invalid associativity '"+a.associativity+"'.")}return null}function $m(n,e,t){var r=t!=="keep"?n.getContent():n,i=t!=="keep"?n.getContent():e,a=r.getIdentifier(),o=i.getIdentifier(),u=cr(r,t);if(u===null)return null;var s=ea[u][a];if(it(s,"associativeWith")&&s.associativeWith instanceof Array){for(var l=0;l<s.associativeWith.length;l++)if(s.associativeWith[l]===o)return!0;return!1}return null}function VF(n){var e="OperatorNode:"+n;for(var t of ea)if(e in t)return t[e].op;return null}var Hm="AssignmentNode",vX=["subset","?matrix","Node"],A1=C(Hm,vX,n=>{var{subset:e,matrix:t,Node:r}=n,i=Vm({subset:e}),a=LF({subset:e,matrix:t});function o(s,l,c){l||(l="keep");var f=cr(s,l,c),p=cr(s.value,l,c);return l==="all"||p!==null&&p<=f}class u extends r{constructor(l,c,f){if(super(),this.object=l,this.index=f?c:null,this.value=f||c,!Ar(l)&&!Ti(l))throw new TypeError('SymbolNode or AccessorNode expected as "object"');if(Ar(l)&&l.name==="end")throw new Error('Cannot assign to symbol "end"');if(this.index&&!ji(this.index))throw new TypeError('IndexNode expected as "index"');if(!qt(this.value))throw new TypeError('Node expected as "value"')}get name(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}get type(){return Hm}get isAssignmentNode(){return!0}_compile(l,c){var f=this.object._compile(l,c),p=this.index?this.index._compile(l,c):null,m=this.value._compile(l,c),h=this.object.name;if(this.index)if(this.index.isObjectProperty()){var d=this.index.getObjectProperty();return function(w,S,x){var N=f(w,S,x),D=m(w,S,x);return Oa(N,d,D),D}}else{if(Ar(this.object))return function(w,S,x){var N=f(w,S,x),D=m(w,S,x),E=p(w,S,N);return w.set(h,a(N,E,D)),D};var v=this.object.object._compile(l,c);if(this.object.index.isObjectProperty()){var y=this.object.index.getObjectProperty();return function(w,S,x){var N=v(w,S,x),D=Rr(N,y),E=p(w,S,D),M=m(w,S,x);return Oa(N,y,a(D,E,M)),M}}else{var _=this.object.index._compile(l,c);return function(w,S,x){var N=v(w,S,x),D=_(w,S,N),E=i(N,D),M=p(w,S,E),P=m(w,S,x);return a(N,D,a(E,M,P)),P}}}else{if(!Ar(this.object))throw new TypeError("SymbolNode expected as object");return function(w,S,x){var N=m(w,S,x);return w.set(h,N),N}}}forEach(l){l(this.object,"object",this),this.index&&l(this.index,"index",this),l(this.value,"value",this)}map(l){var c=this._ifNode(l(this.object,"object",this)),f=this.index?this._ifNode(l(this.index,"index",this)):null,p=this._ifNode(l(this.value,"value",this));return new u(c,f,p)}clone(){return new u(this.object,this.index,this.value)}_toString(l){var c=this.object.toString(l),f=this.index?this.index.toString(l):"",p=this.value.toString(l);return o(this,l&&l.parenthesis,l&&l.implicit)&&(p="("+p+")"),c+f+" = "+p}toJSON(){return{mathjs:Hm,object:this.object,index:this.index,value:this.value}}static fromJSON(l){return new u(l.object,l.index,l.value)}_toHTML(l){var c=this.object.toHTML(l),f=this.index?this.index.toHTML(l):"",p=this.value.toHTML(l);return o(this,l&&l.parenthesis,l&&l.implicit)&&(p='<span class="math-paranthesis math-round-parenthesis">(</span>'+p+'<span class="math-paranthesis math-round-parenthesis">)</span>'),c+f+'<span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+p}_toTex(l){var c=this.object.toTex(l),f=this.index?this.index.toTex(l):"",p=this.value.toTex(l);return o(this,l&&l.parenthesis,l&&l.implicit)&&(p="\\left(".concat(p,"\\right)")),c+f+"="+p}}return ar(u,"name",Hm),u},{isClass:!0,isNode:!0});var Gm="BlockNode",yX=["ResultSet","Node"],E1=C(Gm,yX,n=>{var{ResultSet:e,Node:t}=n;class r extends t{constructor(a){if(super(),!Array.isArray(a))throw new Error("Array expected");this.blocks=a.map(function(o){var u=o&&o.node,s=o&&o.visible!==void 0?o.visible:!0;if(!qt(u))throw new TypeError('Property "node" must be a Node');if(typeof s!="boolean")throw new TypeError('Property "visible" must be a boolean');return{node:u,visible:s}})}get type(){return Gm}get isBlockNode(){return!0}_compile(a,o){var u=fi(this.blocks,function(s){return{evaluate:s.node._compile(a,o),visible:s.visible}});return function(l,c,f){var p=[];return Ho(u,function(h){var d=h.evaluate(l,c,f);h.visible&&p.push(d)}),new e(p)}}forEach(a){for(var o=0;o<this.blocks.length;o++)a(this.blocks[o].node,"blocks["+o+"].node",this)}map(a){for(var o=[],u=0;u<this.blocks.length;u++){var s=this.blocks[u],l=this._ifNode(a(s.node,"blocks["+u+"].node",this));o[u]={node:l,visible:s.visible}}return new r(o)}clone(){var a=this.blocks.map(function(o){return{node:o.node,visible:o.visible}});return new r(a)}_toString(a){return this.blocks.map(function(o){return o.node.toString(a)+(o.visible?"":";")}).join(`
`)}toJSON(){return{mathjs:Gm,blocks:this.blocks}}static fromJSON(a){return new r(a.blocks)}_toHTML(a){return this.blocks.map(function(o){return o.node.toHTML(a)+(o.visible?"":'<span class="math-separator">;</span>')}).join('<span class="math-separator"><br /></span>')}_toTex(a){return this.blocks.map(function(o){return o.node.toTex(a)+(o.visible?"":";")}).join(`\\;\\;
`)}}return ar(r,"name",Gm),r},{isClass:!0,isNode:!0});var Wm="ConditionalNode",bX=["Node"],D1=C(Wm,bX,n=>{var{Node:e}=n;function t(i){if(typeof i=="number"||typeof i=="boolean"||typeof i=="string")return!!i;if(i){if(st(i))return!i.isZero();if(ai(i))return!!(i.re||i.im);if(Nn(i))return!!i.value}if(i==null)return!1;throw new TypeError('Unsupported type of condition "'+Wt(i)+'"')}class r extends e{constructor(a,o,u){if(super(),!qt(a))throw new TypeError("Parameter condition must be a Node");if(!qt(o))throw new TypeError("Parameter trueExpr must be a Node");if(!qt(u))throw new TypeError("Parameter falseExpr must be a Node");this.condition=a,this.trueExpr=o,this.falseExpr=u}get type(){return Wm}get isConditionalNode(){return!0}_compile(a,o){var u=this.condition._compile(a,o),s=this.trueExpr._compile(a,o),l=this.falseExpr._compile(a,o);return function(f,p,m){return t(u(f,p,m))?s(f,p,m):l(f,p,m)}}forEach(a){a(this.condition,"condition",this),a(this.trueExpr,"trueExpr",this),a(this.falseExpr,"falseExpr",this)}map(a){return new r(this._ifNode(a(this.condition,"condition",this)),this._ifNode(a(this.trueExpr,"trueExpr",this)),this._ifNode(a(this.falseExpr,"falseExpr",this)))}clone(){return new r(this.condition,this.trueExpr,this.falseExpr)}_toString(a){var o=a&&a.parenthesis?a.parenthesis:"keep",u=cr(this,o,a&&a.implicit),s=this.condition.toString(a),l=cr(this.condition,o,a&&a.implicit);(o==="all"||this.condition.type==="OperatorNode"||l!==null&&l<=u)&&(s="("+s+")");var c=this.trueExpr.toString(a),f=cr(this.trueExpr,o,a&&a.implicit);(o==="all"||this.trueExpr.type==="OperatorNode"||f!==null&&f<=u)&&(c="("+c+")");var p=this.falseExpr.toString(a),m=cr(this.falseExpr,o,a&&a.implicit);return(o==="all"||this.falseExpr.type==="OperatorNode"||m!==null&&m<=u)&&(p="("+p+")"),s+" ? "+c+" : "+p}toJSON(){return{mathjs:Wm,condition:this.condition,trueExpr:this.trueExpr,falseExpr:this.falseExpr}}static fromJSON(a){return new r(a.condition,a.trueExpr,a.falseExpr)}_toHTML(a){var o=a&&a.parenthesis?a.parenthesis:"keep",u=cr(this,o,a&&a.implicit),s=this.condition.toHTML(a),l=cr(this.condition,o,a&&a.implicit);(o==="all"||this.condition.type==="OperatorNode"||l!==null&&l<=u)&&(s='<span class="math-parenthesis math-round-parenthesis">(</span>'+s+'<span class="math-parenthesis math-round-parenthesis">)</span>');var c=this.trueExpr.toHTML(a),f=cr(this.trueExpr,o,a&&a.implicit);(o==="all"||this.trueExpr.type==="OperatorNode"||f!==null&&f<=u)&&(c='<span class="math-parenthesis math-round-parenthesis">(</span>'+c+'<span class="math-parenthesis math-round-parenthesis">)</span>');var p=this.falseExpr.toHTML(a),m=cr(this.falseExpr,o,a&&a.implicit);return(o==="all"||this.falseExpr.type==="OperatorNode"||m!==null&&m<=u)&&(p='<span class="math-parenthesis math-round-parenthesis">(</span>'+p+'<span class="math-parenthesis math-round-parenthesis">)</span>'),s+'<span class="math-operator math-conditional-operator">?</span>'+c+'<span class="math-operator math-conditional-operator">:</span>'+p}_toTex(a){return"\\begin{cases} {"+this.trueExpr.toTex(a)+"}, &\\quad{\\text{if }\\;"+this.condition.toTex(a)+"}\\\\{"+this.falseExpr.toTex(a)+"}, &\\quad{\\text{otherwise}}\\end{cases}"}}return ar(r,"name",Wm),r},{isClass:!0,isNode:!0});var $F=hr(qF(),1);var N1={Alpha:"A",alpha:"\\alpha",Beta:"B",beta:"\\beta",Gamma:"\\Gamma",gamma:"\\gamma",Delta:"\\Delta",delta:"\\delta",Epsilon:"E",epsilon:"\\epsilon",varepsilon:"\\varepsilon",Zeta:"Z",zeta:"\\zeta",Eta:"H",eta:"\\eta",Theta:"\\Theta",theta:"\\theta",vartheta:"\\vartheta",Iota:"I",iota:"\\iota",Kappa:"K",kappa:"\\kappa",varkappa:"\\varkappa",Lambda:"\\Lambda",lambda:"\\lambda",Mu:"M",mu:"\\mu",Nu:"N",nu:"\\nu",Xi:"\\Xi",xi:"\\xi",Omicron:"O",omicron:"o",Pi:"\\Pi",pi:"\\pi",varpi:"\\varpi",Rho:"P",rho:"\\rho",varrho:"\\varrho",Sigma:"\\Sigma",sigma:"\\sigma",varsigma:"\\varsigma",Tau:"T",tau:"\\tau",Upsilon:"\\Upsilon",upsilon:"\\upsilon",Phi:"\\Phi",phi:"\\phi",varphi:"\\varphi",Chi:"X",chi:"\\chi",Psi:"\\Psi",psi:"\\psi",Omega:"\\Omega",omega:"\\omega",true:"\\mathrm{True}",false:"\\mathrm{False}",i:"i",inf:"\\infty",Inf:"\\infty",infinity:"\\infty",Infinity:"\\infty",oo:"\\infty",lim:"\\lim",undefined:"\\mathbf{?}"},or={transpose:"^\\top",ctranspose:"^H",factorial:"!",pow:"^",dotPow:".^\\wedge",unaryPlus:"+",unaryMinus:"-",bitNot:"\\~",not:"\\neg",multiply:"\\cdot",divide:"\\frac",dotMultiply:".\\cdot",dotDivide:".:",mod:"\\mod",add:"+",subtract:"-",to:"\\rightarrow",leftShift:"<<",rightArithShift:">>",rightLogShift:">>>",equal:"=",unequal:"\\neq",smaller:"<",larger:">",smallerEq:"\\leq",largerEq:"\\geq",bitAnd:"\\&",bitXor:"\\underline{|}",bitOr:"|",and:"\\wedge",xor:"\\veebar",or:"\\vee"},C1={abs:{1:"\\left|${args[0]}\\right|"},add:{2:"\\left(${args[0]}".concat(or.add,"${args[1]}\\right)")},cbrt:{1:"\\sqrt[3]{${args[0]}}"},ceil:{1:"\\left\\lceil${args[0]}\\right\\rceil"},cube:{1:"\\left(${args[0]}\\right)^3"},divide:{2:"\\frac{${args[0]}}{${args[1]}}"},dotDivide:{2:"\\left(${args[0]}".concat(or.dotDivide,"${args[1]}\\right)")},dotMultiply:{2:"\\left(${args[0]}".concat(or.dotMultiply,"${args[1]}\\right)")},dotPow:{2:"\\left(${args[0]}".concat(or.dotPow,"${args[1]}\\right)")},exp:{1:"\\exp\\left(${args[0]}\\right)"},expm1:"\\left(e".concat(or.pow,"{${args[0]}}-1\\right)"),fix:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},floor:{1:"\\left\\lfloor${args[0]}\\right\\rfloor"},gcd:"\\gcd\\left(${args}\\right)",hypot:"\\hypot\\left(${args}\\right)",log:{1:"\\ln\\left(${args[0]}\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}\\right)"},log10:{1:"\\log_{10}\\left(${args[0]}\\right)"},log1p:{1:"\\ln\\left(${args[0]}+1\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}+1\\right)"},log2:"\\log_{2}\\left(${args[0]}\\right)",mod:{2:"\\left(${args[0]}".concat(or.mod,"${args[1]}\\right)")},multiply:{2:"\\left(${args[0]}".concat(or.multiply,"${args[1]}\\right)")},norm:{1:"\\left\\|${args[0]}\\right\\|",2:void 0},nthRoot:{2:"\\sqrt[${args[1]}]{${args[0]}}"},nthRoots:{2:"\\{y : $y^{args[1]} = {${args[0]}}\\}"},pow:{2:"\\left(${args[0]}\\right)".concat(or.pow,"{${args[1]}}")},round:{1:"\\left\\lfloor${args[0]}\\right\\rceil",2:void 0},sign:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},sqrt:{1:"\\sqrt{${args[0]}}"},square:{1:"\\left(${args[0]}\\right)^2"},subtract:{2:"\\left(${args[0]}".concat(or.subtract,"${args[1]}\\right)")},unaryMinus:{1:"".concat(or.unaryMinus,"\\left(${args[0]}\\right)")},unaryPlus:{1:"".concat(or.unaryPlus,"\\left(${args[0]}\\right)")},bitAnd:{2:"\\left(${args[0]}".concat(or.bitAnd,"${args[1]}\\right)")},bitNot:{1:or.bitNot+"\\left(${args[0]}\\right)"},bitOr:{2:"\\left(${args[0]}".concat(or.bitOr,"${args[1]}\\right)")},bitXor:{2:"\\left(${args[0]}".concat(or.bitXor,"${args[1]}\\right)")},leftShift:{2:"\\left(${args[0]}".concat(or.leftShift,"${args[1]}\\right)")},rightArithShift:{2:"\\left(${args[0]}".concat(or.rightArithShift,"${args[1]}\\right)")},rightLogShift:{2:"\\left(${args[0]}".concat(or.rightLogShift,"${args[1]}\\right)")},bellNumbers:{1:"\\mathrm{B}_{${args[0]}}"},catalan:{1:"\\mathrm{C}_{${args[0]}}"},stirlingS2:{2:"\\mathrm{S}\\left(${args}\\right)"},arg:{1:"\\arg\\left(${args[0]}\\right)"},conj:{1:"\\left(${args[0]}\\right)^*"},im:{1:"\\Im\\left\\lbrace${args[0]}\\right\\rbrace"},re:{1:"\\Re\\left\\lbrace${args[0]}\\right\\rbrace"},and:{2:"\\left(${args[0]}".concat(or.and,"${args[1]}\\right)")},not:{1:or.not+"\\left(${args[0]}\\right)"},or:{2:"\\left(${args[0]}".concat(or.or,"${args[1]}\\right)")},xor:{2:"\\left(${args[0]}".concat(or.xor,"${args[1]}\\right)")},cross:{2:"\\left(${args[0]}\\right)\\times\\left(${args[1]}\\right)"},ctranspose:{1:"\\left(${args[0]}\\right)".concat(or.ctranspose)},det:{1:"\\det\\left(${args[0]}\\right)"},dot:{2:"\\left(${args[0]}\\cdot${args[1]}\\right)"},expm:{1:"\\exp\\left(${args[0]}\\right)"},inv:{1:"\\left(${args[0]}\\right)^{-1}"},pinv:{1:"\\left(${args[0]}\\right)^{+}"},sqrtm:{1:"{${args[0]}}".concat(or.pow,"{\\frac{1}{2}}")},trace:{1:"\\mathrm{tr}\\left(${args[0]}\\right)"},transpose:{1:"\\left(${args[0]}\\right)".concat(or.transpose)},combinations:{2:"\\binom{${args[0]}}{${args[1]}}"},combinationsWithRep:{2:"\\left(\\!\\!{\\binom{${args[0]}}{${args[1]}}}\\!\\!\\right)"},factorial:{1:"\\left(${args[0]}\\right)".concat(or.factorial)},gamma:{1:"\\Gamma\\left(${args[0]}\\right)"},lgamma:{1:"\\ln\\Gamma\\left(${args[0]}\\right)"},equal:{2:"\\left(${args[0]}".concat(or.equal,"${args[1]}\\right)")},larger:{2:"\\left(${args[0]}".concat(or.larger,"${args[1]}\\right)")},largerEq:{2:"\\left(${args[0]}".concat(or.largerEq,"${args[1]}\\right)")},smaller:{2:"\\left(${args[0]}".concat(or.smaller,"${args[1]}\\right)")},smallerEq:{2:"\\left(${args[0]}".concat(or.smallerEq,"${args[1]}\\right)")},unequal:{2:"\\left(${args[0]}".concat(or.unequal,"${args[1]}\\right)")},erf:{1:"erf\\left(${args[0]}\\right)"},max:"\\max\\left(${args}\\right)",min:"\\min\\left(${args}\\right)",variance:"\\mathrm{Var}\\left(${args}\\right)",acos:{1:"\\cos^{-1}\\left(${args[0]}\\right)"},acosh:{1:"\\cosh^{-1}\\left(${args[0]}\\right)"},acot:{1:"\\cot^{-1}\\left(${args[0]}\\right)"},acoth:{1:"\\coth^{-1}\\left(${args[0]}\\right)"},acsc:{1:"\\csc^{-1}\\left(${args[0]}\\right)"},acsch:{1:"\\mathrm{csch}^{-1}\\left(${args[0]}\\right)"},asec:{1:"\\sec^{-1}\\left(${args[0]}\\right)"},asech:{1:"\\mathrm{sech}^{-1}\\left(${args[0]}\\right)"},asin:{1:"\\sin^{-1}\\left(${args[0]}\\right)"},asinh:{1:"\\sinh^{-1}\\left(${args[0]}\\right)"},atan:{1:"\\tan^{-1}\\left(${args[0]}\\right)"},atan2:{2:"\\mathrm{atan2}\\left(${args}\\right)"},atanh:{1:"\\tanh^{-1}\\left(${args[0]}\\right)"},cos:{1:"\\cos\\left(${args[0]}\\right)"},cosh:{1:"\\cosh\\left(${args[0]}\\right)"},cot:{1:"\\cot\\left(${args[0]}\\right)"},coth:{1:"\\coth\\left(${args[0]}\\right)"},csc:{1:"\\csc\\left(${args[0]}\\right)"},csch:{1:"\\mathrm{csch}\\left(${args[0]}\\right)"},sec:{1:"\\sec\\left(${args[0]}\\right)"},sech:{1:"\\mathrm{sech}\\left(${args[0]}\\right)"},sin:{1:"\\sin\\left(${args[0]}\\right)"},sinh:{1:"\\sinh\\left(${args[0]}\\right)"},tan:{1:"\\tan\\left(${args[0]}\\right)"},tanh:{1:"\\tanh\\left(${args[0]}\\right)"},to:{2:"\\left(${args[0]}".concat(or.to,"${args[1]}\\right)")},numeric:function(e,t){return e.args[0].toTex()},number:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"},string:{0:'\\mathtt{""}',1:"\\mathrm{string}\\left(${args[0]}\\right)"},bignumber:{0:"0",1:"\\left(${args[0]}\\right)"},complex:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)+".concat(N1.i,"\\cdot\\left(${args[1]}\\right)\\right)")},matrix:{0:"\\begin{bmatrix}\\end{bmatrix}",1:"\\left(${args[0]}\\right)",2:"\\left(${args[0]}\\right)"},sparse:{0:"\\begin{bsparse}\\end{bsparse}",1:"\\left(${args[0]}\\right)"},unit:{1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"}},HF="\\mathrm{${name}}\\left(${args}\\right)",zF={deg:"^\\circ"};function Ym(n){return(0,$F.default)(n,{preserveFormatting:!0})}function jm(n,e){return e=typeof e=="undefined"?!1:e,e?it(zF,n)?zF[n]:"\\mathrm{"+Ym(n)+"}":it(N1,n)?N1[n]:Ym(n)}var Zm="ConstantNode",SX=["Node"],T1=C(Zm,SX,n=>{var{Node:e}=n;class t extends e{constructor(i){super(),this.value=i}get type(){return Zm}get isConstantNode(){return!0}_compile(i,a){var o=this.value;return function(){return o}}forEach(i){}map(i){return this.clone()}clone(){return new t(this.value)}_toString(i){return xt(this.value,i)}_toHTML(i){var a=this._toString(i);switch(Wt(this.value)){case"number":case"BigNumber":case"Fraction":return'<span class="math-number">'+a+"</span>";case"string":return'<span class="math-string">'+a+"</span>";case"boolean":return'<span class="math-boolean">'+a+"</span>";case"null":return'<span class="math-null-symbol">'+a+"</span>";case"undefined":return'<span class="math-undefined">'+a+"</span>";default:return'<span class="math-symbol">'+a+"</span>"}}toJSON(){return{mathjs:Zm,value:this.value}}static fromJSON(i){return new t(i.value)}_toTex(i){var a=this._toString(i),o=Wt(this.value);switch(o){case"string":return"\\mathtt{"+Ym(a)+"}";case"number":case"BigNumber":{var u=o==="BigNumber"?this.value.isFinite():isFinite(this.value);if(!u)return this.value.valueOf()<0?"-\\infty":"\\infty";var s=a.toLowerCase().indexOf("e");return s!==-1?a.substring(0,s)+"\\cdot10^{"+a.substring(s+1)+"}":a}case"Fraction":return this.value.toLatex();default:return a}}}return ar(t,"name",Zm),t},{isClass:!0,isNode:!0});var Jm="FunctionAssignmentNode",AX=["typed","Node"],F1=C(Jm,AX,n=>{var{typed:e,Node:t}=n;function r(a,o,u){var s=cr(a,o,u),l=cr(a.expr,o,u);return o==="all"||l!==null&&l<=s}class i extends t{constructor(o,u,s){if(super(),typeof o!="string")throw new TypeError('String expected for parameter "name"');if(!Array.isArray(u))throw new TypeError('Array containing strings or objects expected for parameter "params"');if(!qt(s))throw new TypeError('Node expected for parameter "expr"');if(Lm.has(o))throw new Error('Illegal function name, "'+o+'" is a reserved keyword');var l=new Set;for(var c of u){var f=typeof c=="string"?c:c.name;if(l.has(f))throw new Error('Duplicate parameter name "'.concat(f,'"'));l.add(f)}this.name=o,this.params=u.map(function(p){return p&&p.name||p}),this.types=u.map(function(p){return p&&p.type||"any"}),this.expr=s}get type(){return Jm}get isFunctionAssignmentNode(){return!0}_compile(o,u){var s=Object.create(u);Ho(this.params,function(h){s[h]=!0});var l=this.expr._compile(o,s),c=this.name,f=this.params,p=zv(this.types,","),m=c+"("+zv(this.params,", ")+")";return function(d,v,y){var _={};_[p]=function(){for(var w=Object.create(v),S=0;S<f.length;S++)w[f[S]]=arguments[S];return l(d,w,y)};var b=e(c,_);return b.syntax=m,d.set(c,b),b}}forEach(o){o(this.expr,"expr",this)}map(o){var u=this._ifNode(o(this.expr,"expr",this));return new i(this.name,this.params.slice(0),u)}clone(){return new i(this.name,this.params.slice(0),this.expr)}_toString(o){var u=o&&o.parenthesis?o.parenthesis:"keep",s=this.expr.toString(o);return r(this,u,o&&o.implicit)&&(s="("+s+")"),this.name+"("+this.params.join(", ")+") = "+s}toJSON(){var o=this.types;return{mathjs:Jm,name:this.name,params:this.params.map(function(u,s){return{name:u,type:o[s]}}),expr:this.expr}}static fromJSON(o){return new i(o.name,o.params,o.expr)}_toHTML(o){for(var u=o&&o.parenthesis?o.parenthesis:"keep",s=[],l=0;l<this.params.length;l++)s.push('<span class="math-symbol math-parameter">'+yn(this.params[l])+"</span>");var c=this.expr.toHTML(o);return r(this,u,o&&o.implicit)&&(c='<span class="math-parenthesis math-round-parenthesis">(</span>'+c+'<span class="math-parenthesis math-round-parenthesis">)</span>'),'<span class="math-function">'+yn(this.name)+'</span><span class="math-parenthesis math-round-parenthesis">(</span>'+s.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-round-parenthesis">)</span><span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+c}_toTex(o){var u=o&&o.parenthesis?o.parenthesis:"keep",s=this.expr.toTex(o);return r(this,u,o&&o.implicit)&&(s="\\left(".concat(s,"\\right)")),"\\mathrm{"+this.name+"}\\left("+this.params.map(jm).join(",")+"\\right)="+s}}return ar(i,"name",Jm),i},{isClass:!0,isNode:!0});var Xm="IndexNode",EX=["Node","size"],I1=C(Xm,EX,n=>{var{Node:e,size:t}=n;class r extends e{constructor(a,o){if(super(),this.dimensions=a,this.dotNotation=o||!1,!Array.isArray(a)||!a.every(qt))throw new TypeError('Array containing Nodes expected for parameter "dimensions"');if(this.dotNotation&&!this.isObjectProperty())throw new Error("dotNotation only applicable for object properties")}get type(){return Xm}get isIndexNode(){return!0}_compile(a,o){var u=fi(this.dimensions,function(l,c){var f=l.filter(h=>h.isSymbolNode&&h.name==="end").length>0;if(f){var p=Object.create(o);p.end=!0;var m=l._compile(a,p);return function(d,v,y){if(!rt(y)&&!Zt(y)&&!Wr(y))throw new TypeError('Cannot resolve "end": context must be a Matrix, Array, or string but is '+Wt(y));var _=t(y).valueOf(),b=Object.create(v);return b.end=_[c],m(d,b,y)}}else return l._compile(a,o)}),s=Rr(a,"index");return function(c,f,p){var m=fi(u,function(h){return h(c,f,p)});return s(...m)}}forEach(a){for(var o=0;o<this.dimensions.length;o++)a(this.dimensions[o],"dimensions["+o+"]",this)}map(a){for(var o=[],u=0;u<this.dimensions.length;u++)o[u]=this._ifNode(a(this.dimensions[u],"dimensions["+u+"]",this));return new r(o,this.dotNotation)}clone(){return new r(this.dimensions.slice(0),this.dotNotation)}isObjectProperty(){return this.dimensions.length===1&&kt(this.dimensions[0])&&typeof this.dimensions[0].value=="string"}getObjectProperty(){return this.isObjectProperty()?this.dimensions[0].value:null}_toString(a){return this.dotNotation?"."+this.getObjectProperty():"["+this.dimensions.join(", ")+"]"}toJSON(){return{mathjs:Xm,dimensions:this.dimensions,dotNotation:this.dotNotation}}static fromJSON(a){return new r(a.dimensions,a.dotNotation)}_toHTML(a){for(var o=[],u=0;u<this.dimensions.length;u++)o[u]=this.dimensions[u].toHTML();return this.dotNotation?'<span class="math-operator math-accessor-operator">.</span><span class="math-symbol math-property">'+yn(this.getObjectProperty())+"</span>":'<span class="math-parenthesis math-square-parenthesis">[</span>'+o.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'}_toTex(a){var o=this.dimensions.map(function(u){return u.toTex(a)});return this.dotNotation?"."+this.getObjectProperty():"_{"+o.join(",")+"}"}}return ar(r,"name",Xm),r},{isClass:!0,isNode:!0});var Qm="ObjectNode",DX=["Node"],P1=C(Qm,DX,n=>{var{Node:e}=n;class t extends e{constructor(i){if(super(),this.properties=i||{},i&&(typeof i!="object"||!Object.keys(i).every(function(a){return qt(i[a])})))throw new TypeError("Object containing Nodes expected")}get type(){return Qm}get isObjectNode(){return!0}_compile(i,a){var o={};for(var u in this.properties)if(it(this.properties,u)){var s=Us(u),l=JSON.parse(s),c=Rr(this.properties,u);o[l]=c._compile(i,a)}return function(p,m,h){var d={};for(var v in o)it(o,v)&&(d[v]=o[v](p,m,h));return d}}forEach(i){for(var a in this.properties)it(this.properties,a)&&i(this.properties[a],"properties["+Us(a)+"]",this)}map(i){var a={};for(var o in this.properties)it(this.properties,o)&&(a[o]=this._ifNode(i(this.properties[o],"properties["+Us(o)+"]",this)));return new t(a)}clone(){var i={};for(var a in this.properties)it(this.properties,a)&&(i[a]=this.properties[a]);return new t(i)}_toString(i){var a=[];for(var o in this.properties)it(this.properties,o)&&a.push(Us(o)+": "+this.properties[o].toString(i));return"{"+a.join(", ")+"}"}toJSON(){return{mathjs:Qm,properties:this.properties}}static fromJSON(i){return new t(i.properties)}_toHTML(i){var a=[];for(var o in this.properties)it(this.properties,o)&&a.push('<span class="math-symbol math-property">'+yn(o)+'</span><span class="math-operator math-assignment-operator math-property-assignment-operator math-binary-operator">:</span>'+this.properties[o].toHTML(i));return'<span class="math-parenthesis math-curly-parenthesis">{</span>'+a.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-curly-parenthesis">}</span>'}_toTex(i){var a=[];for(var o in this.properties)it(this.properties,o)&&a.push("\\mathbf{"+o+":} & "+this.properties[o].toTex(i)+"\\\\");var u="\\left\\{\\begin{array}{ll}"+a.join(`
`)+"\\end{array}\\right\\}";return u}}return ar(t,"name",Qm),t},{isClass:!0,isNode:!0});function js(n,e){return new Zu(n,new zs(e),new Set(Object.keys(e)))}var Km="OperatorNode",MX=["Node"],B1=C(Km,MX,n=>{var{Node:e}=n;function t(a,o){var u=a;if(o==="auto")for(;Tn(u);)u=u.content;return kt(u)?!0:Pr(u)?t(u.args[0],o):!1}function r(a,o,u,s,l){var c=cr(a,o,u),f=ul(a,o);if(o==="all"||s.length>2&&a.getIdentifier()!=="OperatorNode:add"&&a.getIdentifier()!=="OperatorNode:multiply")return s.map(function(M){switch(M.getContent().type){case"ArrayNode":case"ConstantNode":case"SymbolNode":case"ParenthesisNode":return!1;default:return!0}});var p;switch(s.length){case 0:p=[];break;case 1:{var m=cr(s[0],o,u,a);if(l&&m!==null){var h,d;if(o==="keep"?(h=s[0].getIdentifier(),d=a.getIdentifier()):(h=s[0].getContent().getIdentifier(),d=a.getContent().getIdentifier()),ea[c][d].latexLeftParens===!1){p=[!1];break}if(ea[m][h].latexParens===!1){p=[!1];break}}if(m===null){p=[!1];break}if(m<=c){p=[!0];break}p=[!1]}break;case 2:{var v,y=cr(s[0],o,u,a),_=$m(a,s[0],o);y===null?v=!1:y===c&&f==="right"&&!_||y<c?v=!0:v=!1;var b,w=cr(s[1],o,u,a),S=$m(a,s[1],o);if(w===null?b=!1:w===c&&f==="left"&&!S||w<c?b=!0:b=!1,l){var x,N,D;o==="keep"?(x=a.getIdentifier(),N=a.args[0].getIdentifier(),D=a.args[1].getIdentifier()):(x=a.getContent().getIdentifier(),N=a.args[0].getContent().getIdentifier(),D=a.args[1].getContent().getIdentifier()),y!==null&&(ea[c][x].latexLeftParens===!1&&(v=!1),ea[y][N].latexParens===!1&&(v=!1)),w!==null&&(ea[c][x].latexRightParens===!1&&(b=!1),ea[w][D].latexParens===!1&&(b=!1))}p=[v,b]}break;default:(a.getIdentifier()==="OperatorNode:add"||a.getIdentifier()==="OperatorNode:multiply")&&(p=s.map(function(M){var P=cr(M,o,u,a),O=$m(a,M,o),V=ul(M,o);return P===null?!1:c===P&&f===V&&!O?!0:P<c}));break}if(s.length>=2&&a.getIdentifier()==="OperatorNode:multiply"&&a.implicit&&o!=="all"&&u==="hide")for(var E=1;E<p.length;++E)t(s[E],o)&&!p[E-1]&&(o!=="keep"||!Tn(s[E-1]))&&(p[E]=!0);return p}class i extends e{constructor(o,u,s,l,c){if(super(),typeof o!="string")throw new TypeError('string expected for parameter "op"');if(typeof u!="string")throw new TypeError('string expected for parameter "fn"');if(!Array.isArray(s)||!s.every(qt))throw new TypeError('Array containing Nodes expected for parameter "args"');this.implicit=l===!0,this.isPercentage=c===!0,this.op=o,this.fn=u,this.args=s||[]}get type(){return Km}get isOperatorNode(){return!0}_compile(o,u){if(typeof this.fn!="string"||!cm(o,this.fn))throw o[this.fn]?new Error('No access to function "'+this.fn+'"'):new Error("Function "+this.fn+' missing in provided namespace "math"');var s=Rr(o,this.fn),l=fi(this.args,function(h){return h._compile(o,u)});if(typeof s=="function"&&s.rawArgs===!0){var c=this.args;return function(d,v,y){return s(c,o,js(d,v))}}else if(l.length===1){var f=l[0];return function(d,v,y){return s(f(d,v,y))}}else if(l.length===2){var p=l[0],m=l[1];return function(d,v,y){return s(p(d,v,y),m(d,v,y))}}else return function(d,v,y){return s.apply(null,fi(l,function(_){return _(d,v,y)}))}}forEach(o){for(var u=0;u<this.args.length;u++)o(this.args[u],"args["+u+"]",this)}map(o){for(var u=[],s=0;s<this.args.length;s++)u[s]=this._ifNode(o(this.args[s],"args["+s+"]",this));return new i(this.op,this.fn,u,this.implicit,this.isPercentage)}clone(){return new i(this.op,this.fn,this.args.slice(0),this.implicit,this.isPercentage)}isUnary(){return this.args.length===1}isBinary(){return this.args.length===2}_toString(o){var u=o&&o.parenthesis?o.parenthesis:"keep",s=o&&o.implicit?o.implicit:"hide",l=this.args,c=r(this,u,s,l,!1);if(l.length===1){var f=ul(this,u),p=l[0].toString(o);c[0]&&(p="("+p+")");var m=/[a-zA-Z]+/.test(this.op);return f==="right"?this.op+(m?" ":"")+p:f==="left"?p+(m?" ":"")+this.op:p+this.op}else if(l.length===2){var h=l[0].toString(o),d=l[1].toString(o);return c[0]&&(h="("+h+")"),c[1]&&(d="("+d+")"),this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&s==="hide"?h+" "+d:h+" "+this.op+" "+d}else if(l.length>2&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")){var v=l.map(function(y,_){return y=y.toString(o),c[_]&&(y="("+y+")"),y});return this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&s==="hide"?v.join(" "):v.join(" "+this.op+" ")}else return this.fn+"("+this.args.join(", ")+")"}toJSON(){return{mathjs:Km,op:this.op,fn:this.fn,args:this.args,implicit:this.implicit,isPercentage:this.isPercentage}}static fromJSON(o){return new i(o.op,o.fn,o.args,o.implicit,o.isPercentage)}_toHTML(o){var u=o&&o.parenthesis?o.parenthesis:"keep",s=o&&o.implicit?o.implicit:"hide",l=this.args,c=r(this,u,s,l,!1);if(l.length===1){var f=ul(this,u),p=l[0].toHTML(o);return c[0]&&(p='<span class="math-parenthesis math-round-parenthesis">(</span>'+p+'<span class="math-parenthesis math-round-parenthesis">)</span>'),f==="right"?'<span class="math-operator math-unary-operator math-lefthand-unary-operator">'+yn(this.op)+"</span>"+p:p+'<span class="math-operator math-unary-operator math-righthand-unary-operator">'+yn(this.op)+"</span>"}else if(l.length===2){var m=l[0].toHTML(o),h=l[1].toHTML(o);return c[0]&&(m='<span class="math-parenthesis math-round-parenthesis">(</span>'+m+'<span class="math-parenthesis math-round-parenthesis">)</span>'),c[1]&&(h='<span class="math-parenthesis math-round-parenthesis">(</span>'+h+'<span class="math-parenthesis math-round-parenthesis">)</span>'),this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&s==="hide"?m+'<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'+h:m+'<span class="math-operator math-binary-operator math-explicit-binary-operator">'+yn(this.op)+"</span>"+h}else{var d=l.map(function(v,y){return v=v.toHTML(o),c[y]&&(v='<span class="math-parenthesis math-round-parenthesis">(</span>'+v+'<span class="math-parenthesis math-round-parenthesis">)</span>'),v});return l.length>2&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")?this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&s==="hide"?d.join('<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'):d.join('<span class="math-operator math-binary-operator math-explicit-binary-operator">'+yn(this.op)+"</span>"):'<span class="math-function">'+yn(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+d.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'}}_toTex(o){var u=o&&o.parenthesis?o.parenthesis:"keep",s=o&&o.implicit?o.implicit:"hide",l=this.args,c=r(this,u,s,l,!0),f=or[this.fn];if(f=typeof f=="undefined"?this.op:f,l.length===1){var p=ul(this,u),m=l[0].toTex(o);return c[0]&&(m="\\left(".concat(m,"\\right)")),p==="right"?f+m:m+f}else if(l.length===2){var h=l[0],d=h.toTex(o);c[0]&&(d="\\left(".concat(d,"\\right)"));var v=l[1],y=v.toTex(o);c[1]&&(y="\\left(".concat(y,"\\right)"));var _;switch(u==="keep"?_=h.getIdentifier():_=h.getContent().getIdentifier(),this.getIdentifier()){case"OperatorNode:divide":return f+"{"+d+"}{"+y+"}";case"OperatorNode:pow":switch(d="{"+d+"}",y="{"+y+"}",_){case"ConditionalNode":case"OperatorNode:divide":d="\\left(".concat(d,"\\right)")}break;case"OperatorNode:multiply":if(this.implicit&&s==="hide")return d+"~"+y}return d+f+y}else if(l.length>2&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")){var b=l.map(function(w,S){return w=w.toTex(o),c[S]&&(w="\\left(".concat(w,"\\right)")),w});return this.getIdentifier()==="OperatorNode:multiply"&&this.implicit&&s==="hide"?b.join("~"):b.join(f)}else return"\\mathrm{"+this.fn+"}\\left("+l.map(function(w){return w.toTex(o)}).join(",")+"\\right)"}getIdentifier(){return this.type+":"+this.fn}}return ar(i,"name",Km),i},{isClass:!0,isNode:!0});var ed="ParenthesisNode",NX=["Node"],O1=C(ed,NX,n=>{var{Node:e}=n;class t extends e{constructor(i){if(super(),!qt(i))throw new TypeError('Node expected for parameter "content"');this.content=i}get type(){return ed}get isParenthesisNode(){return!0}_compile(i,a){return this.content._compile(i,a)}getContent(){return this.content.getContent()}forEach(i){i(this.content,"content",this)}map(i){var a=i(this.content,"content",this);return new t(a)}clone(){return new t(this.content)}_toString(i){return!i||i&&!i.parenthesis||i&&i.parenthesis==="keep"?"("+this.content.toString(i)+")":this.content.toString(i)}toJSON(){return{mathjs:ed,content:this.content}}static fromJSON(i){return new t(i.content)}_toHTML(i){return!i||i&&!i.parenthesis||i&&i.parenthesis==="keep"?'<span class="math-parenthesis math-round-parenthesis">(</span>'+this.content.toHTML(i)+'<span class="math-parenthesis math-round-parenthesis">)</span>':this.content.toHTML(i)}_toTex(i){return!i||i&&!i.parenthesis||i&&i.parenthesis==="keep"?"\\left(".concat(this.content.toTex(i),"\\right)"):this.content.toTex(i)}}return ar(t,"name",ed),t},{isClass:!0,isNode:!0});var td="RangeNode",CX=["Node"],k1=C(td,CX,n=>{var{Node:e}=n;function t(i,a,o){var u=cr(i,a,o),s={},l=cr(i.start,a,o);if(s.start=l!==null&&l<=u||a==="all",i.step){var c=cr(i.step,a,o);s.step=c!==null&&c<=u||a==="all"}var f=cr(i.end,a,o);return s.end=f!==null&&f<=u||a==="all",s}class r extends e{constructor(a,o,u){if(super(),!qt(a))throw new TypeError("Node expected");if(!qt(o))throw new TypeError("Node expected");if(u&&!qt(u))throw new TypeError("Node expected");if(arguments.length>3)throw new Error("Too many arguments");this.start=a,this.end=o,this.step=u||null}get type(){return td}get isRangeNode(){return!0}needsEnd(){var a=this.filter(function(o){return Ar(o)&&o.name==="end"});return a.length>0}_compile(a,o){var u=a.range,s=this.start._compile(a,o),l=this.end._compile(a,o);if(this.step){var c=this.step._compile(a,o);return function(p,m,h){return u(s(p,m,h),l(p,m,h),c(p,m,h))}}else return function(p,m,h){return u(s(p,m,h),l(p,m,h))}}forEach(a){a(this.start,"start",this),a(this.end,"end",this),this.step&&a(this.step,"step",this)}map(a){return new r(this._ifNode(a(this.start,"start",this)),this._ifNode(a(this.end,"end",this)),this.step&&this._ifNode(a(this.step,"step",this)))}clone(){return new r(this.start,this.end,this.step&&this.step)}_toString(a){var o=a&&a.parenthesis?a.parenthesis:"keep",u=t(this,o,a&&a.implicit),s,l=this.start.toString(a);if(u.start&&(l="("+l+")"),s=l,this.step){var c=this.step.toString(a);u.step&&(c="("+c+")"),s+=":"+c}var f=this.end.toString(a);return u.end&&(f="("+f+")"),s+=":"+f,s}toJSON(){return{mathjs:td,start:this.start,end:this.end,step:this.step}}static fromJSON(a){return new r(a.start,a.end,a.step)}_toHTML(a){var o=a&&a.parenthesis?a.parenthesis:"keep",u=t(this,o,a&&a.implicit),s,l=this.start.toHTML(a);if(u.start&&(l='<span class="math-parenthesis math-round-parenthesis">(</span>'+l+'<span class="math-parenthesis math-round-parenthesis">)</span>'),s=l,this.step){var c=this.step.toHTML(a);u.step&&(c='<span class="math-parenthesis math-round-parenthesis">(</span>'+c+'<span class="math-parenthesis math-round-parenthesis">)</span>'),s+='<span class="math-operator math-range-operator">:</span>'+c}var f=this.end.toHTML(a);return u.end&&(f='<span class="math-parenthesis math-round-parenthesis">(</span>'+f+'<span class="math-parenthesis math-round-parenthesis">)</span>'),s+='<span class="math-operator math-range-operator">:</span>'+f,s}_toTex(a){var o=a&&a.parenthesis?a.parenthesis:"keep",u=t(this,o,a&&a.implicit),s=this.start.toTex(a);if(u.start&&(s="\\left(".concat(s,"\\right)")),this.step){var l=this.step.toTex(a);u.step&&(l="\\left(".concat(l,"\\right)")),s+=":"+l}var c=this.end.toTex(a);return u.end&&(c="\\left(".concat(c,"\\right)")),s+=":"+c,s}}return ar(r,"name",td),r},{isClass:!0,isNode:!0});var rd="RelationalNode",TX=["Node"],R1=C(rd,TX,n=>{var{Node:e}=n,t={equal:"==",unequal:"!=",smaller:"<",larger:">",smallerEq:"<=",largerEq:">="};class r extends e{constructor(a,o){if(super(),!Array.isArray(a))throw new TypeError("Parameter conditionals must be an array");if(!Array.isArray(o))throw new TypeError("Parameter params must be an array");if(a.length!==o.length-1)throw new TypeError("Parameter params must contain exactly one more element than parameter conditionals");this.conditionals=a,this.params=o}get type(){return rd}get isRelationalNode(){return!0}_compile(a,o){var u=this,s=this.params.map(l=>l._compile(a,o));return function(c,f,p){for(var m,h=s[0](c,f,p),d=0;d<u.conditionals.length;d++){m=h,h=s[d+1](c,f,p);var v=Rr(a,u.conditionals[d]);if(!v(m,h))return!1}return!0}}forEach(a){this.params.forEach((o,u)=>a(o,"params["+u+"]",this),this)}map(a){return new r(this.conditionals.slice(),this.params.map((o,u)=>this._ifNode(a(o,"params["+u+"]",this)),this))}clone(){return new r(this.conditionals,this.params)}_toString(a){for(var o=a&&a.parenthesis?a.parenthesis:"keep",u=cr(this,o,a&&a.implicit),s=this.params.map(function(f,p){var m=cr(f,o,a&&a.implicit);return o==="all"||m!==null&&m<=u?"("+f.toString(a)+")":f.toString(a)}),l=s[0],c=0;c<this.conditionals.length;c++)l+=" "+t[this.conditionals[c]],l+=" "+s[c+1];return l}toJSON(){return{mathjs:rd,conditionals:this.conditionals,params:this.params}}static fromJSON(a){return new r(a.conditionals,a.params)}_toHTML(a){for(var o=a&&a.parenthesis?a.parenthesis:"keep",u=cr(this,o,a&&a.implicit),s=this.params.map(function(f,p){var m=cr(f,o,a&&a.implicit);return o==="all"||m!==null&&m<=u?'<span class="math-parenthesis math-round-parenthesis">(</span>'+f.toHTML(a)+'<span class="math-parenthesis math-round-parenthesis">)</span>':f.toHTML(a)}),l=s[0],c=0;c<this.conditionals.length;c++)l+='<span class="math-operator math-binary-operator math-explicit-binary-operator">'+yn(t[this.conditionals[c]])+"</span>"+s[c+1];return l}_toTex(a){for(var o=a&&a.parenthesis?a.parenthesis:"keep",u=cr(this,o,a&&a.implicit),s=this.params.map(function(f,p){var m=cr(f,o,a&&a.implicit);return o==="all"||m!==null&&m<=u?"\\left("+f.toTex(a)+"\right)":f.toTex(a)}),l=s[0],c=0;c<this.conditionals.length;c++)l+=or[this.conditionals[c]]+s[c+1];return l}}return ar(r,"name",rd),r},{isClass:!0,isNode:!0});var FX="SymbolNode",IX=["math","?Unit","Node"],L1=C(FX,IX,n=>{var{math:e,Unit:t,Node:r}=n;function i(o){return t?t.isValuelessUnit(o):!1}class a extends r{constructor(u){if(super(),typeof u!="string")throw new TypeError('String expected for parameter "name"');this.name=u}get type(){return"SymbolNode"}get isSymbolNode(){return!0}_compile(u,s){var l=this.name;if(s[l]===!0)return function(f,p,m){return Rr(p,l)};if(l in u)return function(f,p,m){return f.has(l)?f.get(l):Rr(u,l)};var c=i(l);return function(f,p,m){return f.has(l)?f.get(l):c?new t(null,l):a.onUndefinedSymbol(l)}}forEach(u){}map(u){return this.clone()}static onUndefinedSymbol(u){throw new Error("Undefined symbol "+u)}clone(){return new a(this.name)}_toString(u){return this.name}_toHTML(u){var s=yn(this.name);return s==="true"||s==="false"?'<span class="math-symbol math-boolean">'+s+"</span>":s==="i"?'<span class="math-symbol math-imaginary-symbol">'+s+"</span>":s==="Infinity"?'<span class="math-symbol math-infinity-symbol">'+s+"</span>":s==="NaN"?'<span class="math-symbol math-nan-symbol">'+s+"</span>":s==="null"?'<span class="math-symbol math-null-symbol">'+s+"</span>":s==="undefined"?'<span class="math-symbol math-undefined-symbol">'+s+"</span>":'<span class="math-symbol">'+s+"</span>"}toJSON(){return{mathjs:"SymbolNode",name:this.name}}static fromJSON(u){return new a(u.name)}_toTex(u){var s=!1;typeof e[this.name]=="undefined"&&i(this.name)&&(s=!0);var l=jm(this.name,s);return l[0]==="\\"?l:" "+l}}return a},{isClass:!0,isNode:!0});var nd="FunctionNode",PX=["math","Node","SymbolNode"],V1=C(nd,PX,n=>{var e,{math:t,Node:r,SymbolNode:i}=n,a=s=>xt(s,{truncate:78});function o(s,l,c){for(var f="",p=/\$(?:\{([a-z_][a-z_0-9]*)(?:\[([0-9]+)\])?\}|\$)/gi,m=0,h;(h=p.exec(s))!==null;)if(f+=s.substring(m,h.index),m=h.index,h[0]==="$$")f+="$",m++;else{m+=h[0].length;var d=l[h[1]];if(!d)throw new ReferenceError("Template: Property "+h[1]+" does not exist.");if(h[2]===void 0)switch(typeof d){case"string":f+=d;break;case"object":if(qt(d))f+=d.toTex(c);else if(Array.isArray(d))f+=d.map(function(v,y){if(qt(v))return v.toTex(c);throw new TypeError("Template: "+h[1]+"["+y+"] is not a Node.")}).join(",");else throw new TypeError("Template: "+h[1]+" has to be a Node, String or array of Nodes");break;default:throw new TypeError("Template: "+h[1]+" has to be a Node, String or array of Nodes")}else if(qt(d[h[2]]&&d[h[2]]))f+=d[h[2]].toTex(c);else throw new TypeError("Template: "+h[1]+"["+h[2]+"] is not a Node.")}return f+=s.slice(m),f}class u extends r{constructor(l,c){if(super(),typeof l=="string"&&(l=new i(l)),!qt(l))throw new TypeError('Node expected as parameter "fn"');if(!Array.isArray(c)||!c.every(qt))throw new TypeError('Array containing Nodes expected for parameter "args"');this.fn=l,this.args=c||[]}get name(){return this.fn.name||""}get type(){return nd}get isFunctionNode(){return!0}_compile(l,c){var f=this.args.map(D=>D._compile(l,c));if(Ar(this.fn)){var p=this.fn.name;if(c[p]){var y=this.args;return function(E,M,P){var O=Rr(M,p);if(typeof O!="function")throw new TypeError("Argument '".concat(p,"' was not a function; received: ").concat(a(O)));if(O.rawArgs)return O(y,l,js(E,M));var V=f.map(z=>z(E,M,P));return O.apply(O,V)}}else{var m=p in l?Rr(l,p):void 0,h=typeof m=="function"&&m.rawArgs===!0,d=D=>{var E;if(D.has(p))E=D.get(p);else if(p in l)E=Rr(l,p);else return u.onUndefinedFunction(p);if(typeof E=="function")return E;throw new TypeError("'".concat(p,`' is not a function; its value is:
  `).concat(a(E)))};if(h){var v=this.args;return function(E,M,P){var O=d(E);return O(v,l,js(E,M))}}else switch(f.length){case 0:return function(E,M,P){var O=d(E);return O()};case 1:return function(E,M,P){var O=d(E),V=f[0];return O(V(E,M,P))};case 2:return function(E,M,P){var O=d(E),V=f[0],z=f[1];return O(V(E,M,P),z(E,M,P))};default:return function(E,M,P){var O=d(E),V=f.map(z=>z(E,M,P));return O(...V)}}}}else if(Ti(this.fn)&&ji(this.fn.index)&&this.fn.index.isObjectProperty()){var _=this.fn.object._compile(l,c),b=this.fn.index.getObjectProperty(),w=this.args;return function(E,M,P){var O=_(E,M,P),V=tC(O,b);if(V!=null&&V.rawArgs)return V(w,l,js(E,M));var z=f.map(L=>L(E,M,P));return V.apply(O,z)}}else{var S=this.fn.toString(),x=this.fn._compile(l,c),N=this.args;return function(E,M,P){var O=x(E,M,P);if(typeof O!="function")throw new TypeError("Expression '".concat(S,"' did not evaluate to a function; value is:")+`
  `.concat(a(O)));if(O.rawArgs)return O(N,l,js(E,M));var V=f.map(z=>z(E,M,P));return O.apply(O,V)}}}forEach(l){l(this.fn,"fn",this);for(var c=0;c<this.args.length;c++)l(this.args[c],"args["+c+"]",this)}map(l){for(var c=this._ifNode(l(this.fn,"fn",this)),f=[],p=0;p<this.args.length;p++)f[p]=this._ifNode(l(this.args[p],"args["+p+"]",this));return new u(c,f)}clone(){return new u(this.fn,this.args.slice(0))}toString(l){var c,f=this.fn.toString(l);return l&&typeof l.handler=="object"&&it(l.handler,f)&&(c=l.handler[f](this,l)),typeof c!="undefined"?c:super.toString(l)}_toString(l){var c=this.args.map(function(p){return p.toString(l)}),f=Ba(this.fn)?"("+this.fn.toString(l)+")":this.fn.toString(l);return f+"("+c.join(", ")+")"}toJSON(){return{mathjs:nd,fn:this.fn,args:this.args}}_toHTML(l){var c=this.args.map(function(f){return f.toHTML(l)});return'<span class="math-function">'+yn(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+c.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'}toTex(l){var c;return l&&typeof l.handler=="object"&&it(l.handler,this.name)&&(c=l.handler[this.name](this,l)),typeof c!="undefined"?c:super.toTex(l)}_toTex(l){var c=this.args.map(function(m){return m.toTex(l)}),f;C1[this.name]&&(f=C1[this.name]),t[this.name]&&(typeof t[this.name].toTex=="function"||typeof t[this.name].toTex=="object"||typeof t[this.name].toTex=="string")&&(f=t[this.name].toTex);var p;switch(typeof f){case"function":p=f(this,l);break;case"string":p=o(f,this,l);break;case"object":switch(typeof f[c.length]){case"function":p=f[c.length](this,l);break;case"string":p=o(f[c.length],this,l);break}}return typeof p!="undefined"?p:o(HF,this,l)}getIdentifier(){return this.type+":"+this.name}}return e=u,ar(u,"name",nd),ar(u,"onUndefinedFunction",function(s){throw new Error("Undefined function "+s)}),ar(u,"fromJSON",function(s){return new e(s.fn,s.args)}),u},{isClass:!0,isNode:!0});var GF="parse",BX=["typed","numeric","config","AccessorNode","ArrayNode","AssignmentNode","BlockNode","ConditionalNode","ConstantNode","FunctionAssignmentNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","RangeNode","RelationalNode","SymbolNode"],U1=C(GF,BX,n=>{var{typed:e,numeric:t,config:r,AccessorNode:i,ArrayNode:a,AssignmentNode:o,BlockNode:u,ConditionalNode:s,ConstantNode:l,FunctionAssignmentNode:c,FunctionNode:f,IndexNode:p,ObjectNode:m,OperatorNode:h,ParenthesisNode:d,RangeNode:v,RelationalNode:y,SymbolNode:_}=n,b=e(GF,{string:function(J){return ee(J,{})},"Array | Matrix":function(J){return w(J,{})},"string, Object":function(J,ye){var Le=ye.nodes!==void 0?ye.nodes:{};return ee(J,Le)},"Array | Matrix, Object":w});function w(F){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ye=J.nodes!==void 0?J.nodes:{};return at(F,function(Le){if(typeof Le!="string")throw new TypeError("String expected");return ee(Le,ye)})}var S={NULL:0,DELIMITER:1,NUMBER:2,SYMBOL:3,UNKNOWN:4},x={",":!0,"(":!0,")":!0,"[":!0,"]":!0,"{":!0,"}":!0,'"':!0,"'":!0,";":!0,"+":!0,"-":!0,"*":!0,".*":!0,"/":!0,"./":!0,"%":!0,"^":!0,".^":!0,"~":!0,"!":!0,"&":!0,"|":!0,"^|":!0,"=":!0,":":!0,"?":!0,"==":!0,"!=":!0,"<":!0,">":!0,"<=":!0,">=":!0,"<<":!0,">>":!0,">>>":!0},N={mod:!0,to:!0,in:!0,and:!0,xor:!0,or:!0,not:!0},D={true:!0,false:!1,null:null,undefined:void 0},E=["NaN","Infinity"],M={'"':'"',"'":"'","\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"};function P(){return{extraNodes:{},expression:"",comment:"",index:0,token:"",tokenType:S.NULL,nestingLevel:0,conditionalLevel:null}}function O(F,J){return F.expression.substr(F.index,J)}function V(F){return O(F,1)}function z(F){F.index++}function L(F){return F.expression.charAt(F.index-1)}function B(F){return F.expression.charAt(F.index+1)}function T(F){for(F.tokenType=S.NULL,F.token="",F.comment="";;){if(V(F)==="#")for(;V(F)!==`
`&&V(F)!=="";)F.comment+=V(F),z(F);if(b.isWhitespace(V(F),F.nestingLevel))z(F);else break}if(V(F)===""){F.tokenType=S.DELIMITER;return}if(V(F)===`
`&&!F.nestingLevel){F.tokenType=S.DELIMITER,F.token=V(F),z(F);return}var J=V(F),ye=O(F,2),Le=O(F,3);if(Le.length===3&&x[Le]){F.tokenType=S.DELIMITER,F.token=Le,z(F),z(F),z(F);return}if(ye.length===2&&x[ye]){F.tokenType=S.DELIMITER,F.token=ye,z(F),z(F);return}if(x[J]){F.tokenType=S.DELIMITER,F.token=J,z(F);return}if(b.isDigitDot(J)){F.tokenType=S.NUMBER;var ut=O(F,2);if(ut==="0b"||ut==="0o"||ut==="0x"){for(F.token+=V(F),z(F),F.token+=V(F),z(F);b.isHexDigit(V(F));)F.token+=V(F),z(F);if(V(F)===".")for(F.token+=".",z(F);b.isHexDigit(V(F));)F.token+=V(F),z(F);else if(V(F)==="i")for(F.token+="i",z(F);b.isDigit(V(F));)F.token+=V(F),z(F);return}if(V(F)==="."){if(F.token+=V(F),z(F),!b.isDigit(V(F))){F.tokenType=S.DELIMITER;return}}else{for(;b.isDigit(V(F));)F.token+=V(F),z(F);b.isDecimalMark(V(F),B(F))&&(F.token+=V(F),z(F))}for(;b.isDigit(V(F));)F.token+=V(F),z(F);if(V(F)==="E"||V(F)==="e"){if(b.isDigit(B(F))||B(F)==="-"||B(F)==="+"){if(F.token+=V(F),z(F),(V(F)==="+"||V(F)==="-")&&(F.token+=V(F),z(F)),!b.isDigit(V(F)))throw qe(F,'Digit expected, got "'+V(F)+'"');for(;b.isDigit(V(F));)F.token+=V(F),z(F);if(b.isDecimalMark(V(F),B(F)))throw qe(F,'Digit expected, got "'+V(F)+'"')}else if(B(F)===".")throw z(F),qe(F,'Digit expected, got "'+V(F)+'"')}return}if(b.isAlpha(V(F),L(F),B(F))){for(;b.isAlpha(V(F),L(F),B(F))||b.isDigit(V(F));)F.token+=V(F),z(F);it(N,F.token)?F.tokenType=S.DELIMITER:F.tokenType=S.SYMBOL;return}for(F.tokenType=S.UNKNOWN;V(F)!=="";)F.token+=V(F),z(F);throw qe(F,'Syntax error in part "'+F.token+'"')}function G(F){do T(F);while(F.token===`
`)}function R(F){F.nestingLevel++}function oe(F){F.nestingLevel--}b.isAlpha=function(J,ye,Le){return b.isValidLatinOrGreek(J)||b.isValidMathSymbol(J,Le)||b.isValidMathSymbol(ye,J)},b.isValidLatinOrGreek=function(J){return/^[a-zA-Z_$\u00C0-\u02AF\u0370-\u03FF\u2100-\u214F]$/.test(J)},b.isValidMathSymbol=function(J,ye){return/^[\uD835]$/.test(J)&&/^[\uDC00-\uDFFF]$/.test(ye)&&/^[^\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDFCC\uDFCD]$/.test(ye)},b.isWhitespace=function(J,ye){return J===" "||J==="	"||J===`
`&&ye>0},b.isDecimalMark=function(J,ye){return J==="."&&ye!=="/"&&ye!=="*"&&ye!=="^"},b.isDigitDot=function(J){return J>="0"&&J<="9"||J==="."},b.isDigit=function(J){return J>="0"&&J<="9"},b.isHexDigit=function(J){return J>="0"&&J<="9"||J>="a"&&J<="f"||J>="A"&&J<="F"};function ee(F,J){var ye=P();kr(ye,{expression:F,extraNodes:J}),T(ye);var Le=H(ye);if(ye.token!=="")throw ye.tokenType===S.DELIMITER?Ge(ye,"Unexpected operator "+ye.token):qe(ye,'Unexpected part "'+ye.token+'"');return Le}function H(F){var J,ye=[],Le;for(F.token!==""&&F.token!==`
`&&F.token!==";"&&(J=U(F),F.comment&&(J.comment=F.comment));F.token===`
`||F.token===";";)ye.length===0&&J&&(Le=F.token!==";",ye.push({node:J,visible:Le})),T(F),F.token!==`
`&&F.token!==";"&&F.token!==""&&(J=U(F),F.comment&&(J.comment=F.comment),Le=F.token!==";",ye.push({node:J,visible:Le}));return ye.length>0?new u(ye):(J||(J=new l(void 0),F.comment&&(J.comment=F.comment)),J)}function U(F){var J,ye,Le,ut,bt=fe(F);if(F.token==="="){if(Ar(bt))return J=bt.name,G(F),Le=U(F),new o(new _(J),Le);if(Ti(bt))return G(F),Le=U(F),new o(bt.object,bt.index,Le);if(oi(bt)&&Ar(bt.fn)&&(ut=!0,ye=[],J=bt.name,bt.args.forEach(function(Ze,Kn){Ar(Ze)?ye[Kn]=Ze.name:ut=!1}),ut))return G(F),Le=U(F),new c(J,ye,Le);throw qe(F,"Invalid left hand side of assignment operator =")}return bt}function fe(F){for(var J=De(F);F.token==="?";){var ye=F.conditionalLevel;F.conditionalLevel=F.nestingLevel,G(F);var Le=J,ut=U(F);if(F.token!==":")throw qe(F,"False part of conditional expression expected");F.conditionalLevel=null,G(F);var bt=U(F);J=new s(Le,ut,bt),F.conditionalLevel=ye}return J}function De(F){for(var J=me(F);F.token==="or";)G(F),J=new h("or","or",[J,me(F)]);return J}function me(F){for(var J=ve(F);F.token==="xor";)G(F),J=new h("xor","xor",[J,ve(F)]);return J}function ve(F){for(var J=Ae(F);F.token==="and";)G(F),J=new h("and","and",[J,Ae(F)]);return J}function Ae(F){for(var J=be(F);F.token==="|";)G(F),J=new h("|","bitOr",[J,be(F)]);return J}function be(F){for(var J=we(F);F.token==="^|";)G(F),J=new h("^|","bitXor",[J,we(F)]);return J}function we(F){for(var J=Se(F);F.token==="&";)G(F),J=new h("&","bitAnd",[J,Se(F)]);return J}function Se(F){for(var J=[Me(F)],ye=[],Le={"==":"equal","!=":"unequal","<":"smaller",">":"larger","<=":"smallerEq",">=":"largerEq"};it(Le,F.token);){var ut={name:F.token,fn:Le[F.token]};ye.push(ut),G(F),J.push(Me(F))}return J.length===1?J[0]:J.length===2?new h(ye[0].name,ye[0].fn,J):new y(ye.map(bt=>bt.fn),J)}function Me(F){var J,ye,Le,ut;J=Ie(F);for(var bt={"<<":"leftShift",">>":"rightArithShift",">>>":"rightLogShift"};it(bt,F.token);)ye=F.token,Le=bt[ye],G(F),ut=[J,Ie(F)],J=new h(ye,Le,ut);return J}function Ie(F){var J,ye,Le,ut;J=et(F);for(var bt={to:"to",in:"to"};it(bt,F.token);)ye=F.token,Le=bt[ye],G(F),ye==="in"&&F.token===""?J=new h("*","multiply",[J,new _("in")],!0):(ut=[J,et(F)],J=new h(ye,Le,ut));return J}function et(F){var J,ye=[];if(F.token===":"?J=new l(1):J=X(F),F.token===":"&&F.conditionalLevel!==F.nestingLevel){for(ye.push(J);F.token===":"&&ye.length<3;)G(F),F.token===")"||F.token==="]"||F.token===","||F.token===""?ye.push(new _("end")):ye.push(X(F));ye.length===3?J=new v(ye[0],ye[2],ye[1]):J=new v(ye[0],ye[1])}return J}function X(F){var J,ye,Le,ut;J=re(F);for(var bt={"+":"add","-":"subtract"};it(bt,F.token);){ye=F.token,Le=bt[ye],G(F);var Ze=re(F);Ze.isPercentage?ut=[J,new h("*","multiply",[J,Ze])]:ut=[J,Ze],J=new h(ye,Le,ut)}return J}function re(F){var J,ye,Le,ut;J=xe(F),ye=J;for(var bt={"*":"multiply",".*":"dotMultiply","/":"divide","./":"dotDivide"};it(bt,F.token);)Le=F.token,ut=bt[Le],G(F),ye=xe(F),J=new h(Le,ut,[J,ye]);return J}function xe(F){var J,ye;for(J=W(F),ye=J;F.tokenType===S.SYMBOL||F.token==="in"&&kt(J)||F.tokenType===S.NUMBER&&!kt(ye)&&(!Pr(ye)||ye.op==="!")||F.token==="(";)ye=W(F),J=new h("*","multiply",[J,ye],!0);return J}function W(F){for(var J=ne(F),ye=J,Le=[];F.token==="/"&&lc(ye);)if(Le.push(kr({},F)),G(F),F.tokenType===S.NUMBER)if(Le.push(kr({},F)),G(F),F.tokenType===S.SYMBOL||F.token==="(")kr(F,Le.pop()),Le.pop(),ye=ne(F),J=new h("/","divide",[J,ye]);else{Le.pop(),kr(F,Le.pop());break}else{kr(F,Le.pop());break}return J}function ne(F){var J,ye,Le,ut;J=ue(F);for(var bt={"%":"mod",mod:"mod"};it(bt,F.token);)ye=F.token,Le=bt[ye],G(F),ye==="%"&&F.tokenType===S.DELIMITER&&F.token!=="("?J=new h("/","divide",[J,new l(100)],!1,!0):(ut=[J,ue(F)],J=new h(ye,Le,ut));return J}function ue(F){var J,ye,Le,ut={"-":"unaryMinus","+":"unaryPlus","~":"bitNot",not:"not"};return it(ut,F.token)?(Le=ut[F.token],J=F.token,G(F),ye=[ue(F)],new h(J,Le,ye)):Ne(F)}function Ne(F){var J,ye,Le,ut;return J=Ce(F),(F.token==="^"||F.token===".^")&&(ye=F.token,Le=ye==="^"?"pow":"dotPow",G(F),ut=[J,ue(F)],J=new h(ye,Le,ut)),J}function Ce(F){var J,ye,Le,ut;J=Ye(F);for(var bt={"!":"factorial","'":"ctranspose"};it(bt,F.token);)ye=F.token,Le=bt[ye],T(F),ut=[J],J=new h(ye,Le,ut),J=Qe(F,J);return J}function Ye(F){var J=[];if(F.tokenType===S.SYMBOL&&it(F.extraNodes,F.token)){var ye=F.extraNodes[F.token];if(T(F),F.token==="("){if(J=[],R(F),T(F),F.token!==")")for(J.push(U(F));F.token===",";)T(F),J.push(U(F));if(F.token!==")")throw qe(F,"Parenthesis ) expected");oe(F),T(F)}return new ye(J)}return Fe(F)}function Fe(F){var J,ye;return F.tokenType===S.SYMBOL||F.tokenType===S.DELIMITER&&F.token in N?(ye=F.token,T(F),it(D,ye)?J=new l(D[ye]):E.indexOf(ye)!==-1?J=new l(t(ye,"number")):J=new _(ye),J=Qe(F,J),J):wt(F)}function Qe(F,J,ye){for(var Le;(F.token==="("||F.token==="["||F.token===".")&&(!ye||ye.indexOf(F.token)!==-1);)if(Le=[],F.token==="(")if(Ar(J)||Ti(J)){if(R(F),T(F),F.token!==")")for(Le.push(U(F));F.token===",";)T(F),Le.push(U(F));if(F.token!==")")throw qe(F,"Parenthesis ) expected");oe(F),T(F),J=new f(J,Le)}else return J;else if(F.token==="["){if(R(F),T(F),F.token!=="]")for(Le.push(U(F));F.token===",";)T(F),Le.push(U(F));if(F.token!=="]")throw qe(F,"Parenthesis ] expected");oe(F),T(F),J=new i(J,new p(Le))}else{T(F);var ut=F.tokenType===S.SYMBOL||F.tokenType===S.DELIMITER&&F.token in N;if(!ut)throw qe(F,"Property name expected after dot");Le.push(new l(F.token)),T(F);var bt=!0;J=new i(J,new p(Le,bt))}return J}function wt(F){var J,ye;return F.token==='"'||F.token==="'"?(ye=tr(F,F.token),J=new l(ye),J=Qe(F,J),J):St(F)}function tr(F,J){for(var ye="";V(F)!==""&&V(F)!==J;)if(V(F)==="\\"){z(F);var Le=V(F),ut=M[Le];if(ut!==void 0)ye+=ut,F.index+=1;else if(Le==="u"){var bt=F.expression.slice(F.index+1,F.index+5);if(/^[0-9A-Fa-f]{4}$/.test(bt))ye+=String.fromCharCode(parseInt(bt,16)),F.index+=5;else throw qe(F,"Invalid unicode character \\u".concat(bt))}else throw qe(F,"Bad escape character \\".concat(Le))}else ye+=V(F),z(F);if(T(F),F.token!==J)throw qe(F,"End of string ".concat(J," expected"));return T(F),ye}function St(F){var J,ye,Le,ut;if(F.token==="["){if(R(F),T(F),F.token!=="]"){var bt=ie(F);if(F.token===";"){for(Le=1,ye=[bt];F.token===";";)T(F),F.token!=="]"&&(ye[Le]=ie(F),Le++);if(F.token!=="]")throw qe(F,"End of matrix ] expected");oe(F),T(F),ut=ye[0].items.length;for(var Ze=1;Ze<Le;Ze++)if(ye[Ze].items.length!==ut)throw Ge(F,"Column dimensions mismatch ("+ye[Ze].items.length+" !== "+ut+")");J=new a(ye)}else{if(F.token!=="]")throw qe(F,"End of matrix ] expected");oe(F),T(F),J=bt}}else oe(F),T(F),J=new a([]);return Qe(F,J)}return pe(F)}function ie(F){for(var J=[U(F)],ye=1;F.token===",";)T(F),F.token!=="]"&&F.token!==";"&&(J[ye]=U(F),ye++);return new a(J)}function pe(F){if(F.token==="{"){R(F);var J,ye={};do if(T(F),F.token!=="}"){if(F.token==='"'||F.token==="'")J=tr(F,F.token);else if(F.tokenType===S.SYMBOL||F.tokenType===S.DELIMITER&&F.token in N)J=F.token,T(F);else throw qe(F,"Symbol or string expected as object key");if(F.token!==":")throw qe(F,"Colon : expected after object key");T(F),ye[J]=U(F)}while(F.token===",");if(F.token!=="}")throw qe(F,"Comma , or bracket } expected after object value");oe(F),T(F);var Le=new m(ye);return Le=Qe(F,Le),Le}return _e(F)}function _e(F){var J;return F.tokenType===S.NUMBER?(J=F.token,T(F),new l(t(J,r.number))):Ve(F)}function Ve(F){var J;if(F.token==="("){if(R(F),T(F),J=U(F),F.token!==")")throw qe(F,"Parenthesis ) expected");return oe(F),T(F),J=new d(J),J=Qe(F,J),J}return ze(F)}function ze(F){throw F.token===""?qe(F,"Unexpected end of expression"):qe(F,"Value expected")}function Re(F){return F.index-F.token.length+1}function qe(F,J){var ye=Re(F),Le=new SyntaxError(J+" (char "+ye+")");return Le.char=ye,Le}function Ge(F,J){var ye=Re(F),Le=new SyntaxError(J+" (char "+ye+")");return Le.char=ye,Le}return e.addConversion({from:"string",to:"Node",convert:b}),b});var WF="compile",OX=["typed","parse"],q1=C(WF,OX,n=>{var{typed:e,parse:t}=n;return e(WF,{string:function(i){return t(i).compile()},"Array | Matrix":function(i){return at(i,function(a){return t(a).compile()})}})});var YF="evaluate",kX=["typed","parse"],z1=C(YF,kX,n=>{var{typed:e,parse:t}=n;return e(YF,{string:function(i){var a=Wo();return t(i).compile().evaluate(a)},"string, Map | Object":function(i,a){return t(i).compile().evaluate(a)},"Array | Matrix":function(i){var a=Wo();return at(i,function(o){return t(o).compile().evaluate(a)})},"Array | Matrix, Map | Object":function(i,a){return at(i,function(o){return t(o).compile().evaluate(a)})}})});var RX="Parser",LX=["evaluate"],$1=C(RX,LX,n=>{var{evaluate:e}=n;function t(){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");Object.defineProperty(this,"scope",{value:Wo(),writable:!1})}return t.prototype.type="Parser",t.prototype.isParser=!0,t.prototype.evaluate=function(r){return e(r,this.scope)},t.prototype.get=function(r){if(this.scope.has(r))return this.scope.get(r)},t.prototype.getAll=function(){return iC(this.scope)},t.prototype.getAllAsMap=function(){return this.scope},t.prototype.set=function(r,i){return this.scope.set(r,i),i},t.prototype.remove=function(r){this.scope.delete(r)},t.prototype.clear=function(){this.scope.clear()},t},{isClass:!0});var jF="parser",VX=["typed","Parser"],H1=C(jF,VX,n=>{var{typed:e,Parser:t}=n;return e(jF,{"":function(){return new t}})});var ZF="lup",UX=["typed","matrix","abs","addScalar","divideScalar","multiplyScalar","subtractScalar","larger","equalScalar","unaryMinus","DenseMatrix","SparseMatrix","Spa"],G1=C(ZF,UX,n=>{var{typed:e,matrix:t,abs:r,addScalar:i,divideScalar:a,multiplyScalar:o,subtractScalar:u,larger:s,equalScalar:l,unaryMinus:c,DenseMatrix:f,SparseMatrix:p,Spa:m}=n;return e(ZF,{DenseMatrix:function(y){return h(y)},SparseMatrix:function(y){return d(y)},Array:function(y){var _=t(y),b=h(_);return{L:b.L.valueOf(),U:b.U.valueOf(),p:b.p}}});function h(v){var y=v._size[0],_=v._size[1],b=Math.min(y,_),w=pt(v._data),S=[],x=[y,b],N=[],D=[b,_],E,M,P,O=[];for(E=0;E<y;E++)O[E]=E;for(M=0;M<_;M++){if(M>0)for(E=0;E<y;E++){var V=Math.min(E,M),z=0;for(P=0;P<V;P++)z=i(z,o(w[E][P],w[P][M]));w[E][M]=u(w[E][M],z)}var L=M,B=0,T=0;for(E=M;E<y;E++){var G=w[E][M],R=r(G);s(R,B)&&(L=E,B=R,T=G)}if(M!==L&&(O[M]=[O[L],O[L]=O[M]][0],f._swapRows(M,L,w)),M<y)for(E=M+1;E<y;E++){var oe=w[E][M];l(oe,0)||(w[E][M]=a(w[E][M],T))}}for(M=0;M<_;M++)for(E=0;E<y;E++){if(M===0&&(E<_&&(N[E]=[]),S[E]=[]),E<M){E<_&&(N[E][M]=w[E][M]),M<y&&(S[E][M]=0);continue}if(E===M){E<_&&(N[E][M]=w[E][M]),M<y&&(S[E][M]=1);continue}E<_&&(N[E][M]=0),M<y&&(S[E][M]=w[E][M])}var ee=new f({data:S,size:x}),H=new f({data:N,size:D}),U=[];for(E=0,b=O.length;E<b;E++)U[O[E]]=E;return{L:ee,U:H,p:U,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}function d(v){var y=v._size[0],_=v._size[1],b=Math.min(y,_),w=v._values,S=v._index,x=v._ptr,N=[],D=[],E=[],M=[y,b],P=[],O=[],V=[],z=[b,_],L,B,T,G=[],R=[];for(L=0;L<y;L++)G[L]=L,R[L]=L;var oe=function(U,fe){var De=R[U],me=R[fe];G[De]=fe,G[me]=U,R[U]=me,R[fe]=De},ee=function(){var U=new m;B<y&&(E.push(N.length),N.push(1),D.push(B)),V.push(P.length);var fe=x[B],De=x[B+1];for(T=fe;T<De;T++)L=S[T],U.set(G[L],w[T]);B>0&&U.forEach(0,B-1,function(be,we){p._forEachRow(be,N,D,E,function(Se,Me){Se>be&&U.accumulate(Se,c(o(Me,we)))})});var me=B,ve=U.get(B),Ae=r(ve);U.forEach(B+1,y-1,function(be,we){var Se=r(we);s(Se,Ae)&&(me=be,Ae=Se,ve=we)}),B!==me&&(p._swapRows(B,me,M[1],N,D,E),p._swapRows(B,me,z[1],P,O,V),U.swap(B,me),oe(B,me)),U.forEach(0,y-1,function(be,we){be<=B?(P.push(we),O.push(be)):(we=a(we,ve),l(we,0)||(N.push(we),D.push(be)))})};for(B=0;B<_;B++)ee();return V.push(P.length),E.push(N.length),{L:new p({values:N,index:D,ptr:E,size:M}),U:new p({values:P,index:O,ptr:V,size:z}),p:G,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}});var JF="qr",qX=["typed","matrix","zeros","identity","isZero","equal","sign","sqrt","conj","unaryMinus","addScalar","divideScalar","multiplyScalar","subtractScalar","complex"],W1=C(JF,qX,n=>{var{typed:e,matrix:t,zeros:r,identity:i,isZero:a,equal:o,sign:u,sqrt:s,conj:l,unaryMinus:c,addScalar:f,divideScalar:p,multiplyScalar:m,subtractScalar:h,complex:d}=n;return kr(e(JF,{DenseMatrix:function(w){return y(w)},SparseMatrix:function(w){return _(w)},Array:function(w){var S=t(w),x=y(S);return{Q:x.Q.valueOf(),R:x.R.valueOf()}}}),{_denseQRimpl:v});function v(b){var w=b._size[0],S=b._size[1],x=i([w],"dense"),N=x._data,D=b.clone(),E=D._data,M,P,O,V=r([w],"");for(O=0;O<Math.min(S,w);++O){var z=E[O][O],L=c(o(z,0)?1:u(z)),B=l(L),T=0;for(M=O;M<w;M++)T=f(T,m(E[M][O],l(E[M][O])));var G=m(L,s(T));if(!a(G)){var R=h(z,G);for(V[O]=1,M=O+1;M<w;M++)V[M]=p(E[M][O],R);var oe=c(l(p(R,G))),ee=void 0;for(P=O;P<S;P++){for(ee=0,M=O;M<w;M++)ee=f(ee,m(l(V[M]),E[M][P]));for(ee=m(ee,oe),M=O;M<w;M++)E[M][P]=m(h(E[M][P],m(V[M],ee)),B)}for(M=0;M<w;M++){for(ee=0,P=O;P<w;P++)ee=f(ee,m(N[M][P],V[P]));for(ee=m(ee,oe),P=O;P<w;++P)N[M][P]=p(h(N[M][P],m(ee,l(V[P]))),B)}}}return{Q:x,R:D,toString:function(){return"Q: "+this.Q.toString()+`
R: `+this.R.toString()}}}function y(b){var w=v(b),S=w.R._data;if(b._data.length>0)for(var x=S[0][0].type==="Complex"?d(0):0,N=0;N<S.length;++N)for(var D=0;D<N&&D<(S[0]||[]).length;++D)S[N][D]=x;return w}function _(b){throw new Error("qr not implemented for sparse matrices yet")}});function XF(n,e,t,r){for(var i=n._values,a=n._index,o=n._ptr,u=n._size,s=n._datatype,l=u[0],c=u[1],f=r&&n._values?[]:null,p=[],m=[],h=0,d=0;d<c;d++){m[d]=h;for(var v=t?t[d]:d,y=o[v],_=o[v+1],b=y;b<_;b++){var w=e?e[a[b]]:a[b];p[h]=w,f&&(f[h]=i[b]),h++}}return m[c]=h,n.createSparseMatrix({values:f,index:p,ptr:m,size:[l,c],datatype:s})}function id(n,e,t,r,i,a,o){var u=0;for(t[o]=n;u>=0;){var s=t[o+u],l=t[r+s];l===-1?(u--,a[e++]=s):(t[r+s]=t[i+l],++u,t[o+u]=l)}return e}function QF(n,e){if(!n)return null;var t=0,r,i=[],a=[],o=0,u=e,s=2*e;for(r=0;r<e;r++)a[o+r]=-1;for(r=e-1;r>=0;r--)n[r]!==-1&&(a[u+r]=a[o+n[r]],a[o+n[r]]=r);for(r=0;r<e;r++)n[r]===-1&&(t=id(r,t,a,o,u,i,s));return i}function KF(n,e){if(!n)return null;var t=n._index,r=n._ptr,i=n._size,a=i[0],o=i[1],u=[],s=[],l=0,c=o,f,p;if(e)for(f=0;f<a;f++)s[c+f]=-1;for(var m=0;m<o;m++){u[m]=-1,s[l+m]=-1;for(var h=r[m],d=r[m+1],v=h;v<d;v++){var y=t[v];for(f=e?s[c+y]:y;f!==-1&&f<m;f=p)p=s[l+f],s[l+f]=m,p===-1&&(u[f]=m);e&&(s[c+y]=m)}}return u}function eI(n,e,t){for(var r=n._values,i=n._index,a=n._ptr,o=n._size,u=o[1],s=0,l=0;l<u;l++){var c=a[l];for(a[l]=s;c<a[l+1];c++)e(i[c],l,r?r[c]:1,t)&&(i[s]=i[c],r&&(r[s]=r[c]),s++)}return a[u]=s,i.splice(s,i.length-s),r&&r.splice(s,r.length-s),s}function _a(n){return-n-2}var zX="csAmd",$X=["add","multiply","transpose"],tI=C(zX,$X,n=>{var{add:e,multiply:t,transpose:r}=n;return function(c,f){if(!f||c<=0||c>3)return null;var p=f._size,m=p[0],h=p[1],d=0,v=Math.max(16,10*Math.sqrt(h));v=Math.min(h-2,v);var y=i(c,f,m,h,v);eI(y,s,null);for(var _=y._index,b=y._ptr,w=b[h],S=[],x=[],N=0,D=h+1,E=2*(h+1),M=3*(h+1),P=4*(h+1),O=5*(h+1),V=6*(h+1),z=7*(h+1),L=S,B=a(h,b,x,N,M,L,E,z,D,V,P,O),T=o(h,b,x,O,P,V,v,D,M,L,E),G=0,R,oe,ee,H,U,fe,De,me,ve,Ae,be,we,Se,Me,Ie,et;T<h;){for(ee=-1;G<h&&(ee=x[M+G])===-1;G++);x[E+ee]!==-1&&(L[x[E+ee]]=-1),x[M+G]=x[E+ee];var X=x[P+ee],re=x[D+ee];T+=re;var xe=0;x[D+ee]=-re;var W=b[ee],ne=X===0?W:w,ue=ne;for(H=1;H<=X+1;H++){for(H>X?(fe=ee,De=W,me=x[N+ee]-X):(fe=_[W++],De=b[fe],me=x[N+fe]),U=1;U<=me;U++)R=_[De++],!((ve=x[D+R])<=0)&&(xe+=ve,x[D+R]=-ve,_[ue++]=R,x[E+R]!==-1&&(L[x[E+R]]=L[R]),L[R]!==-1?x[E+L[R]]=x[E+R]:x[M+x[O+R]]=x[E+R]);fe!==ee&&(b[fe]=_a(ee),x[V+fe]=0)}for(X!==0&&(w=ue),x[O+ee]=xe,b[ee]=ne,x[N+ee]=ue-ne,x[P+ee]=-2,B=u(B,d,x,V,h),Ae=ne;Ae<ue;Ae++)if(R=_[Ae],!((be=x[P+R])<=0)){ve=-x[D+R];var Ne=B-ve;for(W=b[R],we=b[R]+be-1;W<=we;W++)fe=_[W],x[V+fe]>=B?x[V+fe]-=ve:x[V+fe]!==0&&(x[V+fe]=x[O+fe]+Ne)}for(Ae=ne;Ae<ue;Ae++){for(R=_[Ae],we=b[R],Se=we+x[P+R]-1,Me=we,Ie=0,et=0,W=we;W<=Se;W++)if(fe=_[W],x[V+fe]!==0){var Ce=x[V+fe]-B;Ce>0?(et+=Ce,_[Me++]=fe,Ie+=fe):(b[fe]=_a(ee),x[V+fe]=0)}x[P+R]=Me-we+1;var Ye=Me,Fe=we+x[N+R];for(W=Se+1;W<Fe;W++){oe=_[W];var Qe=x[D+oe];Qe<=0||(et+=Qe,_[Me++]=oe,Ie+=oe)}et===0?(b[R]=_a(ee),ve=-x[D+R],xe-=ve,re+=ve,T+=ve,x[D+R]=0,x[P+R]=-1):(x[O+R]=Math.min(x[O+R],et),_[Me]=_[Ye],_[Ye]=_[we],_[we]=ee,x[N+R]=Me-we+1,Ie=(Ie<0?-Ie:Ie)%h,x[E+R]=x[z+Ie],x[z+Ie]=R,L[R]=Ie)}for(x[O+ee]=xe,d=Math.max(d,xe),B=u(B+d,d,x,V,h),Ae=ne;Ae<ue;Ae++)if(R=_[Ae],!(x[D+R]>=0))for(Ie=L[R],R=x[z+Ie],x[z+Ie]=-1;R!==-1&&x[E+R]!==-1;R=x[E+R],B++){for(me=x[N+R],be=x[P+R],W=b[R]+1;W<=b[R]+me-1;W++)x[V+_[W]]=B;var wt=R;for(oe=x[E+R];oe!==-1;){var tr=x[N+oe]===me&&x[P+oe]===be;for(W=b[oe]+1;tr&&W<=b[oe]+me-1;W++)x[V+_[W]]!==B&&(tr=0);tr?(b[oe]=_a(R),x[D+R]+=x[D+oe],x[D+oe]=0,x[P+oe]=-1,oe=x[E+oe],x[E+wt]=oe):(wt=oe,oe=x[E+oe])}}for(W=ne,Ae=ne;Ae<ue;Ae++)R=_[Ae],!((ve=-x[D+R])<=0)&&(x[D+R]=ve,et=x[O+R]+xe-ve,et=Math.min(et,h-T-ve),x[M+et]!==-1&&(L[x[M+et]]=R),x[E+R]=x[M+et],L[R]=-1,x[M+et]=R,G=Math.min(G,et),x[O+R]=et,_[W++]=R);x[D+ee]=re,(x[N+ee]=W-ne)===0&&(b[ee]=-1,x[V+ee]=0),X!==0&&(w=W)}for(R=0;R<h;R++)b[R]=_a(b[R]);for(oe=0;oe<=h;oe++)x[M+oe]=-1;for(oe=h;oe>=0;oe--)x[D+oe]>0||(x[E+oe]=x[M+b[oe]],x[M+b[oe]]=oe);for(fe=h;fe>=0;fe--)x[D+fe]<=0||b[fe]!==-1&&(x[E+fe]=x[M+b[fe]],x[M+b[fe]]=fe);for(ee=0,R=0;R<=h;R++)b[R]===-1&&(ee=id(R,ee,x,M,E,S,V));return S.splice(S.length-1,1),S};function i(l,c,f,p,m){var h=r(c);if(l===1&&p===f)return e(c,h);if(l===2){for(var d=h._index,v=h._ptr,y=0,_=0;_<f;_++){var b=v[_];if(v[_]=y,!(v[_+1]-b>m))for(var w=v[_+1];b<w;b++)d[y++]=d[b]}return v[f]=y,c=r(h),t(h,c)}return t(h,c)}function a(l,c,f,p,m,h,d,v,y,_,b,w){for(var S=0;S<l;S++)f[p+S]=c[S+1]-c[S];f[p+l]=0;for(var x=0;x<=l;x++)f[m+x]=-1,h[x]=-1,f[d+x]=-1,f[v+x]=-1,f[y+x]=1,f[_+x]=1,f[b+x]=0,f[w+x]=f[p+x];var N=u(0,0,f,_,l);return f[b+l]=-2,c[l]=-1,f[_+l]=0,N}function o(l,c,f,p,m,h,d,v,y,_,b){for(var w=0,S=0;S<l;S++){var x=f[p+S];if(x===0)f[m+S]=-2,w++,c[S]=-1,f[h+S]=0;else if(x>d)f[v+S]=0,f[m+S]=-1,w++,c[S]=_a(l),f[v+l]++;else{var N=f[y+x];N!==-1&&(_[N]=S),f[b+S]=f[y+x],f[y+x]=S}}return w}function u(l,c,f,p,m){if(l<2||l+c<0){for(var h=0;h<m;h++)f[p+h]!==0&&(f[p+h]=1);l=2}return l}function s(l,c){return l!==c}});function rI(n,e,t,r,i,a,o){var u,s,l=0,c;if(n<=e||t[r+e]<=t[i+n])return-1;t[i+n]=t[r+e];var f=t[a+n];if(t[a+n]=e,f===-1)l=1,c=n;else{for(l=2,c=f;c!==t[o+c];c=t[o+c]);for(u=f;u!==c;u=s)s=t[o+u],t[o+u]=c}return{jleaf:l,q:c}}var HX="csCounts",GX=["transpose"],nI=C(HX,GX,n=>{var{transpose:e}=n;return function(t,r,i,a){if(!t||!r||!i)return null;var o=t._size,u=o[0],s=o[1],l,c,f,p,m,h,d,v=4*s+(a?s+u+1:0),y=[],_=0,b=s,w=2*s,S=3*s,x=4*s,N=5*s+1;for(f=0;f<v;f++)y[f]=-1;var D=[],E=e(t),M=E._index,P=E._ptr;for(f=0;f<s;f++)for(c=i[f],D[c]=y[S+c]===-1?1:0;c!==-1&&y[S+c]===-1;c=r[c])y[S+c]=f;if(a){for(f=0;f<s;f++)y[i[f]]=f;for(l=0;l<u;l++){for(f=s,h=P[l],d=P[l+1],m=h;m<d;m++)f=Math.min(f,y[M[m]]);y[N+l]=y[x+f],y[x+f]=l}}for(l=0;l<s;l++)y[_+l]=l;for(f=0;f<s;f++){for(c=i[f],r[c]!==-1&&D[r[c]]--,p=a?y[x+f]:c;p!==-1;p=a?y[N+p]:-1)for(m=P[p];m<P[p+1];m++){l=M[m];var O=rI(l,c,y,S,b,w,_);O.jleaf>=1&&D[c]++,O.jleaf===2&&D[O.q]--}r[c]!==-1&&(y[_+c]=r[c])}for(c=0;c<s;c++)r[c]!==-1&&(D[r[c]]+=D[c]);return D}});var WX="csSqr",YX=["add","multiply","transpose"],iI=C(WX,YX,n=>{var{add:e,multiply:t,transpose:r}=n,i=tI({add:e,multiply:t,transpose:r}),a=nI({transpose:r});return function(s,l,c){var f=l._ptr,p=l._size,m=p[1],h,d={};if(d.q=i(s,l),s&&!d.q)return null;if(c){var v=s?XF(l,null,d.q,0):l;d.parent=KF(v,1);var y=QF(d.parent,m);if(d.cp=a(v,d.parent,y,1),v&&d.parent&&d.cp&&o(v,d))for(d.unz=0,h=0;h<m;h++)d.unz+=d.cp[h]}else d.unz=4*f[m]+m,d.lnz=d.unz;return d};function o(u,s){var l=u._ptr,c=u._index,f=u._size,p=f[0],m=f[1];s.pinv=[],s.leftmost=[];var h=s.parent,d=s.pinv,v=s.leftmost,y=[],_=0,b=p,w=p+m,S=p+2*m,x,N,D,E,M;for(N=0;N<m;N++)y[b+N]=-1,y[w+N]=-1,y[S+N]=0;for(x=0;x<p;x++)v[x]=-1;for(N=m-1;N>=0;N--)for(E=l[N],M=l[N+1],D=E;D<M;D++)v[c[D]]=N;for(x=p-1;x>=0;x--)d[x]=-1,N=v[x],N!==-1&&(y[S+N]++===0&&(y[w+N]=x),y[_+x]=y[b+N],y[b+N]=x);for(s.lnz=0,s.m2=p,N=0;N<m;N++)if(x=y[b+N],s.lnz++,x<0&&(x=s.m2++),d[x]=N,!(--S[N]<=0)){s.lnz+=y[S+N];var P=h[N];P!==-1&&(y[S+P]===0&&(y[w+P]=y[w+N]),y[_+y[w+N]]=y[b+P],y[b+P]=y[_+x],y[S+P]+=y[S+N])}for(x=0;x<p;x++)d[x]<0&&(d[x]=N++);return!0}});function kc(n,e){return n[e]<0}function ad(n,e){n[e]=_a(n[e])}function Y1(n){return n<0?_a(n):n}function aI(n,e,t,r,i){var a=e._index,o=e._ptr,u=e._size,s=u[1],l,c,f,p=0;for(r[0]=n;p>=0;){n=r[p];var m=i?i[n]:n;kc(o,n)||(ad(o,n),r[s+p]=m<0?0:Y1(o[m]));var h=1;for(c=r[s+p],f=m<0?0:Y1(o[m+1]);c<f;c++)if(l=a[c],!kc(o,l)){r[s+p]=c,r[++p]=l,h=0;break}h&&(p--,r[--t]=n)}return t}function oI(n,e,t,r,i){var a=n._ptr,o=n._size,u=e._index,s=e._ptr,l=o[1],c,f,p,m=l;for(f=s[t],p=s[t+1],c=f;c<p;c++){var h=u[c];kc(a,h)||(m=aI(h,n,m,r,i))}for(c=m;c<l;c++)ad(a,r[c]);return m}var jX="csSpsolve",ZX=["divideScalar","multiply","subtract"],sI=C(jX,ZX,n=>{var{divideScalar:e,multiply:t,subtract:r}=n;return function(a,o,u,s,l,c,f){var p=a._values,m=a._index,h=a._ptr,d=a._size,v=d[1],y=o._values,_=o._index,b=o._ptr,w,S,x,N,D=oI(a,o,u,s,c);for(w=D;w<v;w++)l[s[w]]=0;for(S=b[u],x=b[u+1],w=S;w<x;w++)l[_[w]]=y[w];for(var E=D;E<v;E++){var M=s[E],P=c?c[M]:M;if(!(P<0))for(S=h[P],x=h[P+1],l[M]=e(l[M],p[f?S:x-1]),w=f?S+1:S,N=f?x:x-1;w<N;w++){var O=m[w];l[O]=r(l[O],t(p[w],l[M]))}}return D}});var JX="csLu",XX=["abs","divideScalar","multiply","subtract","larger","largerEq","SparseMatrix"],uI=C(JX,XX,n=>{var{abs:e,divideScalar:t,multiply:r,subtract:i,larger:a,largerEq:o,SparseMatrix:u}=n,s=sI({divideScalar:t,multiply:r,subtract:i});return function(c,f,p){if(!c)return null;var m=c._size,h=m[1],d,v=100,y=100;f&&(d=f.q,v=f.lnz||v,y=f.unz||y);var _=[],b=[],w=[],S=new u({values:_,index:b,ptr:w,size:[h,h]}),x=[],N=[],D=[],E=new u({values:x,index:N,ptr:D,size:[h,h]}),M=[],P,O,V=[],z=[];for(P=0;P<h;P++)V[P]=0,M[P]=-1,w[P+1]=0;v=0,y=0;for(var L=0;L<h;L++){w[L]=v,D[L]=y;var B=d?d[L]:L,T=s(S,c,B,z,V,M,1),G=-1,R=-1;for(O=T;O<h;O++)if(P=z[O],M[P]<0){var oe=e(V[P]);a(oe,R)&&(R=oe,G=P)}else N[y]=M[P],x[y++]=V[P];if(G===-1||R<=0)return null;M[B]<0&&o(e(V[B]),r(R,p))&&(G=B);var ee=V[G];for(N[y]=L,x[y++]=ee,M[G]=L,b[v]=G,_[v++]=1,O=T;O<h;O++)P=z[O],M[P]<0&&(b[v]=P,_[v++]=t(V[P],ee)),V[P]=0}for(w[h]=v,D[h]=y,O=0;O<v;O++)b[O]=M[b[O]];return _.splice(v,_.length-v),b.splice(v,b.length-v),x.splice(y,x.length-y),N.splice(y,N.length-y),{L:S,U:E,pinv:M}}});var lI="slu",QX=["typed","abs","add","multiply","transpose","divideScalar","subtract","larger","largerEq","SparseMatrix"],j1=C(lI,QX,n=>{var{typed:e,abs:t,add:r,multiply:i,transpose:a,divideScalar:o,subtract:u,larger:s,largerEq:l,SparseMatrix:c}=n,f=iI({add:r,multiply:i,transpose:a}),p=uI({abs:t,divideScalar:o,multiply:i,subtract:u,larger:s,largerEq:l,SparseMatrix:c});return e(lI,{"SparseMatrix, number, number":function(h,d,v){if(!Ke(d)||d<0||d>3)throw new Error("Symbolic Ordering and Analysis order must be an integer number in the interval [0, 3]");if(v<0||v>1)throw new Error("Partial pivoting threshold must be a number from 0 to 1");var y=f(d,h,!1),_=p(h,y,v);return{L:_.L,U:_.U,p:_.pinv,q:y.q,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
p: `+this.p.toString()+(this.q?`
q: `+this.q.toString():"")+`
`}}}})});function Z1(n,e){var t,r=e.length,i=[];if(n)for(t=0;t<r;t++)i[n[t]]=e[t];else for(t=0;t<r;t++)i[t]=e[t];return i}var cI="lusolve",KX=["typed","matrix","lup","slu","usolve","lsolve","DenseMatrix"],J1=C(cI,KX,n=>{var{typed:e,matrix:t,lup:r,slu:i,usolve:a,lsolve:o,DenseMatrix:u}=n,s=La({DenseMatrix:u});return e(cI,{"Array, Array | Matrix":function(p,m){p=t(p);var h=r(p),d=c(h.L,h.U,h.p,null,m);return d.valueOf()},"DenseMatrix, Array | Matrix":function(p,m){var h=r(p);return c(h.L,h.U,h.p,null,m)},"SparseMatrix, Array | Matrix":function(p,m){var h=r(p);return c(h.L,h.U,h.p,null,m)},"SparseMatrix, Array | Matrix, number, number":function(p,m,h,d){var v=i(p,h,d);return c(v.L,v.U,v.p,v.q,m)},"Object, Array | Matrix":function(p,m){return c(p.L,p.U,p.p,p.q,m)}});function l(f){if(rt(f))return f;if(Zt(f))return t(f);throw new TypeError("Invalid Matrix LU decomposition")}function c(f,p,m,h,d){f=l(f),p=l(p),m&&(d=s(f,d,!0),d._data=Z1(m,d._data));var v=o(f,d),y=a(p,v);return h&&(y._data=Z1(h,y._data)),y}});var fI="polynomialRoot",eQ=["typed","isZero","equalScalar","add","subtract","multiply","divide","sqrt","unaryMinus","cbrt","typeOf","im","re"],X1=C(fI,eQ,n=>{var{typed:e,isZero:t,equalScalar:r,add:i,subtract:a,multiply:o,divide:u,sqrt:s,unaryMinus:l,cbrt:c,typeOf:f,im:p,re:m}=n;return e(fI,{"number|Complex, ...number|Complex":(h,d)=>{for(var v=[h,...d];v.length>0&&t(v[v.length-1]);)v.pop();if(v.length<2)throw new RangeError("Polynomial [".concat(h,", ").concat(d,"] must have a non-zero non-constant coefficient"));switch(v.length){case 2:return[l(u(v[0],v[1]))];case 3:{var[y,_,b]=v,w=o(2,b),S=o(_,_),x=o(4,b,y);if(r(S,x))return[u(l(_),w)];var N=s(a(S,x));return[u(a(N,_),w),u(a(l(N),_),w)]}case 4:{var[D,E,M,P]=v,O=l(o(3,P)),V=o(M,M),z=o(3,P,E),L=i(o(2,M,M,M),o(27,P,P,D)),B=o(9,P,M,E);if(r(V,z)&&r(L,B))return[u(M,O)];var T=a(V,z),G=a(L,B),R=i(o(18,P,M,E,D),o(M,M,E,E)),oe=i(o(4,M,M,M,D),o(4,P,E,E,E),o(27,P,P,D,D));if(r(R,oe))return[u(a(o(4,P,M,E),i(o(9,P,P,D),o(M,M,M))),o(P,T)),u(a(o(9,P,D),o(M,E)),o(2,T))];var ee;r(V,z)?ee=G:ee=u(i(G,s(a(o(G,G),o(4,T,T,T)))),2);var H=!0,U=c(ee,H).toArray().map(fe=>u(i(M,fe,u(T,fe)),O));return U.map(fe=>f(fe)==="Complex"&&r(m(fe),m(fe)+p(fe))?m(fe):fe)}default:throw new RangeError("only implemented for cubic or lower-order polynomials, not ".concat(v))}}})});var tQ="Help",rQ=["evaluate"],Q1=C(tQ,rQ,n=>{var{evaluate:e}=n;function t(r){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if(!r)throw new Error('Argument "doc" missing');this.doc=r}return t.prototype.type="Help",t.prototype.isHelp=!0,t.prototype.toString=function(){var r=this.doc||{},i=`
`;if(r.name&&(i+="Name: "+r.name+`

`),r.category&&(i+="Category: "+r.category+`

`),r.description&&(i+=`Description:
    `+r.description+`

`),r.syntax&&(i+=`Syntax:
    `+r.syntax.join(`
    `)+`

`),r.examples){i+=`Examples:
`;for(var a=!1,o=e("config()"),u={config:f=>(a=!0,e("config(newConfig)",{newConfig:f}))},s=0;s<r.examples.length;s++){var l=r.examples[s];i+="    "+l+`
`;var c=void 0;try{c=e(l,u)}catch(f){c=f}c!==void 0&&!em(c)&&(i+="        "+xt(c,{precision:14})+`
`)}i+=`
`,a&&e("config(originalConfig)",{originalConfig:o})}return r.mayThrow&&r.mayThrow.length&&(i+="Throws: "+r.mayThrow.join(", ")+`

`),r.seealso&&r.seealso.length&&(i+="See also: "+r.seealso.join(", ")+`
`),i},t.prototype.toJSON=function(){var r=pt(this.doc);return r.mathjs="Help",r},t.fromJSON=function(r){var i={};return Object.keys(r).filter(a=>a!=="mathjs").forEach(a=>{i[a]=r[a]}),new t(i)},t.prototype.valueOf=t.prototype.toString,t},{isClass:!0});var nQ="Chain",iQ=["?on","math","typed"],K1=C(nQ,iQ,n=>{var{on:e,math:t,typed:r}=n;function i(l){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");tm(l)?this.value=l.value:this.value=l}i.prototype.type="Chain",i.prototype.isChain=!0,i.prototype.done=function(){return this.value},i.prototype.valueOf=function(){return this.value},i.prototype.toString=function(){return xt(this.value)},i.prototype.toJSON=function(){return{mathjs:"Chain",value:this.value}},i.fromJSON=function(l){return new i(l.value)};function a(l,c){typeof c=="function"&&(i.prototype[l]=u(c))}function o(l,c){EN(i.prototype,l,function(){var p=c();if(typeof p=="function")return u(p)})}function u(l){return function(){if(arguments.length===0)return new i(l(this.value));for(var c=[this.value],f=0;f<arguments.length;f++)c[f+1]=arguments[f];if(r.isTypedFunction(l)){var p=r.resolve(l,c);if(p.params.length===1)throw new Error("chain function "+l.name+" cannot match rest parameter between chain value and additional arguments.");return new i(p.implementation.apply(l,c))}return new i(l.apply(l,c))}}i.createProxy=function(l,c){if(typeof l=="string")a(l,c);else{var f=function(h){it(l,h)&&s[h]===void 0&&o(h,()=>l[h])};for(var p in l)f(p)}};var s={expression:!0,docs:!0,type:!0,classes:!0,json:!0,error:!0,isChain:!0};return i.createProxy(t),e&&e("import",function(l,c,f){f||o(l,c)}),i},{isClass:!0});var ew={name:"e",category:"Constants",syntax:["e"],description:"Euler's number, the base of the natural logarithm. Approximately equal to 2.71828",examples:["e","e ^ 2","exp(2)","log(e)"],seealso:["exp"]};var pI={name:"false",category:"Constants",syntax:["false"],description:"Boolean value false",examples:["false"],seealso:["true"]};var mI={name:"i",category:"Constants",syntax:["i"],description:"Imaginary unit, defined as i*i=-1. A complex number is described as a + b*i, where a is the real part, and b is the imaginary part.",examples:["i","i * i","sqrt(-1)"],seealso:[]};var dI={name:"Infinity",category:"Constants",syntax:["Infinity"],description:"Infinity, a number which is larger than the maximum number that can be handled by a floating point number.",examples:["Infinity","1 / 0"],seealso:[]};var hI={name:"LN10",category:"Constants",syntax:["LN10"],description:"Returns the natural logarithm of 10, approximately equal to 2.302",examples:["LN10","log(10)"],seealso:[]};var gI={name:"LN2",category:"Constants",syntax:["LN2"],description:"Returns the natural logarithm of 2, approximately equal to 0.693",examples:["LN2","log(2)"],seealso:[]};var vI={name:"LOG10E",category:"Constants",syntax:["LOG10E"],description:"Returns the base-10 logarithm of E, approximately equal to 0.434",examples:["LOG10E","log(e, 10)"],seealso:[]};var yI={name:"LOG2E",category:"Constants",syntax:["LOG2E"],description:"Returns the base-2 logarithm of E, approximately equal to 1.442",examples:["LOG2E","log(e, 2)"],seealso:[]};var bI={name:"NaN",category:"Constants",syntax:["NaN"],description:"Not a number",examples:["NaN","0 / 0"],seealso:[]};var xI={name:"null",category:"Constants",syntax:["null"],description:"Value null",examples:["null"],seealso:["true","false"]};var wI={name:"phi",category:"Constants",syntax:["phi"],description:"Phi is the golden ratio. Two quantities are in the golden ratio if their ratio is the same as the ratio of their sum to the larger of the two quantities. Phi is defined as `(1 + sqrt(5)) / 2` and is approximately 1.618034...",examples:["phi"],seealso:[]};var tw={name:"pi",category:"Constants",syntax:["pi"],description:"The number pi is a mathematical constant that is the ratio of a circle's circumference to its diameter, and is approximately equal to 3.14159",examples:["pi","sin(pi/2)"],seealso:["tau"]};var _I={name:"SQRT1_2",category:"Constants",syntax:["SQRT1_2"],description:"Returns the square root of 1/2, approximately equal to 0.707",examples:["SQRT1_2","sqrt(1/2)"],seealso:[]};var SI={name:"SQRT2",category:"Constants",syntax:["SQRT2"],description:"Returns the square root of 2, approximately equal to 1.414",examples:["SQRT2","sqrt(2)"],seealso:[]};var AI={name:"tau",category:"Constants",syntax:["tau"],description:"Tau is the ratio constant of a circle's circumference to radius, equal to 2 * pi, approximately 6.2832.",examples:["tau","2 * pi"],seealso:["pi"]};var EI={name:"true",category:"Constants",syntax:["true"],description:"Boolean value true",examples:["true"],seealso:["false"]};var DI={name:"version",category:"Constants",syntax:["version"],description:"A string with the version number of math.js",examples:["version"],seealso:[]};var MI={name:"bignumber",category:"Construction",syntax:["bignumber(x)"],description:"Create a big number from a number or string.",examples:["0.1 + 0.2","bignumber(0.1) + bignumber(0.2)",'bignumber("7.2")','bignumber("7.2e500")',"bignumber([0.1, 0.2, 0.3])"],seealso:["boolean","complex","fraction","index","matrix","string","unit"]};var NI={name:"boolean",category:"Construction",syntax:["x","boolean(x)"],description:"Convert a string or number into a boolean.",examples:["boolean(0)","boolean(1)","boolean(3)",'boolean("true")','boolean("false")',"boolean([1, 0, 1, 1])"],seealso:["bignumber","complex","index","matrix","number","string","unit"]};var CI={name:"complex",category:"Construction",syntax:["complex()","complex(re, im)","complex(string)"],description:"Create a complex number.",examples:["complex()","complex(2, 3)",'complex("7 - 2i")'],seealso:["bignumber","boolean","index","matrix","number","string","unit"]};var TI={name:"createUnit",category:"Construction",syntax:["createUnit(definitions)","createUnit(name, definition)"],description:"Create a user-defined unit and register it with the Unit type.",examples:['createUnit("foo")','createUnit("knot", {definition: "0.514444444 m/s", aliases: ["knots", "kt", "kts"]})','createUnit("mph", "1 mile/hour")'],seealso:["unit","splitUnit"]};var FI={name:"fraction",category:"Construction",syntax:["fraction(num)","fraction(matrix)","fraction(num,den)","fraction({n: num, d: den})"],description:"Create a fraction from a number or from integer numerator and denominator.",examples:["fraction(0.125)","fraction(1, 3) + fraction(2, 5)","fraction({n: 333, d: 53})","fraction([sqrt(9), sqrt(10), sqrt(11)])"],seealso:["bignumber","boolean","complex","index","matrix","string","unit"]};var II={name:"index",category:"Construction",syntax:["[start]","[start:end]","[start:step:end]","[start1, start 2, ...]","[start1:end1, start2:end2, ...]","[start1:step1:end1, start2:step2:end2, ...]"],description:"Create an index to get or replace a subset of a matrix",examples:["A = [1, 2, 3; 4, 5, 6]","A[1, :]","A[1, 2] = 50","A[1:2, 1:2] = 1","B = [1, 2, 3]","B[B>1 and B<3]"],seealso:["bignumber","boolean","complex","matrix,","number","range","string","unit"]};var PI={name:"matrix",category:"Construction",syntax:["[]","[a1, b1, ...; a2, b2, ...]","matrix()",'matrix("dense")',"matrix([...])"],description:"Create a matrix.",examples:["[]","[1, 2, 3]","[1, 2, 3; 4, 5, 6]","matrix()","matrix([3, 4])",'matrix([3, 4; 5, 6], "sparse")','matrix([3, 4; 5, 6], "sparse", "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","sparse"]};var BI={name:"number",category:"Construction",syntax:["x","number(x)","number(unit, valuelessUnit)"],description:"Create a number or convert a string or boolean into a number.",examples:["2","2e3","4.05","number(2)",'number("7.2")',"number(true)","number([true, false, true, true])",'number(unit("52cm"), "m")'],seealso:["bignumber","boolean","complex","fraction","index","matrix","string","unit"]};var OI={name:"sparse",category:"Construction",syntax:["sparse()","sparse([a1, b1, ...; a1, b2, ...])",'sparse([a1, b1, ...; a1, b2, ...], "number")'],description:"Create a sparse matrix.",examples:["sparse()","sparse([3, 4; 5, 6])",'sparse([3, 0; 5, 0], "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","matrix"]};var kI={name:"splitUnit",category:"Construction",syntax:["splitUnit(unit: Unit, parts: Unit[])"],description:"Split a unit in an array of units whose sum is equal to the original unit.",examples:['splitUnit(1 m, ["feet", "inch"])'],seealso:["unit","createUnit"]};var RI={name:"string",category:"Construction",syntax:['"text"',"string(x)"],description:"Create a string or convert a value to a string",examples:['"Hello World!"',"string(4.2)","string(3 + 2i)"],seealso:["bignumber","boolean","complex","index","matrix","number","unit"]};var LI={name:"unit",category:"Construction",syntax:["value unit","unit(value, unit)","unit(string)"],description:"Create a unit.",examples:["5.5 mm","3 inch",'unit(7.1, "kilogram")','unit("23 deg")'],seealso:["bignumber","boolean","complex","index","matrix","number","string"]};var VI={name:"config",category:"Core",syntax:["config()","config(options)"],description:"Get configuration or change configuration.",examples:["config()","1/3 + 1/4",'config({number: "Fraction"})',"1/3 + 1/4"],seealso:[]};var UI={name:"import",category:"Core",syntax:["import(functions)","import(functions, options)"],description:"Import functions or constants from an object.",examples:["import({myFn: f(x)=x^2, myConstant: 32 })","myFn(2)","myConstant"],seealso:[]};var qI={name:"typed",category:"Core",syntax:["typed(signatures)","typed(name, signatures)"],description:"Create a typed function.",examples:['double = typed({ "number": f(x)=x+x, "string": f(x)=concat(x,x) })',"double(2)",'double("hello")'],seealso:[]};var zI={name:"derivative",category:"Algebra",syntax:["derivative(expr, variable)","derivative(expr, variable, {simplify: boolean})"],description:"Takes the derivative of an expression expressed in parser Nodes. The derivative will be taken over the supplied variable in the second parameter. If there are multiple variables in the expression, it will return a partial derivative.",examples:['derivative("2x^3", "x")','derivative("2x^3", "x", {simplify: false})','derivative("2x^2 + 3x + 4", "x")','derivative("sin(2x)", "x")','f = parse("x^2 + x")','x = parse("x")',"df = derivative(f, x)","df.evaluate({x: 3})"],seealso:["simplify","parse","evaluate"]};var $I={name:"leafCount",category:"Algebra",syntax:["leafCount(expr)"],description:"Computes the number of leaves in the parse tree of the given expression",examples:['leafCount("e^(i*pi)-1")','leafCount(parse("{a: 22/7, b: 10^(1/2)}"))'],seealso:["simplify"]};var HI={name:"lsolve",category:"Algebra",syntax:["x=lsolve(L, b)"],description:"Finds one solution of the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lsolveAll","lup","lusolve","usolve","matrix","sparse"]};var GI={name:"lsolveAll",category:"Algebra",syntax:["x=lsolveAll(L, b)"],description:"Finds all solutions of the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lsolve","lup","lusolve","usolve","matrix","sparse"]};var WI={name:"lup",category:"Algebra",syntax:["lup(m)"],description:"Calculate the Matrix LU decomposition with partial pivoting. Matrix A is decomposed in three matrices (L, U, P) where P * A = L * U",examples:["lup([[2, 1], [1, 4]])","lup(matrix([[2, 1], [1, 4]]))","lup(sparse([[2, 1], [1, 4]]))"],seealso:["lusolve","lsolve","usolve","matrix","sparse","slu","qr"]};var YI={name:"lusolve",category:"Algebra",syntax:["x=lusolve(A, b)","x=lusolve(lu, b)"],description:"Solves the linear system A * x = b where A is an [n x n] matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lusolve(a, b)"],seealso:["lup","slu","lsolve","usolve","matrix","sparse"]};var jI={name:"polynomialRoot",category:"Algebra",syntax:["x=polynomialRoot(-6, 3)","x=polynomialRoot(4, -4, 1)","x=polynomialRoot(-8, 12, -6, 1)"],description:"Finds the roots of a univariate polynomial given by its coefficients starting from constant, linear, and so on, increasing in degree.",examples:["a = polynomialRoot(-6, 11, -6, 1)"],seealso:["cbrt","sqrt"]};var ZI={name:"qr",category:"Algebra",syntax:["qr(A)"],description:"Calculates the Matrix QR decomposition. Matrix `A` is decomposed in two matrices (`Q`, `R`) where `Q` is an orthogonal matrix and `R` is an upper triangular matrix.",examples:["qr([[1, -1,  4], [1,  4, -2], [1,  4,  2], [1,  -1, 0]])"],seealso:["lup","slu","matrix"]};var JI={name:"rationalize",category:"Algebra",syntax:["rationalize(expr)","rationalize(expr, scope)","rationalize(expr, scope, detailed)"],description:"Transform a rationalizable expression in a rational fraction. If rational fraction is one variable polynomial then converts the numerator and denominator in canonical form, with decreasing exponents, returning the coefficients of numerator.",examples:['rationalize("2x/y - y/(x+1)")','rationalize("2x/y - y/(x+1)", true)'],seealso:["simplify"]};var XI={name:"resolve",category:"Algebra",syntax:["resolve(node, scope)"],description:"Recursively substitute variables in an expression tree.",examples:['resolve(parse("1 + x"), { x: 7 })','resolve(parse("size(text)"), { text: "Hello World" })','resolve(parse("x + y"), { x: parse("3z") })','resolve(parse("3x"), { x: parse("y+z"), z: parse("w^y") })'],seealso:["simplify","evaluate"],mayThrow:["ReferenceError"]};var QI={name:"simplify",category:"Algebra",syntax:["simplify(expr)","simplify(expr, rules)"],description:"Simplify an expression tree.",examples:['simplify("3 + 2 / 4")','simplify("2x + x")','f = parse("x * (x + 2 + x)")',"simplified = simplify(f)","simplified.evaluate({x: 2})"],seealso:["simplifyCore","derivative","evaluate","parse","rationalize","resolve"]};var KI={name:"simplifyConstant",category:"Algebra",syntax:["simplifyConstant(expr)","simplifyConstant(expr, options)"],description:"Replace constant subexpressions of node with their values.",examples:['simplifyConstant("(3-3)*x")','simplifyConstant(parse("z-cos(tau/8)"))'],seealso:["simplify","simplifyCore","evaluate"]};var eP={name:"simplifyCore",category:"Algebra",syntax:["simplifyCore(node)"],description:"Perform simple one-pass simplifications on an expression tree.",examples:['simplifyCore(parse("0*x"))','simplifyCore(parse("(x+0)*2"))'],seealso:["simplify","simplifyConstant","evaluate"]};var tP={name:"slu",category:"Algebra",syntax:["slu(A, order, threshold)"],description:"Calculate the Matrix LU decomposition with full pivoting. Matrix A is decomposed in two matrices (L, U) and two permutation vectors (pinv, q) where P * A * Q = L * U",examples:["slu(sparse([4.5, 0, 3.2, 0; 3.1, 2.9, 0, 0.9; 0, 1.7, 3, 0; 3.5, 0.4, 0, 1]), 1, 0.001)"],seealso:["lusolve","lsolve","usolve","matrix","sparse","lup","qr"]};var rP={name:"symbolicEqual",category:"Algebra",syntax:["symbolicEqual(expr1, expr2)","symbolicEqual(expr1, expr2, options)"],description:"Returns true if the difference of the expressions simplifies to 0",examples:['symbolicEqual("x*y","y*x")','symbolicEqual("abs(x^2)", "x^2")','symbolicEqual("abs(x)", "x", {context: {abs: {trivial: true}}})'],seealso:["simplify","evaluate"]};var nP={name:"usolve",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Finds one solution of the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["usolveAll","lup","lusolve","lsolve","matrix","sparse"]};var iP={name:"usolveAll",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Finds all solutions of the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["usolve","lup","lusolve","lsolve","matrix","sparse"]};var aP={name:"abs",category:"Arithmetic",syntax:["abs(x)"],description:"Compute the absolute value.",examples:["abs(3.5)","abs(-4.2)"],seealso:["sign"]};var oP={name:"add",category:"Operators",syntax:["x + y","add(x, y)"],description:"Add two values.",examples:["a = 2.1 + 3.6","a - 3.6","3 + 2i","3 cm + 2 inch",'"2.3" + "4"'],seealso:["subtract"]};var sP={name:"cbrt",category:"Arithmetic",syntax:["cbrt(x)","cbrt(x, allRoots)"],description:"Compute the cubic root value. If x = y * y * y, then y is the cubic root of x. When `x` is a number or complex number, an optional second argument `allRoots` can be provided to return all three cubic roots. If not provided, the principal root is returned",examples:["cbrt(64)","cube(4)","cbrt(-8)","cbrt(2 + 3i)","cbrt(8i)","cbrt(8i, true)","cbrt(27 m^3)"],seealso:["square","sqrt","cube","multiply"]};var uP={name:"ceil",category:"Arithmetic",syntax:["ceil(x)"],description:"Round a value towards plus infinity. If x is complex, both real and imaginary part are rounded towards plus infinity.",examples:["ceil(3.2)","ceil(3.8)","ceil(-4.2)"],seealso:["floor","fix","round"]};var lP={name:"cube",category:"Arithmetic",syntax:["cube(x)"],description:"Compute the cube of a value. The cube of x is x * x * x.",examples:["cube(2)","2^3","2 * 2 * 2"],seealso:["multiply","square","pow"]};var cP={name:"divide",category:"Operators",syntax:["x / y","divide(x, y)"],description:"Divide two values.",examples:["a = 2 / 3","a * 3","4.5 / 2","3 + 4 / 2","(3 + 4) / 2","18 km / 4.5"],seealso:["multiply"]};var fP={name:"dotDivide",category:"Operators",syntax:["x ./ y","dotDivide(x, y)"],description:"Divide two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a ./ b"],seealso:["multiply","dotMultiply","divide"]};var pP={name:"dotMultiply",category:"Operators",syntax:["x .* y","dotMultiply(x, y)"],description:"Multiply two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a .* b"],seealso:["multiply","divide","dotDivide"]};var mP={name:"dotPow",category:"Operators",syntax:["x .^ y","dotPow(x, y)"],description:"Calculates the power of x to y element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","a .^ 2"],seealso:["pow"]};var dP={name:"exp",category:"Arithmetic",syntax:["exp(x)"],description:"Calculate the exponent of a value.",examples:["exp(1.3)","e ^ 1.3","log(exp(1.3))","x = 2.4","(exp(i*x) == cos(x) + i*sin(x))   # Euler's formula"],seealso:["expm","expm1","pow","log"]};var hP={name:"expm",category:"Arithmetic",syntax:["exp(x)"],description:"Compute the matrix exponential, expm(A) = e^A. The matrix must be square. Not to be confused with exp(a), which performs element-wise exponentiation.",examples:["expm([[0,2],[0,0]])"],seealso:["exp"]};var gP={name:"expm1",category:"Arithmetic",syntax:["expm1(x)"],description:"Calculate the value of subtracting 1 from the exponential value.",examples:["expm1(2)","pow(e, 2) - 1","log(expm1(2) + 1)"],seealso:["exp","pow","log"]};var vP={name:"fix",category:"Arithmetic",syntax:["fix(x)"],description:"Round a value towards zero. If x is complex, both real and imaginary part are rounded towards zero.",examples:["fix(3.2)","fix(3.8)","fix(-4.2)","fix(-4.8)"],seealso:["ceil","floor","round"]};var yP={name:"floor",category:"Arithmetic",syntax:["floor(x)"],description:"Round a value towards minus infinity.If x is complex, both real and imaginary part are rounded towards minus infinity.",examples:["floor(3.2)","floor(3.8)","floor(-4.2)"],seealso:["ceil","fix","round"]};var bP={name:"gcd",category:"Arithmetic",syntax:["gcd(a, b)","gcd(a, b, c, ...)"],description:"Compute the greatest common divisor.",examples:["gcd(8, 12)","gcd(-4, 6)","gcd(25, 15, -10)"],seealso:["lcm","xgcd"]};var xP={name:"hypot",category:"Arithmetic",syntax:["hypot(a, b, c, ...)","hypot([a, b, c, ...])"],description:"Calculate the hypotenusa of a list with values. ",examples:["hypot(3, 4)","sqrt(3^2 + 4^2)","hypot(-2)","hypot([3, 4, 5])"],seealso:["abs","norm"]};var wP={name:"invmod",category:"Arithmetic",syntax:["invmod(a, b)"],description:"Calculate the (modular) multiplicative inverse of a modulo b. Solution to the equation ax \u2263 1 (mod b)",examples:["invmod(8, 12)","invmod(7, 13)","invmod(15151, 15122)"],seealso:["gcd","xgcd"]};var _P={name:"lcm",category:"Arithmetic",syntax:["lcm(x, y)"],description:"Compute the least common multiple.",examples:["lcm(4, 6)","lcm(6, 21)","lcm(6, 21, 5)"],seealso:["gcd"]};var SP={name:"log",category:"Arithmetic",syntax:["log(x)","log(x, base)"],description:"Compute the logarithm of a value. If no base is provided, the natural logarithm of x is calculated. If base if provided, the logarithm is calculated for the specified base. log(x, base) is defined as log(x) / log(base).",examples:["log(3.5)","a = log(2.4)","exp(a)","10 ^ 4","log(10000, 10)","log(10000) / log(10)","b = log(1024, 2)","2 ^ b"],seealso:["exp","log1p","log2","log10"]};var AP={name:"log10",category:"Arithmetic",syntax:["log10(x)"],description:"Compute the 10-base logarithm of a value.",examples:["log10(0.00001)","log10(10000)","10 ^ 4","log(10000) / log(10)","log(10000, 10)"],seealso:["exp","log"]};var EP={name:"log1p",category:"Arithmetic",syntax:["log1p(x)","log1p(x, base)"],description:"Calculate the logarithm of a `value+1`",examples:["log1p(2.5)","exp(log1p(1.4))","pow(10, 4)","log1p(9999, 10)","log1p(9999) / log(10)"],seealso:["exp","log","log2","log10"]};var DP={name:"log2",category:"Arithmetic",syntax:["log2(x)"],description:"Calculate the 2-base of a value. This is the same as calculating `log(x, 2)`.",examples:["log2(0.03125)","log2(16)","log2(16) / log2(2)","pow(2, 4)"],seealso:["exp","log1p","log","log10"]};var MP={name:"mod",category:"Operators",syntax:["x % y","x mod y","mod(x, y)"],description:"Calculates the modulus, the remainder of an integer division.",examples:["7 % 3","11 % 2","10 mod 4","isOdd(x) = x % 2","isOdd(2)","isOdd(3)"],seealso:["divide"]};var NP={name:"multiply",category:"Operators",syntax:["x * y","multiply(x, y)"],description:"multiply two values.",examples:["a = 2.1 * 3.4","a / 3.4","2 * 3 + 4","2 * (3 + 4)","3 * 2.1 km"],seealso:["divide"]};var CP={name:"norm",category:"Arithmetic",syntax:["norm(x)","norm(x, p)"],description:"Calculate the norm of a number, vector or matrix.",examples:["abs(-3.5)","norm(-3.5)","norm(3 - 4i)","norm([1, 2, -3], Infinity)","norm([1, 2, -3], -Infinity)","norm([3, 4], 2)","norm([[1, 2], [3, 4]], 1)",'norm([[1, 2], [3, 4]], "inf")','norm([[1, 2], [3, 4]], "fro")']};var TP={name:"nthRoot",category:"Arithmetic",syntax:["nthRoot(a)","nthRoot(a, root)"],description:'Calculate the nth root of a value. The principal nth root of a positive real number A, is the positive real solution of the equation "x^root = A".',examples:["4 ^ 3","nthRoot(64, 3)","nthRoot(9, 2)","sqrt(9)"],seealso:["nthRoots","pow","sqrt"]};var FP={name:"nthRoots",category:"Arithmetic",syntax:["nthRoots(A)","nthRoots(A, root)"],description:'Calculate the nth roots of a value. An nth root of a positive real number A, is a positive real solution of the equation "x^root = A". This function returns an array of complex values.',examples:["nthRoots(1)","nthRoots(1, 3)"],seealso:["sqrt","pow","nthRoot"]};var IP={name:"pow",category:"Operators",syntax:["x ^ y","pow(x, y)"],description:"Calculates the power of x to y, x^y.",examples:["2^3","2*2*2","1 + e ^ (pi * i)","pow([[1, 2], [4, 3]], 2)","pow([[1, 2], [4, 3]], -1)"],seealso:["multiply","nthRoot","nthRoots","sqrt"]};var PP={name:"round",category:"Arithmetic",syntax:["round(x)","round(x, n)","round(unit, valuelessUnit)","round(unit, n, valuelessUnit)"],description:"round a value towards the nearest integer.If x is complex, both real and imaginary part are rounded towards the nearest integer. When n is specified, the value is rounded to n decimals.",examples:["round(3.2)","round(3.8)","round(-4.2)","round(-4.8)","round(pi, 3)","round(123.45678, 2)","round(3.241cm, 2, cm)","round([3.2, 3.8, -4.7])"],seealso:["ceil","floor","fix"]};var BP={name:"sign",category:"Arithmetic",syntax:["sign(x)"],description:"Compute the sign of a value. The sign of a value x is 1 when x>1, -1 when x<0, and 0 when x=0.",examples:["sign(3.5)","sign(-4.2)","sign(0)"],seealso:["abs"]};var OP={name:"sqrt",category:"Arithmetic",syntax:["sqrt(x)"],description:"Compute the square root value. If x = y * y, then y is the square root of x.",examples:["sqrt(25)","5 * 5","sqrt(-1)"],seealso:["square","sqrtm","multiply","nthRoot","nthRoots","pow"]};var kP={name:"sqrtm",category:"Arithmetic",syntax:["sqrtm(x)"],description:"Calculate the principal square root of a square matrix. The principal square root matrix `X` of another matrix `A` is such that `X * X = A`.",examples:["sqrtm([[33, 24], [48, 57]])"],seealso:["sqrt","abs","square","multiply"]};var RP={name:"sylvester",category:"Algebra",syntax:["sylvester(A,B,C)"],description:"Solves the real-valued Sylvester equation AX+XB=C for X",examples:["sylvester([[-1, -2], [1, 1]], [[-2, 1], [-1, 2]], [[-3, 2], [3, 0]])","A = [[-1, -2], [1, 1]]; B = [[2, -1], [1, -2]]; C = [[-3, 2], [3, 0]]","sylvester(A, B, C)"],seealso:["schur","lyap"]};var LP={name:"schur",category:"Algebra",syntax:["schur(A)"],description:"Performs a real Schur decomposition of the real matrix A = UTU'",examples:["schur([[1, 0], [-4, 3]])","A = [[1, 0], [-4, 3]]","schur(A)"],seealso:["lyap","sylvester"]};var VP={name:"lyap",category:"Algebra",syntax:["lyap(A,Q)"],description:"Solves the Continuous-time Lyapunov equation AP+PA'+Q=0 for P",examples:["lyap([[-2, 0], [1, -4]], [[3, 1], [1, 3]])","A = [[-2, 0], [1, -4]]","Q = [[3, 1], [1, 3]]","lyap(A,Q)"],seealso:["schur","sylvester"]};var UP={name:"square",category:"Arithmetic",syntax:["square(x)"],description:"Compute the square of a value. The square of x is x * x.",examples:["square(3)","sqrt(9)","3^2","3 * 3"],seealso:["multiply","pow","sqrt","cube"]};var qP={name:"subtract",category:"Operators",syntax:["x - y","subtract(x, y)"],description:"subtract two values.",examples:["a = 5.3 - 2","a + 2","2/3 - 1/6","2 * 3 - 3","2.1 km - 500m"],seealso:["add"]};var zP={name:"unaryMinus",category:"Operators",syntax:["-x","unaryMinus(x)"],description:"Inverse the sign of a value. Converts booleans and strings to numbers.",examples:["-4.5","-(-5.6)",'-"22"'],seealso:["add","subtract","unaryPlus"]};var $P={name:"unaryPlus",category:"Operators",syntax:["+x","unaryPlus(x)"],description:"Converts booleans and strings to numbers.",examples:["+true",'+"2"'],seealso:["add","subtract","unaryMinus"]};var HP={name:"xgcd",category:"Arithmetic",syntax:["xgcd(a, b)"],description:"Calculate the extended greatest common divisor for two values. The result is an array [d, x, y] with 3 entries, where d is the greatest common divisor, and d = x * a + y * b.",examples:["xgcd(8, 12)","gcd(8, 12)","xgcd(36163, 21199)"],seealso:["gcd","lcm"]};var GP={name:"bitAnd",category:"Bitwise",syntax:["x & y","bitAnd(x, y)"],description:"Bitwise AND operation. Performs the logical AND operation on each pair of the corresponding bits of the two given values by multiplying them. If both bits in the compared position are 1, the bit in the resulting binary representation is 1, otherwise, the result is 0",examples:["5 & 3","bitAnd(53, 131)","[1, 12, 31] & 42"],seealso:["bitNot","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]};var WP={name:"bitNot",category:"Bitwise",syntax:["~x","bitNot(x)"],description:"Bitwise NOT operation. Performs a logical negation on each bit of the given value. Bits that are 0 become 1, and those that are 1 become 0.",examples:["~1","~2","bitNot([2, -3, 4])"],seealso:["bitAnd","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]};var YP={name:"bitOr",category:"Bitwise",syntax:["x | y","bitOr(x, y)"],description:"Bitwise OR operation. Performs the logical inclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if the first bit is 1 or the second bit is 1 or both bits are 1, otherwise, the result is 0.",examples:["5 | 3","bitOr([1, 2, 3], 4)"],seealso:["bitAnd","bitNot","bitXor","leftShift","rightArithShift","rightLogShift"]};var jP={name:"bitXor",category:"Bitwise",syntax:["bitXor(x, y)"],description:"Bitwise XOR operation, exclusive OR. Performs the logical exclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if only the first bit is 1 or only the second bit is 1, but will be 0 if both are 0 or both are 1.",examples:["bitOr(1, 2)","bitXor([2, 3, 4], 4)"],seealso:["bitAnd","bitNot","bitOr","leftShift","rightArithShift","rightLogShift"]};var ZP={name:"leftShift",category:"Bitwise",syntax:["x << y","leftShift(x, y)"],description:"Bitwise left logical shift of a value x by y number of bits.",examples:["4 << 1","8 >> 1"],seealso:["bitAnd","bitNot","bitOr","bitXor","rightArithShift","rightLogShift"]};var JP={name:"rightArithShift",category:"Bitwise",syntax:["x >> y","rightArithShift(x, y)"],description:"Bitwise right arithmetic shift of a value x by y number of bits.",examples:["8 >> 1","4 << 1","-12 >> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightLogShift"]};var XP={name:"rightLogShift",category:"Bitwise",syntax:["x >>> y","rightLogShift(x, y)"],description:"Bitwise right logical shift of a value x by y number of bits.",examples:["8 >>> 1","4 << 1","-12 >>> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightArithShift"]};var QP={name:"bellNumbers",category:"Combinatorics",syntax:["bellNumbers(n)"],description:"The Bell Numbers count the number of partitions of a set. A partition is a pairwise disjoint subset of S whose union is S. `bellNumbers` only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["bellNumbers(3)","bellNumbers(8)"],seealso:["stirlingS2"]};var KP={name:"catalan",category:"Combinatorics",syntax:["catalan(n)"],description:"The Catalan Numbers enumerate combinatorial structures of many different types. catalan only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["catalan(3)","catalan(8)"],seealso:["bellNumbers"]};var eB={name:"composition",category:"Combinatorics",syntax:["composition(n, k)"],description:"The composition counts of n into k parts. composition only takes integer arguments. The following condition must be enforced: k <= n.",examples:["composition(5, 3)"],seealso:["combinations"]};var tB={name:"stirlingS2",category:"Combinatorics",syntax:["stirlingS2(n, k)"],description:"he Stirling numbers of the second kind, counts the number of ways to partition a set of n labelled objects into k nonempty unlabelled subsets. `stirlingS2` only takes integer arguments. The following condition must be enforced: k <= n. If n = k or k = 1, then s(n,k) = 1.",examples:["stirlingS2(5, 3)"],seealso:["bellNumbers"]};var rB={name:"arg",category:"Complex",syntax:["arg(x)"],description:"Compute the argument of a complex value. If x = a+bi, the argument is computed as atan2(b, a).",examples:["arg(2 + 2i)","atan2(3, 2)","arg(2 + 3i)"],seealso:["re","im","conj","abs"]};var nB={name:"conj",category:"Complex",syntax:["conj(x)"],description:"Compute the complex conjugate of a complex value. If x = a+bi, the complex conjugate is a-bi.",examples:["conj(2 + 3i)","conj(2 - 3i)","conj(-5.2i)"],seealso:["re","im","abs","arg"]};var iB={name:"im",category:"Complex",syntax:["im(x)"],description:"Get the imaginary part of a complex number.",examples:["im(2 + 3i)","re(2 + 3i)","im(-5.2i)","im(2.4)"],seealso:["re","conj","abs","arg"]};var aB={name:"re",category:"Complex",syntax:["re(x)"],description:"Get the real part of a complex number.",examples:["re(2 + 3i)","im(2 + 3i)","re(-5.2i)","re(2.4)"],seealso:["im","conj","abs","arg"]};var oB={name:"evaluate",category:"Expression",syntax:["evaluate(expression)","evaluate(expression, scope)","evaluate([expr1, expr2, expr3, ...])","evaluate([expr1, expr2, expr3, ...], scope)"],description:"Evaluate an expression or an array with expressions.",examples:['evaluate("2 + 3")','evaluate("sqrt(16)")','evaluate("2 inch to cm")','evaluate("sin(x * pi)", { "x": 1/2 })','evaluate(["width=2", "height=4","width*height"])'],seealso:[]};var sB={name:"help",category:"Expression",syntax:["help(object)","help(string)"],description:"Display documentation on a function or data type.",examples:["help(sqrt)",'help("complex")'],seealso:[]};var uB={name:"distance",category:"Geometry",syntax:["distance([x1, y1], [x2, y2])","distance([[x1, y1], [x2, y2]])"],description:"Calculates the Euclidean distance between two points.",examples:["distance([0,0], [4,4])","distance([[0,0], [4,4]])"],seealso:[]};var lB={name:"intersect",category:"Geometry",syntax:["intersect(expr1, expr2, expr3, expr4)","intersect(expr1, expr2, expr3)"],description:"Computes the intersection point of lines and/or planes.",examples:["intersect([0, 0], [10, 10], [10, 0], [0, 10])","intersect([1, 0, 1],  [4, -2, 2], [1, 1, 1, 6])"],seealso:[]};var cB={name:"and",category:"Logical",syntax:["x and y","and(x, y)"],description:"Logical and. Test whether two values are both defined with a nonzero/nonempty value.",examples:["true and false","true and true","2 and 4"],seealso:["not","or","xor"]};var fB={name:"not",category:"Logical",syntax:["not x","not(x)"],description:"Logical not. Flips the boolean value of given argument.",examples:["not true","not false","not 2","not 0"],seealso:["and","or","xor"]};var pB={name:"or",category:"Logical",syntax:["x or y","or(x, y)"],description:"Logical or. Test if at least one value is defined with a nonzero/nonempty value.",examples:["true or false","false or false","0 or 4"],seealso:["not","and","xor"]};var mB={name:"xor",category:"Logical",syntax:["x xor y","xor(x, y)"],description:"Logical exclusive or, xor. Test whether one and only one value is defined with a nonzero/nonempty value.",examples:["true xor false","false xor false","true xor true","0 xor 4"],seealso:["not","and","or"]};var dB={name:"column",category:"Matrix",syntax:["column(x, index)"],description:"Return a column from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","column(A, 1)","column(A, 2)"],seealso:["row","matrixFromColumns"]};var hB={name:"concat",category:"Matrix",syntax:["concat(A, B, C, ...)","concat(A, B, C, ..., dim)"],description:"Concatenate matrices. By default, the matrices are concatenated by the last dimension. The dimension on which to concatenate can be provided as last argument.",examples:["A = [1, 2; 5, 6]","B = [3, 4; 7, 8]","concat(A, B)","concat(A, B, 1)","concat(A, B, 2)"],seealso:["det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]};var gB={name:"count",category:"Matrix",syntax:["count(x)"],description:"Count the number of elements of a matrix, array or string.",examples:["a = [1, 2; 3, 4; 5, 6]","count(a)","size(a)",'count("hello world")'],seealso:["size"]};var vB={name:"cross",category:"Matrix",syntax:["cross(A, B)"],description:"Calculate the cross product for two vectors in three dimensional space.",examples:["cross([1, 1, 0],  [0, 1, 1])","cross([3, -3, 1], [4, 9, 2])","cross([2, 3, 4],  [5, 6, 7])"],seealso:["multiply","dot"]};var yB={name:"ctranspose",category:"Matrix",syntax:["x'","ctranspose(x)"],description:"Complex Conjugate and Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","ctranspose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]};var bB={name:"det",category:"Matrix",syntax:["det(x)"],description:"Calculate the determinant of a matrix",examples:["det([1, 2; 3, 4])","det([-2, 2, 3; -1, 1, 3; 2, 0, -1])"],seealso:["concat","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]};var xB={name:"diag",category:"Matrix",syntax:["diag(x)","diag(x, k)"],description:"Create a diagonal matrix or retrieve the diagonal of a matrix. When x is a vector, a matrix with the vector values on the diagonal will be returned. When x is a matrix, a vector with the diagonal values of the matrix is returned. When k is provided, the k-th diagonal will be filled in or retrieved, if k is positive, the values are placed on the super diagonal. When k is negative, the values are placed on the sub diagonal.",examples:["diag(1:3)","diag(1:3, 1)","a = [1, 2, 3; 4, 5, 6; 7, 8, 9]","diag(a)"],seealso:["concat","det","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]};var wB={name:"diff",category:"Matrix",syntax:["diff(arr)","diff(arr, dim)"],description:["Create a new matrix or array with the difference of the passed matrix or array.","Dim parameter is optional and used to indicant the dimension of the array/matrix to apply the difference","If no dimension parameter is passed it is assumed as dimension 0","Dimension is zero-based in javascript and one-based in the parser","Arrays must be 'rectangular' meaning arrays like [1, 2]","If something is passed as a matrix it will be returned as a matrix but other than that all matrices are converted to arrays"],examples:["A = [1, 2, 4, 7, 0]","diff(A)","diff(A, 1)","B = [[1, 2], [3, 4]]","diff(B)","diff(B, 1)","diff(B, 2)","diff(B, bignumber(2))","diff([[1, 2], matrix([3, 4])], 2)"],seealso:["subtract","partitionSelect"]};var _B={name:"dot",category:"Matrix",syntax:["dot(A, B)","A * B"],description:"Calculate the dot product of two vectors. The dot product of A = [a1, a2, a3, ..., an] and B = [b1, b2, b3, ..., bn] is defined as dot(A, B) = a1 * b1 + a2 * b2 + a3 * b3 + ... + an * bn",examples:["dot([2, 4, 1], [2, 2, 3])","[2, 4, 1] * [2, 2, 3]"],seealso:["multiply","cross"]};var SB={name:"eigs",category:"Matrix",syntax:["eigs(x)"],description:"Calculate the eigenvalues and optionally eigenvectors of a square matrix",examples:["eigs([[5, 2.3], [2.3, 1]])","eigs([[1, 2, 3], [4, 5, 6], [7, 8, 9]], { precision: 1e-6, eigenvectors: false })"],seealso:["inv"]};var AB={name:"filter",category:"Matrix",syntax:["filter(x, test)"],description:"Filter items in a matrix.",examples:["isPositive(x) = x > 0","filter([6, -2, -1, 4, 3], isPositive)","filter([6, -2, 0, 1, 0], x != 0)"],seealso:["sort","map","forEach"]};var EB={name:"flatten",category:"Matrix",syntax:["flatten(x)"],description:"Flatten a multi dimensional matrix into a single dimensional matrix.",examples:["a = [1, 2, 3; 4, 5, 6]","size(a)","b = flatten(a)","size(b)"],seealso:["concat","resize","size","squeeze"]};var DB={name:"forEach",category:"Matrix",syntax:["forEach(x, callback)"],description:"Iterates over all elements of a matrix/array, and executes the given callback function.",examples:["numberOfPets = {}","addPet(n) = numberOfPets[n] = (numberOfPets[n] ? numberOfPets[n]:0 ) + 1;",'forEach(["Dog","Cat","Cat"], addPet)',"numberOfPets"],seealso:["map","sort","filter"]};var MB={name:"getMatrixDataType",category:"Matrix",syntax:["getMatrixDataType(x)"],description:'Find the data type of all elements in a matrix or array, for example "number" if all items are a number and "Complex" if all values are complex numbers. If a matrix contains more than one data type, it will return "mixed".',examples:["getMatrixDataType([1, 2, 3])","getMatrixDataType([[5 cm], [2 inch]])",'getMatrixDataType([1, "text"])',"getMatrixDataType([1, bignumber(4)])"],seealso:["matrix","sparse","typeOf"]};var NB={name:"identity",category:"Matrix",syntax:["identity(n)","identity(m, n)","identity([m, n])"],description:"Returns the identity matrix with size m-by-n. The matrix has ones on the diagonal and zeros elsewhere.",examples:["identity(3)","identity(3, 5)","a = [1, 2, 3; 4, 5, 6]","identity(size(a))"],seealso:["concat","det","diag","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]};var CB={name:"inv",category:"Matrix",syntax:["inv(x)"],description:"Calculate the inverse of a matrix",examples:["inv([1, 2; 3, 4])","inv(4)","1 / 4"],seealso:["concat","det","diag","identity","ones","range","size","squeeze","subset","trace","transpose","zeros"]};var TB={name:"pinv",category:"Matrix",syntax:["pinv(x)"],description:"Calculate the Moore\u2013Penrose inverse of a matrix",examples:["pinv([1, 2; 3, 4])","pinv([[1, 0], [0, 1], [0, 1]])","pinv(4)"],seealso:["inv"]};var FB={name:"kron",category:"Matrix",syntax:["kron(x, y)"],description:"Calculates the kronecker product of 2 matrices or vectors.",examples:["kron([[1, 0], [0, 1]], [[1, 2], [3, 4]])","kron([1,1], [2,3,4])"],seealso:["multiply","dot","cross"]};var IB={name:"map",category:"Matrix",syntax:["map(x, callback)"],description:"Create a new matrix or array with the results of the callback function executed on each entry of the matrix/array.",examples:["map([1, 2, 3], square)"],seealso:["filter","forEach"]};var PB={name:"matrixFromColumns",category:"Matrix",syntax:["matrixFromColumns(...arr)","matrixFromColumns(row1, row2)","matrixFromColumns(row1, row2, row3)"],description:"Create a dense matrix from vectors as individual columns.",examples:["matrixFromColumns([1, 2, 3], [[4],[5],[6]])"],seealso:["matrix","matrixFromRows","matrixFromFunction","zeros"]};var BB={name:"matrixFromFunction",category:"Matrix",syntax:["matrixFromFunction(size, fn)","matrixFromFunction(size, fn, format)","matrixFromFunction(size, fn, format, datatype)","matrixFromFunction(size, format, fn)","matrixFromFunction(size, format, datatype, fn)"],description:"Create a matrix by evaluating a generating function at each index.",examples:["f(I) = I[1] - I[2]","matrixFromFunction([3,3], f)","g(I) = I[1] - I[2] == 1 ? 4 : 0",'matrixFromFunction([100, 100], "sparse", g)',"matrixFromFunction([5], random)"],seealso:["matrix","matrixFromRows","matrixFromColumns","zeros"]};var OB={name:"matrixFromRows",category:"Matrix",syntax:["matrixFromRows(...arr)","matrixFromRows(row1, row2)","matrixFromRows(row1, row2, row3)"],description:"Create a dense matrix from vectors as individual rows.",examples:["matrixFromRows([1, 2, 3], [[4],[5],[6]])"],seealso:["matrix","matrixFromColumns","matrixFromFunction","zeros"]};var kB={name:"ones",category:"Matrix",syntax:["ones(m)","ones(m, n)","ones(m, n, p, ...)","ones([m])","ones([m, n])","ones([m, n, p, ...])"],description:"Create a matrix containing ones.",examples:["ones(3)","ones(3, 5)","ones([2,3]) * 4.5","a = [1, 2, 3; 4, 5, 6]","ones(size(a))"],seealso:["concat","det","diag","identity","inv","range","size","squeeze","subset","trace","transpose","zeros"]};var RB={name:"partitionSelect",category:"Matrix",syntax:["partitionSelect(x, k)","partitionSelect(x, k, compare)"],description:"Partition-based selection of an array or 1D matrix. Will find the kth smallest value, and mutates the input array. Uses Quickselect.",examples:["partitionSelect([5, 10, 1], 2)",'partitionSelect(["C", "B", "A", "D"], 1, compareText)',"arr = [5, 2, 1]","partitionSelect(arr, 0) # returns 1, arr is now: [1, 2, 5]","arr","partitionSelect(arr, 1, 'desc') # returns 2, arr is now: [5, 2, 1]","arr"],seealso:["sort"]};var LB={name:"range",category:"Type",syntax:["start:end","start:step:end","range(start, end)","range(start, end, step)","range(string)"],description:"Create a range. Lower bound of the range is included, upper bound is excluded.",examples:["1:5","3:-1:-3","range(3, 7)","range(0, 12, 2)",'range("4:10")',"range(1m, 1m, 3m)","a = [1, 2, 3, 4; 5, 6, 7, 8]","a[1:2, 1:2]"],seealso:["concat","det","diag","identity","inv","ones","size","squeeze","subset","trace","transpose","zeros"]};var VB={name:"reshape",category:"Matrix",syntax:["reshape(x, sizes)"],description:"Reshape a multi dimensional array to fit the specified dimensions.",examples:["reshape([1, 2, 3, 4, 5, 6], [2, 3])","reshape([[1, 2], [3, 4]], [1, 4])","reshape([[1, 2], [3, 4]], [4])","reshape([1, 2, 3, 4], [-1, 2])"],seealso:["size","squeeze","resize"]};var UB={name:"resize",category:"Matrix",syntax:["resize(x, size)","resize(x, size, defaultValue)"],description:"Resize a matrix.",examples:["resize([1,2,3,4,5], [3])","resize([1,2,3], [5])","resize([1,2,3], [5], -1)","resize(2, [2, 3])",'resize("hello", [8], "!")'],seealso:["size","subset","squeeze","reshape"]};var qB={name:"rotate",category:"Matrix",syntax:["rotate(w, theta)","rotate(w, theta, v)"],description:"Returns a 2-D rotation matrix (2x2) for a given angle (in radians). Returns a 2-D rotation matrix (3x3) of a given angle (in radians) around given axis.",examples:["rotate([1, 0], pi / 2)",'rotate(matrix([1, 0]), unit("35deg"))','rotate([1, 0, 0], unit("90deg"), [0, 0, 1])','rotate(matrix([1, 0, 0]), unit("90deg"), matrix([0, 0, 1]))'],seealso:["matrix","rotationMatrix"]};var zB={name:"rotationMatrix",category:"Matrix",syntax:["rotationMatrix(theta)","rotationMatrix(theta, v)","rotationMatrix(theta, v, format)"],description:"Returns a 2-D rotation matrix (2x2) for a given angle (in radians). Returns a 2-D rotation matrix (3x3) of a given angle (in radians) around given axis.",examples:["rotationMatrix(pi / 2)",'rotationMatrix(unit("45deg"), [0, 0, 1])','rotationMatrix(1, matrix([0, 0, 1]), "sparse")'],seealso:["cos","sin"]};var $B={name:"row",category:"Matrix",syntax:["row(x, index)"],description:"Return a row from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","row(A, 1)","row(A, 2)"],seealso:["column","matrixFromRows"]};var HB={name:"size",category:"Matrix",syntax:["size(x)"],description:"Calculate the size of a matrix.",examples:["size(2.3)",'size("hello world")',"a = [1, 2; 3, 4; 5, 6]","size(a)","size(1:6)"],seealso:["concat","count","det","diag","identity","inv","ones","range","squeeze","subset","trace","transpose","zeros"]};var GB={name:"sort",category:"Matrix",syntax:["sort(x)","sort(x, compare)"],description:'Sort the items in a matrix. Compare can be a string "asc", "desc", "natural", or a custom sort function.',examples:["sort([5, 10, 1])",'sort(["C", "B", "A", "D"], "natural")',"sortByLength(a, b) = size(a)[1] - size(b)[1]",'sort(["Langdon", "Tom", "Sara"], sortByLength)','sort(["10", "1", "2"], "natural")'],seealso:["map","filter","forEach"]};var WB={name:"squeeze",category:"Matrix",syntax:["squeeze(x)"],description:"Remove inner and outer singleton dimensions from a matrix.",examples:["a = zeros(3,2,1)","size(squeeze(a))","b = zeros(1,1,3)","size(squeeze(b))"],seealso:["concat","det","diag","identity","inv","ones","range","size","subset","trace","transpose","zeros"]};var YB={name:"subset",category:"Matrix",syntax:["value(index)","value(index) = replacement","subset(value, [index])","subset(value, [index], replacement)"],description:"Get or set a subset of the entries of a matrix or characters of a string. Indexes are one-based. There should be one index specification for each dimension of the target. Each specification can be a single index, a list of indices, or a range in colon notation `l:u`. In a range, both the lower bound l and upper bound u are included; and if a bound is omitted it defaults to the most extreme valid value. The cartesian product of the indices specified in each dimension determines the target of the operation.",examples:["d = [1, 2; 3, 4]","e = []","e[1, 1:2] = [5, 6]","e[2, :] = [7, 8]","f = d * e","f[2, 1]","f[:, 1]","f[[1,2], [1,3]] = [9, 10; 11, 12]","f"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","trace","transpose","zeros"]};var jB={name:"trace",category:"Matrix",syntax:["trace(A)"],description:"Calculate the trace of a matrix: the sum of the elements on the main diagonal of a square matrix.",examples:["A = [1, 2, 3; -1, 2, 3; 2, 0, 3]","trace(A)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","transpose","zeros"]};var ZB={name:"transpose",category:"Matrix",syntax:["x'","transpose(x)"],description:"Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","transpose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]};var JB={name:"zeros",category:"Matrix",syntax:["zeros(m)","zeros(m, n)","zeros(m, n, p, ...)","zeros([m])","zeros([m, n])","zeros([m, n, p, ...])"],description:"Create a matrix containing zeros.",examples:["zeros(3)","zeros(3, 5)","a = [1, 2, 3; 4, 5, 6]","zeros(size(a))"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose"]};var XB={name:"fft",category:"Matrix",syntax:["fft(x)"],description:"Calculate N-dimensional fourier transform",examples:["fft([[1, 0], [1, 0]])"],seealso:["ifft"]};var QB={name:"ifft",category:"Matrix",syntax:["ifft(x)"],description:"Calculate N-dimensional inverse fourier transform",examples:["ifft([[2, 2], [0, 0]])"],seealso:["fft"]};var KB={name:"combinations",category:"Probability",syntax:["combinations(n, k)"],description:"Compute the number of combinations of n items taken k at a time",examples:["combinations(7, 5)"],seealso:["combinationsWithRep","permutations","factorial"]};var eO={name:"combinationsWithRep",category:"Probability",syntax:["combinationsWithRep(n, k)"],description:"Compute the number of combinations of n items taken k at a time with replacements.",examples:["combinationsWithRep(7, 5)"],seealso:["combinations","permutations","factorial"]};var tO={name:"factorial",category:"Probability",syntax:["n!","factorial(n)"],description:"Compute the factorial of a value",examples:["5!","5 * 4 * 3 * 2 * 1","3!"],seealso:["combinations","combinationsWithRep","permutations","gamma"]};var rO={name:"gamma",category:"Probability",syntax:["gamma(n)"],description:"Compute the gamma function. For small values, the Lanczos approximation is used, and for large values the extended Stirling approximation.",examples:["gamma(4)","3!","gamma(1/2)","sqrt(pi)"],seealso:["factorial"]};var nO={name:"lgamma",category:"Probability",syntax:["lgamma(n)"],description:"Logarithm of the gamma function for real, positive numbers and complex numbers, using Lanczos approximation for numbers and Stirling series for complex numbers.",examples:["lgamma(4)","lgamma(1/2)","lgamma(i)","lgamma(complex(1.1, 2))"],seealso:["gamma"]};var iO={name:"kldivergence",category:"Probability",syntax:["kldivergence(x, y)"],description:"Calculate the Kullback-Leibler (KL) divergence  between two distributions.",examples:["kldivergence([0.7,0.5,0.4], [0.2,0.9,0.5])"],seealso:[]};var aO={name:"multinomial",category:"Probability",syntax:["multinomial(A)"],description:"Multinomial Coefficients compute the number of ways of picking a1, a2, ..., ai unordered outcomes from `n` possibilities. multinomial takes one array of integers as an argument. The following condition must be enforced: every ai > 0.",examples:["multinomial([1, 2, 1])"],seealso:["combinations","factorial"]};var oO={name:"permutations",category:"Probability",syntax:["permutations(n)","permutations(n, k)"],description:"Compute the number of permutations of n items taken k at a time",examples:["permutations(5)","permutations(5, 3)"],seealso:["combinations","combinationsWithRep","factorial"]};var sO={name:"pickRandom",category:"Probability",syntax:["pickRandom(array)","pickRandom(array, number)","pickRandom(array, weights)","pickRandom(array, number, weights)","pickRandom(array, weights, number)"],description:"Pick a random entry from a given array.",examples:["pickRandom(0:10)","pickRandom([1, 3, 1, 6])","pickRandom([1, 3, 1, 6], 2)","pickRandom([1, 3, 1, 6], [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], 2, [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], [2, 3, 2, 1], 2)"],seealso:["random","randomInt"]};var uO={name:"random",category:"Probability",syntax:["random()","random(max)","random(min, max)","random(size)","random(size, max)","random(size, min, max)"],description:"Return a random number.",examples:["random()","random(10, 20)","random([2, 3])"],seealso:["pickRandom","randomInt"]};var lO={name:"randomInt",category:"Probability",syntax:["randomInt(max)","randomInt(min, max)","randomInt(size)","randomInt(size, max)","randomInt(size, min, max)"],description:"Return a random integer number",examples:["randomInt(10, 20)","randomInt([2, 3], 10)"],seealso:["pickRandom","random"]};var cO={name:"compare",category:"Relational",syntax:["compare(x, y)"],description:"Compare two values. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compare(2, 3)","compare(3, 2)","compare(2, 2)","compare(5cm, 40mm)","compare(2, [1, 2, 3])"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compareNatural","compareText"]};var fO={name:"compareNatural",category:"Relational",syntax:["compareNatural(x, y)"],description:"Compare two values of any type in a deterministic, natural way. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compareNatural(2, 3)","compareNatural(3, 2)","compareNatural(2, 2)","compareNatural(5cm, 40mm)",'compareNatural("2", "10")',"compareNatural(2 + 3i, 2 + 4i)","compareNatural([1, 2, 4], [1, 2, 3])","compareNatural([1, 5], [1, 2, 3])","compareNatural([1, 2], [1, 2])","compareNatural({a: 2}, {a: 4})"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare","compareText"]};var pO={name:"compareText",category:"Relational",syntax:["compareText(x, y)"],description:"Compare two strings lexically. Comparison is case sensitive. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:['compareText("B", "A")','compareText("A", "B")','compareText("A", "A")','compareText("2", "10")','compare("2", "10")',"compare(2, 10)",'compareNatural("2", "10")','compareText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural"]};var mO={name:"deepEqual",category:"Relational",syntax:["deepEqual(x, y)"],description:"Check equality of two matrices element wise. Returns true if the size of both matrices is equal and when and each of the elements are equal.",examples:["deepEqual([1,3,4], [1,3,4])","deepEqual([1,3,4], [1,3])"],seealso:["equal","unequal","smaller","larger","smallerEq","largerEq","compare"]};var dO={name:"equal",category:"Relational",syntax:["x == y","equal(x, y)"],description:"Check equality of two values. Returns true if the values are equal, and false if not.",examples:["2+2 == 3","2+2 == 4","a = 3.2","b = 6-2.8","a == b","50cm == 0.5m"],seealso:["unequal","smaller","larger","smallerEq","largerEq","compare","deepEqual","equalText"]};var hO={name:"equalText",category:"Relational",syntax:["equalText(x, y)"],description:"Check equality of two strings. Comparison is case sensitive. Returns true if the values are equal, and false if not.",examples:['equalText("Hello", "Hello")','equalText("a", "A")','equal("2e3", "2000")','equalText("2e3", "2000")','equalText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural","compareText","equal"]};var gO={name:"larger",category:"Relational",syntax:["x > y","larger(x, y)"],description:"Check if value x is larger than y. Returns true if x is larger than y, and false if not.",examples:["2 > 3","5 > 2*2","a = 3.3","b = 6-2.8","(a > b)","(b < a)","5 cm > 2 inch"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare"]};var vO={name:"largerEq",category:"Relational",syntax:["x >= y","largerEq(x, y)"],description:"Check if value x is larger or equal to y. Returns true if x is larger or equal to y, and false if not.",examples:["2 >= 1+1","2 > 1+1","a = 3.2","b = 6-2.8","(a >= b)"],seealso:["equal","unequal","smallerEq","smaller","compare"]};var yO={name:"smaller",category:"Relational",syntax:["x < y","smaller(x, y)"],description:"Check if value x is smaller than value y. Returns true if x is smaller than y, and false if not.",examples:["2 < 3","5 < 2*2","a = 3.3","b = 6-2.8","(a < b)","5 cm < 2 inch"],seealso:["equal","unequal","larger","smallerEq","largerEq","compare"]};var bO={name:"smallerEq",category:"Relational",syntax:["x <= y","smallerEq(x, y)"],description:"Check if value x is smaller or equal to value y. Returns true if x is smaller than y, and false if not.",examples:["2 <= 1+1","2 < 1+1","a = 3.2","b = 6-2.8","(a <= b)"],seealso:["equal","unequal","larger","smaller","largerEq","compare"]};var xO={name:"unequal",category:"Relational",syntax:["x != y","unequal(x, y)"],description:"Check unequality of two values. Returns true if the values are unequal, and false if they are equal.",examples:["2+2 != 3","2+2 != 4","a = 3.2","b = 6-2.8","a != b","50cm != 0.5m","5 cm != 2 inch"],seealso:["equal","smaller","larger","smallerEq","largerEq","compare","deepEqual"]};var wO={name:"setCartesian",category:"Set",syntax:["setCartesian(set1, set2)"],description:"Create the cartesian product of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays and the values will be sorted in ascending order before the operation.",examples:["setCartesian([1, 2], [3, 4])"],seealso:["setUnion","setIntersect","setDifference","setPowerset"]};var _O={name:"setDifference",category:"Set",syntax:["setDifference(set1, set2)"],description:"Create the difference of two (multi)sets: every element of set1, that is not the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setDifference([1, 2, 3, 4], [3, 4, 5, 6])","setDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setSymDifference"]};var SO={name:"setDistinct",category:"Set",syntax:["setDistinct(set)"],description:"Collect the distinct elements of a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setDistinct([1, 1, 1, 2, 2, 3])"],seealso:["setMultiplicity"]};var AO={name:"setIntersect",category:"Set",syntax:["setIntersect(set1, set2)"],description:"Create the intersection of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIntersect([1, 2, 3, 4], [3, 4, 5, 6])","setIntersect([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setDifference"]};var EO={name:"setIsSubset",category:"Set",syntax:["setIsSubset(set1, set2)"],description:"Check whether a (multi)set is a subset of another (multi)set: every element of set1 is the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIsSubset([1, 2], [3, 4, 5, 6])","setIsSubset([3, 4], [3, 4, 5, 6])"],seealso:["setUnion","setIntersect","setDifference"]};var DO={name:"setMultiplicity",category:"Set",syntax:["setMultiplicity(element, set)"],description:"Count the multiplicity of an element in a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setMultiplicity(1, [1, 2, 2, 4])","setMultiplicity(2, [1, 2, 2, 4])"],seealso:["setDistinct","setSize"]};var MO={name:"setPowerset",category:"Set",syntax:["setPowerset(set)"],description:"Create the powerset of a (multi)set: the powerset contains very possible subsets of a (multi)set. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setPowerset([1, 2, 3])"],seealso:["setCartesian"]};var NO={name:"setSize",category:"Set",syntax:["setSize(set)","setSize(set, unique)"],description:'Count the number of elements of a (multi)set. When the second parameter "unique" is true, count only the unique values. A multi-dimension array will be converted to a single-dimension array before the operation.',examples:["setSize([1, 2, 2, 4])","setSize([1, 2, 2, 4], true)"],seealso:["setUnion","setIntersect","setDifference"]};var CO={name:"setSymDifference",category:"Set",syntax:["setSymDifference(set1, set2)"],description:"Create the symmetric difference of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setSymDifference([1, 2, 3, 4], [3, 4, 5, 6])","setSymDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setDifference"]};var TO={name:"setUnion",category:"Set",syntax:["setUnion(set1, set2)"],description:"Create the union of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setUnion([1, 2, 3, 4], [3, 4, 5, 6])","setUnion([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setIntersect","setDifference"]};var FO={name:"zpk2tf",category:"Signal",syntax:["zpk2tf(z, p, k)"],description:"Compute the transfer function of a zero-pole-gain model.",examples:["zpk2tf([1, 2], [-1, -2], 1)","zpk2tf([1, 2], [-1, -2])","zpk2tf([1 - 3i, 2 + 2i], [-1, -2])"],seealso:[]};var IO={name:"freqz",category:"Signal",syntax:["freqz(b, a)","freqz(b, a, w)"],description:"Calculates the frequency response of a filter given its numerator and denominator coefficients.",examples:["freqz([1, 2], [1, 2, 3])","freqz([1, 2], [1, 2, 3], [0, 1])","freqz([1, 2], [1, 2, 3], 512)"],seealso:[]};var PO={name:"erf",category:"Special",syntax:["erf(x)"],description:"Compute the erf function of a value using a rational Chebyshev approximations for different intervals of x",examples:["erf(0.2)","erf(-0.5)","erf(4)"],seealso:[]};var BO={name:"zeta",category:"Special",syntax:["zeta(s)"],description:"Compute the Riemann Zeta Function using an infinite series and Riemanns Functional Equation for the entire complex plane",examples:["zeta(0.2)","zeta(-0.5)","zeta(4)"],seealso:[]};var OO={name:"mad",category:"Statistics",syntax:["mad(a, b, c, ...)","mad(A)"],description:"Compute the median absolute deviation of a matrix or a list with values. The median absolute deviation is defined as the median of the absolute deviations from the median.",examples:["mad(10, 20, 30)","mad([1, 2, 3])"],seealso:["mean","median","std","abs"]};var kO={name:"max",category:"Statistics",syntax:["max(a, b, c, ...)","max(A)","max(A, dimension)"],description:"Compute the maximum value of a list of values.",examples:["max(2, 3, 4, 1)","max([2, 3, 4, 1])","max([2, 5; 4, 3])","max([2, 5; 4, 3], 1)","max([2, 5; 4, 3], 2)","max(2.7, 7.1, -4.5, 2.0, 4.1)","min(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["mean","median","min","prod","std","sum","variance"]};var RO={name:"mean",category:"Statistics",syntax:["mean(a, b, c, ...)","mean(A)","mean(A, dimension)"],description:"Compute the arithmetic mean of a list of values.",examples:["mean(2, 3, 4, 1)","mean([2, 3, 4, 1])","mean([2, 5; 4, 3])","mean([2, 5; 4, 3], 1)","mean([2, 5; 4, 3], 2)","mean([1.0, 2.7, 3.2, 4.0])"],seealso:["max","median","min","prod","std","sum","variance"]};var LO={name:"median",category:"Statistics",syntax:["median(a, b, c, ...)","median(A)"],description:"Compute the median of all values. The values are sorted and the middle value is returned. In case of an even number of values, the average of the two middle values is returned.",examples:["median(5, 2, 7)","median([3, -1, 5, 7])"],seealso:["max","mean","min","prod","std","sum","variance","quantileSeq"]};var VO={name:"min",category:"Statistics",syntax:["min(a, b, c, ...)","min(A)","min(A, dimension)"],description:"Compute the minimum value of a list of values.",examples:["min(2, 3, 4, 1)","min([2, 3, 4, 1])","min([2, 5; 4, 3])","min([2, 5; 4, 3], 1)","min([2, 5; 4, 3], 2)","min(2.7, 7.1, -4.5, 2.0, 4.1)","max(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["max","mean","median","prod","std","sum","variance"]};var UO={name:"mode",category:"Statistics",syntax:["mode(a, b, c, ...)","mode(A)","mode(A, a, b, B, c, ...)"],description:"Computes the mode of all values as an array. In case mode being more than one, multiple values are returned in an array.",examples:["mode(2, 1, 4, 3, 1)","mode([1, 2.7, 3.2, 4, 2.7])","mode(1, 4, 6, 1, 6)"],seealso:["max","mean","min","median","prod","std","sum","variance"]};var qO={name:"prod",category:"Statistics",syntax:["prod(a, b, c, ...)","prod(A)"],description:"Compute the product of all values.",examples:["prod(2, 3, 4)","prod([2, 3, 4])","prod([2, 5; 4, 3])"],seealso:["max","mean","min","median","min","std","sum","variance"]};var zO={name:"quantileSeq",category:"Statistics",syntax:["quantileSeq(A, prob[, sorted])","quantileSeq(A, [prob1, prob2, ...][, sorted])","quantileSeq(A, N[, sorted])"],description:`Compute the prob order quantile of a matrix or a list with values. The sequence is sorted and the middle value is returned. Supported types of sequence values are: Number, BigNumber, Unit Supported types of probablity are: Number, BigNumber. 

In case of a (multi dimensional) array or matrix, the prob order quantile of all elements will be calculated.`,examples:["quantileSeq([3, -1, 5, 7], 0.5)","quantileSeq([3, -1, 5, 7], [1/3, 2/3])","quantileSeq([3, -1, 5, 7], 2)","quantileSeq([-1, 3, 5, 7], 0.5, true)"],seealso:["mean","median","min","max","prod","std","sum","variance"]};var $O={name:"std",category:"Statistics",syntax:["std(a, b, c, ...)","std(A)","std(A, dimension)","std(A, normalization)","std(A, dimension, normalization)"],description:'Compute the standard deviation of all values, defined as std(A) = sqrt(variance(A)). Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["std(2, 4, 6)","std([2, 4, 6, 8])",'std([2, 4, 6, 8], "uncorrected")','std([2, 4, 6, 8], "biased")',"std([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","prod","sum","variance"]};var HO={name:"cumsum",category:"Statistics",syntax:["cumsum(a, b, c, ...)","cumsum(A)"],description:"Compute the cumulative sum of all values.",examples:["cumsum(2, 3, 4, 1)","cumsum([2, 3, 4, 1])","cumsum([1, 2; 3, 4])","cumsum([1, 2; 3, 4], 1)","cumsum([1, 2; 3, 4], 2)"],seealso:["max","mean","median","min","prod","std","sum","variance"]};var GO={name:"sum",category:"Statistics",syntax:["sum(a, b, c, ...)","sum(A)","sum(A, dimension)"],description:"Compute the sum of all values.",examples:["sum(2, 3, 4, 1)","sum([2, 3, 4, 1])","sum([2, 5; 4, 3])"],seealso:["max","mean","median","min","prod","std","sum","variance"]};var WO={name:"variance",category:"Statistics",syntax:["variance(a, b, c, ...)","variance(A)","variance(A, dimension)","variance(A, normalization)","variance(A, dimension, normalization)"],description:'Compute the variance of all values. Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["variance(2, 4, 6)","variance([2, 4, 6, 8])",'variance([2, 4, 6, 8], "uncorrected")','variance([2, 4, 6, 8], "biased")',"variance([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","min","prod","std","sum"]};var YO={name:"corr",category:"Statistics",syntax:["corr(A,B)"],description:"Compute the correlation coefficient of a two list with values, For matrices, the matrix correlation coefficient is calculated.",examples:["corr([2, 4, 6, 8],[1, 2, 3, 6])","corr(matrix([[1, 2.2, 3, 4.8, 5], [1, 2, 3, 4, 5]]), matrix([[4, 5.3, 6.6, 7, 8], [1, 2, 3, 4, 5]]))"],seealso:["max","mean","min","median","min","prod","std","sum"]};var jO={name:"acos",category:"Trigonometry",syntax:["acos(x)"],description:"Compute the inverse cosine of a value in radians.",examples:["acos(0.5)","acos(cos(2.3))"],seealso:["cos","atan","asin"]};var ZO={name:"acosh",category:"Trigonometry",syntax:["acosh(x)"],description:"Calculate the hyperbolic arccos of a value, defined as `acosh(x) = ln(sqrt(x^2 - 1) + x)`.",examples:["acosh(1.5)"],seealso:["cosh","asinh","atanh"]};var JO={name:"acot",category:"Trigonometry",syntax:["acot(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acot(0.5)","acot(cot(0.5))","acot(2)"],seealso:["cot","atan"]};var XO={name:"acoth",category:"Trigonometry",syntax:["acoth(x)"],description:"Calculate the hyperbolic arccotangent of a value, defined as `acoth(x) = (ln((x+1)/x) + ln(x/(x-1))) / 2`.",examples:["acoth(2)","acoth(0.5)"],seealso:["acsch","asech"]};var QO={name:"acsc",category:"Trigonometry",syntax:["acsc(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acsc(2)","acsc(csc(0.5))","acsc(0.5)"],seealso:["csc","asin","asec"]};var KO={name:"acsch",category:"Trigonometry",syntax:["acsch(x)"],description:"Calculate the hyperbolic arccosecant of a value, defined as `acsch(x) = ln(1/x + sqrt(1/x^2 + 1))`.",examples:["acsch(0.5)"],seealso:["asech","acoth"]};var ek={name:"asec",category:"Trigonometry",syntax:["asec(x)"],description:"Calculate the inverse secant of a value.",examples:["asec(0.5)","asec(sec(0.5))","asec(2)"],seealso:["acos","acot","acsc"]};var tk={name:"asech",category:"Trigonometry",syntax:["asech(x)"],description:"Calculate the inverse secant of a value.",examples:["asech(0.5)"],seealso:["acsch","acoth"]};var rk={name:"asin",category:"Trigonometry",syntax:["asin(x)"],description:"Compute the inverse sine of a value in radians.",examples:["asin(0.5)","asin(sin(0.5))"],seealso:["sin","acos","atan"]};var nk={name:"asinh",category:"Trigonometry",syntax:["asinh(x)"],description:"Calculate the hyperbolic arcsine of a value, defined as `asinh(x) = ln(x + sqrt(x^2 + 1))`.",examples:["asinh(0.5)"],seealso:["acosh","atanh"]};var ik={name:"atan",category:"Trigonometry",syntax:["atan(x)"],description:"Compute the inverse tangent of a value in radians.",examples:["atan(0.5)","atan(tan(0.5))"],seealso:["tan","acos","asin"]};var ak={name:"atan2",category:"Trigonometry",syntax:["atan2(y, x)"],description:"Computes the principal value of the arc tangent of y/x in radians.",examples:["atan2(2, 2) / pi","angle = 60 deg in rad","x = cos(angle)","y = sin(angle)","atan2(y, x)"],seealso:["sin","cos","tan"]};var ok={name:"atanh",category:"Trigonometry",syntax:["atanh(x)"],description:"Calculate the hyperbolic arctangent of a value, defined as `atanh(x) = ln((1 + x)/(1 - x)) / 2`.",examples:["atanh(0.5)"],seealso:["acosh","asinh"]};var sk={name:"cos",category:"Trigonometry",syntax:["cos(x)"],description:"Compute the cosine of x in radians.",examples:["cos(2)","cos(pi / 4) ^ 2","cos(180 deg)","cos(60 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["acos","sin","tan"]};var uk={name:"cosh",category:"Trigonometry",syntax:["cosh(x)"],description:"Compute the hyperbolic cosine of x in radians.",examples:["cosh(0.5)"],seealso:["sinh","tanh","coth"]};var lk={name:"cot",category:"Trigonometry",syntax:["cot(x)"],description:"Compute the cotangent of x in radians. Defined as 1/tan(x)",examples:["cot(2)","1 / tan(2)"],seealso:["sec","csc","tan"]};var ck={name:"coth",category:"Trigonometry",syntax:["coth(x)"],description:"Compute the hyperbolic cotangent of x in radians.",examples:["coth(2)","1 / tanh(2)"],seealso:["sech","csch","tanh"]};var fk={name:"csc",category:"Trigonometry",syntax:["csc(x)"],description:"Compute the cosecant of x in radians. Defined as 1/sin(x)",examples:["csc(2)","1 / sin(2)"],seealso:["sec","cot","sin"]};var pk={name:"csch",category:"Trigonometry",syntax:["csch(x)"],description:"Compute the hyperbolic cosecant of x in radians. Defined as 1/sinh(x)",examples:["csch(2)","1 / sinh(2)"],seealso:["sech","coth","sinh"]};var mk={name:"sec",category:"Trigonometry",syntax:["sec(x)"],description:"Compute the secant of x in radians. Defined as 1/cos(x)",examples:["sec(2)","1 / cos(2)"],seealso:["cot","csc","cos"]};var dk={name:"sech",category:"Trigonometry",syntax:["sech(x)"],description:"Compute the hyperbolic secant of x in radians. Defined as 1/cosh(x)",examples:["sech(2)","1 / cosh(2)"],seealso:["coth","csch","cosh"]};var hk={name:"sin",category:"Trigonometry",syntax:["sin(x)"],description:"Compute the sine of x in radians.",examples:["sin(2)","sin(pi / 4) ^ 2","sin(90 deg)","sin(30 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["asin","cos","tan"]};var gk={name:"sinh",category:"Trigonometry",syntax:["sinh(x)"],description:"Compute the hyperbolic sine of x in radians.",examples:["sinh(0.5)"],seealso:["cosh","tanh"]};var vk={name:"tan",category:"Trigonometry",syntax:["tan(x)"],description:"Compute the tangent of x in radians.",examples:["tan(0.5)","sin(0.5) / cos(0.5)","tan(pi / 4)","tan(45 deg)"],seealso:["atan","sin","cos"]};var yk={name:"tanh",category:"Trigonometry",syntax:["tanh(x)"],description:"Compute the hyperbolic tangent of x in radians.",examples:["tanh(0.5)","sinh(0.5) / cosh(0.5)"],seealso:["sinh","cosh"]};var bk={name:"to",category:"Units",syntax:["x to unit","to(x, unit)"],description:"Change the unit of a value.",examples:["5 inch to cm","3.2kg to g","16 bytes in bits"],seealso:[]};var xk={name:"bin",category:"Utils",syntax:["bin(value)"],description:"Format a number as binary",examples:["bin(2)"],seealso:["oct","hex"]};var wk={name:"clone",category:"Utils",syntax:["clone(x)"],description:"Clone a variable. Creates a copy of primitive variables,and a deep copy of matrices",examples:["clone(3.5)","clone(2 - 4i)","clone(45 deg)","clone([1, 2; 3, 4])",'clone("hello world")'],seealso:[]};var _k={name:"format",category:"Utils",syntax:["format(value)","format(value, precision)"],description:"Format a value of any type as string.",examples:["format(2.3)","format(3 - 4i)","format([])","format(pi, 3)"],seealso:["print"]};var Sk={name:"hasNumericValue",category:"Utils",syntax:["hasNumericValue(x)"],description:"Test whether a value is an numeric value. In case of a string, true is returned if the string contains a numeric value.",examples:["hasNumericValue(2)",'hasNumericValue("2")','isNumeric("2")',"hasNumericValue(0)","hasNumericValue(bignumber(500))","hasNumericValue(fraction(0.125))","hasNumericValue(2 + 3i)",'hasNumericValue([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","isNumeric"]};var Ak={name:"hex",category:"Utils",syntax:["hex(value)"],description:"Format a number as hexadecimal",examples:["hex(240)"],seealso:["bin","oct"]};var Ek={name:"isInteger",category:"Utils",syntax:["isInteger(x)"],description:"Test whether a value is an integer number.",examples:["isInteger(2)","isInteger(3.5)","isInteger([3, 0.5, -2])"],seealso:["isNegative","isNumeric","isPositive","isZero"]};var Dk={name:"isNaN",category:"Utils",syntax:["isNaN(x)"],description:"Test whether a value is NaN (not a number)",examples:["isNaN(2)","isNaN(0 / 0)","isNaN(NaN)","isNaN(Infinity)"],seealso:["isNegative","isNumeric","isPositive","isZero"]};var Mk={name:"isNegative",category:"Utils",syntax:["isNegative(x)"],description:"Test whether a value is negative: smaller than zero.",examples:["isNegative(2)","isNegative(0)","isNegative(-4)","isNegative([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isPositive","isZero"]};var Nk={name:"isNumeric",category:"Utils",syntax:["isNumeric(x)"],description:"Test whether a value is a numeric value. Returns true when the input is a number, BigNumber, Fraction, or boolean.",examples:["isNumeric(2)",'isNumeric("2")','hasNumericValue("2")',"isNumeric(0)","isNumeric(bignumber(500))","isNumeric(fraction(0.125))","isNumeric(2 + 3i)",'isNumeric([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","hasNumericValue"]};var Ck={name:"isPositive",category:"Utils",syntax:["isPositive(x)"],description:"Test whether a value is positive: larger than zero.",examples:["isPositive(2)","isPositive(0)","isPositive(-4)","isPositive([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isNegative","isZero"]};var Tk={name:"isPrime",category:"Utils",syntax:["isPrime(x)"],description:"Test whether a value is prime: has no divisors other than itself and one.",examples:["isPrime(3)","isPrime(-2)","isPrime([2, 17, 100])"],seealso:["isInteger","isNumeric","isNegative","isZero"]};var Fk={name:"isZero",category:"Utils",syntax:["isZero(x)"],description:"Test whether a value is zero.",examples:["isZero(2)","isZero(0)","isZero(-4)","isZero([3, 0, -2, 0])"],seealso:["isInteger","isNumeric","isNegative","isPositive"]};var Ik={name:"numeric",category:"Utils",syntax:["numeric(x)"],description:"Convert a numeric input to a specific numeric type: number, BigNumber, or Fraction.",examples:['numeric("4")','numeric("4", "number")','numeric("4", "BigNumber")','numeric("4", "Fraction")','numeric(4, "Fraction")','numeric(fraction(2, 5), "number")'],seealso:["number","fraction","bignumber","string","format"]};var Pk={name:"oct",category:"Utils",syntax:["oct(value)"],description:"Format a number as octal",examples:["oct(56)"],seealso:["bin","hex"]};var Bk={name:"print",category:"Utils",syntax:["print(template, values)","print(template, values, precision)"],description:"Interpolate values into a string template.",examples:['print("Lucy is $age years old", {age: 5})','print("The value of pi is $pi", {pi: pi}, 3)','print("Hello, $user.name!", {user: {name: "John"}})','print("Values: $1, $2, $3", [6, 9, 4])'],seealso:["format"]};var Ok={name:"typeOf",category:"Utils",syntax:["typeOf(x)"],description:"Get the type of a variable.",examples:["typeOf(3.5)","typeOf(2 - 4i)","typeOf(45 deg)",'typeOf("hello world")'],seealso:["getMatrixDataType"]};var kk={name:"solveODE",category:"Numeric",syntax:["solveODE(func, tspan, y0)","solveODE(func, tspan, y0, options)"],description:"Numerical Integration of Ordinary Differential Equations.",examples:["f(t,y) = y","tspan = [0, 4]","solveODE(f, tspan, 1)","solveODE(f, tspan, [1, 2])",'solveODE(f, tspan, 1, { method:"RK23", maxStep:0.1 })'],seealso:["derivative","simplifyCore"]};var Rk={bignumber:MI,boolean:NI,complex:CI,createUnit:TI,fraction:FI,index:II,matrix:PI,number:BI,sparse:OI,splitUnit:kI,string:RI,unit:LI,e:ew,E:ew,false:pI,i:mI,Infinity:dI,LN2:gI,LN10:hI,LOG2E:yI,LOG10E:vI,NaN:bI,null:xI,pi:tw,PI:tw,phi:wI,SQRT1_2:_I,SQRT2:SI,tau:AI,true:EI,version:DI,speedOfLight:{description:"Speed of light in vacuum",examples:["speedOfLight"]},gravitationConstant:{description:"Newtonian constant of gravitation",examples:["gravitationConstant"]},planckConstant:{description:"Planck constant",examples:["planckConstant"]},reducedPlanckConstant:{description:"Reduced Planck constant",examples:["reducedPlanckConstant"]},magneticConstant:{description:"Magnetic constant (vacuum permeability)",examples:["magneticConstant"]},electricConstant:{description:"Electric constant (vacuum permeability)",examples:["electricConstant"]},vacuumImpedance:{description:"Characteristic impedance of vacuum",examples:["vacuumImpedance"]},coulomb:{description:"Coulomb's constant",examples:["coulomb"]},elementaryCharge:{description:"Elementary charge",examples:["elementaryCharge"]},bohrMagneton:{description:"Borh magneton",examples:["bohrMagneton"]},conductanceQuantum:{description:"Conductance quantum",examples:["conductanceQuantum"]},inverseConductanceQuantum:{description:"Inverse conductance quantum",examples:["inverseConductanceQuantum"]},magneticFluxQuantum:{description:"Magnetic flux quantum",examples:["magneticFluxQuantum"]},nuclearMagneton:{description:"Nuclear magneton",examples:["nuclearMagneton"]},klitzing:{description:"Von Klitzing constant",examples:["klitzing"]},bohrRadius:{description:"Borh radius",examples:["bohrRadius"]},classicalElectronRadius:{description:"Classical electron radius",examples:["classicalElectronRadius"]},electronMass:{description:"Electron mass",examples:["electronMass"]},fermiCoupling:{description:"Fermi coupling constant",examples:["fermiCoupling"]},fineStructure:{description:"Fine-structure constant",examples:["fineStructure"]},hartreeEnergy:{description:"Hartree energy",examples:["hartreeEnergy"]},protonMass:{description:"Proton mass",examples:["protonMass"]},deuteronMass:{description:"Deuteron Mass",examples:["deuteronMass"]},neutronMass:{description:"Neutron mass",examples:["neutronMass"]},quantumOfCirculation:{description:"Quantum of circulation",examples:["quantumOfCirculation"]},rydberg:{description:"Rydberg constant",examples:["rydberg"]},thomsonCrossSection:{description:"Thomson cross section",examples:["thomsonCrossSection"]},weakMixingAngle:{description:"Weak mixing angle",examples:["weakMixingAngle"]},efimovFactor:{description:"Efimov factor",examples:["efimovFactor"]},atomicMass:{description:"Atomic mass constant",examples:["atomicMass"]},avogadro:{description:"Avogadro's number",examples:["avogadro"]},boltzmann:{description:"Boltzmann constant",examples:["boltzmann"]},faraday:{description:"Faraday constant",examples:["faraday"]},firstRadiation:{description:"First radiation constant",examples:["firstRadiation"]},loschmidt:{description:"Loschmidt constant at T=273.15 K and p=101.325 kPa",examples:["loschmidt"]},gasConstant:{description:"Gas constant",examples:["gasConstant"]},molarPlanckConstant:{description:"Molar Planck constant",examples:["molarPlanckConstant"]},molarVolume:{description:"Molar volume of an ideal gas at T=273.15 K and p=101.325 kPa",examples:["molarVolume"]},sackurTetrode:{description:"Sackur-Tetrode constant at T=1 K and p=101.325 kPa",examples:["sackurTetrode"]},secondRadiation:{description:"Second radiation constant",examples:["secondRadiation"]},stefanBoltzmann:{description:"Stefan-Boltzmann constant",examples:["stefanBoltzmann"]},wienDisplacement:{description:"Wien displacement law constant",examples:["wienDisplacement"]},molarMass:{description:"Molar mass constant",examples:["molarMass"]},molarMassC12:{description:"Molar mass constant of carbon-12",examples:["molarMassC12"]},gravity:{description:"Standard acceleration of gravity (standard acceleration of free-fall on Earth)",examples:["gravity"]},planckLength:{description:"Planck length",examples:["planckLength"]},planckMass:{description:"Planck mass",examples:["planckMass"]},planckTime:{description:"Planck time",examples:["planckTime"]},planckCharge:{description:"Planck charge",examples:["planckCharge"]},planckTemperature:{description:"Planck temperature",examples:["planckTemperature"]},derivative:zI,lsolve:HI,lsolveAll:GI,lup:WI,lusolve:YI,leafCount:$I,polynomialRoot:jI,resolve:XI,simplify:QI,simplifyConstant:KI,simplifyCore:eP,symbolicEqual:rP,rationalize:JI,slu:tP,usolve:nP,usolveAll:iP,qr:ZI,abs:aP,add:oP,cbrt:sP,ceil:uP,cube:lP,divide:cP,dotDivide:fP,dotMultiply:pP,dotPow:mP,exp:dP,expm:hP,expm1:gP,fix:vP,floor:yP,gcd:bP,hypot:xP,lcm:_P,log:SP,log2:DP,log1p:EP,log10:AP,mod:MP,multiply:NP,norm:CP,nthRoot:TP,nthRoots:FP,pow:IP,round:PP,sign:BP,sqrt:OP,sqrtm:kP,square:UP,subtract:qP,unaryMinus:zP,unaryPlus:$P,xgcd:HP,invmod:wP,bitAnd:GP,bitNot:WP,bitOr:YP,bitXor:jP,leftShift:ZP,rightArithShift:JP,rightLogShift:XP,bellNumbers:QP,catalan:KP,composition:eB,stirlingS2:tB,config:VI,import:UI,typed:qI,arg:rB,conj:nB,re:aB,im:iB,evaluate:oB,help:sB,distance:uB,intersect:lB,and:cB,not:fB,or:pB,xor:mB,concat:hB,count:gB,cross:vB,column:dB,ctranspose:yB,det:bB,diag:xB,diff:wB,dot:_B,getMatrixDataType:MB,identity:NB,filter:AB,flatten:EB,forEach:DB,inv:CB,pinv:TB,eigs:SB,kron:FB,matrixFromFunction:BB,matrixFromRows:OB,matrixFromColumns:PB,map:IB,ones:kB,partitionSelect:RB,range:LB,resize:UB,reshape:VB,rotate:qB,rotationMatrix:zB,row:$B,size:HB,sort:GB,squeeze:WB,subset:YB,trace:jB,transpose:ZB,zeros:JB,fft:XB,ifft:QB,sylvester:RP,schur:LP,lyap:VP,solveODE:kk,combinations:KB,combinationsWithRep:eO,factorial:tO,gamma:rO,kldivergence:iO,lgamma:nO,multinomial:aO,permutations:oO,pickRandom:sO,random:uO,randomInt:lO,compare:cO,compareNatural:fO,compareText:pO,deepEqual:mO,equal:dO,equalText:hO,larger:gO,largerEq:vO,smaller:yO,smallerEq:bO,unequal:xO,setCartesian:wO,setDifference:_O,setDistinct:SO,setIntersect:AO,setIsSubset:EO,setMultiplicity:DO,setPowerset:MO,setSize:NO,setSymDifference:CO,setUnion:TO,zpk2tf:FO,freqz:IO,erf:PO,zeta:BO,cumsum:HO,mad:OO,max:kO,mean:RO,median:LO,min:VO,mode:UO,prod:qO,quantileSeq:zO,std:$O,sum:GO,variance:WO,corr:YO,acos:jO,acosh:ZO,acot:JO,acoth:XO,acsc:QO,acsch:KO,asec:ek,asech:tk,asin:rk,asinh:nk,atan:ik,atanh:ok,atan2:ak,cos:sk,cosh:uk,cot:lk,coth:ck,csc:fk,csch:pk,sec:mk,sech:dk,sin:hk,sinh:gk,tan:vk,tanh:yk,to:bk,clone:wk,format:_k,bin:xk,oct:Pk,hex:Ak,isNaN:Dk,isInteger:Ek,isNegative:Mk,isNumeric:Nk,hasNumericValue:Sk,isPositive:Ck,isPrime:Tk,isZero:Fk,print:Bk,typeOf:Ok,numeric:Ik};var Lk="help",aQ=["typed","mathWithTransform","Help"],rw=C(Lk,aQ,n=>{var{typed:e,mathWithTransform:t,Help:r}=n;return e(Lk,{any:function(a){var o,u=a;if(typeof a!="string"){for(o in t)if(it(t,o)&&a===t[o]){u=o;break}}var s=Rr(Rk,u);if(!s){var l=typeof u=="function"?u.name:u;throw new Error('No documentation found on "'+l+'"')}return new r(s)}})});var Vk="chain",oQ=["typed","Chain"],nw=C(Vk,oQ,n=>{var{typed:e,Chain:t}=n;return e(Vk,{"":function(){return new t},any:function(i){return new t(i)}})});var Uk="det",sQ=["typed","matrix","subtractScalar","multiply","divideScalar","isZero","unaryMinus"],iw=C(Uk,sQ,n=>{var{typed:e,matrix:t,subtractScalar:r,multiply:i,divideScalar:a,isZero:o,unaryMinus:u}=n;return e(Uk,{any:function(c){return pt(c)},"Array | Matrix":function(c){var f;switch(rt(c)?f=c.size():Array.isArray(c)?(c=t(c),f=c.size()):f=[],f.length){case 0:return pt(c);case 1:if(f[0]===1)return pt(c.valueOf()[0]);if(f[0]===0)return 1;throw new RangeError("Matrix must be square (size: "+xt(f)+")");case 2:{var p=f[0],m=f[1];if(p===m)return s(c.clone().valueOf(),p,m);if(m===0)return 1;throw new RangeError("Matrix must be square (size: "+xt(f)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+xt(f)+")")}}});function s(l,c,f){if(c===1)return pt(l[0][0]);if(c===2)return r(i(l[0][0],l[1][1]),i(l[1][0],l[0][1]));for(var p=!1,m=new Array(c).fill(0).map((N,D)=>D),h=0;h<c;h++){var d=m[h];if(o(l[d][h])){var v=void 0;for(v=h+1;v<c;v++)if(!o(l[m[v]][h])){d=m[v],m[v]=m[h],m[h]=d,p=!p;break}if(v===c)return l[d][h]}for(var y=l[d][h],_=h===0?1:l[m[h-1]][h-1],b=h+1;b<c;b++)for(var w=m[b],S=h+1;S<c;S++)l[w][S]=a(r(i(l[w][S],y),i(l[w][h],l[d][S])),_)}var x=l[m[c-1]][c-1];return p?u(x):x}});var qk="inv",uQ=["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],aw=C(qk,uQ,n=>{var{typed:e,matrix:t,divideScalar:r,addScalar:i,multiply:a,unaryMinus:o,det:u,identity:s,abs:l}=n;return e(qk,{"Array | Matrix":function(p){var m=rt(p)?p.size():vt(p);switch(m.length){case 1:if(m[0]===1)return rt(p)?t([r(1,p.valueOf()[0])]):[r(1,p[0])];throw new RangeError("Matrix must be square (size: "+xt(m)+")");case 2:{var h=m[0],d=m[1];if(h===d)return rt(p)?t(c(p.valueOf(),h,d),p.storage()):c(p,h,d);throw new RangeError("Matrix must be square (size: "+xt(m)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+xt(m)+")")}},any:function(p){return r(1,p)}});function c(f,p,m){var h,d,v,y,_;if(p===1){if(y=f[0][0],y===0)throw Error("Cannot calculate inverse, determinant is zero");return[[r(1,y)]]}else if(p===2){var b=u(f);if(b===0)throw Error("Cannot calculate inverse, determinant is zero");return[[r(f[1][1],b),r(o(f[0][1]),b)],[r(o(f[1][0]),b),r(f[0][0],b)]]}else{var w=f.concat();for(h=0;h<p;h++)w[h]=w[h].concat();for(var S=s(p).valueOf(),x=0;x<m;x++){var N=l(w[x][x]),D=x;for(h=x+1;h<p;)l(w[h][x])>N&&(N=l(w[h][x]),D=h),h++;if(N===0)throw Error("Cannot calculate inverse, determinant is zero");h=D,h!==x&&(_=w[x],w[x]=w[h],w[h]=_,_=S[x],S[x]=S[h],S[h]=_);var E=w[x],M=S[x];for(h=0;h<p;h++){var P=w[h],O=S[h];if(h!==x){if(P[x]!==0){for(v=r(o(P[x]),E[x]),d=x;d<m;d++)P[d]=i(P[d],a(v,E[d]));for(d=0;d<m;d++)O[d]=i(O[d],a(v,M[d]))}}else{for(v=E[x],d=x;d<m;d++)P[d]=r(P[d],v);for(d=0;d<m;d++)O[d]=r(O[d],v)}}}return S}}});var zk="pinv",lQ=["typed","matrix","inv","deepEqual","equal","dotDivide","dot","ctranspose","divideScalar","multiply","add","Complex"],ow=C(zk,lQ,n=>{var{typed:e,matrix:t,inv:r,deepEqual:i,equal:a,dotDivide:o,dot:u,ctranspose:s,divideScalar:l,multiply:c,add:f,Complex:p}=n;return e(zk,{"Array | Matrix":function(b){var w=rt(b)?b.size():vt(b);switch(w.length){case 1:return y(b)?s(b):w[0]===1?r(b):o(s(b),u(b,b));case 2:{if(y(b))return s(b);var S=w[0],x=w[1];if(S===x)try{return r(b)}catch(N){if(!(N instanceof Error&&N.message.match(/Cannot calculate inverse, determinant is zero/)))throw N}return rt(b)?t(m(b.valueOf(),S,x),b.storage()):m(b,S,x)}default:throw new RangeError("Matrix must be two dimensional (size: "+xt(w)+")")}},any:function(b){return a(b,0)?pt(b):l(1,b)}});function m(_,b,w){var{C:S,F:x}=d(_,b,w),N=c(r(c(s(S),S)),s(S)),D=c(s(x),r(c(x,s(x))));return c(D,N)}function h(_,b,w){for(var S=pt(_),x=0,N=0;N<b;N++){if(w<=x)return S;for(var D=N;v(S[D][x]);)if(D++,b===D&&(D=N,x++,w===x))return S;[S[D],S[N]]=[S[N],S[D]];for(var E=S[N][x],M=0;M<w;M++)S[N][M]=o(S[N][M],E);for(var P=0;P<b;P++)if(P!==N){E=S[P][x];for(var O=0;O<w;O++)S[P][O]=f(S[P][O],c(-1,c(E,S[N][O])))}x++}return S}function d(_,b,w){var S=h(_,b,w),x=_.map((D,E)=>D.filter((M,P)=>P<b&&!v(u(S[P],S[P])))),N=S.filter((D,E)=>!v(u(S[E],S[E])));return{C:x,F:N}}function v(_){return a(f(_,p(1,1)),f(0,p(1,1)))}function y(_){return i(f(_,p(1,1)),f(c(_,0),p(1,1)))}});function $k(n){var{addScalar:e,subtract:t,flatten:r,multiply:i,multiplyScalar:a,divideScalar:o,sqrt:u,abs:s,bignumber:l,diag:c,size:f,reshape:p,inv:m,qr:h,usolve:d,usolveAll:v,equal:y,complex:_,larger:b,smaller:w,matrixFromColumns:S,dot:x}=n;function N(H,U,fe,De){var me=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,ve=D(H,U,fe,De,me);E(H,U,fe,De,me,ve);var{values:Ae,C:be}=M(H,U,fe,De,me);if(me){var we=P(H,U,be,ve,Ae,fe,De);return{values:Ae,eigenvectors:we}}return{values:Ae}}function D(H,U,fe,De,me){var ve=De==="BigNumber",Ae=De==="Complex",be=ve?l(0):0,we=ve?l(1):Ae?_(1):1,Se=ve?l(1):1,Me=ve?l(10):2,Ie=a(Me,Me),et;me&&(et=Array(U).fill(we));for(var X=!1;!X;){X=!0;for(var re=0;re<U;re++){for(var xe=be,W=be,ne=0;ne<U;ne++)re!==ne&&(xe=e(xe,s(H[ne][re])),W=e(W,s(H[re][ne])));if(!y(xe,0)&&!y(W,0)){for(var ue=Se,Ne=xe,Ce=o(W,Me),Ye=a(W,Me);w(Ne,Ce);)Ne=a(Ne,Ie),ue=a(ue,Me);for(;b(Ne,Ye);)Ne=o(Ne,Ie),ue=o(ue,Me);var Fe=w(o(e(Ne,W),ue),a(e(xe,W),.95));if(Fe){X=!1;for(var Qe=o(1,ue),wt=0;wt<U;wt++)re!==wt&&(H[re][wt]=a(H[re][wt],Qe),H[wt][re]=a(H[wt][re],ue));me&&(et[re]=a(et[re],Qe))}}}}return me?c(et):null}function E(H,U,fe,De,me,ve){var Ae=De==="BigNumber",be=De==="Complex",we=Ae?l(0):be?_(0):0;Ae&&(fe=l(fe));for(var Se=0;Se<U-2;Se++){for(var Me=0,Ie=we,et=Se+1;et<U;et++){var X=H[et][Se];w(s(Ie),s(X))&&(Ie=X,Me=et)}if(!w(s(Ie),fe)){if(Me!==Se+1){var re=H[Me];H[Me]=H[Se+1],H[Se+1]=re;for(var xe=0;xe<U;xe++){var W=H[xe][Me];H[xe][Me]=H[xe][Se+1],H[xe][Se+1]=W}if(me){var ne=ve[Me];ve[Me]=ve[Se+1],ve[Se+1]=ne}}for(var ue=Se+2;ue<U;ue++){var Ne=o(H[ue][Se],Ie);if(Ne!==0){for(var Ce=0;Ce<U;Ce++)H[ue][Ce]=t(H[ue][Ce],a(Ne,H[Se+1][Ce]));for(var Ye=0;Ye<U;Ye++)H[Ye][Se+1]=e(H[Ye][Se+1],a(Ne,H[Ye][ue]));if(me)for(var Fe=0;Fe<U;Fe++)ve[ue][Fe]=t(ve[ue][Fe],a(Ne,ve[Se+1][Fe]))}}}}return ve}function M(H,U,fe,De,me){var ve=De==="BigNumber",Ae=De==="Complex",be=ve?l(1):Ae?_(1):1;ve&&(fe=l(fe));for(var we=pt(H),Se=[],Me=U,Ie=[],et=me?c(Array(U).fill(be)):void 0,X=me?c(Array(Me).fill(be)):void 0,re=0;re<=100;){re+=1;for(var xe=we[Me-1][Me-1],W=0;W<Me;W++)we[W][W]=t(we[W][W],xe);var{Q:ne,R:ue}=h(we);we=i(ue,ne);for(var Ne=0;Ne<Me;Ne++)we[Ne][Ne]=e(we[Ne][Ne],xe);if(me&&(X=i(X,ne)),Me===1||w(s(we[Me-1][Me-2]),fe)){re=0,Se.push(we[Me-1][Me-1]),me&&(Ie.unshift([[1]]),z(X,U),et=i(et,X),Me>1&&(X=c(Array(Me-1).fill(be)))),Me-=1,we.pop();for(var Ce=0;Ce<Me;Ce++)we[Ce].pop()}else if(Me===2||w(s(we[Me-2][Me-3]),fe)){re=0;var Ye=O(we[Me-2][Me-2],we[Me-2][Me-1],we[Me-1][Me-2],we[Me-1][Me-1]);Se.push(...Ye),me&&(Ie.unshift(V(we[Me-2][Me-2],we[Me-2][Me-1],we[Me-1][Me-2],we[Me-1][Me-1],Ye[0],Ye[1],fe,De)),z(X,U),et=i(et,X),Me>2&&(X=c(Array(Me-2).fill(be)))),Me-=2,we.pop(),we.pop();for(var Fe=0;Fe<Me;Fe++)we[Fe].pop(),we[Fe].pop()}if(Me===0)break}if(Se.sort((tr,St)=>+t(s(tr),s(St))),re>100){var Qe=Error("The eigenvalues failed to converge. Only found these eigenvalues: "+Se.join(", "));throw Qe.values=Se,Qe.vectors=[],Qe}var wt=me?i(et,L(Ie,U)):void 0;return{values:Se,C:wt}}function P(H,U,fe,De,me,ve,Ae){var be=m(fe),we=i(be,H,fe),Se=Ae==="BigNumber",Me=Ae==="Complex",Ie=Se?l(0):Me?_(0):0,et=Se?l(1):Me?_(1):1,X=[],re=[];for(var xe of me){var W=B(X,xe,y);W===-1?(X.push(xe),re.push(1)):re[W]+=1}for(var ne=[],ue=X.length,Ne=Array(U).fill(Ie),Ce=c(Array(U).fill(et)),Ye=function(){var wt=X[Fe],tr=t(we,i(wt,Ce)),St=v(tr,Ne);for(St.shift();St.length<re[Fe];){var ie=T(tr,U,St,ve,Ae);if(ie===null)break;St.push(ie)}var pe=i(m(De),fe);St=St.map(_e=>i(pe,_e)),ne.push(...St.map(_e=>({value:wt,vector:r(_e)})))},Fe=0;Fe<ue;Fe++)Ye();return ne}function O(H,U,fe,De){var me=e(H,De),ve=t(a(H,De),a(U,fe)),Ae=a(me,.5),be=a(u(t(a(me,me),a(4,ve))),.5);return[e(Ae,be),t(Ae,be)]}function V(H,U,fe,De,me,ve,Ae,be){var we=be==="BigNumber",Se=be==="Complex",Me=we?l(0):Se?_(0):0,Ie=we?l(1):Se?_(1):1;if(w(s(fe),Ae))return[[Ie,Me],[Me,Ie]];if(b(s(t(me,ve)),Ae))return[[t(me,De),t(ve,De)],[fe,fe]];var et=t(H,me),X=t(De,me);return w(s(U),Ae)&&w(s(X),Ae)?[[et,Ie],[fe,Me]]:[[U,Me],[X,Ie]]}function z(H,U){for(var fe=0;fe<H.length;fe++)H[fe].push(...Array(U-H[fe].length).fill(0));for(var De=H.length;De<U;De++)H.push(Array(U).fill(0)),H[De][De]=1;return H}function L(H,U){for(var fe=[],De=0;De<U;De++)fe[De]=Array(U).fill(0);var me=0;for(var ve of H){for(var Ae=ve.length,be=0;be<Ae;be++)for(var we=0;we<Ae;we++)fe[me+be][me+we]=ve[be][we];me+=Ae}return fe}function B(H,U,fe){for(var De=0;De<H.length;De++)if(fe(H[De],U))return De;return-1}function T(H,U,fe,De,me){for(var ve=me==="BigNumber"?l(1e3):1e3,Ae,be=0;be<5;++be){Ae=G(U,fe,me);try{Ae=d(H,Ae)}catch(Se){continue}if(b(oe(Ae),ve))break}if(be>=5)return null;for(be=0;;){var we=d(H,Ae);if(w(oe(R(Ae,[we])),De))break;if(++be>=10)return null;Ae=ee(we)}return Ae}function G(H,U,fe){var De=fe==="BigNumber",me=fe==="Complex",ve=Array(H).fill(0).map(Ae=>2*Math.random()-1);return De&&(ve=ve.map(Ae=>l(Ae))),me&&(ve=ve.map(Ae=>_(Ae))),ve=R(ve,U),ee(ve,fe)}function R(H,U){var fe=f(H);for(var De of U)De=p(De,fe),H=t(H,i(o(x(De,H),x(De,De)),De));return H}function oe(H){return s(u(x(H,H)))}function ee(H,U){var fe=U==="BigNumber",De=U==="Complex",me=fe?l(1):De?_(1):1;return i(o(me,oe(H)),H)}return N}function Hk(n){var{config:e,addScalar:t,subtract:r,abs:i,atan:a,cos:o,sin:u,multiplyScalar:s,inv:l,bignumber:c,multiply:f,add:p}=n;function m(E,M){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.epsilon,O=arguments.length>3?arguments[3]:void 0,V=arguments.length>4?arguments[4]:void 0;if(O==="number")return h(E,P,V);if(O==="BigNumber")return d(E,P,V);throw TypeError("Unsupported data type: "+O)}function h(E,M,P){var O=E.length,V=Math.abs(M/O),z,L;if(P){L=new Array(O);for(var B=0;B<O;B++)L[B]=Array(O).fill(0),L[B][B]=1}for(var T=x(E);Math.abs(T[1])>=Math.abs(V);){var G=T[0][0],R=T[0][1];z=v(E[G][G],E[R][R],E[G][R]),E=S(E,z,G,R),P&&(L=_(L,z,G,R)),T=x(E)}for(var oe=Array(O).fill(0),ee=0;ee<O;ee++)oe[ee]=E[ee][ee];return D(pt(oe),L,P)}function d(E,M,P){var O=E.length,V=i(M/O),z,L;if(P){L=new Array(O);for(var B=0;B<O;B++)L[B]=Array(O).fill(0),L[B][B]=1}for(var T=N(E);i(T[1])>=i(V);){var G=T[0][0],R=T[0][1];z=y(E[G][G],E[R][R],E[G][R]),E=w(E,z,G,R),P&&(L=b(L,z,G,R)),T=N(E)}for(var oe=Array(O).fill(0),ee=0;ee<O;ee++)oe[ee]=E[ee][ee];return D(pt(oe),L,P)}function v(E,M,P){var O=M-E;return Math.abs(O)<=e.epsilon?Math.PI/4:.5*Math.atan(2*P/(M-E))}function y(E,M,P){var O=r(M,E);return i(O)<=e.epsilon?c(-1).acos().div(4):s(.5,a(f(2,P,l(O))))}function _(E,M,P,O){for(var V=E.length,z=Math.cos(M),L=Math.sin(M),B=Array(V).fill(0),T=Array(V).fill(0),G=0;G<V;G++)B[G]=z*E[G][P]-L*E[G][O],T[G]=L*E[G][P]+z*E[G][O];for(var R=0;R<V;R++)E[R][P]=B[R],E[R][O]=T[R];return E}function b(E,M,P,O){for(var V=E.length,z=o(M),L=u(M),B=Array(V).fill(c(0)),T=Array(V).fill(c(0)),G=0;G<V;G++)B[G]=r(s(z,E[G][P]),s(L,E[G][O])),T[G]=t(s(L,E[G][P]),s(z,E[G][O]));for(var R=0;R<V;R++)E[R][P]=B[R],E[R][O]=T[R];return E}function w(E,M,P,O){for(var V=E.length,z=c(o(M)),L=c(u(M)),B=s(z,z),T=s(L,L),G=Array(V).fill(c(0)),R=Array(V).fill(c(0)),oe=f(c(2),z,L,E[P][O]),ee=t(r(s(B,E[P][P]),oe),s(T,E[O][O])),H=p(s(T,E[P][P]),oe,s(B,E[O][O])),U=0;U<V;U++)G[U]=r(s(z,E[P][U]),s(L,E[O][U])),R[U]=t(s(L,E[P][U]),s(z,E[O][U]));E[P][P]=ee,E[O][O]=H,E[P][O]=c(0),E[O][P]=c(0);for(var fe=0;fe<V;fe++)fe!==P&&fe!==O&&(E[P][fe]=G[fe],E[fe][P]=G[fe],E[O][fe]=R[fe],E[fe][O]=R[fe]);return E}function S(E,M,P,O){for(var V=E.length,z=Math.cos(M),L=Math.sin(M),B=z*z,T=L*L,G=Array(V).fill(0),R=Array(V).fill(0),oe=B*E[P][P]-2*z*L*E[P][O]+T*E[O][O],ee=T*E[P][P]+2*z*L*E[P][O]+B*E[O][O],H=0;H<V;H++)G[H]=z*E[P][H]-L*E[O][H],R[H]=L*E[P][H]+z*E[O][H];E[P][P]=oe,E[O][O]=ee,E[P][O]=0,E[O][P]=0;for(var U=0;U<V;U++)U!==P&&U!==O&&(E[P][U]=G[U],E[U][P]=G[U],E[O][U]=R[U],E[U][O]=R[U]);return E}function x(E){for(var M=E.length,P=0,O=[0,1],V=0;V<M;V++)for(var z=V+1;z<M;z++)Math.abs(P)<Math.abs(E[V][z])&&(P=Math.abs(E[V][z]),O=[V,z]);return[O,P]}function N(E){for(var M=E.length,P=0,O=[0,1],V=0;V<M;V++)for(var z=V+1;z<M;z++)i(P)<i(E[V][z])&&(P=i(E[V][z]),O=[V,z]);return[O,P]}function D(E,M,P){var O=E.length,V=Array(O),z;if(P){z=Array(O);for(var L=0;L<O;L++)z[L]=Array(O)}for(var B=0;B<O;B++){for(var T=0,G=E[0],R=0;R<E.length;R++)i(E[R])<i(G)&&(T=R,G=E[T]);if(V[B]=E.splice(T,1)[0],P)for(var oe=0;oe<O;oe++)z[B][oe]=M[oe][T],M[oe].splice(T,1)}if(!P)return{values:V};var ee=z.map((H,U)=>({value:V[U],vector:H}));return{values:V,eigenvectors:ee}}return m}var cQ="eigs",fQ=["config","typed","matrix","addScalar","equal","subtract","abs","atan","cos","sin","multiplyScalar","divideScalar","inv","bignumber","multiply","add","larger","column","flatten","number","complex","sqrt","diag","size","reshape","qr","usolve","usolveAll","im","re","smaller","matrixFromColumns","dot"],sw=C(cQ,fQ,n=>{var{config:e,typed:t,matrix:r,addScalar:i,subtract:a,equal:o,abs:u,atan:s,cos:l,sin:c,multiplyScalar:f,divideScalar:p,inv:m,bignumber:h,multiply:d,add:v,larger:y,column:_,flatten:b,number:w,complex:S,sqrt:x,diag:N,size:D,reshape:E,qr:M,usolve:P,usolveAll:O,im:V,re:z,smaller:L,matrixFromColumns:B,dot:T}=n,G=Hk({config:e,addScalar:i,subtract:a,column:_,flatten:b,equal:o,abs:u,atan:s,cos:l,sin:c,multiplyScalar:f,inv:m,bignumber:h,complex:S,multiply:d,add:v}),R=$k({config:e,addScalar:i,subtract:a,multiply:d,multiplyScalar:f,flatten:b,divideScalar:p,sqrt:x,abs:u,bignumber:h,diag:N,size:D,reshape:E,qr:M,inv:m,usolve:P,usolveAll:O,equal:o,complex:S,larger:y,smaller:L,matrixFromColumns:B,dot:T});return t("eigs",{Array:function(ve){return oe(r(ve))},"Array, number|BigNumber":function(ve,Ae){return oe(r(ve),{precision:Ae})},"Array, Object"(me,ve){return oe(r(me),ve)},Matrix:function(ve){return oe(ve,{matricize:!0})},"Matrix, number|BigNumber":function(ve,Ae){return oe(ve,{precision:Ae,matricize:!0})},"Matrix, Object":function(ve,Ae){var be={matricize:!0};return kr(be,Ae),oe(ve,be)}});function oe(me){var ve,Ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},be="eigenvectors"in Ae?Ae.eigenvectors:!0,we=(ve=Ae.precision)!==null&&ve!==void 0?ve:e.epsilon,Se=ee(me,we,be);return Ae.matricize&&(Se.values=r(Se.values),be&&(Se.eigenvectors=Se.eigenvectors.map(Me=>{var{value:Ie,vector:et}=Me;return{value:Ie,vector:r(et)}}))),be&&Object.defineProperty(Se,"vectors",{enumerable:!1,get:()=>{throw new Error("eigs(M).vectors replaced with eigs(M).eigenvectors")}}),Se}function ee(me,ve,Ae){var be=me.toArray(),we=me.size();if(we.length!==2||we[0]!==we[1])throw new RangeError("Matrix must be square (size: ".concat(xt(we),")"));var Se=we[0];if(U(be,Se,ve)&&(fe(be,Se),H(be,Se,ve))){var Me=De(me,be,Se);return G(be,Se,ve,Me,Ae)}var Ie=De(me,be,Se);return R(be,Se,ve,Ie,Ae)}function H(me,ve,Ae){for(var be=0;be<ve;be++)for(var we=be;we<ve;we++)if(y(h(u(a(me[be][we],me[we][be]))),Ae))return!1;return!0}function U(me,ve,Ae){for(var be=0;be<ve;be++)for(var we=0;we<ve;we++)if(y(h(u(V(me[be][we]))),Ae))return!1;return!0}function fe(me,ve){for(var Ae=0;Ae<ve;Ae++)for(var be=0;be<ve;be++)me[Ae][be]=z(me[Ae][be])}function De(me,ve,Ae){var be=me.datatype();if(be==="number"||be==="BigNumber"||be==="Complex")return be;for(var we=!1,Se=!1,Me=!1,Ie=0;Ie<Ae;Ie++)for(var et=0;et<Ae;et++){var X=ve[Ie][et];if(yt(X)||so(X))we=!0;else if(st(X))Se=!0;else if(ai(X))Me=!0;else throw TypeError("Unsupported type in Matrix: "+Wt(X))}if(Se&&Me&&console.warn("Complex BigNumbers not supported, this operation will lose precission."),Me){for(var re=0;re<Ae;re++)for(var xe=0;xe<Ae;xe++)ve[re][xe]=S(ve[re][xe]);return"Complex"}if(Se){for(var W=0;W<Ae;W++)for(var ne=0;ne<Ae;ne++)ve[W][ne]=h(ve[W][ne]);return"BigNumber"}if(we){for(var ue=0;ue<Ae;ue++)for(var Ne=0;Ne<Ae;Ne++)ve[ue][Ne]=w(ve[ue][Ne]);return"number"}else throw TypeError("Matrix contains unsupported types only.")}});var Gk="expm",pQ=["typed","abs","add","identity","inv","multiply"],uw=C(Gk,pQ,n=>{var{typed:e,abs:t,add:r,identity:i,inv:a,multiply:o}=n;return e(Gk,{Matrix:function(f){var p=f.size();if(p.length!==2||p[0]!==p[1])throw new RangeError("Matrix must be square (size: "+xt(p)+")");for(var m=p[0],h=1e-15,d=u(f),v=s(d,h),y=v.q,_=v.j,b=o(f,Math.pow(2,-_)),w=i(m),S=i(m),x=1,N=b,D=-1,E=1;E<=y;E++)E>1&&(N=o(N,b),D=-D),x=x*(y-E+1)/((2*y-E+1)*E),w=r(w,o(x,N)),S=r(S,o(x*D,N));for(var M=o(a(S),w),P=0;P<_;P++)M=o(M,M);return ga(f)?f.createSparseMatrix(M):M}});function u(c){for(var f=c.size()[0],p=0,m=0;m<f;m++){for(var h=0,d=0;d<f;d++)h+=t(c.get([m,d]));p=Math.max(h,p)}return p}function s(c,f){for(var p=30,m=0;m<p;m++)for(var h=0;h<=m;h++){var d=m-h;if(l(c,h,d)<f)return{q:h,j:d}}throw new Error("Could not find acceptable parameters to compute the matrix exponential (try increasing maxSearchSize in expm.js)")}function l(c,f,p){for(var m=1,h=2;h<=f;h++)m*=h;for(var d=m,v=f+1;v<=2*f;v++)d*=v;var y=d*(2*f+1);return 8*Math.pow(c/Math.pow(2,p),2*f)*m*m/(d*y)}});var Wk="sqrtm",mQ=["typed","abs","add","multiply","map","sqrt","subtract","inv","size","max","identity"],lw=C(Wk,mQ,n=>{var{typed:e,abs:t,add:r,multiply:i,map:a,sqrt:o,subtract:u,inv:s,size:l,max:c,identity:f}=n,p=1e3,m=1e-6;function h(d){var v,y=0,_=d,b=f(l(d));do{var w=_;if(_=i(.5,r(w,s(b))),b=i(.5,r(b,s(w))),v=c(t(u(_,w))),v>m&&++y>p)throw new Error("computing square root of matrix: iterative method could not converge")}while(v>m);return _}return e(Wk,{"Array | Matrix":function(v){var y=rt(v)?v.size():vt(v);switch(y.length){case 1:if(y[0]===1)return a(v,o);throw new RangeError("Matrix must be square (size: "+xt(y)+")");case 2:{var _=y[0],b=y[1];if(_===b)return h(v);throw new RangeError("Matrix must be square (size: "+xt(y)+")")}default:throw new RangeError("Matrix must be at most two dimensional (size: "+xt(y)+")")}}})});var Yk="sylvester",dQ=["typed","schur","matrixFromColumns","matrix","multiply","range","concat","transpose","index","subset","add","subtract","identity","lusolve","abs"],cw=C(Yk,dQ,n=>{var{typed:e,schur:t,matrixFromColumns:r,matrix:i,multiply:a,range:o,concat:u,transpose:s,index:l,subset:c,add:f,subtract:p,identity:m,lusolve:h,abs:d}=n;return e(Yk,{"Matrix, Matrix, Matrix":v,"Array, Matrix, Matrix":function(_,b,w){return v(i(_),b,w)},"Array, Array, Matrix":function(_,b,w){return v(i(_),i(b),w)},"Array, Matrix, Array":function(_,b,w){return v(i(_),b,i(w))},"Matrix, Array, Matrix":function(_,b,w){return v(_,i(b),w)},"Matrix, Array, Array":function(_,b,w){return v(_,i(b),i(w))},"Matrix, Matrix, Array":function(_,b,w){return v(_,b,i(w))},"Array, Array, Array":function(_,b,w){return v(i(_),i(b),i(w)).toArray()}});function v(y,_,b){for(var w=_.size()[0],S=y.size()[0],x=t(y),N=x.T,D=x.U,E=t(a(-1,_)),M=E.T,P=E.U,O=a(a(s(D),b),P),V=o(0,S),z=[],L=(Me,Ie)=>u(Me,Ie,1),B=(Me,Ie)=>u(Me,Ie,0),T=0;T<w;T++)if(T<w-1&&d(c(M,l(T+1,T)))>1e-5){for(var G=B(c(O,l(V,T)),c(O,l(V,T+1))),R=0;R<T;R++)G=f(G,B(a(z[R],c(M,l(R,T))),a(z[R],c(M,l(R,T+1)))));var oe=a(m(S),a(-1,c(M,l(T,T)))),ee=a(m(S),a(-1,c(M,l(T+1,T)))),H=a(m(S),a(-1,c(M,l(T,T+1)))),U=a(m(S),a(-1,c(M,l(T+1,T+1)))),fe=B(L(f(N,oe),ee),L(H,f(N,U))),De=h(fe,G);z[T]=De.subset(l(o(0,S),0)),z[T+1]=De.subset(l(o(S,2*S),0)),T++}else{for(var me=c(O,l(V,T)),ve=0;ve<T;ve++)me=f(me,a(z[ve],c(M,l(ve,T))));var Ae=c(M,l(T,T)),be=p(N,a(Ae,m(S)));z[T]=h(be,me)}var we=i(r(...z)),Se=a(D,a(we,s(P)));return Se}});var jk="schur",hQ=["typed","matrix","identity","multiply","qr","norm","subtract"],fw=C(jk,hQ,n=>{var{typed:e,matrix:t,identity:r,multiply:i,qr:a,norm:o,subtract:u}=n;return e(jk,{Array:function(c){var f=s(t(c));return{U:f.U.valueOf(),T:f.T.valueOf()}},Matrix:function(c){return s(c)}});function s(l){var c=l.size()[0],f=l,p=r(c),m=0,h;do{h=f;var d=a(f),v=d.Q,y=d.R;if(f=i(y,v),p=i(p,v),m++>100)break}while(o(u(f,h))>1e-4);return{U:p,T:f}}});var Zk="lyap",gQ=["typed","matrix","sylvester","multiply","transpose"],pw=C(Zk,gQ,n=>{var{typed:e,matrix:t,sylvester:r,multiply:i,transpose:a}=n;return e(Zk,{"Matrix, Matrix":function(u,s){return r(u,a(u),i(-1,s))},"Array, Matrix":function(u,s){return r(t(u),a(t(u)),i(-1,s))},"Matrix, Array":function(u,s){return r(u,a(t(u)),t(i(-1,s)))},"Array, Array":function(u,s){return r(t(u),a(t(u)),t(i(-1,s))).toArray()}})});var vQ="divide",yQ=["typed","matrix","multiply","equalScalar","divideScalar","inv"],mw=C(vQ,yQ,n=>{var{typed:e,matrix:t,multiply:r,equalScalar:i,divideScalar:a,inv:o}=n,u=dr({typed:e,equalScalar:i}),s=tn({typed:e});return e("divide",rm({"Array | Matrix, Array | Matrix":function(c,f){return r(c,o(f))},"DenseMatrix, any":function(c,f){return s(c,f,a,!1)},"SparseMatrix, any":function(c,f){return u(c,f,a,!1)},"Array, any":function(c,f){return s(t(c),f,a,!1).valueOf()},"any, Array | Matrix":function(c,f){return r(c,o(f))}},a.signatures))});var Jk="distance",bQ=["typed","addScalar","subtractScalar","divideScalar","multiplyScalar","deepEqual","sqrt","abs"],dw=C(Jk,bQ,n=>{var{typed:e,addScalar:t,subtractScalar:r,multiplyScalar:i,divideScalar:a,deepEqual:o,sqrt:u,abs:s}=n;return e(Jk,{"Array, Array, Array":function(S,x,N){if(S.length===2&&x.length===2&&N.length===2){if(!c(S))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!c(x))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!c(N))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(o(x,N))throw new TypeError("LinePoint1 should not be same with LinePoint2");var D=r(N[1],x[1]),E=r(x[0],N[0]),M=r(i(N[0],x[1]),i(x[0],N[1]));return v(S[0],S[1],D,E,M)}else throw new TypeError("Invalid Arguments: Try again")},"Object, Object, Object":function(S,x,N){if(Object.keys(S).length===2&&Object.keys(x).length===2&&Object.keys(N).length===2){if(!c(S))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!c(x))throw new TypeError("Values of lineOnePtX and lineOnePtY should be numbers or BigNumbers");if(!c(N))throw new TypeError("Values of lineTwoPtX and lineTwoPtY should be numbers or BigNumbers");if(o(h(x),h(N)))throw new TypeError("LinePoint1 should not be same with LinePoint2");if("pointX"in S&&"pointY"in S&&"lineOnePtX"in x&&"lineOnePtY"in x&&"lineTwoPtX"in N&&"lineTwoPtY"in N){var D=r(N.lineTwoPtY,x.lineOnePtY),E=r(x.lineOnePtX,N.lineTwoPtX),M=r(i(N.lineTwoPtX,x.lineOnePtY),i(x.lineOnePtX,N.lineTwoPtY));return v(S.pointX,S.pointY,D,E,M)}else throw new TypeError("Key names do not match")}else throw new TypeError("Invalid Arguments: Try again")},"Array, Array":function(S,x){if(S.length===2&&x.length===3){if(!c(S))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!f(x))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");return v(S[0],S[1],x[0],x[1],x[2])}else if(S.length===3&&x.length===6){if(!f(S))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!m(x))throw new TypeError("Array with 6 numbers or BigNumbers expected for second argument");return y(S[0],S[1],S[2],x[0],x[1],x[2],x[3],x[4],x[5])}else if(S.length===x.length&&S.length>0){if(!p(S))throw new TypeError("All values of an array should be numbers or BigNumbers");if(!p(x))throw new TypeError("All values of an array should be numbers or BigNumbers");return _(S,x)}else throw new TypeError("Invalid Arguments: Try again")},"Object, Object":function(S,x){if(Object.keys(S).length===2&&Object.keys(x).length===3){if(!c(S))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!f(x))throw new TypeError("Values of xCoeffLine, yCoeffLine and constant should be numbers or BigNumbers");if("pointX"in S&&"pointY"in S&&"xCoeffLine"in x&&"yCoeffLine"in x&&"constant"in x)return v(S.pointX,S.pointY,x.xCoeffLine,x.yCoeffLine,x.constant);throw new TypeError("Key names do not match")}else if(Object.keys(S).length===3&&Object.keys(x).length===6){if(!f(S))throw new TypeError("Values of pointX, pointY and pointZ should be numbers or BigNumbers");if(!m(x))throw new TypeError("Values of x0, y0, z0, a, b and c should be numbers or BigNumbers");if("pointX"in S&&"pointY"in S&&"x0"in x&&"y0"in x&&"z0"in x&&"a"in x&&"b"in x&&"c"in x)return y(S.pointX,S.pointY,S.pointZ,x.x0,x.y0,x.z0,x.a,x.b,x.c);throw new TypeError("Key names do not match")}else if(Object.keys(S).length===2&&Object.keys(x).length===2){if(!c(S))throw new TypeError("Values of pointOneX and pointOneY should be numbers or BigNumbers");if(!c(x))throw new TypeError("Values of pointTwoX and pointTwoY should be numbers or BigNumbers");if("pointOneX"in S&&"pointOneY"in S&&"pointTwoX"in x&&"pointTwoY"in x)return _([S.pointOneX,S.pointOneY],[x.pointTwoX,x.pointTwoY]);throw new TypeError("Key names do not match")}else if(Object.keys(S).length===3&&Object.keys(x).length===3){if(!f(S))throw new TypeError("Values of pointOneX, pointOneY and pointOneZ should be numbers or BigNumbers");if(!f(x))throw new TypeError("Values of pointTwoX, pointTwoY and pointTwoZ should be numbers or BigNumbers");if("pointOneX"in S&&"pointOneY"in S&&"pointOneZ"in S&&"pointTwoX"in x&&"pointTwoY"in x&&"pointTwoZ"in x)return _([S.pointOneX,S.pointOneY,S.pointOneZ],[x.pointTwoX,x.pointTwoY,x.pointTwoZ]);throw new TypeError("Key names do not match")}else throw new TypeError("Invalid Arguments: Try again")},Array:function(S){if(!d(S))throw new TypeError("Incorrect array format entered for pairwise distance calculation");return b(S)}});function l(w){return typeof w=="number"||st(w)}function c(w){return w.constructor!==Array&&(w=h(w)),l(w[0])&&l(w[1])}function f(w){return w.constructor!==Array&&(w=h(w)),l(w[0])&&l(w[1])&&l(w[2])}function p(w){return Array.isArray(w)||(w=h(w)),w.every(l)}function m(w){return w.constructor!==Array&&(w=h(w)),l(w[0])&&l(w[1])&&l(w[2])&&l(w[3])&&l(w[4])&&l(w[5])}function h(w){for(var S=Object.keys(w),x=[],N=0;N<S.length;N++)x.push(w[S[N]]);return x}function d(w){if(w[0].length===2&&l(w[0][0])&&l(w[0][1])){if(w.some(S=>S.length!==2||!l(S[0])||!l(S[1])))return!1}else if(w[0].length===3&&l(w[0][0])&&l(w[0][1])&&l(w[0][2])){if(w.some(S=>S.length!==3||!l(S[0])||!l(S[1])||!l(S[2])))return!1}else return!1;return!0}function v(w,S,x,N,D){var E=s(t(t(i(x,w),i(N,S)),D)),M=u(t(i(x,x),i(N,N)));return a(E,M)}function y(w,S,x,N,D,E,M,P,O){var V=[r(i(r(D,S),O),i(r(E,x),P)),r(i(r(E,x),M),i(r(N,w),O)),r(i(r(N,w),P),i(r(D,S),M))];V=u(t(t(i(V[0],V[0]),i(V[1],V[1])),i(V[2],V[2])));var z=u(t(t(i(M,M),i(P,P)),i(O,O)));return a(V,z)}function _(w,S){for(var x=w.length,N=0,D=0,E=0;E<x;E++)D=r(w[E],S[E]),N=t(i(D,D),N);return u(N)}function b(w){for(var S=[],x=[],N=[],D=0;D<w.length-1;D++)for(var E=D+1;E<w.length;E++)w[0].length===2?(x=[w[D][0],w[D][1]],N=[w[E][0],w[E][1]]):w[0].length===3&&(x=[w[D][0],w[D][1],w[D][2]],N=[w[E][0],w[E][1],w[E][2]]),S.push(_(x,N));return S}});var xQ="intersect",wQ=["typed","config","abs","add","addScalar","matrix","multiply","multiplyScalar","divideScalar","subtract","smaller","equalScalar","flatten","isZero","isNumeric"],hw=C(xQ,wQ,n=>{var{typed:e,config:t,abs:r,add:i,addScalar:a,matrix:o,multiply:u,multiplyScalar:s,divideScalar:l,subtract:c,smaller:f,equalScalar:p,flatten:m,isZero:h,isNumeric:d}=n;return e("intersect",{"Array, Array, Array":v,"Array, Array, Array, Array":y,"Matrix, Matrix, Matrix":function(P,O,V){var z=v(P.valueOf(),O.valueOf(),V.valueOf());return z===null?null:o(z)},"Matrix, Matrix, Matrix, Matrix":function(P,O,V,z){var L=y(P.valueOf(),O.valueOf(),V.valueOf(),z.valueOf());return L===null?null:o(L)}});function v(M,P,O){if(M=_(M),P=_(P),O=_(O),!w(M))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!w(P))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!S(O))throw new TypeError("Array with 4 numbers expected as third argument");return E(M[0],M[1],M[2],P[0],P[1],P[2],O[0],O[1],O[2],O[3])}function y(M,P,O,V){if(M=_(M),P=_(P),O=_(O),V=_(V),M.length===2){if(!b(M))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!b(P))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!b(O))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(!b(V))throw new TypeError("Array with 2 numbers or BigNumbers expected for fourth argument");return x(M,P,O,V)}else if(M.length===3){if(!w(M))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!w(P))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!w(O))throw new TypeError("Array with 3 numbers or BigNumbers expected for third argument");if(!w(V))throw new TypeError("Array with 3 numbers or BigNumbers expected for fourth argument");return D(M[0],M[1],M[2],P[0],P[1],P[2],O[0],O[1],O[2],V[0],V[1],V[2])}else throw new TypeError("Arrays with two or thee dimensional points expected")}function _(M){return M.length===1?M[0]:M.length>1&&Array.isArray(M[0])&&M.every(P=>Array.isArray(P)&&P.length===1)?m(M):M}function b(M){return M.length===2&&d(M[0])&&d(M[1])}function w(M){return M.length===3&&d(M[0])&&d(M[1])&&d(M[2])}function S(M){return M.length===4&&d(M[0])&&d(M[1])&&d(M[2])&&d(M[3])}function x(M,P,O,V){var z=M,L=O,B=c(z,P),T=c(L,V),G=c(s(B[0],T[1]),s(T[0],B[1]));if(h(G)||f(r(G),t.epsilon))return null;var R=s(T[0],z[1]),oe=s(T[1],z[0]),ee=s(T[0],L[1]),H=s(T[1],L[0]),U=l(a(c(c(R,oe),ee),H),G);return i(u(B,U),z)}function N(M,P,O,V,z,L,B,T,G,R,oe,ee){var H=s(c(M,P),c(O,V)),U=s(c(z,L),c(B,T)),fe=s(c(G,R),c(oe,ee));return a(a(H,U),fe)}function D(M,P,O,V,z,L,B,T,G,R,oe,ee){var H=N(M,B,R,B,P,T,oe,T,O,G,ee,G),U=N(R,B,V,M,oe,T,z,P,ee,G,L,O),fe=N(M,B,V,M,P,T,z,P,O,G,L,O),De=N(R,B,R,B,oe,T,oe,T,ee,G,ee,G),me=N(V,M,V,M,z,P,z,P,L,O,L,O),ve=c(s(H,U),s(fe,De)),Ae=c(s(me,De),s(U,U));if(h(Ae))return null;var be=l(ve,Ae),we=l(a(H,s(be,U)),De),Se=a(M,s(be,c(V,M))),Me=a(P,s(be,c(z,P))),Ie=a(O,s(be,c(L,O))),et=a(B,s(we,c(R,B))),X=a(T,s(we,c(oe,T))),re=a(G,s(we,c(ee,G)));return p(Se,et)&&p(Me,X)&&p(Ie,re)?[Se,Me,Ie]:null}function E(M,P,O,V,z,L,B,T,G,R){var oe=s(M,B),ee=s(V,B),H=s(P,T),U=s(z,T),fe=s(O,G),De=s(L,G),me=c(c(c(R,oe),H),fe),ve=c(c(c(a(a(ee,U),De),oe),H),fe),Ae=l(me,ve),be=a(M,s(Ae,c(V,M))),we=a(P,s(Ae,c(z,P))),Se=a(O,s(Ae,c(L,O)));return[be,we,Se]}});var Xk="sum",_Q=["typed","config","add","numeric"],Rc=C(Xk,_Q,n=>{var{typed:e,config:t,add:r,numeric:i}=n;return e(Xk,{"Array | Matrix":a,"Array | Matrix, number | BigNumber":o,"...":function(s){if(Ji(s))throw new TypeError("Scalar values expected in function sum");return a(s)}});function a(u){var s;return Hn(u,function(l){try{s=s===void 0?l:r(s,l)}catch(c){throw jr(c,"sum",l)}}),s===void 0&&(s=i(0,t.number)),typeof s=="string"&&(s=i(s,t.number)),s}function o(u,s){try{var l=Xo(u,s,r);return l}catch(c){throw jr(c,"sum")}}});var od="cumsum",SQ=["typed","add","unaryPlus"],Lc=C(od,SQ,n=>{var{typed:e,add:t,unaryPlus:r}=n;return e(od,{Array:i,Matrix:function(l){return l.create(i(l.valueOf()))},"Array, number | BigNumber":o,"Matrix, number | BigNumber":function(l,c){return l.create(o(l.valueOf(),c))},"...":function(l){if(Ji(l))throw new TypeError("All values expected to be scalar in function cumsum");return i(l)}});function i(s){try{return a(s)}catch(l){throw jr(l,od)}}function a(s){if(s.length===0)return[];for(var l=[r(s[0])],c=1;c<s.length;++c)l.push(t(l[c-1],s[c]));return l}function o(s,l){var c=vt(s);if(l<0||l>=c.length)throw new Fn(l,c.length);try{return u(s,l)}catch(f){throw jr(f,od)}}function u(s,l){var c,f,p;if(l<=0){var m=s[0][0];if(Array.isArray(m)){for(p=xm(s),f=[],c=0;c<p.length;c++)f[c]=u(p[c],l-1);return f}else return a(s)}else{for(f=[],c=0;c<s.length;c++)f[c]=u(s[c],l-1);return f}}});var Qk="mean",AQ=["typed","add","divide"],Vc=C(Qk,AQ,n=>{var{typed:e,add:t,divide:r}=n;return e(Qk,{"Array | Matrix":a,"Array | Matrix, number | BigNumber":i,"...":function(u){if(Ji(u))throw new TypeError("Scalar values expected in function mean");return a(u)}});function i(o,u){try{var s=Xo(o,u,t),l=Array.isArray(o)?vt(o):o.size();return r(s,l[u])}catch(c){throw jr(c,"mean")}}function a(o){var u,s=0;if(Hn(o,function(l){try{u=u===void 0?l:t(u,l),s++}catch(c){throw jr(c,"mean",l)}}),s===0)throw new Error("Cannot calculate the mean of an empty array");return r(u,s)}});var Kk="median",EQ=["typed","add","divide","compare","partitionSelect"],gw=C(Kk,EQ,n=>{var{typed:e,add:t,divide:r,compare:i,partitionSelect:a}=n;function o(l){try{l=Ct(l.valueOf());var c=l.length;if(c===0)throw new Error("Cannot calculate median of an empty array");if(c%2===0){for(var f=c/2-1,p=a(l,f+1),m=l[f],h=0;h<f;++h)i(l[h],m)>0&&(m=l[h]);return s(m,p)}else{var d=a(l,(c-1)/2);return u(d)}}catch(v){throw jr(v,"median")}}var u=e({"number | BigNumber | Complex | Unit":function(c){return c}}),s=e({"number | BigNumber | Complex | Unit, number | BigNumber | Complex | Unit":function(c,f){return r(t(c,f),2)}});return e(Kk,{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(c,f){throw new Error("median(A, dim) is not yet supported")},"...":function(c){if(Ji(c))throw new TypeError("Scalar values expected in function median");return o(c)}})});var eR="mad",DQ=["typed","abs","map","median","subtract"],vw=C(eR,DQ,n=>{var{typed:e,abs:t,map:r,median:i,subtract:a}=n;return e(eR,{"Array | Matrix":o,"...":function(s){return o(s)}});function o(u){if(u=Ct(u.valueOf()),u.length===0)throw new Error("Cannot calculate median absolute deviation (mad) of an empty array");try{var s=i(u);return i(r(u,function(l){return t(a(l,s))}))}catch(l){throw l instanceof TypeError&&l.message.indexOf("median")!==-1?new TypeError(l.message.replace("median","mad")):jr(l,"mad")}}});var yw="unbiased",tR="variance",MQ=["typed","add","subtract","multiply","divide","apply","isNaN"],Uc=C(tR,MQ,n=>{var{typed:e,add:t,subtract:r,multiply:i,divide:a,apply:o,isNaN:u}=n;return e(tR,{"Array | Matrix":function(f){return s(f,yw)},"Array | Matrix, string":s,"Array | Matrix, number | BigNumber":function(f,p){return l(f,p,yw)},"Array | Matrix, number | BigNumber, string":l,"...":function(f){return s(f,yw)}});function s(c,f){var p,m=0;if(c.length===0)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");if(Hn(c,function(v){try{p=p===void 0?v:t(p,v),m++}catch(y){throw jr(y,"variance",v)}}),m===0)throw new Error("Cannot calculate variance of an empty array");var h=a(p,m);if(p=void 0,Hn(c,function(v){var y=r(v,h);p=p===void 0?i(y,y):t(p,i(y,y))}),u(p))return p;switch(f){case"uncorrected":return a(p,m);case"biased":return a(p,m+1);case"unbiased":{var d=st(p)?p.mul(0):0;return m===1?d:a(p,m-1)}default:throw new Error('Unknown normalization "'+f+'". Choose "unbiased" (default), "uncorrected", or "biased".')}}function l(c,f,p){try{if(c.length===0)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");return o(c,f,m=>s(m,p))}catch(m){throw jr(m,"variance")}}});var rR="quantileSeq",NQ=["typed","?bignumber","add","subtract","divide","multiply","partitionSelect","compare","isInteger","smaller","smallerEq","larger"],qc=C(rR,NQ,n=>{var{typed:e,bignumber:t,add:r,subtract:i,divide:a,multiply:o,partitionSelect:u,compare:s,isInteger:l,smaller:c,smallerEq:f,larger:p}=n,m=Ws({typed:e,isInteger:l});return e(rR,{"Array | Matrix, number | BigNumber":(_,b)=>d(_,b,!1),"Array | Matrix, number | BigNumber, number":(_,b,w)=>h(_,b,!1,w,d),"Array | Matrix, number | BigNumber, boolean":d,"Array | Matrix, number | BigNumber, boolean, number":(_,b,w,S)=>h(_,b,w,S,d),"Array | Matrix, Array | Matrix":(_,b)=>v(_,b,!1),"Array | Matrix, Array | Matrix, number":(_,b,w)=>h(_,b,!1,w,v),"Array | Matrix, Array | Matrix, boolean":v,"Array | Matrix, Array | Matrix, boolean, number":(_,b,w,S)=>h(_,b,w,S,v)});function h(_,b,w,S,x){return m(_,S,N=>x(N,b,w))}function d(_,b,w){var S,x=_.valueOf();if(c(b,0))throw new Error("N/prob must be non-negative");if(f(b,1))return yt(b)?y(x,b,w):t(y(x,b,w));if(p(b,1)){if(!l(b))throw new Error("N must be a positive integer");if(p(b,4294967295))throw new Error("N must be less than or equal to 2^32-1, as that is the maximum length of an Array");var N=r(b,1);S=[];for(var D=0;c(D,b);D++){var E=a(D+1,N);S.push(y(x,E,w))}return yt(b)?S:t(S)}}function v(_,b,w){for(var S=_.valueOf(),x=b.valueOf(),N=[],D=0;D<x.length;++D)N.push(y(S,x[D],w));return N}function y(_,b,w){var S=Ct(_),x=S.length;if(x===0)throw new Error("Cannot calculate quantile of an empty sequence");var N=yt(b)?b*(x-1):b.times(x-1),D=yt(b)?Math.floor(N):N.floor().toNumber(),E=yt(b)?N%1:N.minus(D);if(l(N))return w?S[N]:u(S,yt(b)?N:N.valueOf());var M,P;if(w)M=S[D],P=S[D+1];else{P=u(S,D+1),M=S[D];for(var O=0;O<D;++O)s(S[O],M)>0&&(M=S[O])}return r(o(M,i(1,E)),o(P,E))}});var nR="std",CQ=["typed","map","sqrt","variance"],zc=C(nR,CQ,n=>{var{typed:e,map:t,sqrt:r,variance:i}=n;return e(nR,{"Array | Matrix":a,"Array | Matrix, string":a,"Array | Matrix, number | BigNumber":a,"Array | Matrix, number | BigNumber, string":a,"...":function(u){return a(u)}});function a(o,u){if(o.length===0)throw new SyntaxError("Function std requires one or more parameters (0 provided)");try{var s=i.apply(null,arguments);return Qr(s)?t(s,r):r(s)}catch(l){throw l instanceof TypeError&&l.message.indexOf(" variance")!==-1?new TypeError(l.message.replace(" variance"," std")):l}}});var iR="corr",TQ=["typed","matrix","mean","sqrt","sum","add","subtract","multiply","pow","divide"],bw=C(iR,TQ,n=>{var{typed:e,matrix:t,sqrt:r,sum:i,add:a,subtract:o,multiply:u,pow:s,divide:l}=n;return e(iR,{"Array, Array":function(m,h){return c(m,h)},"Matrix, Matrix":function(m,h){var d=c(m.toArray(),h.toArray());return Array.isArray(d)?t(d):d}});function c(p,m){var h=[];if(Array.isArray(p[0])&&Array.isArray(m[0])){if(p.length!==m.length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same length.");for(var d=0;d<p.length;d++){if(p[d].length!==m[d].length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same number of elements.");h.push(f(p[d],m[d]))}return h}else{if(p.length!==m.length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same number of elements.");return f(p,m)}}function f(p,m){var h=p.length,d=i(p),v=i(m),y=p.reduce((x,N,D)=>a(x,u(N,m[D])),0),_=i(p.map(x=>s(x,2))),b=i(m.map(x=>s(x,2))),w=o(u(h,y),u(d,v)),S=r(u(o(u(h,_),s(d,2)),o(u(h,b),s(v,2))));return l(w,S)}});var aR="combinations",FQ=["typed"],xw=C(aR,FQ,n=>{var{typed:e}=n;return e(aR,{"number, number":Ry,"BigNumber, BigNumber":function(r,i){var a=r.constructor,o,u,s=r.minus(i),l=new a(1);if(!oR(r)||!oR(i))throw new TypeError("Positive integer value expected in function combinations");if(i.gt(r))throw new TypeError("k must be less than n in function combinations");if(o=l,i.lt(s))for(u=l;u.lte(s);u=u.plus(l))o=o.times(i.plus(u)).dividedBy(u);else for(u=l;u.lte(i);u=u.plus(l))o=o.times(s.plus(u)).dividedBy(u);return o}})});function oR(n){return n.isInteger()&&n.gte(0)}var sR="combinationsWithRep",IQ=["typed"],ww=C(sR,IQ,n=>{var{typed:e}=n;return e(sR,{"number, number":function(r,i){if(!Ke(r)||r<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(!Ke(i)||i<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(r<1)throw new TypeError("k must be less than or equal to n + k - 1");if(i<r-1){var a=Fi(r,r+i-1);return a/Fi(1,i)}var o=Fi(i+1,r+i-1);return o/Fi(1,r-1)},"BigNumber, BigNumber":function(r,i){var a=r.constructor,o,u,s=new a(1),l=r.minus(s);if(!uR(r)||!uR(i))throw new TypeError("Positive integer value expected in function combinationsWithRep");if(r.lt(s))throw new TypeError("k must be less than or equal to n + k - 1 in function combinationsWithRep");if(o=s,i.lt(l))for(u=s;u.lte(l);u=u.plus(s))o=o.times(i.plus(u)).dividedBy(u);else for(u=s;u.lte(i);u=u.plus(s))o=o.times(l.plus(u)).dividedBy(u);return o}})});function uR(n){return n.isInteger()&&n.gte(0)}var lR="gamma",PQ=["typed","config","multiplyScalar","pow","BigNumber","Complex"],_w=C(lR,PQ,n=>{var{typed:e,config:t,multiplyScalar:r,pow:i,BigNumber:a,Complex:o}=n;function u(l){if(l.im===0)return gc(l.re);if(l.re<.5){var c=new o(1-l.re,-l.im),f=new o(Math.PI*l.re,Math.PI*l.im);return new o(Math.PI).div(f.sin()).div(u(c))}l=new o(l.re-1,l.im);for(var p=new o(Gs[0],0),m=1;m<Gs.length;++m){var h=new o(Gs[m],0);p=p.add(h.div(l.add(m)))}var d=new o(l.re+$y+.5,l.im),v=Math.sqrt(2*Math.PI),y=d.pow(l.add(.5)),_=d.neg().exp();return p.mul(v).mul(y).mul(_)}return e(lR,{number:gc,Complex:u,BigNumber:function(c){if(c.isInteger())return c.isNegative()||c.isZero()?new a(1/0):s(c.minus(1));if(!c.isFinite())return new a(c.isNegative()?NaN:1/0);throw new Error("Integer BigNumber expected")}});function s(l){if(l<8)return new a([1,1,2,6,24,120,720,5040][l]);var c=t.precision+(Math.log(l.toNumber())|0),f=a.clone({precision:c});if(l%2===1)return l.times(s(new a(l-1)));for(var p=l,m=new f(l),h=l.toNumber();p>2;)p-=2,h+=p,m=m.times(h);return new a(m.toPrecision(a.precision))}});var cR="lgamma",BQ=["Complex","typed"],Sw=C(cR,BQ,n=>{var{Complex:e,typed:t}=n,r=7,i=7,a=[-.029550653594771242,.00641025641025641,-.0019175269175269176,.0008417508417508417,-.0005952380952380953,.0007936507936507937,-.002777777777777778,.08333333333333333];return t(cR,{number:vc,Complex:o,BigNumber:function(){throw new Error("mathjs doesn't yet provide an implementation of the algorithm lgamma for BigNumber")}});function o(l){var c=6.283185307179586,f=1.1447298858494002,p=.1;if(l.isNaN())return new e(NaN,NaN);if(l.im===0)return new e(vc(l.re),0);if(l.re>=r||Math.abs(l.im)>=i)return u(l);if(l.re<=p){var m=qN(c,l.im)*Math.floor(.5*l.re+.25),h=l.mul(Math.PI).sin().log(),d=o(new e(1-l.re,-l.im));return new e(f,m).sub(h).sub(d)}else return l.im>=0?s(l):s(l.conjugate()).conjugate()}function u(l){for(var c=l.sub(.5).mul(l.log()).sub(l).add(Hy),f=new e(1,0).div(l),p=f.div(l),m=a[0],h=a[1],d=2*p.re,v=p.re*p.re+p.im*p.im,y=2;y<8;y++){var _=h;h=-v*m+a[y],m=d*m+_}var b=f.mul(p.mul(m).add(h));return c.add(b)}function s(l){var c=0,f=0,p=l;for(l=l.add(1);l.re<=r;){p=p.mul(l);var m=p.im<0?1:0;m!==0&&f===0&&c++,f=m,l=l.add(1)}return u(l).sub(p.log()).sub(new e(0,c*2*Math.PI*1))}});var fR="factorial",OQ=["typed","gamma"],Aw=C(fR,OQ,n=>{var{typed:e,gamma:t}=n;return e(fR,{number:function(i){if(i<0)throw new Error("Value must be non-negative");return t(i+1)},BigNumber:function(i){if(i.isNegative())throw new Error("Value must be non-negative");return t(i.plus(1))},"Array | Matrix":e.referToSelf(r=>i=>at(i,r))})});var pR="kldivergence",kQ=["typed","matrix","divide","sum","multiply","map","dotDivide","log","isNumeric"],Ew=C(pR,kQ,n=>{var{typed:e,matrix:t,divide:r,sum:i,multiply:a,map:o,dotDivide:u,log:s,isNumeric:l}=n;return e(pR,{"Array, Array":function(p,m){return c(t(p),t(m))},"Matrix, Array":function(p,m){return c(p,t(m))},"Array, Matrix":function(p,m){return c(t(p),m)},"Matrix, Matrix":function(p,m){return c(p,m)}});function c(f,p){var m=p.size().length,h=f.size().length;if(m>1)throw new Error("first object must be one dimensional");if(h>1)throw new Error("second object must be one dimensional");if(m!==h)throw new Error("Length of two vectors must be equal");var d=i(f);if(d===0)throw new Error("Sum of elements in first object must be non zero");var v=i(p);if(v===0)throw new Error("Sum of elements in second object must be non zero");var y=r(f,i(f)),_=r(p,i(p)),b=i(a(y,o(u(y,_),w=>s(w))));return l(b)?b:Number.NaN}});var mR="multinomial",RQ=["typed","add","divide","multiply","factorial","isInteger","isPositive"],Dw=C(mR,RQ,n=>{var{typed:e,add:t,divide:r,multiply:i,factorial:a,isInteger:o,isPositive:u}=n;return e(mR,{"Array | Matrix":function(l){var c=0,f=1;return Hn(l,function(p){if(!o(p)||!u(p))throw new TypeError("Positive integer value expected in function multinomial");c=t(c,p),f=i(f,a(p))}),r(a(c),f)}})});var dR="permutations",LQ=["typed","factorial"],Mw=C(dR,LQ,n=>{var{typed:e,factorial:t}=n;return e(dR,{"number | BigNumber":t,"number, number":function(i,a){if(!Ke(i)||i<0)throw new TypeError("Positive integer value expected in function permutations");if(!Ke(a)||a<0)throw new TypeError("Positive integer value expected in function permutations");if(a>i)throw new TypeError("second argument k must be less than or equal to first argument n");return Fi(i-a+1,i)},"BigNumber, BigNumber":function(i,a){var o,u;if(!hR(i)||!hR(a))throw new TypeError("Positive integer value expected in function permutations");if(a.gt(i))throw new TypeError("second argument k must be less than or equal to first argument n");var s=i.mul(0).add(1);for(o=s,u=i.minus(a).plus(1);u.lte(i);u=u.plus(1))o=o.times(u);return o}})});function hR(n){return n.isInteger()&&n.gte(0)}var Bw=hr(FR(),1),GQ=(0,Bw.default)(Date.now());function ho(n){var e;function t(i){e=i===null?GQ:(0,Bw.default)(String(i))}t(n);function r(){return e()}return r}var IR="pickRandom",WQ=["typed","config","?on"],Ow=C(IR,WQ,n=>{var{typed:e,config:t,on:r}=n,i=ho(t.randomSeed);return r&&r("config",function(o,u){o.randomSeed!==u.randomSeed&&(i=ho(o.randomSeed))}),e(IR,{"Array | Matrix":function(u){return a(u,{})},"Array | Matrix, Object":function(u,s){return a(u,s)},"Array | Matrix, number":function(u,s){return a(u,{number:s})},"Array | Matrix, Array | Matrix":function(u,s){return a(u,{weights:s})},"Array | Matrix, Array | Matrix, number":function(u,s,l){return a(u,{number:l,weights:s})},"Array | Matrix, number, Array | Matrix":function(u,s,l){return a(u,{number:s,weights:l})}});function a(o,u){var{number:s,weights:l,elementWise:c=!0}=u,f=typeof s=="undefined";f&&(s=1);var p=rt(o)?o.create:rt(l)?l.create:null;o=o.valueOf(),l&&(l=l.valueOf()),c===!0&&(o=Ct(o),l=Ct(l));var m=0;if(typeof l!="undefined"){if(l.length!==o.length)throw new Error("Weights must have the same length as possibles");for(var h=0,d=l.length;h<d;h++){if(!yt(l[h])||l[h]<0)throw new Error("Weights must be an array of positive numbers");m+=l[h]}}for(var v=o.length,y=[],_;y.length<s;){if(typeof l=="undefined")_=o[Math.floor(i()*v)];else for(var b=i()*m,w=0,S=o.length;w<S;w++)if(b-=l[w],b<0){_=o[w];break}y.push(_)}return f?y[0]:p?p(y):y}});function $c(n,e){var t=[];if(n=n.slice(0),n.length>1)for(var r=0,i=n.shift();r<i;r++)t.push($c(n,e));else for(var a=0,o=n.shift();a<o;a++)t.push(e());return t}var PR="random",YQ=["typed","config","?on"],kw=C(PR,YQ,n=>{var{typed:e,config:t,on:r}=n,i=ho(t.randomSeed);return r&&r("config",function(u,s){u.randomSeed!==s.randomSeed&&(i=ho(u.randomSeed))}),e(PR,{"":()=>o(0,1),number:u=>o(0,u),"number, number":(u,s)=>o(u,s),"Array | Matrix":u=>a(u,0,1),"Array | Matrix, number":(u,s)=>a(u,0,s),"Array | Matrix, number, number":(u,s,l)=>a(u,s,l)});function a(u,s,l){var c=$c(u.valueOf(),()=>o(s,l));return rt(u)?u.create(c):c}function o(u,s){return u+i()*(s-u)}});var BR="randomInt",jQ=["typed","config","?on"],Rw=C(BR,jQ,n=>{var{typed:e,config:t,on:r}=n,i=ho(t.randomSeed);return r&&r("config",function(u,s){u.randomSeed!==s.randomSeed&&(i=ho(u.randomSeed))}),e(BR,{"":()=>o(0,1),number:u=>o(0,u),"number, number":(u,s)=>o(u,s),"Array | Matrix":u=>a(u,0,1),"Array | Matrix, number":(u,s)=>a(u,0,s),"Array | Matrix, number, number":(u,s,l)=>a(u,s,l)});function a(u,s,l){var c=$c(u.valueOf(),()=>o(s,l));return rt(u)?u.create(c):c}function o(u,s){return Math.floor(u+i()*(s-u))}});var OR="stirlingS2",ZQ=["typed","addScalar","subtractScalar","multiplyScalar","divideScalar","pow","factorial","combinations","isNegative","isInteger","number","?bignumber","larger"],Lw=C(OR,ZQ,n=>{var{typed:e,addScalar:t,subtractScalar:r,multiplyScalar:i,divideScalar:a,pow:o,factorial:u,combinations:s,isNegative:l,isInteger:c,number:f,bignumber:p,larger:m}=n,h=[],d=[];return e(OR,{"number | BigNumber, number | BigNumber":function(y,_){if(!c(y)||l(y)||!c(_)||l(_))throw new TypeError("Non-negative integer value expected in function stirlingS2");if(m(_,y))throw new TypeError("k must be less than or equal to n in function stirlingS2");var b=!(yt(y)&&yt(_)),w=b?d:h,S=b?p:f,x=f(y),N=f(_);if(w[x]&&w[x].length>N)return w[x][N];for(var D=0;D<=x;++D)if(w[D]||(w[D]=[S(D===0?1:0)]),D!==0)for(var E=w[D],M=w[D-1],P=E.length;P<=D&&P<=N;++P)P===D?E[P]=1:E[P]=t(i(S(P),M[P]),M[P-1]);return w[x][N]}})});var kR="bellNumbers",JQ=["typed","addScalar","isNegative","isInteger","stirlingS2"],Vw=C(kR,JQ,n=>{var{typed:e,addScalar:t,isNegative:r,isInteger:i,stirlingS2:a}=n;return e(kR,{"number | BigNumber":function(u){if(!i(u)||r(u))throw new TypeError("Non-negative integer value expected in function bellNumbers");for(var s=0,l=0;l<=u;l++)s=t(s,a(u,l));return s}})});var RR="catalan",XQ=["typed","addScalar","divideScalar","multiplyScalar","combinations","isNegative","isInteger"],Uw=C(RR,XQ,n=>{var{typed:e,addScalar:t,divideScalar:r,multiplyScalar:i,combinations:a,isNegative:o,isInteger:u}=n;return e(RR,{"number | BigNumber":function(l){if(!u(l)||o(l))throw new TypeError("Non-negative integer value expected in function catalan");return r(a(i(l,2),l),t(l,1))}})});var LR="composition",QQ=["typed","addScalar","combinations","isNegative","isPositive","isInteger","larger"],qw=C(LR,QQ,n=>{var{typed:e,addScalar:t,combinations:r,isPositive:i,isNegative:a,isInteger:o,larger:u}=n;return e(LR,{"number | BigNumber, number | BigNumber":function(l,c){if(!o(l)||!i(l)||!o(c)||!i(c))throw new TypeError("Positive integer value expected in function composition");if(u(c,l))throw new TypeError("k must be less than or equal to n in function composition");return r(t(l,-1),t(c,-1))}})});var VR="leafCount",KQ=["parse","typed"],zw=C(VR,KQ,n=>{var{parse:e,typed:t}=n;function r(i){var a=0;return i.forEach(o=>{a+=r(o)}),a||1}return t(VR,{Node:function(a){return r(a)}})});function $w(n){return kt(n)||Pr(n)&&n.isUnary()&&kt(n.args[0])}function Hc(n){return!!(kt(n)||(oi(n)||Pr(n))&&n.args.every(Hc)||Tn(n)&&Hc(n.content))}function UR(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Hw(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?UR(Object(t),!0).forEach(function(r){ar(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):UR(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}var eK="simplifyUtil",tK=["FunctionNode","OperatorNode","SymbolNode"],ll=C(eK,tK,n=>{var{FunctionNode:e,OperatorNode:t,SymbolNode:r}=n,i=!0,a=!1,o="defaultF",u={add:{trivial:i,total:i,commutative:i,associative:i},unaryPlus:{trivial:i,total:i,commutative:i,associative:i},subtract:{trivial:a,total:i,commutative:a,associative:a},multiply:{trivial:i,total:i,commutative:i,associative:i},divide:{trivial:a,total:i,commutative:a,associative:a},paren:{trivial:i,total:i,commutative:i,associative:a},defaultF:{trivial:a,total:i,commutative:a,associative:a}},s={divide:{total:a},log:{total:a}},l={subtract:{total:a},abs:{trivial:i},log:{total:i}};function c(b,w){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:u,x=o;if(typeof b=="string"?x=b:Pr(b)?x=b.fn.toString():oi(b)?x=b.name:Tn(b)&&(x="paren"),it(S,x)){var N=S[x];if(it(N,w))return N[w];if(it(u,x))return u[x][w]}if(it(S,o)){var D=S[o];return it(D,w)?D[w]:u[o][w]}if(it(u,x)){var E=u[x];if(it(E,w))return E[w]}return u[o][w]}function f(b){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:u;return c(b,"commutative",w)}function p(b){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:u;return c(b,"associative",w)}function m(b,w){var S=Hw({},b);for(var x in w)it(b,x)?S[x]=Hw(Hw({},w[x]),b[x]):S[x]=w[x];return S}function h(b,w){if(!b.args||b.args.length===0)return b;b.args=d(b,w);for(var S=0;S<b.args.length;S++)h(b.args[S],w)}function d(b,w){var S,x=[],N=function D(E){for(var M=0;M<E.args.length;M++){var P=E.args[M];Pr(P)&&S===P.op?D(P):x.push(P)}};return p(b,w)?(S=b.op,N(b),x):b.args}function v(b,w){if(!(!b.args||b.args.length===0)){for(var S=_(b),x=b.args.length,N=0;N<x;N++)v(b.args[N],w);if(x>2&&p(b,w)){for(var D=b.args.pop();b.args.length>0;)D=S([b.args.pop(),D]);b.args=D.args}}}function y(b,w){if(!(!b.args||b.args.length===0)){for(var S=_(b),x=b.args.length,N=0;N<x;N++)y(b.args[N],w);if(x>2&&p(b,w)){for(var D=b.args.shift();b.args.length>0;)D=S([D,b.args.shift()]);b.args=D.args}}}function _(b){return Pr(b)?function(w){try{return new t(b.op,b.fn,w,b.implicit)}catch(S){return console.error(S),[]}}:function(w){return new e(new r(b.name),w)}}return{createMakeNodeFunction:_,hasProperty:c,isCommutative:f,isAssociative:p,mergeContext:m,flatten:h,allChildren:d,unflattenr:v,unflattenl:y,defaultContext:u,realContext:s,positiveContext:l}});var rK="simplify",nK=["config","typed","parse","add","subtract","multiply","divide","pow","isZero","equal","resolve","simplifyConstant","simplifyCore","?fraction","?bignumber","mathWithTransform","matrix","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","SymbolNode"],Gw=C(rK,nK,n=>{var{config:e,typed:t,parse:r,add:i,subtract:a,multiply:o,divide:u,pow:s,isZero:l,equal:c,resolve:f,simplifyConstant:p,simplifyCore:m,fraction:h,bignumber:d,mathWithTransform:v,matrix:y,AccessorNode:_,ArrayNode:b,ConstantNode:w,FunctionNode:S,IndexNode:x,ObjectNode:N,OperatorNode:D,ParenthesisNode:E,SymbolNode:M}=n,{hasProperty:P,isCommutative:O,isAssociative:V,mergeContext:z,flatten:L,unflattenr:B,unflattenl:T,createMakeNodeFunction:G,defaultContext:R,realContext:oe,positiveContext:ee}=ll({FunctionNode:S,OperatorNode:D,SymbolNode:M});t.addConversion({from:"Object",to:"Map",convert:lo});var H=t("simplify",{Node:be,"Node, Map":(W,ne)=>be(W,!1,ne),"Node, Map, Object":(W,ne,ue)=>be(W,!1,ne,ue),"Node, Array":be,"Node, Array, Map":be,"Node, Array, Map, Object":be});t.removeConversion({from:"Object",to:"Map",convert:lo}),H.defaultContext=R,H.realContext=oe,H.positiveContext=ee;function U(W){return W.transform(function(ne,ue,Ne){return Tn(ne)?U(ne.content):ne})}var fe={true:!0,false:!0,e:!0,i:!0,Infinity:!0,LN2:!0,LN10:!0,LOG2E:!0,LOG10E:!0,NaN:!0,phi:!0,pi:!0,SQRT1_2:!0,SQRT2:!0,tau:!0};H.rules=[m,{l:"log(e)",r:"1"},{s:"n-n1 -> n+-n1",assuming:{subtract:{total:!0}}},{s:"n-n -> 0",assuming:{subtract:{total:!1}}},{s:"-(cl*v) -> v * (-cl)",assuming:{multiply:{commutative:!0},subtract:{total:!0}}},{s:"-(cl*v) -> (-cl) * v",assuming:{multiply:{commutative:!1},subtract:{total:!0}}},{s:"-(v*cl) -> v * (-cl)",assuming:{multiply:{commutative:!1},subtract:{total:!0}}},{l:"-(n1/n2)",r:"-n1/n2"},{l:"-v",r:"v * (-1)"},{l:"(n1 + n2)*(-1)",r:"n1*(-1) + n2*(-1)",repeat:!0},{l:"n/n1^n2",r:"n*n1^-n2"},{l:"n/n1",r:"n*n1^-1"},{s:"(n1*n2)^n3 -> n1^n3 * n2^n3",assuming:{multiply:{commutative:!0}}},{s:"(n1*n2)^(-1) -> n2^(-1) * n1^(-1)",assuming:{multiply:{commutative:!1}}},{s:"(n ^ n1) ^ n2 -> n ^ (n1 * n2)",assuming:{divide:{total:!0}}},{l:" vd   * ( vd   * n1 + n2)",r:"vd^2       * n1 +  vd   * n2"},{s:" vd   * (vd^n4 * n1 + n2)   ->  vd^(1+n4)  * n1 +  vd   * n2",assuming:{divide:{total:!0}}},{s:"vd^n3 * ( vd   * n1 + n2)   ->  vd^(n3+1)  * n1 + vd^n3 * n2",assuming:{divide:{total:!0}}},{s:"vd^n3 * (vd^n4 * n1 + n2)   ->  vd^(n3+n4) * n1 + vd^n3 * n2",assuming:{divide:{total:!0}}},{l:"n*n",r:"n^2"},{s:"n * n^n1 -> n^(n1+1)",assuming:{divide:{total:!0}}},{s:"n^n1 * n^n2 -> n^(n1+n2)",assuming:{divide:{total:!0}}},p,{s:"n+n -> 2*n",assuming:{add:{total:!0}}},{l:"n+-n",r:"0"},{l:"vd*n + vd",r:"vd*(n+1)"},{l:"n3*n1 + n3*n2",r:"n3*(n1+n2)"},{l:"n3^(-n4)*n1 +   n3  * n2",r:"n3^(-n4)*(n1 + n3^(n4+1) *n2)"},{l:"n3^(-n4)*n1 + n3^n5 * n2",r:"n3^(-n4)*(n1 + n3^(n4+n5)*n2)"},{s:"n*vd + vd -> (n+1)*vd",assuming:{multiply:{commutative:!1}}},{s:"vd + n*vd -> (1+n)*vd",assuming:{multiply:{commutative:!1}}},{s:"n1*n3 + n2*n3 -> (n1+n2)*n3",assuming:{multiply:{commutative:!1}}},{s:"n^n1 * n -> n^(n1+1)",assuming:{divide:{total:!0},multiply:{commutative:!1}}},{s:"n1*n3^(-n4) + n2 * n3    -> (n1 + n2*n3^(n4 +  1))*n3^(-n4)",assuming:{multiply:{commutative:!1}}},{s:"n1*n3^(-n4) + n2 * n3^n5 -> (n1 + n2*n3^(n4 + n5))*n3^(-n4)",assuming:{multiply:{commutative:!1}}},{l:"n*cd + cd",r:"(n+1)*cd"},{s:"cd*n + cd -> cd*(n+1)",assuming:{multiply:{commutative:!1}}},{s:"cd + cd*n -> cd*(1+n)",assuming:{multiply:{commutative:!1}}},p,{s:"(-n)*n1 -> -(n*n1)",assuming:{subtract:{total:!0}}},{s:"n1*(-n) -> -(n1*n)",assuming:{subtract:{total:!0},multiply:{commutative:!1}}},{s:"ce+ve -> ve+ce",assuming:{add:{commutative:!0}},imposeContext:{add:{commutative:!1}}},{s:"vd*cd -> cd*vd",assuming:{multiply:{commutative:!0}},imposeContext:{multiply:{commutative:!1}}},{l:"n+-n1",r:"n-n1"},{l:"n+-(n1)",r:"n-(n1)"},{s:"n*(n1^-1) -> n/n1",assuming:{multiply:{commutative:!0}}},{s:"n*n1^-n2 -> n/n1^n2",assuming:{multiply:{commutative:!0}}},{s:"n^-1 -> 1/n",assuming:{multiply:{commutative:!0}}},{l:"n^1",r:"n"},{s:"n*(n1/n2) -> (n*n1)/n2",assuming:{multiply:{associative:!0}}},{s:"n-(n1+n2) -> n-n1-n2",assuming:{addition:{associative:!0,commutative:!0}}},{l:"1*n",r:"n",imposeContext:{multiply:{commutative:!0}}},{s:"n1/(n2/n3) -> (n1*n3)/n2",assuming:{multiply:{associative:!0}}},{l:"n1/(-n2)",r:"-n1/n2"}];function De(W,ne){var ue={};if(W.s){var Ne=W.s.split("->");if(Ne.length===2)ue.l=Ne[0],ue.r=Ne[1];else throw SyntaxError("Could not parse rule: "+W.s)}else ue.l=W.l,ue.r=W.r;ue.l=U(r(ue.l)),ue.r=U(r(ue.r));for(var Ce of["imposeContext","repeat","assuming"])Ce in W&&(ue[Ce]=W[Ce]);if(W.evaluate&&(ue.evaluate=r(W.evaluate)),V(ue.l,ne)){var Ye=!O(ue.l,ne),Fe;Ye&&(Fe=Ae());var Qe=G(ue.l),wt=Ae();ue.expanded={},ue.expanded.l=Qe([ue.l,wt]),L(ue.expanded.l,ne),B(ue.expanded.l,ne),ue.expanded.r=Qe([ue.r,wt]),Ye&&(ue.expandedNC1={},ue.expandedNC1.l=Qe([Fe,ue.l]),ue.expandedNC1.r=Qe([Fe,ue.r]),ue.expandedNC2={},ue.expandedNC2.l=Qe([Fe,ue.expanded.l]),ue.expandedNC2.r=Qe([Fe,ue.expanded.r]))}return ue}function me(W,ne){for(var ue=[],Ne=0;Ne<W.length;Ne++){var Ce=W[Ne],Ye=void 0,Fe=typeof Ce;switch(Fe){case"string":Ce={s:Ce};case"object":Ye=De(Ce,ne);break;case"function":Ye=Ce;break;default:throw TypeError("Unsupported type of rule: "+Fe)}ue.push(Ye)}return ue}var ve=0;function Ae(){return new M("_p"+ve++)}function be(W,ne){var ue=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Wo(),Ne=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},Ce=Ne.consoleDebug;ne=me(ne||H.rules,Ne.context);var Ye=f(W,ue);Ye=U(Ye);for(var Fe={},Qe=Ye.toString({parenthesis:"all"});!Fe[Qe];){Fe[Qe]=!0,ve=0;var wt=Qe;Ce&&console.log("Working on: ",Qe);for(var tr=0;tr<ne.length;tr++){var St="";if(typeof ne[tr]=="function"?(Ye=ne[tr](Ye,Ne),Ce&&(St=ne[tr].name)):(L(Ye,Ne.context),Ye=Se(Ye,ne[tr],Ne.context),Ce&&(St="".concat(ne[tr].l.toString()," -> ").concat(ne[tr].r.toString()))),Ce){var ie=Ye.toString({parenthesis:"all"});ie!==wt&&(console.log("Applying",St,"produced",ie),wt=ie)}T(Ye,Ne.context)}Qe=Ye.toString({parenthesis:"all"})}return Ye}function we(W,ne,ue){var Ne=W;if(W)for(var Ce=0;Ce<W.length;++Ce){var Ye=Se(W[Ce],ne,ue);Ye!==W[Ce]&&(Ne===W&&(Ne=W.slice()),Ne[Ce]=Ye)}return Ne}function Se(W,ne,ue){if(ne.assuming){for(var Ne in ne.assuming)for(var Ce in ne.assuming[Ne])if(P(Ne,Ce,ue)!==ne.assuming[Ne][Ce])return W}var Ye=z(ne.imposeContext,ue),Fe=W;if(Fe instanceof D||Fe instanceof S){var Qe=we(Fe.args,ne,ue);Qe!==Fe.args&&(Fe=Fe.clone(),Fe.args=Qe)}else if(Fe instanceof E){if(Fe.content){var wt=Se(Fe.content,ne,ue);wt!==Fe.content&&(Fe=new E(wt))}}else if(Fe instanceof b){var tr=we(Fe.items,ne,ue);tr!==Fe.items&&(Fe=new b(tr))}else if(Fe instanceof _){var St=Fe.object;Fe.object&&(St=Se(Fe.object,ne,ue));var ie=Fe.index;Fe.index&&(ie=Se(Fe.index,ne,ue)),(St!==Fe.object||ie!==Fe.index)&&(Fe=new _(St,ie))}else if(Fe instanceof x){var pe=we(Fe.dimensions,ne,ue);pe!==Fe.dimensions&&(Fe=new x(pe))}else if(Fe instanceof N){var _e=!1,Ve={};for(var ze in Fe.properties)Ve[ze]=Se(Fe.properties[ze],ne,ue),Ve[ze]!==Fe.properties[ze]&&(_e=!0);_e&&(Fe=new N(Ve))}var Re=ne.r,qe=re(ne.l,Fe,Ye)[0];if(!qe&&ne.expanded&&(Re=ne.expanded.r,qe=re(ne.expanded.l,Fe,Ye)[0]),!qe&&ne.expandedNC1&&(Re=ne.expandedNC1.r,qe=re(ne.expandedNC1.l,Fe,Ye)[0],qe||(Re=ne.expandedNC2.r,qe=re(ne.expandedNC2.l,Fe,Ye)[0])),qe){var Ge=Fe.implicit;Fe=Re.clone(),Ge&&"implicit"in Re&&(Fe.implicit=!0),Fe=Fe.transform(function(F){return F.isSymbolNode&&it(qe.placeholders,F.name)?qe.placeholders[F.name].clone():F})}return ne.repeat&&Fe!==W&&(Fe=Se(Fe,ne,ue)),Fe}function Me(W,ne){var ue=[],Ne,Ce,Ye=G(W);if(O(W,ne))for(var Fe=0;Fe<W.args.length;Fe++)Ce=W.args.slice(0),Ce.splice(Fe,1),Ne=Ce.length===1?Ce[0]:Ye(Ce),ue.push(Ye([W.args[Fe],Ne]));else for(var Qe=1;Qe<W.args.length;Qe++){var wt=W.args[0];Qe>1&&(wt=Ye(W.args.slice(0,Qe))),Ce=W.args.slice(Qe),Ne=Ce.length===1?Ce[0]:Ye(Ce),ue.push(Ye([wt,Ne]))}return ue}function Ie(W,ne){var ue={placeholders:{}};if(!W.placeholders&&!ne.placeholders)return ue;if(W.placeholders){if(!ne.placeholders)return W}else return ne;for(var Ne in W.placeholders)if(it(W.placeholders,Ne)&&(ue.placeholders[Ne]=W.placeholders[Ne],it(ne.placeholders,Ne)&&!xe(W.placeholders[Ne],ne.placeholders[Ne])))return null;for(var Ce in ne.placeholders)it(ne.placeholders,Ce)&&(ue.placeholders[Ce]=ne.placeholders[Ce]);return ue}function et(W,ne){var ue=[];if(W.length===0||ne.length===0)return ue;for(var Ne,Ce=0;Ce<W.length;Ce++)for(var Ye=0;Ye<ne.length;Ye++)Ne=Ie(W[Ce],ne[Ye]),Ne&&ue.push(Ne);return ue}function X(W){if(W.length===0)return W;for(var ne=W.reduce(et),ue=[],Ne={},Ce=0;Ce<ne.length;Ce++){var Ye=JSON.stringify(ne[Ce]);Ne[Ye]||(Ne[Ye]=!0,ue.push(ne[Ce]))}return ue}function re(W,ne,ue,Ne){var Ce=[{placeholders:{}}];if(W instanceof D&&ne instanceof D||W instanceof S&&ne instanceof S){if(W instanceof D){if(W.op!==ne.op||W.fn!==ne.fn)return[]}else if(W instanceof S&&W.name!==ne.name)return[];if(ne.args.length===1&&W.args.length===1||!V(ne,ue)&&ne.args.length===W.args.length||Ne){for(var Ye=[],Fe=0;Fe<W.args.length;Fe++){var Qe=re(W.args[Fe],ne.args[Fe],ue);if(Qe.length===0)break;Ye.push(Qe)}if(Ye.length!==W.args.length){if(!O(ne,ue)||W.args.length===1)return[];if(W.args.length>2)throw new Error("permuting >2 commutative non-associative rule arguments not yet implemented");var wt=re(W.args[0],ne.args[1],ue);if(wt.length===0)return[];var tr=re(W.args[1],ne.args[0],ue);if(tr.length===0)return[];Ye=[wt,tr]}Ce=X(Ye)}else if(ne.args.length>=2&&W.args.length===2){for(var St=Me(ne,ue),ie=[],pe=0;pe<St.length;pe++){var _e=re(W,St[pe],ue,!0);ie=ie.concat(_e)}return ie}else{if(W.args.length>2)throw Error("Unexpected non-binary associative function: "+W.toString());return[]}}else if(W instanceof M){if(W.name.length===0)throw new Error("Symbol in rule has 0 length...!?");if(fe[W.name]){if(W.name!==ne.name)return[]}else switch(W.name[1]>="a"&&W.name[1]<="z"?W.name.substring(0,2):W.name[0]){case"n":case"_p":Ce[0].placeholders[W.name]=ne;break;case"c":case"cl":if(kt(ne))Ce[0].placeholders[W.name]=ne;else return[];break;case"v":if(!kt(ne))Ce[0].placeholders[W.name]=ne;else return[];break;case"vl":if(Ar(ne))Ce[0].placeholders[W.name]=ne;else return[];break;case"cd":if($w(ne))Ce[0].placeholders[W.name]=ne;else return[];break;case"vd":if(!$w(ne))Ce[0].placeholders[W.name]=ne;else return[];break;case"ce":if(Hc(ne))Ce[0].placeholders[W.name]=ne;else return[];break;case"ve":if(!Hc(ne))Ce[0].placeholders[W.name]=ne;else return[];break;default:throw new Error("Invalid symbol in rule: "+W.name)}}else if(W instanceof w){if(!c(W.value,ne.value))return[]}else return[];return Ce}function xe(W,ne){if(W instanceof w&&ne instanceof w){if(!c(W.value,ne.value))return!1}else if(W instanceof M&&ne instanceof M){if(W.name!==ne.name)return!1}else if(W instanceof D&&ne instanceof D||W instanceof S&&ne instanceof S){if(W instanceof D){if(W.op!==ne.op||W.fn!==ne.fn)return!1}else if(W instanceof S&&W.name!==ne.name)return!1;if(W.args.length!==ne.args.length)return!1;for(var ue=0;ue<W.args.length;ue++)if(!xe(W.args[ue],ne.args[ue]))return!1}else return!1;return!0}return H});var iK="simplifyConstant",aK=["typed","config","mathWithTransform","matrix","?fraction","?bignumber","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","SymbolNode"],Ww=C(iK,aK,n=>{var{typed:e,config:t,mathWithTransform:r,matrix:i,fraction:a,bignumber:o,AccessorNode:u,ArrayNode:s,ConstantNode:l,FunctionNode:c,IndexNode:f,ObjectNode:p,OperatorNode:m,SymbolNode:h}=n,{isCommutative:d,isAssociative:v,allChildren:y,createMakeNodeFunction:_}=ll({FunctionNode:c,OperatorNode:m,SymbolNode:h}),b=e("simplifyConstant",{Node:L=>N(z(L,{})),"Node, Object":function(B,T){return N(z(B,T))}});function w(L){return so(L)?L.valueOf():L instanceof Array?L.map(w):rt(L)?i(w(L.valueOf())):L}function S(L,B,T){try{return r[L].apply(null,B)}catch(G){return B=B.map(w),E(r[L].apply(null,B),T)}}var x=e({Fraction:P,number:function(B){return B<0?M(new l(-B)):new l(B)},BigNumber:function(B){return B<0?M(new l(-B)):new l(B)},Complex:function(B){throw new Error("Cannot convert Complex number to Node")},string:function(B){return new l(B)},Matrix:function(B){return new s(B.valueOf().map(T=>x(T)))}});function N(L){return qt(L)?L:x(L)}function D(L,B){var T=B&&B.exactFractions!==!1;if(T&&isFinite(L)&&a){var G=a(L),R=B&&typeof B.fractionsLimit=="number"?B.fractionsLimit:1/0;if(G.valueOf()===L&&G.n<R&&G.d<R)return G}return L}var E=e({"string, Object":function(B,T){if(t.number==="BigNumber")return o===void 0&&nl(),o(B);if(t.number==="Fraction")return a===void 0&&Mm(),a(B);var G=parseFloat(B);return D(G,T)},"Fraction, Object":function(B,T){return B},"BigNumber, Object":function(B,T){return B},"number, Object":function(B,T){return D(B,T)},"Complex, Object":function(B,T){return B.im!==0?B:D(B.re,T)},"Matrix, Object":function(B,T){return i(D(B.valueOf()))},"Array, Object":function(B,T){return B.map(D)}});function M(L){return new m("-","unaryMinus",[L])}function P(L){var B,T=L.s*L.n;return T<0?B=new m("-","unaryMinus",[new l(-T)]):B=new l(T),L.d===1?B:new m("/","divide",[B,new l(L.d)])}function O(L,B,T){if(!ji(B))return new u(N(L),N(B));if(Cn(L)||rt(L)){for(var G=Array.from(B.dimensions);G.length>0;)if(kt(G[0])&&typeof G[0].value!="string"){var R=E(G.shift().value,T);Cn(L)?L=L.items[R-1]:(L=L.valueOf()[R-1],L instanceof Array&&(L=i(L)))}else if(G.length>1&&kt(G[1])&&typeof G[1].value!="string"){var oe=E(G[1].value,T),ee=[],H=Cn(L)?L.items:L.valueOf();for(var U of H)if(Cn(U))ee.push(U.items[oe-1]);else if(rt(L))ee.push(U[oe-1]);else break;if(ee.length===H.length)Cn(L)?L=new s(ee):L=i(ee),G.splice(1,1);else break}else break;return G.length===B.dimensions.length?new u(N(L),B):G.length>0?(B=new f(G),new u(N(L),B)):L}if($o(L)&&B.dimensions.length===1&&kt(B.dimensions[0])){var fe=B.dimensions[0].value;return fe in L.properties?L.properties[fe]:new l}return new u(N(L),B)}function V(L,B,T,G){var R=B.shift(),oe=B.reduce((ee,H)=>{if(!qt(H)){var U=ee.pop();if(qt(U))return[U,H];try{return ee.push(S(L,[U,H],G)),ee}catch(De){ee.push(U)}}ee.push(N(ee.pop()));var fe=ee.length===1?ee[0]:T(ee);return[T([fe,N(H)])]},[R]);return oe.length===1?oe[0]:T([oe[0],x(oe[1])])}function z(L,B){switch(L.type){case"SymbolNode":return L;case"ConstantNode":switch(typeof L.value){case"number":return E(L.value,B);case"string":return L.value;default:if(!isNaN(L.value))return E(L.value,B)}return L;case"FunctionNode":if(r[L.name]&&r[L.name].rawArgs)return L;{var T=["add","multiply"];if(T.indexOf(L.name)===-1){var G=L.args.map(Se=>z(Se,B));if(!G.some(qt))try{return S(L.name,G,B)}catch(Se){}if(L.name==="size"&&G.length===1&&Cn(G[0])){for(var R=[],oe=G[0];Cn(oe);)R.push(oe.items.length),oe=oe.items[0];return i(R)}return new c(L.name,G.map(N))}}case"OperatorNode":{var ee=L.fn.toString(),H,U,fe=_(L);if(Pr(L)&&L.isUnary())H=[z(L.args[0],B)],qt(H[0])?U=fe(H):U=S(ee,H,B);else if(v(L,B.context))if(H=y(L,B.context),H=H.map(Se=>z(Se,B)),d(ee,B.context)){for(var De=[],me=[],ve=0;ve<H.length;ve++)qt(H[ve])?me.push(H[ve]):De.push(H[ve]);De.length>1?(U=V(ee,De,fe,B),me.unshift(U),U=V(ee,me,fe,B)):U=V(ee,H,fe,B)}else U=V(ee,H,fe,B);else H=L.args.map(Se=>z(Se,B)),U=V(ee,H,fe,B);return U}case"ParenthesisNode":return z(L.content,B);case"AccessorNode":return O(z(L.object,B),z(L.index,B),B);case"ArrayNode":{var Ae=L.items.map(Se=>z(Se,B));return Ae.some(qt)?new s(Ae.map(N)):i(Ae)}case"IndexNode":return new f(L.dimensions.map(Se=>b(Se,B)));case"ObjectNode":{var be={};for(var we in L.properties)be[we]=b(L.properties[we],B);return new p(be)}case"AssignmentNode":case"BlockNode":case"FunctionAssignmentNode":case"RangeNode":case"ConditionalNode":default:throw new Error("Unimplemented node type in simplifyConstant: ".concat(L.type))}}return b});var qR="simplifyCore",oK=["typed","parse","equal","isZero","add","subtract","multiply","divide","pow","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","SymbolNode"],Yw=C(qR,oK,n=>{var{typed:e,parse:t,equal:r,isZero:i,add:a,subtract:o,multiply:u,divide:s,pow:l,AccessorNode:c,ArrayNode:f,ConstantNode:p,FunctionNode:m,IndexNode:h,ObjectNode:d,OperatorNode:v,ParenthesisNode:y,SymbolNode:_}=n,b=new p(0),w=new p(1),S=new p(!0),x=new p(!1);function N(P){return Pr(P)&&["and","not","or"].includes(P.op)}var{hasProperty:D,isCommutative:E}=ll({FunctionNode:m,OperatorNode:v,SymbolNode:_});function M(P){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},V=O?O.context:void 0;if(D(P,"trivial",V)){if(oi(P)&&P.args.length===1)return M(P.args[0],O);var z=!1,L=0;if(P.forEach(me=>{++L,L===1&&(z=M(me,O))}),L===1)return z}var B=P;if(oi(B)){var T=VF(B.name);if(T){if(B.args.length>2&&D(B,"associative",V))for(;B.args.length>2;){var G=B.args.pop(),R=B.args.pop();B.args.push(new v(T,B.name,[G,R]))}B=new v(T,B.name,B.args)}else return new m(M(B.fn),B.args.map(me=>M(me,O)))}if(Pr(B)&&B.isUnary()){var oe=M(B.args[0],O);if(B.op==="~"&&Pr(oe)&&oe.isUnary()&&oe.op==="~"||B.op==="not"&&Pr(oe)&&oe.isUnary()&&oe.op==="not"&&N(oe.args[0]))return oe.args[0];var ee=!0;if(B.op==="-"&&Pr(oe)&&(oe.isBinary()&&oe.fn==="subtract"&&(B=new v("-","subtract",[oe.args[1],oe.args[0]]),ee=!1),oe.isUnary()&&oe.op==="-"))return oe.args[0];if(ee)return new v(B.op,B.fn,[oe])}if(Pr(B)&&B.isBinary()){var H=M(B.args[0],O),U=M(B.args[1],O);if(B.op==="+"){if(kt(H)&&i(H.value))return U;if(kt(U)&&i(U.value))return H;Pr(U)&&U.isUnary()&&U.op==="-"&&(U=U.args[0],B=new v("-","subtract",[H,U]))}if(B.op==="-")return Pr(U)&&U.isUnary()&&U.op==="-"?M(new v("+","add",[H,U.args[0]]),O):kt(H)&&i(H.value)?M(new v("-","unaryMinus",[U])):kt(U)&&i(U.value)?H:new v(B.op,B.fn,[H,U]);if(B.op==="*"){if(kt(H)){if(i(H.value))return b;if(r(H.value,1))return U}if(kt(U)){if(i(U.value))return b;if(r(U.value,1))return H;if(E(B,V))return new v(B.op,B.fn,[U,H],B.implicit)}return new v(B.op,B.fn,[H,U],B.implicit)}if(B.op==="/")return kt(H)&&i(H.value)?b:kt(U)&&r(U.value,1)?H:new v(B.op,B.fn,[H,U]);if(B.op==="^"&&kt(U)){if(i(U.value))return w;if(r(U.value,1))return H}if(B.op==="and"){if(kt(H))if(H.value){if(N(U))return U;if(kt(U))return U.value?S:x}else return x;if(kt(U))if(U.value){if(N(H))return H}else return x}if(B.op==="or"){if(kt(H)){if(H.value)return S;if(N(U))return U}if(kt(U)){if(U.value)return S;if(N(H))return H}}return new v(B.op,B.fn,[H,U])}if(Pr(B))return new v(B.op,B.fn,B.args.map(me=>M(me,O)));if(Cn(B))return new f(B.items.map(me=>M(me,O)));if(Ti(B))return new c(M(B.object,O),M(B.index,O));if(ji(B))return new h(B.dimensions.map(me=>M(me,O)));if($o(B)){var fe={};for(var De in B.properties)fe[De]=M(B.properties[De],O);return new d(fe)}return B}return e(qR,{Node:M,"Node,Object":M})});var sK="resolve",uK=["typed","parse","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode"],jw=C(sK,uK,n=>{var{typed:e,parse:t,ConstantNode:r,FunctionNode:i,OperatorNode:a,ParenthesisNode:o}=n;function u(s,l){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:new Set;if(!l)return s;if(Ar(s)){if(c.has(s.name)){var f=Array.from(c).join(", ");throw new ReferenceError("recursive loop of variable definitions among {".concat(f,"}"))}var p=l.get(s.name);if(qt(p)){var m=new Set(c);return m.add(s.name),u(p,l,m)}else return typeof p=="number"?t(String(p)):p!==void 0?new r(p):s}else if(Pr(s)){var h=s.args.map(function(v){return u(v,l,c)});return new a(s.op,s.fn,h,s.implicit)}else{if(Tn(s))return new o(u(s.content,l,c));if(oi(s)){var d=s.args.map(function(v){return u(v,l,c)});return new i(s.name,d)}}return s.map(v=>u(v,l,c))}return e("resolve",{Node:u,"Node, Map | null | undefined":u,"Node, Object":(s,l)=>u(s,lo(l)),"Array | Matrix":e.referToSelf(s=>l=>l.map(c=>s(c))),"Array | Matrix, null | undefined":e.referToSelf(s=>l=>l.map(c=>s(c))),"Array, Object":e.referTo("Array,Map",s=>(l,c)=>s(l,lo(c))),"Matrix, Object":e.referTo("Matrix,Map",s=>(l,c)=>s(l,lo(c))),"Array | Matrix, Map":e.referToSelf(s=>(l,c)=>l.map(f=>s(f,c)))})});var zR="symbolicEqual",lK=["parse","simplify","typed","OperatorNode"],Zw=C(zR,lK,n=>{var{parse:e,simplify:t,typed:r,OperatorNode:i}=n;function a(o,u){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},l=new i("-","subtract",[o,u]),c=t(l,{},s);return kt(c)&&!c.value}return r(zR,{"Node, Node":a,"Node, Node, Object":a})});var $R="derivative",cK=["typed","config","parse","simplify","equal","isZero","numeric","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode","SymbolNode"],Jw=C($R,cK,n=>{var{typed:e,config:t,parse:r,simplify:i,equal:a,isZero:o,numeric:u,ConstantNode:s,FunctionNode:l,OperatorNode:c,ParenthesisNode:f,SymbolNode:p}=n;function m(b,w){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{simplify:!0},x={};v(x,b,w.name);var N=y(b,x);return S.simplify?i(N):N}e.addConversion({from:"identifier",to:"SymbolNode",convert:r});var h=e($R,{"Node, SymbolNode":m,"Node, SymbolNode, Object":m});e.removeConversion({from:"identifier",to:"SymbolNode",convert:r}),h._simplify=!0,h.toTex=function(b){return d.apply(null,b.args)};var d=e("_derivTex",{"Node, SymbolNode":function(w,S){return kt(w)&&Wt(w.value)==="string"?d(r(w.value).toString(),S.toString(),1):d(w.toTex(),S.toString(),1)},"Node, ConstantNode":function(w,S){if(Wt(S.value)==="string")return d(w,r(S.value));throw new Error("The second parameter to 'derivative' is a non-string constant")},"Node, SymbolNode, ConstantNode":function(w,S,x){return d(w.toString(),S.name,x.value)},"string, string, number":function(w,S,x){var N;return x===1?N="{d\\over d"+S+"}":N="{d^{"+x+"}\\over d"+S+"^{"+x+"}}",N+"\\left[".concat(w,"\\right]")}}),v=e("constTag",{"Object, ConstantNode, string":function(w,S){return w[S]=!0,!0},"Object, SymbolNode, string":function(w,S,x){return S.name!==x?(w[S]=!0,!0):!1},"Object, ParenthesisNode, string":function(w,S,x){return v(w,S.content,x)},"Object, FunctionAssignmentNode, string":function(w,S,x){return S.params.indexOf(x)===-1?(w[S]=!0,!0):v(w,S.expr,x)},"Object, FunctionNode | OperatorNode, string":function(w,S,x){if(S.args.length>0){for(var N=v(w,S.args[0],x),D=1;D<S.args.length;++D)N=v(w,S.args[D],x)&&N;if(N)return w[S]=!0,!0}return!1}}),y=e("_derivative",{"ConstantNode, Object":function(w){return _(0)},"SymbolNode, Object":function(w,S){return S[w]!==void 0?_(0):_(1)},"ParenthesisNode, Object":function(w,S){return new f(y(w.content,S))},"FunctionAssignmentNode, Object":function(w,S){return S[w]!==void 0?_(0):y(w.expr,S)},"FunctionNode, Object":function(w,S){if(S[w]!==void 0)return _(0);var x=w.args[0],N,D=!1,E=!1,M;switch(w.name){case"cbrt":D=!0,M=new c("*","multiply",[_(3),new c("^","pow",[x,new c("/","divide",[_(2),_(3)])])]);break;case"sqrt":case"nthRoot":if(w.args.length===1)D=!0,M=new c("*","multiply",[_(2),new l("sqrt",[x])]);else if(w.args.length===2)return N=new c("/","divide",[_(1),w.args[1]]),S[N]=S[w.args[1]],y(new c("^","pow",[x,N]),S);break;case"log10":N=_(10);case"log":if(!N&&w.args.length===1)M=x.clone(),D=!0;else if(w.args.length===1&&N||w.args.length===2&&S[w.args[1]]!==void 0)M=new c("*","multiply",[x.clone(),new l("log",[N||w.args[1]])]),D=!0;else if(w.args.length===2)return y(new c("/","divide",[new l("log",[x]),new l("log",[w.args[1]])]),S);break;case"pow":if(w.args.length===2)return S[N]=S[w.args[1]],y(new c("^","pow",[x,w.args[1]]),S);break;case"exp":M=new l("exp",[x.clone()]);break;case"sin":M=new l("cos",[x.clone()]);break;case"cos":M=new c("-","unaryMinus",[new l("sin",[x.clone()])]);break;case"tan":M=new c("^","pow",[new l("sec",[x.clone()]),_(2)]);break;case"sec":M=new c("*","multiply",[w,new l("tan",[x.clone()])]);break;case"csc":E=!0,M=new c("*","multiply",[w,new l("cot",[x.clone()])]);break;case"cot":E=!0,M=new c("^","pow",[new l("csc",[x.clone()]),_(2)]);break;case"asin":D=!0,M=new l("sqrt",[new c("-","subtract",[_(1),new c("^","pow",[x.clone(),_(2)])])]);break;case"acos":D=!0,E=!0,M=new l("sqrt",[new c("-","subtract",[_(1),new c("^","pow",[x.clone(),_(2)])])]);break;case"atan":D=!0,M=new c("+","add",[new c("^","pow",[x.clone(),_(2)]),_(1)]);break;case"asec":D=!0,M=new c("*","multiply",[new l("abs",[x.clone()]),new l("sqrt",[new c("-","subtract",[new c("^","pow",[x.clone(),_(2)]),_(1)])])]);break;case"acsc":D=!0,E=!0,M=new c("*","multiply",[new l("abs",[x.clone()]),new l("sqrt",[new c("-","subtract",[new c("^","pow",[x.clone(),_(2)]),_(1)])])]);break;case"acot":D=!0,E=!0,M=new c("+","add",[new c("^","pow",[x.clone(),_(2)]),_(1)]);break;case"sinh":M=new l("cosh",[x.clone()]);break;case"cosh":M=new l("sinh",[x.clone()]);break;case"tanh":M=new c("^","pow",[new l("sech",[x.clone()]),_(2)]);break;case"sech":E=!0,M=new c("*","multiply",[w,new l("tanh",[x.clone()])]);break;case"csch":E=!0,M=new c("*","multiply",[w,new l("coth",[x.clone()])]);break;case"coth":E=!0,M=new c("^","pow",[new l("csch",[x.clone()]),_(2)]);break;case"asinh":D=!0,M=new l("sqrt",[new c("+","add",[new c("^","pow",[x.clone(),_(2)]),_(1)])]);break;case"acosh":D=!0,M=new l("sqrt",[new c("-","subtract",[new c("^","pow",[x.clone(),_(2)]),_(1)])]);break;case"atanh":D=!0,M=new c("-","subtract",[_(1),new c("^","pow",[x.clone(),_(2)])]);break;case"asech":D=!0,E=!0,M=new c("*","multiply",[x.clone(),new l("sqrt",[new c("-","subtract",[_(1),new c("^","pow",[x.clone(),_(2)])])])]);break;case"acsch":D=!0,E=!0,M=new c("*","multiply",[new l("abs",[x.clone()]),new l("sqrt",[new c("+","add",[new c("^","pow",[x.clone(),_(2)]),_(1)])])]);break;case"acoth":D=!0,E=!0,M=new c("-","subtract",[_(1),new c("^","pow",[x.clone(),_(2)])]);break;case"abs":M=new c("/","divide",[new l(new p("abs"),[x.clone()]),x.clone()]);break;case"gamma":default:throw new Error('Cannot process function "'+w.name+'" in derivative: the function is not supported, undefined, or the number of arguments passed to it are not supported')}var P,O;D?(P="/",O="divide"):(P="*",O="multiply");var V=y(x,S);return E&&(V=new c("-","unaryMinus",[V])),new c(P,O,[V,M])},"OperatorNode, Object":function(w,S){if(S[w]!==void 0)return _(0);if(w.op==="+")return new c(w.op,w.fn,w.args.map(function(L){return y(L,S)}));if(w.op==="-"){if(w.isUnary())return new c(w.op,w.fn,[y(w.args[0],S)]);if(w.isBinary())return new c(w.op,w.fn,[y(w.args[0],S),y(w.args[1],S)])}if(w.op==="*"){var x=w.args.filter(function(L){return S[L]!==void 0});if(x.length>0){var N=w.args.filter(function(L){return S[L]===void 0}),D=N.length===1?N[0]:new c("*","multiply",N),E=x.concat(y(D,S));return new c("*","multiply",E)}return new c("+","add",w.args.map(function(L){return new c("*","multiply",w.args.map(function(B){return B===L?y(B,S):B.clone()}))}))}if(w.op==="/"&&w.isBinary()){var M=w.args[0],P=w.args[1];return S[P]!==void 0?new c("/","divide",[y(M,S),P]):S[M]!==void 0?new c("*","multiply",[new c("-","unaryMinus",[M]),new c("/","divide",[y(P,S),new c("^","pow",[P.clone(),_(2)])])]):new c("/","divide",[new c("-","subtract",[new c("*","multiply",[y(M,S),P.clone()]),new c("*","multiply",[M.clone(),y(P,S)])]),new c("^","pow",[P.clone(),_(2)])])}if(w.op==="^"&&w.isBinary()){var O=w.args[0],V=w.args[1];if(S[O]!==void 0)return kt(O)&&(o(O.value)||a(O.value,1))?_(0):new c("*","multiply",[w,new c("*","multiply",[new l("log",[O.clone()]),y(V.clone(),S)])]);if(S[V]!==void 0){if(kt(V)){if(o(V.value))return _(0);if(a(V.value,1))return y(O,S)}var z=new c("^","pow",[O.clone(),new c("-","subtract",[V,_(1)])]);return new c("*","multiply",[V.clone(),new c("*","multiply",[y(O,S),z])])}return new c("*","multiply",[new c("^","pow",[O.clone(),V.clone()]),new c("+","add",[new c("*","multiply",[y(O,S),new c("/","divide",[V.clone(),O.clone()])]),new c("*","multiply",[y(V,S),new l("log",[O.clone()])])])])}throw new Error('Cannot process operator "'+w.op+'" in derivative: the operator is not supported, undefined, or the number of arguments passed to it are not supported')}});function _(b,w){return new s(u(b,w||t.number))}return h});var HR="rationalize",fK=["config","typed","equal","isZero","add","subtract","multiply","divide","pow","parse","simplifyConstant","simplifyCore","simplify","?bignumber","?fraction","mathWithTransform","matrix","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","SymbolNode","ParenthesisNode"],Xw=C(HR,fK,n=>{var{config:e,typed:t,equal:r,isZero:i,add:a,subtract:o,multiply:u,divide:s,pow:l,parse:c,simplifyConstant:f,simplifyCore:p,simplify:m,fraction:h,bignumber:d,mathWithTransform:v,matrix:y,AccessorNode:_,ArrayNode:b,ConstantNode:w,FunctionNode:S,IndexNode:x,ObjectNode:N,OperatorNode:D,SymbolNode:E,ParenthesisNode:M}=n;function P(B){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,R=V(),oe=O(B,T,!0,R.firstRules),ee=oe.variables.length,H={exactFractions:!1},U={exactFractions:!0};if(B=oe.expression,ee>=1){B=z(B);var fe,De,me=!0,ve=!1;B=m(B,R.firstRules,{},H);for(var Ae;De=me?R.distrDivRules:R.sucDivRules,B=m(B,De,{},U),me=!me,Ae=B.toString(),Ae!==fe;)ve=!0,fe=Ae;ve&&(B=m(B,R.firstRulesAgain,{},H)),B=m(B,R.finalRules,{},H)}var be=[],we={};return B.type==="OperatorNode"&&B.isBinary()&&B.op==="/"?(ee===1&&(B.args[0]=L(B.args[0],be),B.args[1]=L(B.args[1])),G&&(we.numerator=B.args[0],we.denominator=B.args[1])):(ee===1&&(B=L(B,be)),G&&(we.numerator=B,we.denominator=null)),G?(we.coefficients=be,we.variables=oe.variables,we.expression=B,we):B}return t(HR,{Node:P,"Node, boolean":(B,T)=>P(B,{},T),"Node, Object":P,"Node, Object, boolean":P});function O(B,T,G,R){var oe=[],ee=m(B,R,T,{exactFractions:!1});G=!!G;var H="+-*"+(G?"/":"");fe(ee);var U={};return U.expression=ee,U.variables=oe,U;function fe(De){var me=De.type;if(me==="FunctionNode")throw new Error("There is an unsolved function call");if(me==="OperatorNode")if(De.op==="^"){if(De.args[1].type!=="ConstantNode"||!Ke(parseFloat(De.args[1].value)))throw new Error("There is a non-integer exponent");fe(De.args[0])}else{if(H.indexOf(De.op)===-1)throw new Error("Operator "+De.op+" invalid in polynomial expression");for(var ve=0;ve<De.args.length;ve++)fe(De.args[ve])}else if(me==="SymbolNode"){var Ae=De.name,be=oe.indexOf(Ae);be===-1&&oe.push(Ae)}else if(me==="ParenthesisNode")fe(De.content);else if(me!=="ConstantNode")throw new Error("type "+me+" is not allowed in polynomial expression")}}function V(){var B=[p,{l:"n+n",r:"2*n"},{l:"n+-n",r:"0"},f,{l:"n*(n1^-1)",r:"n/n1"},{l:"n*n1^-n2",r:"n/n1^n2"},{l:"n1^-1",r:"1/n1"},{l:"n*(n1/n2)",r:"(n*n1)/n2"},{l:"1*n",r:"n"}],T=[{l:"(-n1)/(-n2)",r:"n1/n2"},{l:"(-n1)*(-n2)",r:"n1*n2"},{l:"n1--n2",r:"n1+n2"},{l:"n1-n2",r:"n1+(-n2)"},{l:"(n1+n2)*n3",r:"(n1*n3 + n2*n3)"},{l:"n1*(n2+n3)",r:"(n1*n2+n1*n3)"},{l:"c1*n + c2*n",r:"(c1+c2)*n"},{l:"c1*n + n",r:"(c1+1)*n"},{l:"c1*n - c2*n",r:"(c1-c2)*n"},{l:"c1*n - n",r:"(c1-1)*n"},{l:"v/c",r:"(1/c)*v"},{l:"v/-c",r:"-(1/c)*v"},{l:"-v*-c",r:"c*v"},{l:"-v*c",r:"-c*v"},{l:"v*-c",r:"-c*v"},{l:"v*c",r:"c*v"},{l:"-(-n1*n2)",r:"(n1*n2)"},{l:"-(n1*n2)",r:"(-n1*n2)"},{l:"-(-n1+n2)",r:"(n1-n2)"},{l:"-(n1+n2)",r:"(-n1-n2)"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"},{l:"-(-n1/n2)",r:"(n1/n2)"},{l:"-(n1/n2)",r:"(-n1/n2)"}],G=[{l:"(n1/n2 + n3/n4)",r:"((n1*n4 + n3*n2)/(n2*n4))"},{l:"(n1/n2 + n3)",r:"((n1 + n3*n2)/n2)"},{l:"(n1 + n2/n3)",r:"((n1*n3 + n2)/n3)"}],R=[{l:"(n1/(n2/n3))",r:"((n1*n3)/n2)"},{l:"(n1/n2/n3)",r:"(n1/(n2*n3))"}],oe={};return oe.firstRules=B.concat(T,R),oe.distrDivRules=G,oe.sucDivRules=R,oe.firstRulesAgain=B.concat(T),oe.finalRules=[p,{l:"n*-n",r:"-n^2"},{l:"n*n",r:"n^2"},f,{l:"n*-n^n1",r:"-n^(n1+1)"},{l:"n*n^n1",r:"n^(n1+1)"},{l:"n^n1*-n^n2",r:"-n^(n1+n2)"},{l:"n^n1*n^n2",r:"n^(n1+n2)"},{l:"n^n1*-n",r:"-n^(n1+1)"},{l:"n^n1*n",r:"n^(n1+1)"},{l:"n^n1/-n",r:"-n^(n1-1)"},{l:"n^n1/n",r:"n^(n1-1)"},{l:"n/-n^n1",r:"-n^(1-n1)"},{l:"n/n^n1",r:"n^(1-n1)"},{l:"n^n1/-n^n2",r:"n^(n1-n2)"},{l:"n^n1/n^n2",r:"n^(n1-n2)"},{l:"n1+(-n2*n3)",r:"n1-n2*n3"},{l:"v*(-c)",r:"-c*v"},{l:"n1+-n2",r:"n1-n2"},{l:"v*c",r:"c*v"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"}],oe}function z(B,T,G){var R=B.type,oe=arguments.length>1;if(R==="OperatorNode"&&B.isBinary()){var ee=!1,H;if(B.op==="^"&&(B.args[0].type==="ParenthesisNode"||B.args[0].type==="OperatorNode")&&B.args[1].type==="ConstantNode"&&(H=parseFloat(B.args[1].value),ee=H>=2&&Ke(H)),ee){if(H>2){var U=B.args[0],fe=new D("^","pow",[B.args[0].cloneDeep(),new w(H-1)]);B=new D("*","multiply",[U,fe])}else B=new D("*","multiply",[B.args[0],B.args[0].cloneDeep()]);oe&&(G==="content"?T.content=B:T.args[G]=B)}}if(R==="ParenthesisNode")z(B.content,B,"content");else if(R!=="ConstantNode"&&R!=="SymbolNode")for(var De=0;De<B.args.length;De++)z(B.args[De],B,De);if(!oe)return B}function L(B,T){T===void 0&&(T=[]),T[0]=0;var G={};G.cte=1,G.oper="+",G.fire="";var R=0,oe="";Ae(B,null,G),R=T.length-1;for(var ee=!0,H,U=R;U>=0;U--)if(T[U]!==0){var fe=new w(ee?T[U]:Math.abs(T[U])),De=T[U]<0?"-":"+";if(U>0){var me=new E(oe);if(U>1){var ve=new w(U);me=new D("^","pow",[me,ve])}T[U]===-1&&ee?fe=new D("-","unaryMinus",[me]):Math.abs(T[U])===1?fe=me:fe=new D("*","multiply",[fe,me])}ee?H=fe:De==="+"?H=new D("+","add",[H,fe]):H=new D("-","subtract",[H,fe]),ee=!1}if(ee)return new w(0);return H;function Ae(be,we,Se){var Me=be.type;if(Me==="FunctionNode")throw new Error("There is an unsolved function call");if(Me==="OperatorNode"){if("+-*^".indexOf(be.op)===-1)throw new Error("Operator "+be.op+" invalid");if(we!==null){if((be.fn==="unaryMinus"||be.fn==="pow")&&we.fn!=="add"&&we.fn!=="subtract"&&we.fn!=="multiply")throw new Error("Invalid "+be.op+" placing");if((be.fn==="subtract"||be.fn==="add"||be.fn==="multiply")&&we.fn!=="add"&&we.fn!=="subtract")throw new Error("Invalid "+be.op+" placing");if((be.fn==="subtract"||be.fn==="add"||be.fn==="unaryMinus")&&Se.noFil!==0)throw new Error("Invalid "+be.op+" placing")}(be.op==="^"||be.op==="*")&&(Se.fire=be.op);for(var Ie=0;Ie<be.args.length;Ie++)be.fn==="unaryMinus"&&(Se.oper="-"),(be.op==="+"||be.fn==="subtract")&&(Se.fire="",Se.cte=1,Se.oper=Ie===0?"+":be.op),Se.noFil=Ie,Ae(be.args[Ie],be,Se)}else if(Me==="SymbolNode"){if(be.name!==oe&&oe!=="")throw new Error("There is more than one variable");if(oe=be.name,we===null){T[1]=1;return}if(we.op==="^"&&Se.noFil!==0)throw new Error("In power the variable should be the first parameter");if(we.op==="*"&&Se.noFil!==1)throw new Error("In multiply the variable should be the second parameter");(Se.fire===""||Se.fire==="*")&&(R<1&&(T[1]=0),T[1]+=Se.cte*(Se.oper==="+"?1:-1),R=Math.max(1,R))}else if(Me==="ConstantNode"){var et=parseFloat(be.value);if(we===null){T[0]=et;return}if(we.op==="^"){if(Se.noFil!==1)throw new Error("Constant cannot be powered");if(!Ke(et)||et<=0)throw new Error("Non-integer exponent is not allowed");for(var X=R+1;X<et;X++)T[X]=0;et>R&&(T[et]=0),T[et]+=Se.cte*(Se.oper==="+"?1:-1),R=Math.max(et,R);return}Se.cte=et,Se.fire===""&&(T[0]+=Se.cte*(Se.oper==="+"?1:-1))}else throw new Error("Type "+Me+" is not allowed")}}});var GR="zpk2tf",pK=["typed","add","multiply","Complex","number"],Qw=C(GR,pK,n=>{var{typed:e,add:t,multiply:r,Complex:i,number:a}=n;return e(GR,{"Array,Array,number":function(l,c,f){return o(l,c,f)},"Array,Array":function(l,c){return o(l,c,1)},"Matrix,Matrix,number":function(l,c,f){return o(l.valueOf(),c.valueOf(),f)},"Matrix,Matrix":function(l,c){return o(l.valueOf(),c.valueOf(),1)}});function o(s,l,c){s.some(_=>_.type==="BigNumber")&&(s=s.map(_=>a(_))),l.some(_=>_.type==="BigNumber")&&(l=l.map(_=>a(_)));for(var f=[i(1,0)],p=[i(1,0)],m=0;m<s.length;m++){var h=s[m];typeof h=="number"&&(h=i(h,0)),f=u(f,[i(1,0),i(-h.re,-h.im)])}for(var d=0;d<l.length;d++){var v=l[d];typeof v=="number"&&(v=i(v,0)),p=u(p,[i(1,0),i(-v.re,-v.im)])}for(var y=0;y<f.length;y++)f[y]=r(f[y],c);return[f,p]}function u(s,l){for(var c=[],f=0;f<s.length+l.length-1;f++){c[f]=i(0,0);for(var p=0;p<s.length;p++)f-p>=0&&f-p<l.length&&(c[f]=t(c[f],r(s[p],l[f-p])))}return c}});var WR="freqz",mK=["typed","add","multiply","Complex","divide","matrix"],Kw=C(WR,mK,n=>{var{typed:e,add:t,multiply:r,Complex:i,divide:a,matrix:o}=n;return e(WR,{"Array, Array":function(c,f){var p=s(512);return u(c,f,p)},"Array, Array, Array":function(c,f,p){return u(c,f,p)},"Array, Array, number":function(c,f,p){if(p<0)throw new Error("w must be a positive number");var m=s(p);return u(c,f,m)},"Matrix, Matrix":function(c,f){var p=s(512),{w:m,h}=u(c.valueOf(),f.valueOf(),p);return{w:o(m),h:o(h)}},"Matrix, Matrix, Matrix":function(c,f,p){var{h:m}=u(c.valueOf(),f.valueOf(),p.valueOf());return{h:o(m),w:o(p)}},"Matrix, Matrix, number":function(c,f,p){if(p<0)throw new Error("w must be a positive number");var m=s(p),{h}=u(c.valueOf(),f.valueOf(),m);return{h:o(h),w:o(m)}}});function u(l,c,f){for(var p=[],m=[],h=0;h<f.length;h++){for(var d=i(0,0),v=i(0,0),y=0;y<l.length;y++)d=t(d,r(l[y],i(Math.cos(-y*f[h]),Math.sin(-y*f[h]))));for(var _=0;_<c.length;_++)v=t(v,r(c[_],i(Math.cos(-_*f[h]),Math.sin(-_*f[h]))));p.push(d),m.push(v)}for(var b=[],w=0;w<p.length;w++)b.push(a(p[w],m[w]));return{h:b,w:f}}function s(l){for(var c=[],f=0;f<l;f++)c.push(f/l*Math.PI);return c}});var dK="reviver",hK=["classes"],e_=C(dK,hK,n=>{var{classes:e}=n;return function(r,i){var a=e[i&&i.mathjs];return a&&typeof a.fromJSON=="function"?a.fromJSON(i):i}});var gK="replacer",vK=[],t_=C(gK,vK,()=>function(e,t){return typeof t=="number"&&(!isFinite(t)||isNaN(t))?{mathjs:"number",value:String(t)}:t});var YR="12.4.1";var r_=C("true",[],()=>!0),n_=C("false",[],()=>!1),i_=C("null",[],()=>null),a_=Ii("Infinity",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return e.number==="BigNumber"?new t(1/0):1/0}),o_=Ii("NaN",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return e.number==="BigNumber"?new t(NaN):NaN}),s_=Ii("pi",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return e.number==="BigNumber"?Oc(t):NC}),u_=Ii("tau",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return e.number==="BigNumber"?J2(t):CC}),l_=Ii("e",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return e.number==="BigNumber"?j2(t):TC}),c_=Ii("phi",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return e.number==="BigNumber"?Z2(t):FC}),f_=Ii("LN2",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return e.number==="BigNumber"?new t(2).ln():Math.LN2}),p_=Ii("LN10",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return e.number==="BigNumber"?new t(10).ln():Math.LN10}),m_=Ii("LOG2E",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return e.number==="BigNumber"?new t(1).div(new t(2).ln()):Math.LOG2E}),d_=Ii("LOG10E",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return e.number==="BigNumber"?new t(1).div(new t(10).ln()):Math.LOG10E}),h_=Ii("SQRT1_2",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return e.number==="BigNumber"?new t("0.5").sqrt():Math.SQRT1_2}),g_=Ii("SQRT2",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return e.number==="BigNumber"?new t(2).sqrt():Math.SQRT2}),v_=Ii("i",["Complex"],n=>{var{Complex:e}=n;return e.I});var y_=C("version",[],()=>YR);function Ii(n,e,t){return C(n,e,t,{recreateOnConfigChange:!0})}var b_=$t("speedOfLight","299792458","m s^-1"),x_=$t("gravitationConstant","6.67430e-11","m^3 kg^-1 s^-2"),w_=$t("planckConstant","6.62607015e-34","J s"),__=$t("reducedPlanckConstant","1.0545718176461565e-34","J s"),S_=$t("magneticConstant","1.25663706212e-6","N A^-2"),A_=$t("electricConstant","8.8541878128e-12","F m^-1"),E_=$t("vacuumImpedance","376.730313667","ohm"),D_=$t("coulomb","8.987551792261171e9","N m^2 C^-2"),M_=$t("elementaryCharge","1.602176634e-19","C"),N_=$t("bohrMagneton","9.2740100783e-24","J T^-1"),C_=$t("conductanceQuantum","7.748091729863649e-5","S"),T_=$t("inverseConductanceQuantum","12906.403729652257","ohm"),F_=$t("magneticFluxQuantum","2.0678338484619295e-15","Wb"),I_=$t("nuclearMagneton","5.0507837461e-27","J T^-1"),P_=$t("klitzing","25812.807459304513","ohm");var B_=$t("bohrRadius","5.29177210903e-11","m"),O_=$t("classicalElectronRadius","2.8179403262e-15","m"),k_=$t("electronMass","9.1093837015e-31","kg"),R_=$t("fermiCoupling","1.1663787e-5","GeV^-2"),L_=ud("fineStructure",.0072973525693),V_=$t("hartreeEnergy","4.3597447222071e-18","J"),U_=$t("protonMass","1.67262192369e-27","kg"),q_=$t("deuteronMass","3.3435830926e-27","kg"),z_=$t("neutronMass","1.6749271613e-27","kg"),$_=$t("quantumOfCirculation","3.6369475516e-4","m^2 s^-1"),H_=$t("rydberg","10973731.568160","m^-1"),G_=$t("thomsonCrossSection","6.6524587321e-29","m^2"),W_=ud("weakMixingAngle",.2229),Y_=ud("efimovFactor",22.7),j_=$t("atomicMass","1.66053906660e-27","kg"),Z_=$t("avogadro","6.02214076e23","mol^-1"),J_=$t("boltzmann","1.380649e-23","J K^-1"),X_=$t("faraday","96485.33212331001","C mol^-1"),Q_=$t("firstRadiation","3.7417718521927573e-16","W m^2"),K_=$t("loschmidt","2.686780111798444e25","m^-3"),eS=$t("gasConstant","8.31446261815324","J K^-1 mol^-1"),tS=$t("molarPlanckConstant","3.990312712893431e-10","J s mol^-1"),rS=$t("molarVolume","0.022413969545014137","m^3 mol^-1"),nS=ud("sackurTetrode",-1.16487052358),iS=$t("secondRadiation","0.014387768775039337","m K"),aS=$t("stefanBoltzmann","5.67037441918443e-8","W m^-2 K^-4"),oS=$t("wienDisplacement","2.897771955e-3","m K"),sS=$t("molarMass","0.99999999965e-3","kg mol^-1"),uS=$t("molarMassC12","11.9999999958e-3","kg mol^-1"),lS=$t("gravity","9.80665","m s^-2"),cS=$t("planckLength","1.616255e-35","m"),fS=$t("planckMass","2.176435e-8","kg"),pS=$t("planckTime","5.391245e-44","s"),mS=$t("planckCharge","1.87554603778e-18","C"),dS=$t("planckTemperature","1.416785e+32","K");function $t(n,e,t){var r=["config","Unit","BigNumber"];return C(n,r,i=>{var{config:a,Unit:o,BigNumber:u}=i,s=a.number==="BigNumber"?new u(e):parseFloat(e),l=new o(s,t);return l.fixPrefix=!0,l})}function ud(n,e){var t=["config","BigNumber"];return C(n,t,r=>{var{config:i,BigNumber:a}=r;return i.number==="BigNumber"?new a(e):e})}var yK="apply",bK=["typed","isInteger"],hS=C(yK,bK,n=>{var{typed:e,isInteger:t}=n,r=Ws({typed:e,isInteger:t});return e("apply",{"...any":function(a){var o=a[1];yt(o)?a[1]=o-1:st(o)&&(a[1]=o.minus(1));try{return r.apply(null,a)}catch(u){throw Cr(u)}}})},{isTransformFunction:!0});var xK="column",wK=["typed","Index","matrix","range"],gS=C(xK,wK,n=>{var{typed:e,Index:t,matrix:r,range:i}=n,a=Ec({typed:e,Index:t,matrix:r,range:i});return e("column",{"...any":function(u){var s=u.length-1,l=u[s];yt(l)&&(u[s]=l-1);try{return a.apply(null,u)}catch(c){throw Cr(c)}}})},{isTransformFunction:!0});function cl(n,e,t){var r=n.filter(function(s){return Ar(s)&&!(s.name in e)&&!t.has(s.name)})[0];if(!r)throw new Error('No undefined variable found in inline expression "'+n+'"');var i=r.name,a=new Map,o=new Zu(t,a,new Set([i])),u=n.compile();return function(l){return a.set(i,l),u.evaluate(o)}}var _K="filter",SK=["typed"],vS=C(_K,SK,n=>{var{typed:e}=n;function t(i,a,o){var u,s;return i[0]&&(u=i[0].compile().evaluate(o)),i[1]&&(Ar(i[1])||Ba(i[1])?s=i[1].compile().evaluate(o):s=cl(i[1],a,o)),r(u,s)}t.rawArgs=!0;var r=e("filter",{"Array, function":jR,"Matrix, function":function(a,o){return a.create(jR(a.toArray(),o))},"Array, RegExp":Yu,"Matrix, RegExp":function(a,o){return a.create(Yu(a.toArray(),o))}});return t},{isTransformFunction:!0});function jR(n,e){return lm(n,function(t,r,i){return Qi(e,t,[r+1],i,"filter")})}var AK="forEach",EK=["typed"],yS=C(AK,EK,n=>{var{typed:e}=n;function t(i,a,o){var u,s;return i[0]&&(u=i[0].compile().evaluate(o)),i[1]&&(Ar(i[1])||Ba(i[1])?s=i[1].compile().evaluate(o):s=cl(i[1],a,o)),r(u,s)}t.rawArgs=!0;var r=e("forEach",{"Array | Matrix, function":function(a,o){var u=function s(l,c){if(Array.isArray(l))Ho(l,function(f,p){s(f,c.concat(p+1))});else return Qi(o,l,c,a,"forEach")};u(a.valueOf(),[])}});return t},{isTransformFunction:!0});var DK="index",MK=["Index","getMatrixDataType"],bS=C(DK,MK,n=>{var{Index:e,getMatrixDataType:t}=n;return function(){for(var i=[],a=0,o=arguments.length;a<o;a++){var u=arguments[a];if($u(u))u.start--,u.end-=u.step>0?0:2;else if(u&&u.isSet===!0)u=u.map(function(l){return l-1});else if(Zt(u)||rt(u))t(u)!=="boolean"&&(u=u.map(function(l){return l-1}));else if(yt(u))u--;else if(st(u))u=u.toNumber()-1;else if(typeof u!="string")throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");i[a]=u}var s=new e;return e.apply(s,i),s}},{isTransformFunction:!0});var NK="map",CK=["typed"],xS=C(NK,CK,n=>{var{typed:e}=n;function t(i,a,o){var u,s;return i[0]&&(u=i[0].compile().evaluate(o)),i[1]&&(Ar(i[1])||Ba(i[1])?s=i[1].compile().evaluate(o):s=cl(i[1],a,o)),r(u,s)}t.rawArgs=!0;var r=e("map",{"Array, function":function(a,o){return ZR(a,o,a)},"Matrix, function":function(a,o){return a.create(ZR(a.valueOf(),o,a))}});return t},{isTransformFunction:!0});function ZR(n,e,t){function r(i,a){return Array.isArray(i)?fi(i,function(o,u){return r(o,a.concat(u+1))}):Qi(e,i,a,t,"map")}return r(n,[])}function Wn(n){if(n.length===2&&Qr(n[0])){n=n.slice();var e=n[1];yt(e)?n[1]=e-1:st(e)&&(n[1]=e.minus(1))}return n}var TK="max",FK=["typed","config","numeric","larger"],wS=C(TK,FK,n=>{var{typed:e,config:t,numeric:r,larger:i}=n,a=Pc({typed:e,config:t,numeric:r,larger:i});return e("max",{"...any":function(u){u=Wn(u);try{return a.apply(null,u)}catch(s){throw Cr(s)}}})},{isTransformFunction:!0});var IK="mean",PK=["typed","add","divide"],_S=C(IK,PK,n=>{var{typed:e,add:t,divide:r}=n,i=Vc({typed:e,add:t,divide:r});return e("mean",{"...any":function(o){o=Wn(o);try{return i.apply(null,o)}catch(u){throw Cr(u)}}})},{isTransformFunction:!0});var BK="min",OK=["typed","config","numeric","smaller"],SS=C(BK,OK,n=>{var{typed:e,config:t,numeric:r,smaller:i}=n,a=Bc({typed:e,config:t,numeric:r,smaller:i});return e("min",{"...any":function(u){u=Wn(u);try{return a.apply(null,u)}catch(s){throw Cr(s)}}})},{isTransformFunction:!0});var kK="range",RK=["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq","add","isPositive"],AS=C(kK,RK,n=>{var{typed:e,config:t,matrix:r,bignumber:i,smaller:a,smallerEq:o,larger:u,largerEq:s,add:l,isPositive:c}=n,f=Nc({typed:e,config:t,matrix:r,bignumber:i,smaller:a,smallerEq:o,larger:u,largerEq:s,add:l,isPositive:c});return e("range",{"...any":function(m){var h=m.length-1,d=m[h];return typeof d!="boolean"&&m.push(!0),f.apply(null,m)}})},{isTransformFunction:!0});var LK="row",VK=["typed","Index","matrix","range"],ES=C(LK,VK,n=>{var{typed:e,Index:t,matrix:r,range:i}=n,a=Cc({typed:e,Index:t,matrix:r,range:i});return e("row",{"...any":function(u){var s=u.length-1,l=u[s];yt(l)&&(u[s]=l-1);try{return a.apply(null,u)}catch(c){throw Cr(c)}}})},{isTransformFunction:!0});var UK="subset",qK=["typed","matrix","zeros","add"],DS=C(UK,qK,n=>{var{typed:e,matrix:t,zeros:r,add:i}=n,a=Tc({typed:e,matrix:t,zeros:r,add:i});return e("subset",{"...any":function(u){try{return a.apply(null,u)}catch(s){throw Cr(s)}}})},{isTransformFunction:!0});var zK="concat",$K=["typed","matrix","isInteger"],MS=C(zK,$K,n=>{var{typed:e,matrix:t,isInteger:r}=n,i=Ac({typed:e,matrix:t,isInteger:r});return e("concat",{"...any":function(o){var u=o.length-1,s=o[u];yt(s)?o[u]=s-1:st(s)&&(o[u]=s.minus(1));try{return i.apply(null,o)}catch(l){throw Cr(l)}}})},{isTransformFunction:!0});var JR="diff",HK=["typed","matrix","subtract","number","bignumber"],NS=C(JR,HK,n=>{var{typed:e,matrix:t,subtract:r,number:i,bignumber:a}=n,o=Mc({typed:e,matrix:t,subtract:r,number:i,bignumber:a});return e(JR,{"...any":function(s){s=Wn(s);try{return o.apply(null,s)}catch(l){throw Cr(l)}}})},{isTransformFunction:!0});var GK="std",WK=["typed","map","sqrt","variance"],CS=C(GK,WK,n=>{var{typed:e,map:t,sqrt:r,variance:i}=n,a=zc({typed:e,map:t,sqrt:r,variance:i});return e("std",{"...any":function(u){u=Wn(u);try{return a.apply(null,u)}catch(s){throw Cr(s)}}})},{isTransformFunction:!0});var XR="sum",YK=["typed","config","add","numeric"],TS=C(XR,YK,n=>{var{typed:e,config:t,add:r,numeric:i}=n,a=Rc({typed:e,config:t,add:r,numeric:i});return e(XR,{"...any":function(u){u=Wn(u);try{return a.apply(null,u)}catch(s){throw Cr(s)}}})},{isTransformFunction:!0});var jK="quantileSeq",ZK=["typed","bignumber","add","subtract","divide","multiply","partitionSelect","compare","isInteger","smaller","smallerEq","larger"],FS=C(jK,ZK,n=>{var{typed:e,bignumber:t,add:r,subtract:i,divide:a,multiply:o,partitionSelect:u,compare:s,isInteger:l,smaller:c,smallerEq:f,larger:p}=n,m=qc({typed:e,bignumber:t,add:r,subtract:i,divide:a,multiply:o,partitionSelect:u,compare:s,isInteger:l,smaller:c,smallerEq:f,larger:p});return e("quantileSeq",{"Array | Matrix, number | BigNumber":m,"Array | Matrix, number | BigNumber, number":(d,v,y)=>m(d,v,h(y)),"Array | Matrix, number | BigNumber, boolean":m,"Array | Matrix, number | BigNumber, boolean, number":(d,v,y,_)=>m(d,v,y,h(_)),"Array | Matrix, Array | Matrix":m,"Array | Matrix, Array | Matrix, number":(d,v,y)=>m(d,v,h(y)),"Array | Matrix, Array | Matrix, boolean":m,"Array | Matrix, Array | Matrix, boolean, number":(d,v,y,_)=>m(d,v,y,h(_))});function h(d){return Wn([[],d])[1]}},{isTransformFunction:!0});var QR="cumsum",JK=["typed","add","unaryPlus"],IS=C(QR,JK,n=>{var{typed:e,add:t,unaryPlus:r}=n,i=Lc({typed:e,add:t,unaryPlus:r});return e(QR,{"...any":function(o){if(o.length===2&&Qr(o[0])){var u=o[1];yt(u)?o[1]=u-1:st(u)&&(o[1]=u.minus(1))}try{return i.apply(null,o)}catch(s){throw Cr(s)}}})},{isTransformFunction:!0});var KR="variance",XK=["typed","add","subtract","multiply","divide","apply","isNaN"],PS=C(KR,XK,n=>{var{typed:e,add:t,subtract:r,multiply:i,divide:a,apply:o,isNaN:u}=n,s=Uc({typed:e,add:t,subtract:r,multiply:i,divide:a,apply:o,isNaN:u});return e(KR,{"...any":function(c){c=Wn(c);try{return s.apply(null,c)}catch(f){throw Cr(f)}}})},{isTransformFunction:!0});var eL="print",QK=["typed","matrix","zeros","add"],BS=C(eL,QK,n=>{var{typed:e,matrix:t,zeros:r,add:i}=n,a=Fc({typed:e,matrix:t,zeros:r,add:i});return e(eL,{"string, Object | Array":function(s,l){return a(o(s),l)},"string, Object | Array, number | Object":function(s,l,c){return a(o(s),l,c)}});function o(u){return u.replace(Cm,s=>{var l=s.slice(1).split("."),c=l.map(function(f){return!isNaN(f)&&f.length>0?parseInt(f)-1:f});return"$"+c.join(".")})}},{isTransformFunction:!0});var KK="and",eee=["typed","matrix","zeros","add","equalScalar","not","concat"],OS=C(KK,eee,n=>{var{typed:e,matrix:t,equalScalar:r,zeros:i,not:a,concat:o}=n,u=Ic({typed:e,matrix:t,equalScalar:r,zeros:i,not:a,concat:o});function s(l,c,f){var p=l[0].compile().evaluate(f);if(!Qr(p)&&!u(p,!0))return!1;var m=l[1].compile().evaluate(f);return u(p,m)}return s.rawArgs=!0,s},{isTransformFunction:!0});var tee="or",ree=["typed","matrix","equalScalar","DenseMatrix","concat"],kS=C(tee,ree,n=>{var{typed:e,matrix:t,equalScalar:r,DenseMatrix:i,concat:a}=n,o=Sc({typed:e,matrix:t,equalScalar:r,DenseMatrix:i,concat:a});function u(s,l,c){var f=s[0].compile().evaluate(c);if(!Qr(f)&&o(f,!1))return!0;var p=s[1].compile().evaluate(c);return o(f,p)}return u.rawArgs=!0,u},{isTransformFunction:!0});var nee="bitAnd",iee=["typed","matrix","zeros","add","equalScalar","not","concat"],RS=C(nee,iee,n=>{var{typed:e,matrix:t,equalScalar:r,zeros:i,not:a,concat:o}=n,u=wc({typed:e,matrix:t,equalScalar:r,zeros:i,not:a,concat:o});function s(l,c,f){var p=l[0].compile().evaluate(f);if(!Qr(p)){if(isNaN(p))return NaN;if(p===0||p===!1)return 0}var m=l[1].compile().evaluate(f);return u(p,m)}return s.rawArgs=!0,s},{isTransformFunction:!0});var aee="bitOr",oee=["typed","matrix","equalScalar","DenseMatrix","concat"],LS=C(aee,oee,n=>{var{typed:e,matrix:t,equalScalar:r,DenseMatrix:i,concat:a}=n,o=_c({typed:e,matrix:t,equalScalar:r,DenseMatrix:i,concat:a});function u(s,l,c){var f=s[0].compile().evaluate(c);if(!Qr(f)){if(isNaN(f))return NaN;if(f===-1)return-1;if(f===!0)return 1}var p=s[1].compile().evaluate(c);return o(f,p)}return u.rawArgs=!0,u},{isTransformFunction:!0});var Je=ny({config:ke}),Tr=ay({}),VS=l_({BigNumber:Je,config:ke}),tL=n_({}),rL=L_({BigNumber:Je,config:ke}),ts=sy({}),US=v_({Complex:Tr}),nL=a_({BigNumber:Je,config:ke}),iL=p_({BigNumber:Je,config:ke}),aL=d_({BigNumber:Je,config:ke}),Gc=ly({}),oL=o_({BigNumber:Je,config:ke}),sL=i_({}),uL=c_({BigNumber:Je,config:ke}),lL=uy({}),qS=Jv({}),cL=h_({BigNumber:Je,config:ke}),fL=nS({BigNumber:Je,config:ke}),zS=u_({BigNumber:Je,config:ke}),pL=r_({}),mL=y_({}),Yt=cy({Matrix:Gc}),dL=Y_({BigNumber:Je,config:ke}),hL=f_({BigNumber:Je,config:ke}),ld=s_({BigNumber:Je,config:ke}),gL=t_({}),vL=g_({BigNumber:Je,config:ke}),ae=Zv({BigNumber:Je,Complex:Tr,DenseMatrix:Yt,Fraction:ts}),cd=I0({BigNumber:Je,config:ke,typed:ae}),yL=W_({BigNumber:Je,config:ke}),Yn=P0({typed:ae}),bL=Bx({Complex:Tr,config:ke,typed:ae}),xL=kx({BigNumber:Je,typed:ae}),wL=Lx({BigNumber:Je,Complex:Tr,config:ke,typed:ae}),hn=B0({typed:ae}),_L=lb({typed:ae}),SL=qx({BigNumber:Je,Complex:Tr,config:ke,typed:ae}),AL=$x({typed:ae}),$S=Hx({typed:ae}),EL=Wx({Complex:Tr,config:ke,typed:ae}),hi=S0({BigNumber:Je,typed:ae}),DL=sb({typed:ae}),ML=_0({typed:ae}),NL=fy({typed:ae}),Wc=xw({typed:ae}),Yc=A0({Complex:Tr,typed:ae}),rs=cb({typed:ae}),fd=Yx({typed:ae}),CL=Zx({BigNumber:Je,typed:ae}),TL=Xx({BigNumber:Je,typed:ae}),FL=V0({typed:ae}),Qt=y0({config:ke,typed:ae}),IL=Ub({typed:ae}),HS=U0({typed:ae}),PL=q0({Complex:Tr,typed:ae}),BL=yb({typed:ae}),OL=xb({typed:ae}),fl=Hb({typed:ae}),pd=wb({typed:ae}),kL=Yb({format:fl,typed:ae}),md=fb({typed:ae}),si=my({typed:ae}),go=f0({typed:ae}),ns=d0({typed:ae}),ta=h0({typed:ae}),RL=m_({BigNumber:Je,config:ke}),LL=Sw({Complex:Tr,typed:ae}),VL=j0({Complex:Tr,config:ke,typed:ae}),GS=Z0({Complex:Tr,config:ke,typed:ae}),is=Ab({typed:ae}),Kr=J0({typed:ae}),jc=mb({typed:ae}),Va=x0({typed:ae}),UL=Wb({format:fl,typed:ae}),qL=Ow({config:ke,typed:ae}),zL=Fc({typed:ae}),$L=kw({config:ke,typed:ae}),dd=pb({typed:ae}),HL=Kx({BigNumber:Je,typed:ae}),WS=K0({BigNumber:Je,Fraction:ts,complex:Yc,typed:ae}),Zc=t1({typed:ae}),Ua=b0({Matrix:Gc,equalScalar:Qt,typed:ae}),GL=T0({typed:ae}),WL=tb({typed:ae}),YL=w0({typed:ae}),Pi=O0({typed:ae}),jL=n1({typed:ae}),YS=v0({typed:ae}),ZL=Ox({Complex:Tr,config:ke,typed:ae}),JL=Vx({BigNumber:Je,typed:ae}),hd=Ws({isInteger:si,typed:ae}),XL=Ux({BigNumber:Je,Complex:Tr,config:ke,typed:ae}),QL=Gb({format:fl,typed:ae}),KL=ww({typed:ae}),e3=jx({typed:ae}),t3=Qx({BigNumber:Je,typed:ae}),pl=g0({typed:ae}),r3=Zb({typed:ae}),n3=Rw({config:ke,typed:ae}),i3=e1({BigNumber:Je,typed:ae}),a3=r1({typed:ae}),o3=Ix({SparseMatrix:Ua,typed:ae}),ra=eb({Complex:Tr,config:ke,typed:ae}),s3=i1({typed:ae}),Sa=F0({typed:ae}),u3=Rx({BigNumber:Je,Complex:Tr,config:ke,typed:ae}),l3=Jx({BigNumber:Je,typed:ae}),Js=E0({Fraction:ts,typed:ae}),as=p0({typed:ae}),We=D0({DenseMatrix:Yt,Matrix:Gc,SparseMatrix:Ua,typed:ae}),c3=M0({isZero:ta,matrix:We,typed:ae}),f3=zb({isNaN:pl,isNumeric:as,typed:ae}),na=Jb({bignumber:hi,fraction:Js,number:Va}),jS=$b({config:ke,multiplyScalar:Kr,numeric:na,typed:ae}),ZS=Db({isInteger:si,matrix:We,typed:ae}),An=Tb({matrix:We,config:ke,typed:ae}),p3=Fb({matrix:We,typed:ae}),ml=Ib({matrix:We,typed:ae}),JS=nb({BigNumber:Je,config:ke,matrix:We,typed:ae}),En=Bb({BigNumber:Je,config:ke,matrix:We,typed:ae}),m3=zx({Complex:Tr,config:ke,typed:ae}),XS=k0({BigNumber:Je,Complex:Tr,Fraction:ts,config:ke,isNegative:go,matrix:We,typed:ae,unaryMinus:Sa}),sr=Ac({isInteger:si,matrix:We,typed:ae}),d3=hb({prod:jS,size:An,typed:ae}),gd=Pb({conj:rs,transpose:ml,typed:ae}),QS=vb({DenseMatrix:Yt,SparseMatrix:Ua,matrix:We,typed:ae}),$r=Xb({numeric:na,typed:ae}),dl=ix({DenseMatrix:Yt,concat:sr,divideScalar:$r,equalScalar:Qt,matrix:We,typed:ae}),Bi=hx({DenseMatrix:Yt,concat:sr,equalScalar:Qt,matrix:We,typed:ae}),hl=bb({matrix:We,typed:ae}),h3=m0({isNumeric:as,typed:ae}),vo=_b({BigNumber:Je,DenseMatrix:Yt,SparseMatrix:Ua,config:ke,matrix:We,typed:ae}),g3=Sb({matrix:We,multiplyScalar:Kr,typed:ae}),Jc=xx({DenseMatrix:Yt,concat:sr,config:ke,matrix:We,typed:ae}),v3=lx({DenseMatrix:Yt,concat:sr,equalScalar:Qt,matrix:We,typed:ae,zeros:En}),KS=ax({DenseMatrix:Yt,divideScalar:$r,equalScalar:Qt,matrix:We,multiplyScalar:Kr,subtractScalar:Pi,typed:ae}),vd=C0({flatten:hl,matrix:We,size:An,typed:ae}),y3=Q0({BigNumber:Je,concat:sr,equalScalar:Qt,matrix:We,typed:ae}),b3=Eb({BigNumber:Je,config:ke,matrix:We,typed:ae}),yd=W1({addScalar:hn,complex:Yc,conj:rs,divideScalar:$r,equal:Bi,identity:vo,isZero:ta,matrix:We,multiplyScalar:Kr,sign:WS,sqrt:ra,subtractScalar:Pi,typed:ae,unaryMinus:Sa,zeros:En}),x3=Mb({config:ke,matrix:We}),w3=cx({DenseMatrix:Yt,concat:sr,equalScalar:Qt,matrix:We,typed:ae,zeros:En}),Xs=Kb({BigNumber:Je,DenseMatrix:Yt,config:ke,equalScalar:Qt,matrix:We,typed:ae,zeros:En}),jn=vx({DenseMatrix:Yt,concat:sr,config:ke,matrix:We,typed:ae}),en=rb({DenseMatrix:Yt,concat:sr,equalScalar:Qt,matrix:We,subtractScalar:Pi,typed:ae,unaryMinus:Sa}),_3=jb({concat:sr,matrix:We,typed:ae}),S3=_x({DenseMatrix:Yt,concat:sr,config:ke,equalScalar:Qt,matrix:We,typed:ae}),bd=ox({DenseMatrix:Yt,divideScalar:$r,equalScalar:Qt,matrix:We,multiplyScalar:Kr,subtractScalar:Pi,typed:ae}),A3=db({DenseMatrix:Yt,concat:sr,matrix:We,typed:ae}),rr=h1({DenseMatrix:Yt,SparseMatrix:Ua,addScalar:hn,concat:sr,equalScalar:Qt,matrix:We,typed:ae}),E3=Gx({BigNumber:Je,DenseMatrix:Yt,concat:sr,equalScalar:Qt,matrix:We,typed:ae}),D3=wc({concat:sr,equalScalar:Qt,matrix:We,typed:ae}),M3=_c({DenseMatrix:Yt,concat:sr,equalScalar:Qt,matrix:We,typed:ae}),N3=ub({DenseMatrix:Yt,concat:sr,matrix:We,typed:ae}),C3=Uw({addScalar:hn,combinations:Wc,divideScalar:$r,isInteger:si,isNegative:go,multiplyScalar:Kr,typed:ae}),os=px({BigNumber:Je,DenseMatrix:Yt,Fraction:ts,concat:sr,config:ke,equalScalar:Qt,matrix:We,typed:ae}),eA=dx({concat:sr,matrix:We,typed:ae}),T3=Lc({add:rr,typed:ae,unaryPlus:cd}),xd=wx({equal:Bi,typed:ae}),F3=Mc({matrix:We,number:Va,subtract:en,typed:ae}),I3=dw({abs:Yn,addScalar:hn,deepEqual:xd,divideScalar:$r,multiplyScalar:Kr,sqrt:ra,subtractScalar:Pi,typed:ae}),Xc=y1({addScalar:hn,conj:rs,multiplyScalar:Kr,size:An,typed:ae}),P3=gx({compareText:eA,isZero:ta,typed:ae}),tA=bc({DenseMatrix:Yt,config:ke,equalScalar:Qt,matrix:We,round:Xs,typed:ae,zeros:En}),B3=W0({BigNumber:Je,DenseMatrix:Yt,concat:sr,config:ke,equalScalar:Qt,matrix:We,round:Xs,typed:ae,zeros:En}),O3=g1({abs:Yn,addScalar:hn,divideScalar:$r,isPositive:ns,multiplyScalar:Kr,smaller:jn,sqrt:ra,typed:ae}),rA=Ex({DenseMatrix:Yt,smaller:jn}),Pn=Dx({ImmutableDenseMatrix:rA,getMatrixDataType:pd}),Zn=bx({DenseMatrix:Yt,concat:sr,config:ke,matrix:We,typed:ae}),wd=ex({Complex:Tr,config:ke,divideScalar:$r,typed:ae}),k3=sx({DenseMatrix:Yt,divideScalar:$r,equalScalar:Qt,matrix:We,multiplyScalar:Kr,subtractScalar:Pi,typed:ae}),R3=N0({flatten:hl,matrix:We,size:An,typed:ae}),L3=Bc({config:ke,numeric:na,smaller:jn,typed:ae}),nA=xc({DenseMatrix:Yt,concat:sr,config:ke,equalScalar:Qt,matrix:We,round:Xs,typed:ae,zeros:En}),gr=X0({addScalar:hn,dot:Xc,equalScalar:Qt,matrix:We,multiplyScalar:Kr,typed:ae}),V3=rx({Complex:Tr,config:ke,divideScalar:$r,typed:ae}),U3=Sc({DenseMatrix:Yt,concat:sr,equalScalar:Qt,matrix:We,typed:ae}),Qc=Sx({compare:os,isNaN:pl,isNumeric:as,typed:ae}),q3=fx({DenseMatrix:Yt,concat:sr,equalScalar:Qt,matrix:We,typed:ae,zeros:En}),iA=j1({SparseMatrix:Ua,abs:Yn,add:rr,divideScalar:$r,larger:Zn,largerEq:Jc,multiply:gr,subtract:en,transpose:ml,typed:ae}),gi=Tc({add:rr,matrix:We,typed:ae,zeros:En}),_d=Rc({add:rr,config:ke,numeric:na,typed:ae}),z3=b1({add:rr,matrix:We,typed:ae}),aA=ux({DenseMatrix:Yt,divideScalar:$r,equalScalar:Qt,matrix:We,multiplyScalar:Kr,subtractScalar:Pi,typed:ae}),$3=Qw({Complex:Tr,add:rr,multiply:gr,number:Va,typed:ae}),Sd=L0({DenseMatrix:Yt,config:ke,equalScalar:Qt,matrix:We,round:Xs,typed:ae,zeros:En}),Aa=mx({compare:os,typed:ae}),H3=qw({addScalar:hn,combinations:Wc,isInteger:si,isNegative:go,isPositive:ns,larger:Zn,typed:ae}),G3=gb({matrix:We,multiply:gr,subtract:en,typed:ae}),oA=iw({divideScalar:$r,isZero:ta,matrix:We,multiply:gr,subtractScalar:Pi,typed:ae,unaryMinus:Sa}),W3=ab({concat:sr,equalScalar:Qt,matrix:We,multiplyScalar:Kr,typed:ae}),sA=Mx({larger:Zn,smaller:jn}),uA=$0({Complex:Tr,DenseMatrix:Yt,ceil:Sd,equalScalar:Qt,floor:tA,matrix:We,typed:ae,zeros:En}),lA=x1({Index:Pn,typed:ae}),Y3=hw({abs:Yn,add:rr,addScalar:hn,config:ke,divideScalar:$r,equalScalar:Qt,flatten:hl,isNumeric:as,isZero:ta,matrix:We,multiply:gr,multiplyScalar:Kr,smaller:jn,subtract:en,typed:ae}),j3=ib({BigNumber:Je,add:rr,config:ke,equal:Bi,isInteger:si,mod:nA,smaller:jn,typed:ae,xgcd:JS}),Z3=Y0({concat:sr,equalScalar:Qt,matrix:We,typed:ae}),J3=tx({Complex:Tr,config:ke,divideScalar:$r,log:wd,typed:ae}),Ad=Pc({config:ke,larger:Zn,numeric:na,typed:ae}),X3=a1({DenseMatrix:Yt,Index:Pn,compareNatural:Aa,size:An,subset:gi,typed:ae}),Q3=s1({DenseMatrix:Yt,Index:Pn,compareNatural:Aa,size:An,subset:gi,typed:ae}),K3=l1({Index:Pn,compareNatural:Aa,size:An,subset:gi,typed:ae}),e4=f1({Index:Pn,compareNatural:Aa,size:An,subset:gi,typed:ae}),Qs=yx({DenseMatrix:Yt,concat:sr,config:ke,matrix:We,typed:ae}),t4=Ax({compare:os,compareNatural:Aa,matrix:We,typed:ae}),r4=Ic({concat:sr,equalScalar:Qt,matrix:We,not:jc,typed:ae,zeros:En}),Ks=Nc({bignumber:hi,matrix:We,add:rr,config:ke,isPositive:ns,larger:Zn,largerEq:Jc,smaller:jn,smallerEq:Qs,typed:ae}),n4=Cc({Index:Pn,matrix:We,range:Ks,typed:ae}),cA=o1({DenseMatrix:Yt,Index:Pn,compareNatural:Aa,size:An,subset:gi,typed:ae}),i4=c1({Index:Pn,compareNatural:Aa,size:An,subset:gi,typed:ae}),fA=m1({Index:Pn,concat:sr,setDifference:cA,size:An,subset:gi,typed:ae}),pA=Nx({FibonacciHeap:sA,addScalar:hn,equalScalar:Qt}),mA=Ec({Index:Pn,matrix:We,range:Ks,typed:ae}),ss=aw({abs:Yn,addScalar:hn,det:oA,divideScalar:$r,identity:vo,matrix:We,multiply:gr,typed:ae,unaryMinus:Sa}),dA=G1({DenseMatrix:Yt,Spa:pA,SparseMatrix:Ua,abs:Yn,addScalar:hn,divideScalar:$r,equalScalar:Qt,larger:Zn,matrix:We,multiplyScalar:Kr,subtractScalar:Pi,typed:ae,unaryMinus:Sa}),a4=ow({Complex:Tr,add:rr,ctranspose:gd,deepEqual:xd,divideScalar:$r,dot:Xc,dotDivide:dl,equal:Bi,inv:ss,matrix:We,multiply:gr,typed:ae}),Oi=Qb({Complex:Tr,config:ke,fraction:Js,identity:vo,inv:ss,matrix:We,multiply:gr,number:Va,typed:ae}),hA=u1({DenseMatrix:Yt,Index:Pn,compareNatural:Aa,size:An,subset:gi,typed:ae}),o4=d1({Index:Pn,concat:sr,setIntersect:hA,setSymDifference:fA,size:An,subset:gi,typed:ae}),s4=lw({abs:Yn,add:rr,identity:vo,inv:ss,map:is,max:Ad,multiply:gr,size:An,sqrt:ra,subtract:en,typed:ae}),It=Tx({BigNumber:Je,Complex:Tr,Fraction:ts,abs:Yn,addScalar:hn,config:ke,divideScalar:$r,equal:Bi,fix:uA,format:fl,isNumeric:as,multiplyScalar:Kr,number:Va,pow:Oi,round:Xs,subtractScalar:Pi}),u4=E_({BigNumber:Je,Unit:It,config:ke}),l4=oS({BigNumber:Je,Unit:It,config:ke}),c4=j_({BigNumber:Je,Unit:It,config:ke}),f4=N_({BigNumber:Je,Unit:It,config:ke}),p4=J_({BigNumber:Je,Unit:It,config:ke}),m4=C_({BigNumber:Je,Unit:It,config:ke}),d4=D_({BigNumber:Je,Unit:It,config:ke}),h4=q_({BigNumber:Je,Unit:It,config:ke}),g4=nx({DenseMatrix:Yt,concat:sr,equalScalar:Qt,matrix:We,pow:Oi,typed:ae}),v4=A_({BigNumber:Je,Unit:It,config:ke}),y4=M_({BigNumber:Je,Unit:It,config:ke}),b4=uw({abs:Yn,add:rr,identity:vo,inv:ss,multiply:gr,typed:ae}),x4=X_({BigNumber:Je,Unit:It,config:ke}),gA=Ob({addScalar:hn,ceil:Sd,conj:rs,divideScalar:$r,dotDivide:dl,exp:HS,i:US,log2:GS,matrix:We,multiplyScalar:Kr,pow:Oi,tau:zS,typed:ae}),Ed=_w({BigNumber:Je,Complex:Tr,config:ke,multiplyScalar:Kr,pow:Oi,typed:ae}),w4=x_({BigNumber:Je,Unit:It,config:ke}),_4=V_({BigNumber:Je,Unit:It,config:ke}),S4=kb({conj:rs,dotDivide:dl,fft:gA,typed:ae}),A4=P_({BigNumber:Je,Unit:It,config:ke}),E4=K_({BigNumber:Je,Unit:It,config:ke}),D4=S_({BigNumber:Je,Unit:It,config:ke}),M4=sS({BigNumber:Je,Unit:It,config:ke}),N4=tS({BigNumber:Je,Unit:It,config:ke}),C4=z_({BigNumber:Je,Unit:It,config:ke}),T4=I_({BigNumber:Je,Unit:It,config:ke}),F4=mS({BigNumber:Je,Unit:It,config:ke}),I4=cS({BigNumber:Je,Unit:It,config:ke}),P4=dS({BigNumber:Je,Unit:It,config:ke}),B4=U_({BigNumber:Je,Unit:It,config:ke}),O4=$_({BigNumber:Je,Unit:It,config:ke}),k4=__({BigNumber:Je,Unit:It,config:ke}),R4=H_({BigNumber:Je,Unit:It,config:ke}),L4=iS({BigNumber:Je,Unit:It,config:ke}),V4=b_({BigNumber:Je,Unit:It,config:ke}),U4=aS({BigNumber:Je,Unit:It,config:ke}),q4=G_({BigNumber:Je,Unit:It,config:ke}),z4=Z_({BigNumber:Je,Unit:It,config:ke}),$4=B_({BigNumber:Je,Unit:It,config:ke}),H4=Px({Unit:It,typed:ae}),xn=mw({divideScalar:$r,equalScalar:Qt,inv:ss,matrix:We,multiply:gr,typed:ae}),G4=k_({BigNumber:Je,Unit:It,config:ke}),gl=Aw({gamma:Ed,typed:ae}),W4=Q_({BigNumber:Je,Unit:It,config:ke}),Y4=lS({BigNumber:Je,Unit:It,config:ke}),j4=T_({BigNumber:Je,Unit:It,config:ke}),vA=J1({DenseMatrix:Yt,lsolve:KS,lup:dA,matrix:We,slu:iA,typed:ae,usolve:bd}),Z4=F_({BigNumber:Je,Unit:It,config:ke}),J4=uS({BigNumber:Je,Unit:It,config:ke}),X4=Dw({add:rr,divide:xn,factorial:gl,isInteger:si,isPositive:ns,multiply:gr,typed:ae}),Q4=Mw({factorial:gl,typed:ae}),K4=fS({BigNumber:Je,Unit:It,config:ke}),eV=X1({add:rr,cbrt:XS,divide:xn,equalScalar:Qt,im:md,isZero:ta,multiply:gr,re:dd,sqrt:ra,subtract:en,typeOf:YS,typed:ae,unaryMinus:Sa}),tV=p1({compareNatural:Aa,typed:ae}),rV=Vb({abs:Yn,add:rr,bignumber:hi,divide:xn,isNegative:go,isPositive:ns,larger:Zn,map:is,matrix:We,max:Ad,multiply:gr,smaller:jn,subtract:en,typed:ae,unaryMinus:Sa}),yA=Lw({bignumber:hi,addScalar:hn,combinations:Wc,divideScalar:$r,factorial:gl,isInteger:si,isNegative:go,larger:Zn,multiplyScalar:Kr,number:Va,pow:Oi,subtractScalar:Pi,typed:ae}),nV=Fx({Unit:It,typed:ae}),iV=Vw({addScalar:hn,isInteger:si,isNegative:go,stirlingS2:yA,typed:ae}),bA=sw({abs:Yn,add:rr,addScalar:hn,atan:$S,bignumber:hi,column:mA,complex:Yc,config:ke,cos:fd,diag:QS,divideScalar:$r,dot:Xc,equal:Bi,flatten:hl,im:md,inv:ss,larger:Zn,matrix:We,matrixFromColumns:vd,multiply:gr,multiplyScalar:Kr,number:Va,qr:yd,re:dd,reshape:ZS,sin:Zc,size:An,smaller:jn,sqrt:ra,subtract:en,typed:ae,usolve:bd,usolveAll:aA}),aV=R_({BigNumber:Je,Unit:It,config:ke}),oV=eS({BigNumber:Je,Unit:It,config:ke}),sV=Ew({divide:xn,dotDivide:dl,isNumeric:as,log:wd,map:is,matrix:We,multiply:gr,sum:_d,typed:ae}),xA=Vc({add:rr,divide:xn,typed:ae}),uV=rS({BigNumber:Je,Unit:It,config:ke}),lV=w_({BigNumber:Je,Unit:It,config:ke}),cV=qc({bignumber:hi,add:rr,compare:os,divide:xn,isInteger:si,larger:Zn,multiply:gr,partitionSelect:Qc,smaller:jn,smallerEq:Qs,subtract:en,typed:ae}),Dd=Uc({add:rr,apply:hd,divide:xn,isNaN:pl,multiply:gr,subtract:en,typed:ae}),fV=O_({BigNumber:Je,Unit:It,config:ke}),wA=gw({add:rr,compare:os,divide:xn,partitionSelect:Qc,typed:ae}),pV=bw({add:rr,divide:xn,matrix:We,mean:xA,multiply:gr,pow:Oi,sqrt:ra,subtract:en,sum:_d,typed:ae}),mV=Kw({Complex:Tr,add:rr,divide:xn,matrix:We,multiply:gr,typed:ae}),dV=vw({abs:Yn,map:is,median:wA,subtract:en,typed:ae}),hV=zc({map:is,sqrt:ra,typed:ae,variance:Dd}),gV=qb({BigNumber:Je,Complex:Tr,add:rr,config:ke,divide:xn,equal:Bi,factorial:gl,gamma:Ed,isNegative:go,multiply:gr,pi:ld,pow:Oi,sin:Zc,smallerEq:Qs,subtract:en,typed:ae}),Md=v1({abs:Yn,add:rr,conj:rs,ctranspose:gd,eigs:bA,equalScalar:Qt,larger:Zn,matrix:We,multiply:gr,pow:Oi,smaller:jn,sqrt:ra,typed:ae}),_A=Cb({BigNumber:Je,DenseMatrix:Yt,SparseMatrix:Ua,addScalar:hn,config:ke,cos:fd,matrix:We,multiplyScalar:Kr,norm:Md,sin:Zc,typed:ae,unaryMinus:Sa}),vV=pS({BigNumber:Je,Unit:It,config:ke}),SA=fw({identity:vo,matrix:We,multiply:gr,norm:Md,qr:yd,subtract:en,typed:ae}),yV=Nb({multiply:gr,rotationMatrix:_A,typed:ae}),AA=cw({abs:Yn,add:rr,concat:sr,identity:vo,index:lA,lusolve:vA,matrix:We,matrixFromColumns:vd,multiply:gr,range:Ks,schur:SA,subset:gi,subtract:en,transpose:ml,typed:ae}),bV=pw({matrix:We,multiply:gr,sylvester:AA,transpose:ml,typed:ae});var vl={},yl={},xV={},Jn=w1({mathWithTransform:yl}),bl=P1({Node:Jn}),yo=B1({Node:Jn}),eu=O1({Node:Jn}),wV=R1({Node:Jn}),xl=S1({Node:Jn}),_V=E1({Node:Jn,ResultSet:qS}),SV=D1({Node:Jn}),us=T1({Node:Jn}),AV=k1({Node:Jn}),see=e_({classes:xV}),EA=K1({math:vl,typed:ae}),EV=F1({Node:Jn,typed:ae}),uee=nw({Chain:EA,typed:ae}),wl=I1({Node:Jn,size:An}),_l=_1({Node:Jn,subset:gi}),DV=A1({matrix:We,Node:Jn,subset:gi}),ls=L1({Unit:It,Node:Jn,math:vl}),cs=V1({Node:Jn,SymbolNode:ls,math:vl}),qa=U1({AccessorNode:_l,ArrayNode:xl,AssignmentNode:DV,BlockNode:_V,ConditionalNode:SV,ConstantNode:us,FunctionAssignmentNode:EV,FunctionNode:cs,IndexNode:wl,ObjectNode:bl,OperatorNode:yo,ParenthesisNode:eu,RangeNode:AV,RelationalNode:wV,SymbolNode:ls,config:ke,numeric:na,typed:ae}),MV=jw({ConstantNode:us,FunctionNode:cs,OperatorNode:yo,ParenthesisNode:eu,parse:qa,typed:ae}),DA=Ww({bignumber:hi,fraction:Js,AccessorNode:_l,ArrayNode:xl,ConstantNode:us,FunctionNode:cs,IndexNode:wl,ObjectNode:bl,OperatorNode:yo,SymbolNode:ls,config:ke,mathWithTransform:yl,matrix:We,typed:ae}),MA=q1({parse:qa,typed:ae}),NA=Yw({AccessorNode:_l,ArrayNode:xl,ConstantNode:us,FunctionNode:cs,IndexNode:wl,ObjectNode:bl,OperatorNode:yo,ParenthesisNode:eu,SymbolNode:ls,add:rr,divide:xn,equal:Bi,isZero:ta,multiply:gr,parse:qa,pow:Oi,subtract:en,typed:ae}),CA=z1({parse:qa,typed:ae}),NV=Q1({evaluate:CA}),CV=$1({evaluate:CA}),Nd=Gw({bignumber:hi,fraction:Js,AccessorNode:_l,ArrayNode:xl,ConstantNode:us,FunctionNode:cs,IndexNode:wl,ObjectNode:bl,OperatorNode:yo,ParenthesisNode:eu,SymbolNode:ls,add:rr,config:ke,divide:xn,equal:Bi,isZero:ta,mathWithTransform:yl,matrix:We,multiply:gr,parse:qa,pow:Oi,resolve:MV,simplifyConstant:DA,simplifyCore:NA,subtract:en,typed:ae}),lee=Zw({OperatorNode:yo,parse:qa,simplify:Nd,typed:ae}),cee=zw({parse:qa,typed:ae}),fee=H1({Parser:CV,typed:ae}),pee=Xw({bignumber:hi,fraction:Js,AccessorNode:_l,ArrayNode:xl,ConstantNode:us,FunctionNode:cs,IndexNode:wl,ObjectNode:bl,OperatorNode:yo,ParenthesisNode:eu,SymbolNode:ls,add:rr,config:ke,divide:xn,equal:Bi,isZero:ta,mathWithTransform:yl,matrix:We,multiply:gr,parse:qa,pow:Oi,simplify:Nd,simplifyConstant:DA,simplifyCore:NA,subtract:en,typed:ae}),mee=Jw({ConstantNode:us,FunctionNode:cs,OperatorNode:yo,ParenthesisNode:eu,SymbolNode:ls,config:ke,equal:Bi,isZero:ta,numeric:na,parse:qa,simplify:Nd,typed:ae}),dee=rw({Help:NV,mathWithTransform:yl,typed:ae});kr(vl,{e:VS,false:tL,fineStructure:rL,i:US,Infinity:nL,LN10:iL,LOG10E:aL,NaN:oL,null:sL,phi:uL,SQRT1_2:cL,sackurTetrode:fL,tau:zS,true:pL,E:VS,version:mL,efimovFactor:dL,LN2:hL,pi:ld,replacer:gL,reviver:see,SQRT2:vL,typed:ae,unaryPlus:cd,PI:ld,weakMixingAngle:yL,abs:Yn,acos:bL,acot:xL,acsc:wL,addScalar:hn,arg:_L,asech:SL,asinh:AL,atan:$S,atanh:EL,bignumber:hi,bitNot:DL,boolean:ML,clone:NL,combinations:Wc,complex:Yc,conj:rs,cos:fd,cot:CL,csc:TL,cube:FL,equalScalar:Qt,erf:IL,exp:HS,expm1:PL,filter:BL,forEach:OL,format:fl,getMatrixDataType:pd,hex:kL,im:md,isInteger:si,isNegative:go,isPositive:ns,isZero:ta,LOG2E:RL,lgamma:LL,log10:VL,log2:GS,map:is,multiplyScalar:Kr,not:jc,number:Va,oct:UL,pickRandom:qL,print:zL,random:$L,re:dd,sec:HL,sign:WS,sin:Zc,splitUnit:GL,square:WL,string:YL,subtractScalar:Pi,tan:jL,typeOf:YS,acosh:ZL,acsch:JL,apply:hd,asec:XL,bin:QL,chain:uee,combinationsWithRep:KL,cosh:e3,csch:t3,isNaN:pl,isPrime:r3,randomInt:n3,sech:i3,sinh:a3,sparse:o3,sqrt:ra,tanh:s3,unaryMinus:Sa,acoth:u3,coth:l3,fraction:Js,isNumeric:as,matrix:We,matrixFromFunction:c3,mode:f3,numeric:na,prod:jS,reshape:ZS,size:An,squeeze:p3,transpose:ml,xgcd:JS,zeros:En,asin:m3,cbrt:XS,concat:sr,count:d3,ctranspose:gd,diag:QS,divideScalar:$r,dotDivide:dl,equal:Bi,flatten:hl,hasNumericValue:h3,identity:vo,kron:g3,largerEq:Jc,leftShift:v3,lsolve:KS,matrixFromColumns:vd,nthRoot:y3,ones:b3,qr:yd,resize:x3,rightArithShift:w3,round:Xs,smaller:jn,subtract:en,to:_3,unequal:S3,usolve:bd,xor:A3,add:rr,atan2:E3,bitAnd:D3,bitOr:M3,bitXor:N3,catalan:C3,compare:os,compareText:eA,cumsum:T3,deepEqual:xd,diff:F3,distance:I3,dot:Xc,equalText:P3,floor:tA,gcd:B3,hypot:O3,larger:Zn,log:wd,lsolveAll:k3,matrixFromRows:R3,min:L3,mod:nA,multiply:gr,nthRoots:V3,or:U3,partitionSelect:Qc,rightLogShift:q3,slu:iA,subset:gi,sum:_d,trace:z3,usolveAll:aA,zpk2tf:$3,ceil:Sd,compareNatural:Aa,composition:H3,cross:G3,det:oA,dotMultiply:W3,fix:uA,index:lA,intersect:Y3,invmod:j3,lcm:Z3,log1p:J3,max:Ad,setCartesian:X3,setDistinct:Q3,setIsSubset:K3,setPowerset:e4,smallerEq:Qs,sort:t4,and:r4,range:Ks,row:n4,setDifference:cA,setMultiplicity:i4,setSymDifference:fA,column:mA,inv:ss,lup:dA,pinv:a4,pow:Oi,setIntersect:hA,setUnion:o4,sqrtm:s4,vacuumImpedance:u4,wienDisplacement:l4,atomicMass:c4,bohrMagneton:f4,boltzmann:p4,conductanceQuantum:m4,coulomb:d4,deuteronMass:h4,dotPow:g4,electricConstant:v4,elementaryCharge:y4,expm:b4,faraday:x4,fft:gA,gamma:Ed,gravitationConstant:w4,hartreeEnergy:_4,ifft:S4,klitzing:A4,loschmidt:E4,magneticConstant:D4,molarMass:M4,molarPlanckConstant:N4,neutronMass:C4,nuclearMagneton:T4,planckCharge:F4,planckLength:I4,planckTemperature:P4,protonMass:B4,quantumOfCirculation:O4,reducedPlanckConstant:k4,rydberg:R4,secondRadiation:L4,speedOfLight:V4,stefanBoltzmann:U4,thomsonCrossSection:q4,avogadro:z4,bohrRadius:$4,createUnit:H4,divide:xn,electronMass:G4,factorial:gl,firstRadiation:W4,gravity:Y4,inverseConductanceQuantum:j4,lusolve:vA,magneticFluxQuantum:Z4,molarMassC12:J4,multinomial:X4,parse:qa,permutations:Q4,planckMass:K4,polynomialRoot:eV,resolve:MV,setSize:tV,simplifyConstant:DA,solveODE:rV,stirlingS2:yA,unit:nV,bellNumbers:iV,compile:MA,eigs:bA,fermiCoupling:aV,gasConstant:oV,kldivergence:sV,mean:xA,molarVolume:uV,planckConstant:lV,quantileSeq:cV,simplifyCore:NA,variance:Dd,classicalElectronRadius:fV,evaluate:CA,median:wA,simplify:Nd,symbolicEqual:lee,corr:pV,freqz:mV,leafCount:cee,mad:dV,parser:fee,rationalize:pee,std:hV,zeta:gV,derivative:mee,norm:Md,rotationMatrix:_A,help:dee,planckTime:vV,schur:SA,rotate:yV,sylvester:AA,lyap:bV,config:ke});kr(yl,vl,{filter:vS({typed:ae}),forEach:yS({typed:ae}),map:xS({typed:ae}),apply:hS({isInteger:si,typed:ae}),or:kS({DenseMatrix:Yt,concat:sr,equalScalar:Qt,matrix:We,typed:ae}),and:OS({add:rr,concat:sr,equalScalar:Qt,matrix:We,not:jc,typed:ae,zeros:En}),concat:MS({isInteger:si,matrix:We,typed:ae}),max:wS({config:ke,larger:Zn,numeric:na,typed:ae}),print:BS({add:rr,matrix:We,typed:ae,zeros:En}),bitAnd:RS({add:rr,concat:sr,equalScalar:Qt,matrix:We,not:jc,typed:ae,zeros:En}),diff:NS({bignumber:hi,matrix:We,number:Va,subtract:en,typed:ae}),min:SS({config:ke,numeric:na,smaller:jn,typed:ae}),subset:DS({add:rr,matrix:We,typed:ae,zeros:En}),bitOr:LS({DenseMatrix:Yt,concat:sr,equalScalar:Qt,matrix:We,typed:ae}),cumsum:IS({add:rr,typed:ae,unaryPlus:cd}),index:bS({Index:Pn,getMatrixDataType:pd}),sum:TS({add:rr,config:ke,numeric:na,typed:ae}),range:AS({bignumber:hi,matrix:We,add:rr,config:ke,isPositive:ns,larger:Zn,largerEq:Jc,smaller:jn,smallerEq:Qs,typed:ae}),row:ES({Index:Pn,matrix:We,range:Ks,typed:ae}),column:gS({Index:Pn,matrix:We,range:Ks,typed:ae}),mean:_S({add:rr,divide:xn,typed:ae}),quantileSeq:FS({add:rr,bignumber:hi,compare:os,divide:xn,isInteger:si,larger:Zn,multiply:gr,partitionSelect:Qc,smaller:jn,smallerEq:Qs,subtract:en,typed:ae}),variance:PS({add:rr,apply:hd,divide:xn,isNaN:pl,multiply:gr,subtract:en,typed:ae}),std:CS({map:is,sqrt:ra,typed:ae,variance:Dd})});kr(xV,{BigNumber:Je,Complex:Tr,Fraction:ts,Matrix:Gc,Node:Jn,ObjectNode:bl,OperatorNode:yo,ParenthesisNode:eu,Range:lL,RelationalNode:wV,ResultSet:qS,ArrayNode:xl,BlockNode:_V,ConditionalNode:SV,ConstantNode:us,DenseMatrix:Yt,RangeNode:AV,Chain:EA,FunctionAssignmentNode:EV,SparseMatrix:Ua,IndexNode:wl,ImmutableDenseMatrix:rA,Index:Pn,AccessorNode:_l,AssignmentNode:DV,FibonacciHeap:sA,Spa:pA,Unit:It,SymbolNode:ls,FunctionNode:cs,Help:NV,Parser:CV});EA.createProxy(vl);var Cd=class extends Pa{constructor(e){super(e),this.hidden=!1,this.hasError=!1}buildVariables(){var t;let e=0;this.expressionStr="",this.variables=[];for(let r of(t=this.mountable.getDeclaration().templateDeclaration)!=null?t:[])if(typeof r!="string"){let i={bindTargetDeclaration:r,inputSignal:new Ir(void 0),uuid:Dr(),contextName:`MB_VAR_${e}`};this.variables.push(i),this.expressionStr+=i.contextName,e+=1}else this.expressionStr+=r;this.expression=MA(this.expressionStr)}buildMathJSContext(){var t,r;let e={};for(let i of(t=this.variables)!=null?t:[])!i.contextName||!i.inputSignal||(e[i.contextName]=(r=i.inputSignal.get())!=null?r:"");return e}computeValue(){var t;if(this.hasError=!1,!this.expression)return this.handleComputeError(new ca({errorLevel:"ERROR",effect:"failed to evaluate expression",cause:"expression is undefined"}));let e=this.buildMathJSContext();try{return Mi((t=this.expression.evaluate(e))==null?void 0:t.toString())}catch(r){return r instanceof Error?this.handleComputeError(new ca({errorLevel:"ERROR",effect:"failed to evaluate expression",cause:r,context:{expression:this.expressionStr,context:e}})):this.handleComputeError(new Error("failed to evaluate js expression because of: unexpected thrown value"))}}onInitialRender(e){}onRerender(e,t){this.hasError?lt.addClass(e,"mb-error"):lt.removeClass(e,"mb-error"),e.innerText=t}handleComputeError(e){return this.hasError=!0,console.warn(e),e.message}};var Td=class extends Pa{constructor(e){super(e),this.renderMarkdown=!1}buildVariables(){var t;this.textParts=[];let e=0;this.variables=[];for(let r of(t=this.mountable.getDeclaration().templateDeclaration)!=null?t:[])if(typeof r!="string"){let i={bindTargetDeclaration:r,inputSignal:new Ir(void 0),uuid:Dr(),contextName:`MB_VAR_${e}`};this.variables.push(i),this.textParts.push(e),e+=1}else this.textParts.push(r)}computeValue(){if(!this.textParts)throw new ca({errorLevel:"CRITICAL",effect:"failed to evaluate text view field",cause:"content parts is undefined"});return this.textParts.map(e=>typeof e=="number"?lp(this.variables[e].inputSignal.get(),this.mountable.plugin.settings.viewFieldDisplayNullAsEmpty):e).join("")}onInitialRender(e){var t,r;this.renderMarkdown=(r=(t=this.mountable.getArgument("renderMarkdown"))==null?void 0:t.value)!=null?r:!1,this.renderMarkdown&&lt.addClass(e,"mb-view-markdown")}async onRerender(e,t){var r;this.renderMarkdown?((r=this.markdownUnloadCallback)==null||r.call(this),this.markdownUnloadCallback=await this.mountable.plugin.internal.renderMarkdown(t,e,this.mountable.getFilePath())):e.innerText=t}onUnmount(){var e;super.onUnmount(),(e=this.markdownUnloadCallback)==null||e.call(this)}};function hee(n){let e,t,r;return{c(){e=K("div"),t=K("img"),q(t,"class","mb-image-card-image"),Gi(t.src,r=n[0].internal.imagePathToUri(n[1]))||q(t,"src",r),q(t,"alt",n[1]),q(e,"class","mb-image-card")},m(i,a){Z(i,e,a),Q(e,t)},p(i,[a]){a&3&&!Gi(t.src,r=i[0].internal.imagePathToUri(i[1]))&&q(t,"src",r),a&2&&q(t,"alt",i[1])},i:je,o:je,d(i){i&&j(e)}}}function gee(n,e,t){let{plugin:r}=e,{image:i}=e;return n.$$set=a=>{"plugin"in a&&t(0,r=a.plugin),"image"in a&&t(1,i=a.image)},[r,i]}var TA=class extends Te{constructor(e){super(),Be(this,e,gee,hee,Pe,{plugin:0,image:1})}},TV=TA;function FV(n,e,t){let r=n.slice();return r[2]=e[t],r}function IV(n){let e,t;return e=new TV({props:{plugin:n[1],image:n[2]}}),{c(){ge(e.$$.fragment)},m(r,i){de(e,r,i),t=!0},p(r,i){let a={};i&2&&(a.plugin=r[1]),i&1&&(a.image=r[2]),e.$set(a)},i(r){t||(Y(e.$$.fragment,r),t=!0)},o(r){te(e.$$.fragment,r),t=!1},d(r){he(e,r)}}}function vee(n){let e,t,r=ot(n[0]),i=[];for(let o=0;o<r.length;o+=1)i[o]=IV(FV(n,r,o));let a=o=>te(i[o],1,1,()=>{i[o]=null});return{c(){e=K("div");for(let o=0;o<i.length;o+=1)i[o].c();q(e,"class","mb-image-card-grid")},m(o,u){Z(o,e,u);for(let s=0;s<i.length;s+=1)i[s]&&i[s].m(e,null);t=!0},p(o,[u]){if(u&3){r=ot(o[0]);let s;for(s=0;s<r.length;s+=1){let l=FV(o,r,s);i[s]?(i[s].p(l,u),Y(i[s],1)):(i[s]=IV(l),i[s].c(),Y(i[s],1),i[s].m(e,null))}for(dt(),s=r.length;s<i.length;s+=1)a(s);ht()}},i(o){if(!t){for(let u=0;u<r.length;u+=1)Y(i[u]);t=!0}},o(o){i=i.filter(Boolean);for(let u=0;u<i.length;u+=1)te(i[u]);t=!1},d(o){o&&j(e),Gt(i,o)}}}function yee(n,e,t){let{images:r=[]}=e,{plugin:i}=e;return n.$$set=a=>{"images"in a&&t(0,r=a.images),"plugin"in a&&t(1,i=a.plugin)},[r,i]}var FA=class extends Te{constructor(e){super(),Be(this,e,yee,vee,Pe,{images:0,plugin:1})}},IA=FA;var Fd=class extends Pa{constructor(e){super(e)}buildVariables(){let e=this.mountable.getDeclaration().templateDeclaration.filter(r=>typeof r=="string"?r:!0);if(e.length!==1)throw new Po({errorLevel:"ERROR",effect:"can not create view field",cause:"image view filed only supports exactly a single bind target and not text content"});let t=e[0];if(typeof t=="string")throw new Po({errorLevel:"ERROR",effect:"can not create view field",cause:"image view filed only supports exactly a single bind target and not text content"});t.listenToChildren=!0,this.variables=[{bindTargetDeclaration:t,inputSignal:new Ir(void 0),uuid:Dr(),contextName:"MB_VAR_0"}]}computeValue(){if(this.variables.length!==1)throw new ca({errorLevel:"CRITICAL",effect:"failed to evaluate image view field",cause:"there should be exactly one variable"});let t=this.variables[0].inputSignal.get();return typeof t=="string"?sn.convertToLinkString(t):Array.isArray(t)?t.filter(i=>typeof i=="string").map(i=>sn.convertToLinkString(i)).filter(i=>i!=="").join(", "):""}onInitialRender(e){this.component=new IA({target:e,props:{images:[],plugin:this.mountable.plugin}})}async onRerender(e,t){var i;let r=sn.parseLinkList(t);(i=this.component)==null||i.$destroy(),this.component=new IA({target:e,props:{images:r.map(a=>a.target),plugin:this.mountable.plugin}})}onUnmount(){var e;super.onUnmount(),(e=this.component)==null||e.$destroy()}};var Id=class{constructor(e){this.plugin=e}createViewField(e){let t=e.declaration.viewFieldType;if(t==="math")return new Cd(e);if(t==="text")return new Td(e);if(t==="link")return new Kp(e);if(t==="image")return new Fd(e);}};var fs=class n{constructor(e){this.path=e}get(e){if(this.path.length===0)throw new Error("can not use empty path to access object");let t=this.path[0].get(e);for(let r of this.path.slice(1))t=r.get(t.child);return t}tryGet(e){try{return this.get(e)}catch(t){return}}set(e,t){if(this.path.length===0)throw new Error("can not use empty path to access object");let r=this.path[0].get(e);for(let i of this.path.slice(1))r=i.get(r.child);r.access.set(r.parent,t)}setAndCreate(e,t){if(this.path.length===0)throw new Error("can not use empty path to access object");let r=this.path[0].get(e);r.child===void 0&&(r.access.set(r.parent,this.getNextPathElementValue(0,t)),r=r.access.get(r.parent));for(let i=1;i<this.path.length;i++)r=this.path[i].get(r.child),r.child===void 0&&(r.access.set(r.parent,this.getNextPathElementValue(i,t)),r=r.access.get(r.parent));r.access.set(r.parent,t)}getNextPathElement(e){return this.path[e+1]}getNextPathElementValue(e,t){let r=this.getNextPathElement(e);return r===void 0?t:r.type==="object"?{}:[]}toStringArray(){return this.path.map(e=>e.prop)}toString(){return this.toStringArray().join(".")}concat(e){return new n(this.path.concat(e.path))}compareDiffArray(e){let t=Math.min(this.path.length,e.length);for(let r=0;r<t;r++){let i=this.path[r],a=e[r];if(i.prop!==a.toString())return!1}return!0}};var Pd=class{constructor(e){this.plugin=e}fromString(e){return gn(Ca,e)}fromStringAndValidate(e,t,r){return this.validate(e,this.fromString(e),t,r)}fromExistingDeclaration(e){if(e!==void 0)return{storageType:Ei(e.storageType),storagePath:Ei(e.storagePath),storageProp:e.storageProp.path.map(t=>({type:t.type,prop:Ei(t.prop)})),listenToChildren:e.listenToChildren}}validate(e,t,r,i){var l;let a={};a.listenToChildren=t.listenToChildren,a.storageProp=new fs(t.storageProp.map(c=>new Is(c.type,c.prop.value))),t.storageType===void 0?a.storageType=this.plugin.metadataManager.defaultSource:a.storageType=this.validateStorageType(t.storageType,e);let o=t.storagePath!==void 0,u=(l=t.storagePath)!=null?l:{value:r},s=this.plugin.metadataManager.getSource(a.storageType);if(s===void 0)throw new Bt({errorLevel:"CRITICAL",effect:"can not validate bind target",cause:`Source '${a.storageType}' not found. But validation was successful. This should not happen.`,context:{fullDeclaration:e,sources:[...this.plugin.metadataManager.sources.keys()]}});return a.storagePath=s.validateStoragePath(u,o,e,this),s.resolveBindTargetScope(a,i,this)}resolveScope(e,t){if(t===void 0)throw new pn("ERROR","Bind Target Scope Validator","Failed to resolve bind target scope, no scope provided");return e.storageType=t.scope.storageType,e.storagePath=t.scope.storagePath,e.storageProp=t.scope.storageProp.concat(e.storageProp),e}validateStorageType(e,t){for(let r of this.plugin.metadataManager.iterateSources())if(r===e.value)return r;throw new pn("ERROR","Bind Target Validator",`Encountered invalid identifier. Expected token to be a storage type but received '${e==null?void 0:e.value}'.`,t,e==null?void 0:e.position)}validateStoragePathAsFilePath(e,t){let r=e==null?void 0:e.value;if(r===void 0)throw new pn("ERROR","Bind Target Validator","Failed to parse bind target. Bind target storage path is undefined.",t,e==null?void 0:e.position);let i=this.plugin.internal.getFilePathByName(r);if(i===void 0)throw new pn("ERROR","Bind Target Validator",`Failed to parse bind target. Bind target file path '${r}' not found.`,t,e==null?void 0:e.position);return i}};var Sl=class{constructor(){this.arguments=[]}add(e){this.arguments.push(e)}validate(){let e={};for(let t of Object.values(qr))e[t]=0;for(let t of this.arguments){let r=t.getConfig();if(e[r.type]+=1,e[r.type]>1&&!r.allowMultiple)throw new Sr({errorLevel:"ERROR",effect:"failed to validate argument container",cause:`argument '${r.type}' does not allow duplicates`,docs:[Ot.linkToSearch(r.type)]})}}mergeByOverride(e){for(let t of e.arguments){let r=t.getConfig();r.allowMultiple||(this.arguments=this.arguments.filter(i=>i.getConfig().type!==r.type)),this.arguments.push(t)}return this.validate(),this}mergeByThrow(e){for(let t of e.arguments){let r=t.getConfig();if(!r.allowMultiple&&this.arguments.filter(i=>i.getConfig().type===r.type).length>0)throw new Sr({errorLevel:"ERROR",effect:"failed to merge argument container",cause:"can not merge FieldArgumentContainers, since arguments overlap"});this.arguments.push(t)}return this.validate(),this}getAll(e){return this.arguments.filter(t=>t.getConfig().type===e)}get(e){return this.getAll(e).at(0)}};var Bd=class extends Sl{getAll(e){return super.getAll(e)}get(e){return this.getAll(e).at(0)}};var Al=class{parseValue(e){this.validateValues(e,this.getConfig().values),this._parseValue(e)}validateValues(e,t){if(t.find(r=>r.length===e.length)===void 0)throw new Sr({errorLevel:"WARNING",effect:`Failed to parse argument value for argument '${this.getConfig().type}'.`,cause:`Expected argument values to follow the form ${t.map(r=>r.length===0?"none":r.map(i=>`'${i.name}'`).join(", ")).join(" or ")}. Received arguments of length ${e.length}.`,docs:[Ot.linkToSearch(this.getConfig().type)]})}isAllowed(e){return this.getConfig().allowedFieldTypes.length===0?!0:this.getConfig().allowedFieldTypes.includes(e)}getAllowedFieldsAsString(){return this.getConfig().allowedFieldTypes.length===0?"all":this.getConfig().allowedFieldTypes.join(", ")}};var ur=class extends Al{};var Od=class extends ur{constructor(){super(...arguments);this.value=!0}_parseValue(t){var r;this.value=t[0]===void 0||((r=t[0])==null?void 0:r.value.toLowerCase())==="true"}getConfig(){return pr.addLabels}};var kd=class extends ur{constructor(){super(...arguments);this.value=[]}_parseValue(t){this.value=t[0].value.split(" ")}getConfig(){return pr.class}};var Rd=class extends ur{constructor(){super(...arguments);this.value=""}_parseValue(t){this.value=Mi(t[0].value)}getConfig(){return pr.defaultValue}};var Ld=class extends ur{constructor(){super(...arguments);this.value=void 0}_parseValue(t){if(this.value=Number.parseInt(t[0].value),Number.isNaN(this.value))throw new Sr({errorLevel:"WARNING",effect:"failed to set value for input field argument",cause:"value of argument 'limit' must be of type number",docs:[Ot.linkToInputFieldArgument(this.getConfig().type)]});if(this.value<=0)throw new Sr({errorLevel:"WARNING",effect:"failed to set value for input field argument",cause:"value of argument 'limit' must be a positive number",docs:[Ot.linkToInputFieldArgument(this.getConfig().type)]})}getConfig(){return pr.limit}};var Vd=class extends ur{constructor(){super(...arguments);this.value=100}_parseValue(t){if(this.value=Number.parseFloat(t[0].value),Number.isNaN(this.value))throw new Sr({errorLevel:"WARNING",effect:"failed to set value for input field argument",cause:"value of argument 'maxValue' must be of type number",docs:[Ot.linkToInputFieldArgument(this.getConfig().type)]})}getConfig(){return pr.maxValue}};var Ud=class extends ur{constructor(){super(...arguments);this.value=0}_parseValue(t){if(this.value=Number.parseFloat(t[0].value),Number.isNaN(this.value))throw new Sr({errorLevel:"WARNING",effect:"failed to set value for input field argument",cause:"value of argument 'minValue' must be of type number",docs:[Ot.linkToInputFieldArgument(this.getConfig().type)]})}getConfig(){return pr.minValue}};var qd=class extends ur{constructor(){super(...arguments);this.value=!1}_parseValue(t){this.value=Mi(t[0].value)}getConfig(){return pr.offValue}};var zd=class extends ur{constructor(){super(...arguments);this.value=!0}_parseValue(t){this.value=Mi(t[0].value)}getConfig(){return pr.onValue}};var $d=class extends ur{constructor(){super(...arguments);this.value="";this.name=""}_parseValue(t){t.length===1?(this.value=Mi(t[0].value),this.name=t[0].value):t.length===2&&(this.value=Mi(t[0].value),this.name=t[1].value)}getConfig(){return pr.option}};var Hd=class extends ur{constructor(){super(...arguments);this.value=""}_parseValue(t){this.value=t[0].value}getConfig(){return pr.optionQuery}};var Gd=class extends ur{constructor(){super(...arguments);this.value=""}_parseValue(t){this.value=t[0].value}getConfig(){return pr.placeholder}};var Wd=class extends ur{constructor(){super(...arguments);this.value=!0}_parseValue(t){var r;this.value=t[0]===void 0||((r=t[0])==null?void 0:r.value.toLowerCase())==="true"}getConfig(){return pr.showcase}};var Yd=class extends ur{constructor(){super(...arguments);this.value=0}_parseValue(t){if(this.value=Number.parseFloat(t[0].value),Number.isNaN(this.value))throw new Sr({errorLevel:"WARNING",effect:"failed to set value for input field argument",cause:"value of argument 'stepSize' must be of type number",docs:[Ot.linkToInputFieldArgument(this.getConfig().type)]});if(this.value<=0)throw new Sr({errorLevel:"WARNING",effect:"failed to set value for input field argument",cause:"value of argument 'stepSize' must be a positive number",docs:[Ot.linkToInputFieldArgument(this.getConfig().type)]})}getConfig(){return pr.stepSize}};var jd=class extends ur{constructor(){super(...arguments);this.value=""}_parseValue(t){this.value=t[0].value}getConfig(){return pr.title}};function PV(n,e,t){return t==="true"?`[[${n}|${e}]]`:t==="partial"?`[[${e}]]`:`${e}`}var Zd=class extends ur{constructor(){super(...arguments);this.value="true"}_parseValue(t){var i;let r=(i=t[0])==null?void 0:i.value.toLowerCase();if(r===void 0){this.value="true";return}if(r==="true"||r==="partial"||r==="false"){this.value=r;return}throw new Sr({errorLevel:"WARNING",effect:"failed to set value for input field argument",cause:`value of argument 'useLinks' must be one of ${xD(["true","partial","false"],a=>`'${a}'`,", ","or")}`,docs:[Ot.linkToInputFieldArgument(this.getConfig().type)]})}getConfig(){return pr.useLinks}};var Jd=class extends ur{constructor(){super(...arguments);this.value=!0}_parseValue(t){var r;this.value=t[0]===void 0||((r=t[0])==null?void 0:r.value.toLowerCase())==="true"}getConfig(){return pr.multiLine}};var Xd=class extends ur{constructor(){super(...arguments);this.value=!0}_parseValue(t){var r;this.value=t[0]===void 0||((r=t[0])==null?void 0:r.value.toLowerCase())==="true"}getConfig(){return pr.allowOther}};var BV={class:kd,addLabels:Od,minValue:Ud,maxValue:Vd,stepSize:Yd,option:$d,title:jd,optionQuery:Hd,showcase:Wd,offValue:qd,onValue:zd,defaultValue:Rd,placeholder:Gd,useLinks:Zd,limit:Ld,allowOther:Xd,multiLine:Jd},Qd=class{static createInputFieldArgument(e){if(e in BV){let t=BV[e];if(t)return new t}throw new to({errorLevel:"WARNING",effect:"can not crate input field argument",cause:`unknown argument '${e}'`})}};var Kd=class{constructor(e,t,r){this.plugin=e,this.unvalidatedDeclaration=t,this.filePath=r,this.errorCollection=new Lt("input field declaration")}validate(e){let t=this.validateInputFieldType(),r=this.validateBindTarget(e),i=this.validateArguments(t),a={declarationString:this.unvalidatedDeclaration.declarationString,inputFieldType:t,bindTarget:r,argumentContainer:i,errorCollection:this.errorCollection.merge(this.unvalidatedDeclaration.errorCollection)};return this.checkForDeprecation(a),a}validateInputFieldType(){let e=this.unvalidatedDeclaration.inputFieldType;for(let t of Object.entries(Io))if(t[1]===(e==null?void 0:e.value))return t[1];return this.errorCollection.add(new pn("ERROR","Declaration Validator",`Encountered invalid identifier. Expected token to be an input field type but received '${e==null?void 0:e.value}'.`,this.unvalidatedDeclaration.declarationString,e==null?void 0:e.position)),"invalid"}checkForDeprecation(e){}validateBindTarget(e){if(this.unvalidatedDeclaration.bindTarget!==void 0)try{return this.plugin.api.bindTargetParser.validate(this.unvalidatedDeclaration.declarationString,this.unvalidatedDeclaration.bindTarget,this.filePath,e)}catch(t){this.errorCollection.add(t)}}validateArguments(e){let t=new Bd;for(let r of this.unvalidatedDeclaration.arguments){let i=this.validateArgumentType(r.name);if(i==="invalid")continue;let a=Qd.createInputFieldArgument(i);if(!a.isAllowed(e)){this.errorCollection.add(new pn("WARNING","Declaration Validator",`Failed to parse input field arguments. Argument "${r.name.value}" is only applicable to "${a.getAllowedFieldsAsString()}" input fields.`,this.unvalidatedDeclaration.declarationString,r.name.position));continue}try{a.parseValue(r.value)}catch(o){this.errorCollection.add(o);continue}t.add(a)}try{t.validate()}catch(r){this.errorCollection.add(r)}return t}validateArgumentType(e){for(let t of Object.entries(qr))if(t[1]===e.value)return t[1];return this.errorCollection.add(new pn("WARNING","Declaration Validator",`Encountered invalid identifier. Expected identifier to be an input field argument type but received '${e.value}'.`,this.unvalidatedDeclaration.declarationString,e.position)),"invalid"}};var Xn=hr(Si()),Vr=hr(ci());var xee=Vr.P.sequenceMap((n,e,t)=>{let r=t===void 0?void 0:t[1];return{inputFieldType:n,arguments:e,bindTarget:r}},Ln.node(ri).trim(Xn.P_UTILS.optionalWhitespace()).describe("input field type"),nc.trim(Xn.P_UTILS.optionalWhitespace()).wrap(Vr.P.string("(").describe('arguments paren "("'),Vr.P.string(")").describe('arguments paren ")"')).trim(Xn.P_UTILS.optionalWhitespace()).optional([]),Vr.P.sequence(Vr.P.string(":").trim(Xn.P_UTILS.optionalWhitespace()).describe('bind target separator ":"'),Ca).trim(Xn.P_UTILS.optionalWhitespace()).optional()),OV=Vr.P.sequenceMap((n,e,t)=>{let r=t===void 0?void 0:t[1];return{inputFieldType:n,arguments:e,bindTarget:r}},Ln.node(ri).trim(Xn.P_UTILS.optionalWhitespace()).optional().describe("input field type"),nc.trim(Xn.P_UTILS.optionalWhitespace()).wrap(Vr.P.string("(").describe('arguments paren "("'),Vr.P.string(")").describe('arguments paren ")"')).trim(Xn.P_UTILS.optionalWhitespace()).optional([]),Vr.P.sequence(Vr.P.string(":").trim(Xn.P_UTILS.optionalWhitespace()).describe('bind target separator ":"'),Ca).trim(Xn.P_UTILS.optionalWhitespace()).optional()),kV=Vr.P.or(Vr.P.sequenceMap((n,e,t)=>(t.templateName=e,t),Vr.P.string("INPUT"),Vr.P.sequenceMap((n,e,t)=>e,Vr.P.string("["),kD.node(ri).trim(Xn.P_UTILS.optionalWhitespace()).describe("template name"),Vr.P.string("]").skip(Xn.P_UTILS.optionalWhitespace())),OV.wrap(Vr.P.string("["),Vr.P.string("]")),Xn.P_UTILS.eof()),Vr.P.sequenceMap((n,e)=>e,Vr.P.string("INPUT"),xee.wrap(Vr.P.string("["),Vr.P.string("]")),Xn.P_UTILS.eof())),RV=Vr.P.sequenceMap((n,e)=>e,Vr.P.string("INPUT"),OV.wrap(Vr.P.string("["),Vr.P.string("]")),Xn.P_UTILS.eof());var eh=class{constructor(e){this.plugin=e,this.templates=[]}fromString(e){let t=new Lt("InputField");try{let r=gn(kV,e),i=this.partialToFullDeclaration(r,e,t);return i=this.applyTemplate(i),i}catch(r){t.add(r)}return{declarationString:e,inputFieldType:{value:"invalid"},bindTarget:void 0,arguments:[],errorCollection:t}}fromStringAndValidate(e,t,r){return this.validate(this.fromString(e),t,r)}fromSimpleDeclaration(e){var r;let t=new Lt("InputField");return{declarationString:void 0,inputFieldType:Ei(e.inputFieldType),bindTarget:this.plugin.api.bindTargetParser.fromExistingDeclaration(e.bindTarget),arguments:((r=e.arguments)!=null?r:[]).map(i=>({name:Ei(i.name),value:i.value.map(a=>Ei(a))})),errorCollection:t}}fromSimpleDeclarationAndValidate(e,t,r){return this.validate(this.fromSimpleDeclaration(e),t,r)}partialToFullDeclaration(e,t,r){return{...structuredClone(e),declarationString:t,errorCollection:r}}validate(e,t,r){return new Kd(this.plugin,e,t).validate(r)}merge(e,t){var i,a,o;let r;return e.bindTarget===void 0?r=t.bindTarget:(r=e.bindTarget,((i=t.bindTarget)==null?void 0:i.storagePath)!==void 0&&(r.storagePath=t.bindTarget.storagePath),((a=t.bindTarget)==null?void 0:a.storageProp)!==void 0&&(r.storageProp=t.bindTarget.storageProp)),{declarationString:t.declarationString,inputFieldType:(o=t.inputFieldType)!=null?o:e.inputFieldType,bindTarget:r,arguments:t.arguments.concat(e.arguments).reduce((u,s)=>(u.find(l=>l.name===s.name)===void 0&&u.push(s),u),[]),errorCollection:new Lt("input field declaration").merge(e.errorCollection).merge(t.errorCollection)}}parseTemplateString(e){let t=new Lt("InputFieldParser");try{let r=gn(RV,e);return this.partialToFullDeclaration(r,e,t)}catch(r){t.add(r)}return{declarationString:e,inputFieldType:{value:"invalid"},bindTarget:void 0,arguments:[],errorCollection:t}}parseTemplates(e){this.templates=[];let t=new Lt("input field template parser");for(let r of e){let i=this.parseTemplateString(r.declaration);t.merge(i.errorCollection);let a={name:r.name,template:i};this.templates.push(Mg(a))}return t}getTemplate(e){var t;return(t=this.templates.find(r=>r.name===e))==null?void 0:t.template}applyTemplate(e){if(e.templateName===void 0)return e;let t=this.getTemplate(e.templateName.value);return t===void 0?(e.errorCollection.add(new pn("WARNING","Input Field Parser",`Invalid template name. Could not find template with name '${e.templateName.value}'`,e.declarationString,e.templateName.position,["https://mprojectscode.github.io/obsidian-meta-bind-plugin-docs/guides/templates/"])),e):this.merge(t,e)}};var th=class extends Sl{getAll(e){return super.getAll(e)}get(e){return this.getAll(e).at(0)}};var ps=class extends Al{};var rh=class extends ps{constructor(){super(...arguments);this.value=!0}_parseValue(t){var r;this.value=t[0]===void 0||((r=t[0])==null?void 0:r.value.toLowerCase())==="true"}getConfig(){return Eu.hidden}};var nh=class extends ps{constructor(){super(...arguments);this.value=!0}_parseValue(t){var r;this.value=t[0]===void 0||((r=t[0])==null?void 0:r.value.toLowerCase())==="true"}getConfig(){return Eu.renderMarkdown}};var ih=class extends ps{constructor(){super(...arguments);this.value=[]}_parseValue(t){this.value=t[0].value.split(" ")}getConfig(){return Eu.class}};var LV={renderMarkdown:nh,hidden:rh,class:ih},ah=class{static createViewFieldArgument(e){if(e in LV){let t=LV[e];if(t)return new t}throw new to({errorLevel:"WARNING",effect:"can not crate view field argument",cause:`unknown argument '${e}'`})}};var oh=class{constructor(e,t,r){this.unvalidatedDeclaration=e,this.plugin=r,this.filePath=t,this.errorCollection=new Lt("view field declaration")}validate(e){let t=this.validateInputFieldType(),r=this.validateBindTarget(e),i=this.validateArguments(t),a=this.validateTemplateDeclaration(e),o={declarationString:this.unvalidatedDeclaration.declarationString,viewFieldType:t,writeToBindTarget:r,argumentContainer:i,templateDeclaration:a,errorCollection:this.errorCollection.merge(this.unvalidatedDeclaration.errorCollection)};return this.checkForDeprecation(o),o}validateInputFieldType(){let e=this.unvalidatedDeclaration.viewFieldType;if(e===void 0)return"math";for(let t of Object.entries(Jl))if(t[1]===(e==null?void 0:e.value))return t[1];return this.errorCollection.add(new pn("ERROR","Declaration Validator",`Encountered invalid identifier. Expected token to be a view field type but received '${e.value}'.`,this.unvalidatedDeclaration.declarationString,e.position)),"invalid"}checkForDeprecation(e){}validateBindTarget(e){if(this.unvalidatedDeclaration.writeToBindTarget!==void 0)return this.plugin.api.bindTargetParser.validate(this.unvalidatedDeclaration.declarationString,this.unvalidatedDeclaration.writeToBindTarget,this.filePath,e)}validateArguments(e){let t=new th;for(let r of this.unvalidatedDeclaration.arguments){let i=this.validateArgumentType(r.name);if(i==="invalid")continue;let a=ah.createViewFieldArgument(i);if(!a.isAllowed(e)){this.errorCollection.add(new pn("WARNING","Declaration Validator",`Failed to parse view field arguments. Argument "${r.name.value}" is only applicable to "${a.getAllowedFieldsAsString()}" view fields.`,this.unvalidatedDeclaration.declarationString,r.name.position));continue}try{a.parseValue(r.value)}catch(o){this.errorCollection.add(o);continue}t.add(a)}try{t.validate()}catch(r){this.errorCollection.add(r)}return t}validateArgumentType(e){for(let t of Object.entries(Cs))if(t[1]===e.value)return t[1];return this.errorCollection.add(new pn("WARNING","Declaration Validator",`Encountered invalid identifier. Expected identifier to be a view field argument type but received '${e.value}'.`,this.unvalidatedDeclaration.declarationString,e.position)),"invalid"}validateTemplateDeclaration(e){var t,r;try{return(r=(t=this.unvalidatedDeclaration.templateDeclaration)==null?void 0:t.map(i=>typeof i=="string"?i:this.plugin.api.bindTargetParser.validate(this.unvalidatedDeclaration.declarationString,i,this.filePath,e)))!=null?r:[]}catch(i){return this.errorCollection.add(i),[]}}};var sh=class{constructor(e){this.plugin=e}fromString(e){let t=new Lt("ViewFieldDeclaration");try{let r=gn(zD,e);return this.partialToFullDeclaration(r,e,t)}catch(r){t.add(r)}return{declarationString:e,errorCollection:t,viewFieldType:{value:"invalid"},writeToBindTarget:void 0,arguments:[],templateDeclaration:[]}}fromStringAndValidate(e,t,r){return this.validate(this.fromString(e),t,r)}fromSimpleDeclaration(e){var r,i;let t=new Lt("ViewFieldDeclaration");return{declarationString:void 0,templateDeclaration:((r=e.templateDeclaration)!=null?r:[]).map(a=>typeof a=="string"?a:this.plugin.api.bindTargetParser.fromExistingDeclaration(a)),viewFieldType:Ei(e.viewFieldType),arguments:((i=e.arguments)!=null?i:[]).map(a=>({name:Ei(a.name),value:a.value.map(o=>Ei(o))})),writeToBindTarget:this.plugin.api.bindTargetParser.fromExistingDeclaration(e.writeToBindTarget),errorCollection:t}}fromSimpleDeclarationAndValidate(e,t,r){return this.validate(this.fromSimpleDeclaration(e),t,r)}partialToFullDeclaration(e,t,r){return{...structuredClone(e),declarationString:t,errorCollection:r}}validate(e,t,r){return new oh(e,t,this.plugin).validate(r)}};var uh=class extends mn{constructor(e,t,r,i,a){super(e,t,r),this.depth=i,this.content=a}async parseContent(){let e=this.content.split(`
`).map(a=>a.trim()).filter(a=>a.length>0);if(e.length===0)return"";if(e.length>1)throw new Ts({errorLevel:"ERROR",effect:"can not create embed",cause:"embed may only contain one link"});let t=e[0],r=sn.parseLink(t);if(!r.internal)throw new Ts({errorLevel:"ERROR",effect:"can not create embed",cause:"embed link is not an internal link"});let i=this.plugin.internal.getFilePathByName(r.target,this.getFilePath());if(i===void 0)throw new Ts({errorLevel:"ERROR",effect:"can not create embed",cause:"link target not found"});return await this.plugin.internal.readFilePath(i)}checkMaxDepth(){if(this.depth>If)throw new Ts({errorLevel:"ERROR",effect:"can not create embed",cause:"embed depth exceeds maximum"})}async renderContent(e){try{this.checkMaxDepth();let r=(await this.parseContent()).replace(/(```+|~~~+)meta-bind-embed.*/g,`$1meta-bind-embed-internal-${this.depth+1}`);this.markdownUnloadCallback=await this.plugin.internal.renderMarkdown(r,e,this.getFilePath())}catch(t){let r=new Lt("Embed");r.add(t),this.plugin.internal.createErrorIndicator(e,{errorCollection:r})}}onMount(e){console.debug("meta-bind | EmbedMountable >> mount",this.content),super.onMount(e),this.renderContent(e)}onUnmount(e){var t;console.debug("meta-bind | EmbedMountable >> unmount",this.content),super.onUnmount(e),(t=this.markdownUnloadCallback)==null||t.call(this),kn(e,"Embed")}};var lh=class extends mn{constructor(e,t,r){super(e,t,r)}onMount(e){console.debug("meta-bind | ExcludedMountable >> mount"),super.onMount(e),lt.empty(e),lt.createElement(e,"span",{text:"[META_BIND] This folder has been excluded in the settings",class:"mb-error"})}onUnmount(e){console.debug("meta-bind | ExcludedMountable >> unmount"),super.onUnmount(e),lt.empty(e),kn(e,"Excluded")}};var e5=hr(Si()),nf=hr(ci());var br;(function(n){n.assertEqual=i=>i;function e(i){}n.assertIs=e;function t(i){throw new Error}n.assertNever=t,n.arrayToEnum=i=>{let a={};for(let o of i)a[o]=o;return a},n.getValidEnumValues=i=>{let a=n.objectKeys(i).filter(u=>typeof i[i[u]]!="number"),o={};for(let u of a)o[u]=i[u];return n.objectValues(o)},n.objectValues=i=>n.objectKeys(i).map(function(a){return i[a]}),n.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{let a=[];for(let o in i)Object.prototype.hasOwnProperty.call(i,o)&&a.push(o);return a},n.find=(i,a)=>{for(let o of i)if(a(o))return o},n.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,a=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(a)}n.joinValues=r,n.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(br||(br={}));var BA;(function(n){n.mergeShapes=(e,t)=>({...e,...t})})(BA||(BA={}));var ct=br.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ms=n=>{switch(typeof n){case"undefined":return ct.undefined;case"string":return ct.string;case"number":return isNaN(n)?ct.nan:ct.number;case"boolean":return ct.boolean;case"function":return ct.function;case"bigint":return ct.bigint;case"symbol":return ct.symbol;case"object":return Array.isArray(n)?ct.array:n===null?ct.null:n.then&&typeof n.then=="function"&&n.catch&&typeof n.catch=="function"?ct.promise:typeof Map!="undefined"&&n instanceof Map?ct.map:typeof Set!="undefined"&&n instanceof Set?ct.set:typeof Date!="undefined"&&n instanceof Date?ct.date:ct.object;default:return ct.unknown}},tt=br.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),wee=n=>JSON.stringify(n,null,2).replace(/"([^"]+)":/g,"$1:"),ki=class extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};let t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){let t=e||function(a){return a.message},r={_errors:[]},i=a=>{for(let o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(t(o));else{let u=r,s=0;for(;s<o.path.length;){let l=o.path[s];s===o.path.length-1?(u[l]=u[l]||{_errors:[]},u[l]._errors.push(t(o))):u[l]=u[l]||{_errors:[]},u=u[l],s++}}};return i(this),r}toString(){return this.message}get message(){return JSON.stringify(this.issues,br.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){let t={},r=[];for(let i of this.issues)i.path.length>0?(t[i.path[0]]=t[i.path[0]]||[],t[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}};ki.create=n=>new ki(n);var Kc=(n,e)=>{let t;switch(n.code){case tt.invalid_type:n.received===ct.undefined?t="Required":t=`Expected ${n.expected}, received ${n.received}`;break;case tt.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(n.expected,br.jsonStringifyReplacer)}`;break;case tt.unrecognized_keys:t=`Unrecognized key(s) in object: ${br.joinValues(n.keys,", ")}`;break;case tt.invalid_union:t="Invalid input";break;case tt.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${br.joinValues(n.options)}`;break;case tt.invalid_enum_value:t=`Invalid enum value. Expected ${br.joinValues(n.options)}, received '${n.received}'`;break;case tt.invalid_arguments:t="Invalid function arguments";break;case tt.invalid_return_type:t="Invalid function return type";break;case tt.invalid_date:t="Invalid date";break;case tt.invalid_string:typeof n.validation=="object"?"includes"in n.validation?(t=`Invalid input: must include "${n.validation.includes}"`,typeof n.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${n.validation.position}`)):"startsWith"in n.validation?t=`Invalid input: must start with "${n.validation.startsWith}"`:"endsWith"in n.validation?t=`Invalid input: must end with "${n.validation.endsWith}"`:br.assertNever(n.validation):n.validation!=="regex"?t=`Invalid ${n.validation}`:t="Invalid";break;case tt.too_small:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at least":"more than"} ${n.minimum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at least":"over"} ${n.minimum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(n.minimum))}`:t="Invalid input";break;case tt.too_big:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at most":"less than"} ${n.maximum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at most":"under"} ${n.maximum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="bigint"?t=`BigInt must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly":n.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(n.maximum))}`:t="Invalid input";break;case tt.custom:t="Invalid input";break;case tt.invalid_intersection_types:t="Intersection results could not be merged";break;case tt.not_multiple_of:t=`Number must be a multiple of ${n.multipleOf}`;break;case tt.not_finite:t="Number must be finite";break;default:t=e.defaultError,br.assertNever(n)}return{message:t}},qV=Kc;function _ee(n){qV=n}function fh(){return qV}var ph=n=>{let{data:e,path:t,errorMaps:r,issueData:i}=n,a=[...t,...i.path||[]],o={...i,path:a},u="",s=r.filter(l=>!!l).slice().reverse();for(let l of s)u=l(o,{data:e,defaultError:u}).message;return{...i,path:a,message:i.message||u}},See=[];function gt(n,e){let t=ph({issueData:e,data:n.data,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,fh(),Kc].filter(r=>!!r)});n.common.issues.push(t)}var Qn=class n{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){let r=[];for(let i of t){if(i.status==="aborted")return Jt;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){let r=[];for(let i of t)r.push({key:await i.key,value:await i.value});return n.mergeObjectSync(e,r)}static mergeObjectSync(e,t){let r={};for(let i of t){let{key:a,value:o}=i;if(a.status==="aborted"||o.status==="aborted")return Jt;a.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof o.value!="undefined"||i.alwaysSet)&&(r[a.value]=o.value)}return{status:e.value,value:r}}},Jt=Object.freeze({status:"aborted"}),zV=n=>({status:"dirty",value:n}),ui=n=>({status:"valid",value:n}),OA=n=>n.status==="aborted",kA=n=>n.status==="dirty",ef=n=>n.status==="valid",mh=n=>typeof Promise!="undefined"&&n instanceof Promise,Nt;(function(n){n.errToObj=e=>typeof e=="string"?{message:e}:e||{},n.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Nt||(Nt={}));var ia=class{constructor(e,t,r,i){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},VV=(n,e)=>{if(ef(e))return{success:!0,data:e.value};if(!n.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new ki(n.common.issues);return this._error=t,this._error}}};function Kt(n){if(!n)return{};let{errorMap:e,invalid_type_error:t,required_error:r,description:i}=n;if(e&&(t||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,u)=>o.code!=="invalid_type"?{message:u.defaultError}:typeof u.data=="undefined"?{message:r!=null?r:u.defaultError}:{message:t!=null?t:u.defaultError},description:i}}var er=class{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return ms(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:ms(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Qn,ctx:{common:e.parent.common,data:e.data,parsedType:ms(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(mh(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){let t=this._parse(e);return Promise.resolve(t)}parse(e,t){let r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){var r;let i={common:{issues:[],async:(r=t==null?void 0:t.async)!==null&&r!==void 0?r:!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ms(e)},a=this._parseSync({data:e,path:i.path,parent:i});return VV(i,a)}async parseAsync(e,t){let r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){let r={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ms(e)},i=this._parse({data:e,path:r.path,parent:r}),a=await(mh(i)?i:Promise.resolve(i));return VV(r,a)}refine(e,t){let r=i=>typeof t=="string"||typeof t=="undefined"?{message:t}:typeof t=="function"?t(i):t;return this._refinement((i,a)=>{let o=e(i),u=()=>a.addIssue({code:tt.custom,...r(i)});return typeof Promise!="undefined"&&o instanceof Promise?o.then(s=>s?!0:(u(),!1)):o?!0:(u(),!1)})}refinement(e,t){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof t=="function"?t(r,i):t),!1))}_refinement(e){return new Ri({schema:this,typeName:Rt.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Ea.create(this,this._def)}nullable(){return wo.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return xo.create(this,this._def)}promise(){return gs.create(this,this._def)}or(e){return su.create([this,e],this._def)}and(e){return uu.create(this,e,this._def)}transform(e){return new Ri({...Kt(this._def),schema:this,typeName:Rt.ZodEffects,effect:{type:"transform",transform:e}})}default(e){let t=typeof e=="function"?e:()=>e;return new mu({...Kt(this._def),innerType:this,defaultValue:t,typeName:Rt.ZodDefault})}brand(){return new vh({typeName:Rt.ZodBranded,type:this,...Kt(this._def)})}catch(e){let t=typeof e=="function"?e:()=>e;return new Tl({...Kt(this._def),innerType:this,catchValue:t,typeName:Rt.ZodCatch})}describe(e){let t=this.constructor;return new t({...this._def,description:e})}pipe(e){return tf.create(this,e)}readonly(){return Il.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},Aee=/^c[^\s-]{8,}$/i,Eee=/^[a-z][a-z0-9]*$/,Dee=/^[0-9A-HJKMNP-TV-Z]{26}$/,Mee=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Nee=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Cee="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",PA,Tee=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,Fee=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Iee=n=>n.precision?n.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${n.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${n.precision}}Z$`):n.precision===0?n.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):n.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function Pee(n,e){return!!((e==="v4"||!e)&&Tee.test(n)||(e==="v6"||!e)&&Fee.test(n))}var ds=class n extends er{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ct.string){let a=this._getOrReturnCtx(e);return gt(a,{code:tt.invalid_type,expected:ct.string,received:a.parsedType}),Jt}let r=new Qn,i;for(let a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(i=this._getOrReturnCtx(e,i),gt(i,{code:tt.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="max")e.data.length>a.value&&(i=this._getOrReturnCtx(e,i),gt(i,{code:tt.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="length"){let o=e.data.length>a.value,u=e.data.length<a.value;(o||u)&&(i=this._getOrReturnCtx(e,i),o?gt(i,{code:tt.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):u&&gt(i,{code:tt.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),r.dirty())}else if(a.kind==="email")Nee.test(e.data)||(i=this._getOrReturnCtx(e,i),gt(i,{validation:"email",code:tt.invalid_string,message:a.message}),r.dirty());else if(a.kind==="emoji")PA||(PA=new RegExp(Cee,"u")),PA.test(e.data)||(i=this._getOrReturnCtx(e,i),gt(i,{validation:"emoji",code:tt.invalid_string,message:a.message}),r.dirty());else if(a.kind==="uuid")Mee.test(e.data)||(i=this._getOrReturnCtx(e,i),gt(i,{validation:"uuid",code:tt.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid")Aee.test(e.data)||(i=this._getOrReturnCtx(e,i),gt(i,{validation:"cuid",code:tt.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid2")Eee.test(e.data)||(i=this._getOrReturnCtx(e,i),gt(i,{validation:"cuid2",code:tt.invalid_string,message:a.message}),r.dirty());else if(a.kind==="ulid")Dee.test(e.data)||(i=this._getOrReturnCtx(e,i),gt(i,{validation:"ulid",code:tt.invalid_string,message:a.message}),r.dirty());else if(a.kind==="url")try{new URL(e.data)}catch(o){i=this._getOrReturnCtx(e,i),gt(i,{validation:"url",code:tt.invalid_string,message:a.message}),r.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),gt(i,{validation:"regex",code:tt.invalid_string,message:a.message}),r.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(e,i),gt(i,{code:tt.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),r.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(i=this._getOrReturnCtx(e,i),gt(i,{code:tt.invalid_string,validation:{startsWith:a.value},message:a.message}),r.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(i=this._getOrReturnCtx(e,i),gt(i,{code:tt.invalid_string,validation:{endsWith:a.value},message:a.message}),r.dirty()):a.kind==="datetime"?Iee(a).test(e.data)||(i=this._getOrReturnCtx(e,i),gt(i,{code:tt.invalid_string,validation:"datetime",message:a.message}),r.dirty()):a.kind==="ip"?Pee(e.data,a.version)||(i=this._getOrReturnCtx(e,i),gt(i,{validation:"ip",code:tt.invalid_string,message:a.message}),r.dirty()):br.assertNever(a);return{status:r.value,value:e.data}}_regex(e,t,r){return this.refinement(i=>e.test(i),{validation:t,code:tt.invalid_string,...Nt.errToObj(r)})}_addCheck(e){return new n({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Nt.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Nt.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Nt.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Nt.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Nt.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Nt.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Nt.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Nt.errToObj(e)})}datetime(e){var t;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)=="undefined"?null:e==null?void 0:e.precision,offset:(t=e==null?void 0:e.offset)!==null&&t!==void 0?t:!1,...Nt.errToObj(e==null?void 0:e.message)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...Nt.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t==null?void 0:t.position,...Nt.errToObj(t==null?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...Nt.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...Nt.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...Nt.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...Nt.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...Nt.errToObj(t)})}nonempty(e){return this.min(1,Nt.errToObj(e))}trim(){return new n({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new n({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new n({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}};ds.create=n=>{var e;return new ds({checks:[],typeName:Rt.ZodString,coerce:(e=n==null?void 0:n.coerce)!==null&&e!==void 0?e:!1,...Kt(n)})};function Bee(n,e){let t=(n.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=t>r?t:r,a=parseInt(n.toFixed(i).replace(".","")),o=parseInt(e.toFixed(i).replace(".",""));return a%o/Math.pow(10,i)}var tu=class n extends er{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ct.number){let a=this._getOrReturnCtx(e);return gt(a,{code:tt.invalid_type,expected:ct.number,received:a.parsedType}),Jt}let r,i=new Qn;for(let a of this._def.checks)a.kind==="int"?br.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),gt(r,{code:tt.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),gt(r,{code:tt.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),gt(r,{code:tt.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?Bee(e.data,a.value)!==0&&(r=this._getOrReturnCtx(e,r),gt(r,{code:tt.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),gt(r,{code:tt.not_finite,message:a.message}),i.dirty()):br.assertNever(a);return{status:i.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,Nt.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Nt.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Nt.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Nt.toString(t))}setLimit(e,t,r,i){return new n({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:Nt.toString(i)}]})}_addCheck(e){return new n({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Nt.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Nt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Nt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Nt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Nt.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Nt.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:Nt.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Nt.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Nt.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&br.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(t===null||r.value>t)&&(t=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(t)&&Number.isFinite(e)}};tu.create=n=>new tu({checks:[],typeName:Rt.ZodNumber,coerce:(n==null?void 0:n.coerce)||!1,...Kt(n)});var ru=class n extends er{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==ct.bigint){let a=this._getOrReturnCtx(e);return gt(a,{code:tt.invalid_type,expected:ct.bigint,received:a.parsedType}),Jt}let r,i=new Qn;for(let a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),gt(r,{code:tt.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),gt(r,{code:tt.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),gt(r,{code:tt.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):br.assertNever(a);return{status:i.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,Nt.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Nt.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Nt.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Nt.toString(t))}setLimit(e,t,r,i){return new n({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:Nt.toString(i)}]})}_addCheck(e){return new n({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Nt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Nt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Nt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Nt.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Nt.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}};ru.create=n=>{var e;return new ru({checks:[],typeName:Rt.ZodBigInt,coerce:(e=n==null?void 0:n.coerce)!==null&&e!==void 0?e:!1,...Kt(n)})};var nu=class extends er{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ct.boolean){let r=this._getOrReturnCtx(e);return gt(r,{code:tt.invalid_type,expected:ct.boolean,received:r.parsedType}),Jt}return ui(e.data)}};nu.create=n=>new nu({typeName:Rt.ZodBoolean,coerce:(n==null?void 0:n.coerce)||!1,...Kt(n)});var iu=class n extends er{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ct.date){let a=this._getOrReturnCtx(e);return gt(a,{code:tt.invalid_type,expected:ct.date,received:a.parsedType}),Jt}if(isNaN(e.data.getTime())){let a=this._getOrReturnCtx(e);return gt(a,{code:tt.invalid_date}),Jt}let r=new Qn,i;for(let a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(i=this._getOrReturnCtx(e,i),gt(i,{code:tt.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),r.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(i=this._getOrReturnCtx(e,i),gt(i,{code:tt.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),r.dirty()):br.assertNever(a);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new n({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:Nt.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:Nt.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}};iu.create=n=>new iu({checks:[],coerce:(n==null?void 0:n.coerce)||!1,typeName:Rt.ZodDate,...Kt(n)});var Dl=class extends er{_parse(e){if(this._getType(e)!==ct.symbol){let r=this._getOrReturnCtx(e);return gt(r,{code:tt.invalid_type,expected:ct.symbol,received:r.parsedType}),Jt}return ui(e.data)}};Dl.create=n=>new Dl({typeName:Rt.ZodSymbol,...Kt(n)});var au=class extends er{_parse(e){if(this._getType(e)!==ct.undefined){let r=this._getOrReturnCtx(e);return gt(r,{code:tt.invalid_type,expected:ct.undefined,received:r.parsedType}),Jt}return ui(e.data)}};au.create=n=>new au({typeName:Rt.ZodUndefined,...Kt(n)});var ou=class extends er{_parse(e){if(this._getType(e)!==ct.null){let r=this._getOrReturnCtx(e);return gt(r,{code:tt.invalid_type,expected:ct.null,received:r.parsedType}),Jt}return ui(e.data)}};ou.create=n=>new ou({typeName:Rt.ZodNull,...Kt(n)});var hs=class extends er{constructor(){super(...arguments),this._any=!0}_parse(e){return ui(e.data)}};hs.create=n=>new hs({typeName:Rt.ZodAny,...Kt(n)});var bo=class extends er{constructor(){super(...arguments),this._unknown=!0}_parse(e){return ui(e.data)}};bo.create=n=>new bo({typeName:Rt.ZodUnknown,...Kt(n)});var Da=class extends er{_parse(e){let t=this._getOrReturnCtx(e);return gt(t,{code:tt.invalid_type,expected:ct.never,received:t.parsedType}),Jt}};Da.create=n=>new Da({typeName:Rt.ZodNever,...Kt(n)});var Ml=class extends er{_parse(e){if(this._getType(e)!==ct.undefined){let r=this._getOrReturnCtx(e);return gt(r,{code:tt.invalid_type,expected:ct.void,received:r.parsedType}),Jt}return ui(e.data)}};Ml.create=n=>new Ml({typeName:Rt.ZodVoid,...Kt(n)});var xo=class n extends er{_parse(e){let{ctx:t,status:r}=this._processInputParams(e),i=this._def;if(t.parsedType!==ct.array)return gt(t,{code:tt.invalid_type,expected:ct.array,received:t.parsedType}),Jt;if(i.exactLength!==null){let o=t.data.length>i.exactLength.value,u=t.data.length<i.exactLength.value;(o||u)&&(gt(t,{code:o?tt.too_big:tt.too_small,minimum:u?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&t.data.length<i.minLength.value&&(gt(t,{code:tt.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&t.data.length>i.maxLength.value&&(gt(t,{code:tt.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((o,u)=>i.type._parseAsync(new ia(t,o,t.path,u)))).then(o=>Qn.mergeArray(r,o));let a=[...t.data].map((o,u)=>i.type._parseSync(new ia(t,o,t.path,u)));return Qn.mergeArray(r,a)}get element(){return this._def.type}min(e,t){return new n({...this._def,minLength:{value:e,message:Nt.toString(t)}})}max(e,t){return new n({...this._def,maxLength:{value:e,message:Nt.toString(t)}})}length(e,t){return new n({...this._def,exactLength:{value:e,message:Nt.toString(t)}})}nonempty(e){return this.min(1,e)}};xo.create=(n,e)=>new xo({type:n,minLength:null,maxLength:null,exactLength:null,typeName:Rt.ZodArray,...Kt(e)});function El(n){if(n instanceof vi){let e={};for(let t in n.shape){let r=n.shape[t];e[t]=Ea.create(El(r))}return new vi({...n._def,shape:()=>e})}else return n instanceof xo?new xo({...n._def,type:El(n.element)}):n instanceof Ea?Ea.create(El(n.unwrap())):n instanceof wo?wo.create(El(n.unwrap())):n instanceof za?za.create(n.items.map(e=>El(e))):n}var vi=class n extends er{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let e=this._def.shape(),t=br.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==ct.object){let l=this._getOrReturnCtx(e);return gt(l,{code:tt.invalid_type,expected:ct.object,received:l.parsedType}),Jt}let{status:r,ctx:i}=this._processInputParams(e),{shape:a,keys:o}=this._getCached(),u=[];if(!(this._def.catchall instanceof Da&&this._def.unknownKeys==="strip"))for(let l in i.data)o.includes(l)||u.push(l);let s=[];for(let l of o){let c=a[l],f=i.data[l];s.push({key:{status:"valid",value:l},value:c._parse(new ia(i,f,i.path,l)),alwaysSet:l in i.data})}if(this._def.catchall instanceof Da){let l=this._def.unknownKeys;if(l==="passthrough")for(let c of u)s.push({key:{status:"valid",value:c},value:{status:"valid",value:i.data[c]}});else if(l==="strict")u.length>0&&(gt(i,{code:tt.unrecognized_keys,keys:u}),r.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let l=this._def.catchall;for(let c of u){let f=i.data[c];s.push({key:{status:"valid",value:c},value:l._parse(new ia(i,f,i.path,c)),alwaysSet:c in i.data})}}return i.common.async?Promise.resolve().then(async()=>{let l=[];for(let c of s){let f=await c.key;l.push({key:f,value:await c.value,alwaysSet:c.alwaysSet})}return l}).then(l=>Qn.mergeObjectSync(r,l)):Qn.mergeObjectSync(r,s)}get shape(){return this._def.shape()}strict(e){return Nt.errToObj,new n({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,r)=>{var i,a,o,u;let s=(o=(a=(i=this._def).errorMap)===null||a===void 0?void 0:a.call(i,t,r).message)!==null&&o!==void 0?o:r.defaultError;return t.code==="unrecognized_keys"?{message:(u=Nt.errToObj(e).message)!==null&&u!==void 0?u:s}:{message:s}}}:{}})}strip(){return new n({...this._def,unknownKeys:"strip"})}passthrough(){return new n({...this._def,unknownKeys:"passthrough"})}extend(e){return new n({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new n({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Rt.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new n({...this._def,catchall:e})}pick(e){let t={};return br.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(t[r]=this.shape[r])}),new n({...this._def,shape:()=>t})}omit(e){let t={};return br.objectKeys(this.shape).forEach(r=>{e[r]||(t[r]=this.shape[r])}),new n({...this._def,shape:()=>t})}deepPartial(){return El(this)}partial(e){let t={};return br.objectKeys(this.shape).forEach(r=>{let i=this.shape[r];e&&!e[r]?t[r]=i:t[r]=i.optional()}),new n({...this._def,shape:()=>t})}required(e){let t={};return br.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])t[r]=this.shape[r];else{let a=this.shape[r];for(;a instanceof Ea;)a=a._def.innerType;t[r]=a}}),new n({...this._def,shape:()=>t})}keyof(){return $V(br.objectKeys(this.shape))}};vi.create=(n,e)=>new vi({shape:()=>n,unknownKeys:"strip",catchall:Da.create(),typeName:Rt.ZodObject,...Kt(e)});vi.strictCreate=(n,e)=>new vi({shape:()=>n,unknownKeys:"strict",catchall:Da.create(),typeName:Rt.ZodObject,...Kt(e)});vi.lazycreate=(n,e)=>new vi({shape:n,unknownKeys:"strip",catchall:Da.create(),typeName:Rt.ZodObject,...Kt(e)});var su=class extends er{_parse(e){let{ctx:t}=this._processInputParams(e),r=this._def.options;function i(a){for(let u of a)if(u.result.status==="valid")return u.result;for(let u of a)if(u.result.status==="dirty")return t.common.issues.push(...u.ctx.common.issues),u.result;let o=a.map(u=>new ki(u.ctx.common.issues));return gt(t,{code:tt.invalid_union,unionErrors:o}),Jt}if(t.common.async)return Promise.all(r.map(async a=>{let o={...t,common:{...t.common,issues:[]},parent:null};return{result:await a._parseAsync({data:t.data,path:t.path,parent:o}),ctx:o}})).then(i);{let a,o=[];for(let s of r){let l={...t,common:{...t.common,issues:[]},parent:null},c=s._parseSync({data:t.data,path:t.path,parent:l});if(c.status==="valid")return c;c.status==="dirty"&&!a&&(a={result:c,ctx:l}),l.common.issues.length&&o.push(l.common.issues)}if(a)return t.common.issues.push(...a.ctx.common.issues),a.result;let u=o.map(s=>new ki(s));return gt(t,{code:tt.invalid_union,unionErrors:u}),Jt}}get options(){return this._def.options}};su.create=(n,e)=>new su({options:n,typeName:Rt.ZodUnion,...Kt(e)});var ch=n=>n instanceof lu?ch(n.schema):n instanceof Ri?ch(n.innerType()):n instanceof cu?[n.value]:n instanceof fu?n.options:n instanceof pu?Object.keys(n.enum):n instanceof mu?ch(n._def.innerType):n instanceof au?[void 0]:n instanceof ou?[null]:null,dh=class n extends er{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==ct.object)return gt(t,{code:tt.invalid_type,expected:ct.object,received:t.parsedType}),Jt;let r=this.discriminator,i=t.data[r],a=this.optionsMap.get(i);return a?t.common.async?a._parseAsync({data:t.data,path:t.path,parent:t}):a._parseSync({data:t.data,path:t.path,parent:t}):(gt(t,{code:tt.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Jt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){let i=new Map;for(let a of t){let o=ch(a.shape[e]);if(!o)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let u of o){if(i.has(u))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(u)}`);i.set(u,a)}}return new n({typeName:Rt.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:i,...Kt(r)})}};function RA(n,e){let t=ms(n),r=ms(e);if(n===e)return{valid:!0,data:n};if(t===ct.object&&r===ct.object){let i=br.objectKeys(e),a=br.objectKeys(n).filter(u=>i.indexOf(u)!==-1),o={...n,...e};for(let u of a){let s=RA(n[u],e[u]);if(!s.valid)return{valid:!1};o[u]=s.data}return{valid:!0,data:o}}else if(t===ct.array&&r===ct.array){if(n.length!==e.length)return{valid:!1};let i=[];for(let a=0;a<n.length;a++){let o=n[a],u=e[a],s=RA(o,u);if(!s.valid)return{valid:!1};i.push(s.data)}return{valid:!0,data:i}}else return t===ct.date&&r===ct.date&&+n==+e?{valid:!0,data:n}:{valid:!1}}var uu=class extends er{_parse(e){let{status:t,ctx:r}=this._processInputParams(e),i=(a,o)=>{if(OA(a)||OA(o))return Jt;let u=RA(a.value,o.value);return u.valid?((kA(a)||kA(o))&&t.dirty(),{status:t.value,value:u.data}):(gt(r,{code:tt.invalid_intersection_types}),Jt)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([a,o])=>i(a,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}};uu.create=(n,e,t)=>new uu({left:n,right:e,typeName:Rt.ZodIntersection,...Kt(t)});var za=class n extends er{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==ct.array)return gt(r,{code:tt.invalid_type,expected:ct.array,received:r.parsedType}),Jt;if(r.data.length<this._def.items.length)return gt(r,{code:tt.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Jt;!this._def.rest&&r.data.length>this._def.items.length&&(gt(r,{code:tt.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let a=[...r.data].map((o,u)=>{let s=this._def.items[u]||this._def.rest;return s?s._parse(new ia(r,o,r.path,u)):null}).filter(o=>!!o);return r.common.async?Promise.all(a).then(o=>Qn.mergeArray(t,o)):Qn.mergeArray(t,a)}get items(){return this._def.items}rest(e){return new n({...this._def,rest:e})}};za.create=(n,e)=>{if(!Array.isArray(n))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new za({items:n,typeName:Rt.ZodTuple,rest:null,...Kt(e)})};var hh=class n extends er{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==ct.object)return gt(r,{code:tt.invalid_type,expected:ct.object,received:r.parsedType}),Jt;let i=[],a=this._def.keyType,o=this._def.valueType;for(let u in r.data)i.push({key:a._parse(new ia(r,u,r.path,u)),value:o._parse(new ia(r,r.data[u],r.path,u))});return r.common.async?Qn.mergeObjectAsync(t,i):Qn.mergeObjectSync(t,i)}get element(){return this._def.valueType}static create(e,t,r){return t instanceof er?new n({keyType:e,valueType:t,typeName:Rt.ZodRecord,...Kt(r)}):new n({keyType:ds.create(),valueType:e,typeName:Rt.ZodRecord,...Kt(t)})}},Nl=class extends er{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==ct.map)return gt(r,{code:tt.invalid_type,expected:ct.map,received:r.parsedType}),Jt;let i=this._def.keyType,a=this._def.valueType,o=[...r.data.entries()].map(([u,s],l)=>({key:i._parse(new ia(r,u,r.path,[l,"key"])),value:a._parse(new ia(r,s,r.path,[l,"value"]))}));if(r.common.async){let u=new Map;return Promise.resolve().then(async()=>{for(let s of o){let l=await s.key,c=await s.value;if(l.status==="aborted"||c.status==="aborted")return Jt;(l.status==="dirty"||c.status==="dirty")&&t.dirty(),u.set(l.value,c.value)}return{status:t.value,value:u}})}else{let u=new Map;for(let s of o){let l=s.key,c=s.value;if(l.status==="aborted"||c.status==="aborted")return Jt;(l.status==="dirty"||c.status==="dirty")&&t.dirty(),u.set(l.value,c.value)}return{status:t.value,value:u}}}};Nl.create=(n,e,t)=>new Nl({valueType:e,keyType:n,typeName:Rt.ZodMap,...Kt(t)});var Cl=class n extends er{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==ct.set)return gt(r,{code:tt.invalid_type,expected:ct.set,received:r.parsedType}),Jt;let i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(gt(r,{code:tt.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),t.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(gt(r,{code:tt.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),t.dirty());let a=this._def.valueType;function o(s){let l=new Set;for(let c of s){if(c.status==="aborted")return Jt;c.status==="dirty"&&t.dirty(),l.add(c.value)}return{status:t.value,value:l}}let u=[...r.data.values()].map((s,l)=>a._parse(new ia(r,s,r.path,l)));return r.common.async?Promise.all(u).then(s=>o(s)):o(u)}min(e,t){return new n({...this._def,minSize:{value:e,message:Nt.toString(t)}})}max(e,t){return new n({...this._def,maxSize:{value:e,message:Nt.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}};Cl.create=(n,e)=>new Cl({valueType:n,minSize:null,maxSize:null,typeName:Rt.ZodSet,...Kt(e)});var gh=class n extends er{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==ct.function)return gt(t,{code:tt.invalid_type,expected:ct.function,received:t.parsedType}),Jt;function r(u,s){return ph({data:u,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,fh(),Kc].filter(l=>!!l),issueData:{code:tt.invalid_arguments,argumentsError:s}})}function i(u,s){return ph({data:u,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,fh(),Kc].filter(l=>!!l),issueData:{code:tt.invalid_return_type,returnTypeError:s}})}let a={errorMap:t.common.contextualErrorMap},o=t.data;if(this._def.returns instanceof gs){let u=this;return ui(async function(...s){let l=new ki([]),c=await u._def.args.parseAsync(s,a).catch(m=>{throw l.addIssue(r(s,m)),l}),f=await Reflect.apply(o,this,c);return await u._def.returns._def.type.parseAsync(f,a).catch(m=>{throw l.addIssue(i(f,m)),l})})}else{let u=this;return ui(function(...s){let l=u._def.args.safeParse(s,a);if(!l.success)throw new ki([r(s,l.error)]);let c=Reflect.apply(o,this,l.data),f=u._def.returns.safeParse(c,a);if(!f.success)throw new ki([i(c,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new n({...this._def,args:za.create(e).rest(bo.create())})}returns(e){return new n({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new n({args:e||za.create([]).rest(bo.create()),returns:t||bo.create(),typeName:Rt.ZodFunction,...Kt(r)})}},lu=class extends er{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}};lu.create=(n,e)=>new lu({getter:n,typeName:Rt.ZodLazy,...Kt(e)});var cu=class extends er{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return gt(t,{received:t.data,code:tt.invalid_literal,expected:this._def.value}),Jt}return{status:"valid",value:e.data}}get value(){return this._def.value}};cu.create=(n,e)=>new cu({value:n,typeName:Rt.ZodLiteral,...Kt(e)});function $V(n,e){return new fu({values:n,typeName:Rt.ZodEnum,...Kt(e)})}var fu=class n extends er{_parse(e){if(typeof e.data!="string"){let t=this._getOrReturnCtx(e),r=this._def.values;return gt(t,{expected:br.joinValues(r),received:t.parsedType,code:tt.invalid_type}),Jt}if(this._def.values.indexOf(e.data)===-1){let t=this._getOrReturnCtx(e),r=this._def.values;return gt(t,{received:t.data,code:tt.invalid_enum_value,options:r}),Jt}return ui(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e){return n.create(e)}exclude(e){return n.create(this.options.filter(t=>!e.includes(t)))}};fu.create=$V;var pu=class extends er{_parse(e){let t=br.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==ct.string&&r.parsedType!==ct.number){let i=br.objectValues(t);return gt(r,{expected:br.joinValues(i),received:r.parsedType,code:tt.invalid_type}),Jt}if(t.indexOf(e.data)===-1){let i=br.objectValues(t);return gt(r,{received:r.data,code:tt.invalid_enum_value,options:i}),Jt}return ui(e.data)}get enum(){return this._def.values}};pu.create=(n,e)=>new pu({values:n,typeName:Rt.ZodNativeEnum,...Kt(e)});var gs=class extends er{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==ct.promise&&t.common.async===!1)return gt(t,{code:tt.invalid_type,expected:ct.promise,received:t.parsedType}),Jt;let r=t.parsedType===ct.promise?t.data:Promise.resolve(t.data);return ui(r.then(i=>this._def.type.parseAsync(i,{path:t.path,errorMap:t.common.contextualErrorMap})))}};gs.create=(n,e)=>new gs({type:n,typeName:Rt.ZodPromise,...Kt(e)});var Ri=class extends er{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Rt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:r}=this._processInputParams(e),i=this._def.effect||null,a={addIssue:o=>{gt(r,o),o.fatal?t.abort():t.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){let o=i.transform(r.data,a);return r.common.issues.length?{status:"dirty",value:r.data}:r.common.async?Promise.resolve(o).then(u=>this._def.schema._parseAsync({data:u,path:r.path,parent:r})):this._def.schema._parseSync({data:o,path:r.path,parent:r})}if(i.type==="refinement"){let o=u=>{let s=i.refinement(u,a);if(r.common.async)return Promise.resolve(s);if(s instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return u};if(r.common.async===!1){let u=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return u.status==="aborted"?Jt:(u.status==="dirty"&&t.dirty(),o(u.value),{status:t.value,value:u.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(u=>u.status==="aborted"?Jt:(u.status==="dirty"&&t.dirty(),o(u.value).then(()=>({status:t.value,value:u.value}))))}if(i.type==="transform")if(r.common.async===!1){let o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!ef(o))return o;let u=i.transform(o.value,a);if(u instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:u}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>ef(o)?Promise.resolve(i.transform(o.value,a)).then(u=>({status:t.value,value:u})):o);br.assertNever(i)}};Ri.create=(n,e,t)=>new Ri({schema:n,typeName:Rt.ZodEffects,effect:e,...Kt(t)});Ri.createWithPreprocess=(n,e,t)=>new Ri({schema:e,effect:{type:"preprocess",transform:n},typeName:Rt.ZodEffects,...Kt(t)});var Ea=class extends er{_parse(e){return this._getType(e)===ct.undefined?ui(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};Ea.create=(n,e)=>new Ea({innerType:n,typeName:Rt.ZodOptional,...Kt(e)});var wo=class extends er{_parse(e){return this._getType(e)===ct.null?ui(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};wo.create=(n,e)=>new wo({innerType:n,typeName:Rt.ZodNullable,...Kt(e)});var mu=class extends er{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return t.parsedType===ct.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}};mu.create=(n,e)=>new mu({innerType:n,typeName:Rt.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Kt(e)});var Tl=class extends er{_parse(e){let{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return mh(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new ki(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new ki(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}};Tl.create=(n,e)=>new Tl({innerType:n,typeName:Rt.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Kt(e)});var Fl=class extends er{_parse(e){if(this._getType(e)!==ct.nan){let r=this._getOrReturnCtx(e);return gt(r,{code:tt.invalid_type,expected:ct.nan,received:r.parsedType}),Jt}return{status:"valid",value:e.data}}};Fl.create=n=>new Fl({typeName:Rt.ZodNaN,...Kt(n)});var Oee=Symbol("zod_brand"),vh=class extends er{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}},tf=class n extends er{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{let a=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?Jt:a.status==="dirty"?(t.dirty(),zV(a.value)):this._def.out._parseAsync({data:a.value,path:r.path,parent:r})})();{let i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Jt:i.status==="dirty"?(t.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,t){return new n({in:e,out:t,typeName:Rt.ZodPipeline})}},Il=class extends er{_parse(e){let t=this._def.innerType._parse(e);return ef(t)&&(t.value=Object.freeze(t.value)),t}};Il.create=(n,e)=>new Il({innerType:n,typeName:Rt.ZodReadonly,...Kt(e)});var HV=(n,e={},t)=>n?hs.create().superRefine((r,i)=>{var a,o;if(!n(r)){let u=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,s=(o=(a=u.fatal)!==null&&a!==void 0?a:t)!==null&&o!==void 0?o:!0,l=typeof u=="string"?{message:u}:u;i.addIssue({code:"custom",...l,fatal:s})}}):hs.create(),kee={object:vi.lazycreate},Rt;(function(n){n.ZodString="ZodString",n.ZodNumber="ZodNumber",n.ZodNaN="ZodNaN",n.ZodBigInt="ZodBigInt",n.ZodBoolean="ZodBoolean",n.ZodDate="ZodDate",n.ZodSymbol="ZodSymbol",n.ZodUndefined="ZodUndefined",n.ZodNull="ZodNull",n.ZodAny="ZodAny",n.ZodUnknown="ZodUnknown",n.ZodNever="ZodNever",n.ZodVoid="ZodVoid",n.ZodArray="ZodArray",n.ZodObject="ZodObject",n.ZodUnion="ZodUnion",n.ZodDiscriminatedUnion="ZodDiscriminatedUnion",n.ZodIntersection="ZodIntersection",n.ZodTuple="ZodTuple",n.ZodRecord="ZodRecord",n.ZodMap="ZodMap",n.ZodSet="ZodSet",n.ZodFunction="ZodFunction",n.ZodLazy="ZodLazy",n.ZodLiteral="ZodLiteral",n.ZodEnum="ZodEnum",n.ZodEffects="ZodEffects",n.ZodNativeEnum="ZodNativeEnum",n.ZodOptional="ZodOptional",n.ZodNullable="ZodNullable",n.ZodDefault="ZodDefault",n.ZodCatch="ZodCatch",n.ZodPromise="ZodPromise",n.ZodBranded="ZodBranded",n.ZodPipeline="ZodPipeline",n.ZodReadonly="ZodReadonly"})(Rt||(Rt={}));var Ree=(n,e={message:`Input not instance of ${n.name}`})=>HV(t=>t instanceof n,e),GV=ds.create,WV=tu.create,Lee=Fl.create,Vee=ru.create,YV=nu.create,Uee=iu.create,qee=Dl.create,zee=au.create,$ee=ou.create,Hee=hs.create,Gee=bo.create,Wee=Da.create,Yee=Ml.create,jee=xo.create,Zee=vi.create,Jee=vi.strictCreate,Xee=su.create,Qee=dh.create,Kee=uu.create,ete=za.create,tte=hh.create,rte=Nl.create,nte=Cl.create,ite=gh.create,ate=lu.create,ote=cu.create,ste=fu.create,ute=pu.create,lte=gs.create,UV=Ri.create,cte=Ea.create,fte=wo.create,pte=Ri.createWithPreprocess,mte=tf.create,dte=()=>GV().optional(),hte=()=>WV().optional(),gte=()=>YV().optional(),vte={string:n=>ds.create({...n,coerce:!0}),number:n=>tu.create({...n,coerce:!0}),boolean:n=>nu.create({...n,coerce:!0}),bigint:n=>ru.create({...n,coerce:!0}),date:n=>iu.create({...n,coerce:!0})},yte=Jt,ce=Object.freeze({__proto__:null,defaultErrorMap:Kc,setErrorMap:_ee,getErrorMap:fh,makeIssue:ph,EMPTY_PATH:See,addIssueToContext:gt,ParseStatus:Qn,INVALID:Jt,DIRTY:zV,OK:ui,isAborted:OA,isDirty:kA,isValid:ef,isAsync:mh,get util(){return br},get objectUtil(){return BA},ZodParsedType:ct,getParsedType:ms,ZodType:er,ZodString:ds,ZodNumber:tu,ZodBigInt:ru,ZodBoolean:nu,ZodDate:iu,ZodSymbol:Dl,ZodUndefined:au,ZodNull:ou,ZodAny:hs,ZodUnknown:bo,ZodNever:Da,ZodVoid:Ml,ZodArray:xo,ZodObject:vi,ZodUnion:su,ZodDiscriminatedUnion:dh,ZodIntersection:uu,ZodTuple:za,ZodRecord:hh,ZodMap:Nl,ZodSet:Cl,ZodFunction:gh,ZodLazy:lu,ZodLiteral:cu,ZodEnum:fu,ZodNativeEnum:pu,ZodPromise:gs,ZodEffects:Ri,ZodTransformer:Ri,ZodOptional:Ea,ZodNullable:wo,ZodDefault:mu,ZodCatch:Tl,ZodNaN:Fl,BRAND:Oee,ZodBranded:vh,ZodPipeline:tf,ZodReadonly:Il,custom:HV,Schema:er,ZodSchema:er,late:kee,get ZodFirstPartyTypeKind(){return Rt},coerce:vte,any:Hee,array:jee,bigint:Vee,boolean:YV,date:Uee,discriminatedUnion:Qee,effect:UV,enum:ste,function:ite,instanceof:Ree,intersection:Kee,lazy:ate,literal:ote,map:rte,nan:Lee,nativeEnum:ute,never:Wee,null:$ee,nullable:fte,number:WV,object:Zee,oboolean:gte,onumber:hte,optional:cte,ostring:dte,pipeline:mte,preprocess:pte,promise:lte,record:tte,set:nte,strictObject:Jee,string:GV,symbol:qee,transformer:UV,tuple:ete,undefined:zee,union:Xee,unknown:Gee,void:Yee,NEVER:yte,ZodIssueCode:tt,quotelessJson:wee,ZodError:ki});function jV(n,e){return(t,r)=>t[n]===void 0==(t[e]===void 0)?(r.addIssue({code:ce.ZodIssueCode.custom,message:`Either ${n} or ${e} must be filled, but not both`}),!1):!0}function Pt(){return function(n){return n}}function Hr(n,e){let t=n.safeParse(e);if(!t.success)throw new Bt({errorLevel:"CRITICAL",effect:"invalid arguments supplied to function",cause:t.error})}var bte=Pt()(ce.object({type:ce.literal("command"),command:ce.string()})),xte=Pt()(ce.object({type:ce.literal("js"),file:ce.string(),args:ce.record(ce.unknown()).optional()})),wte=Pt()(ce.object({type:ce.literal("open"),link:ce.string(),newTab:ce.boolean().optional()})),_te=Pt()(ce.object({type:ce.literal("input"),str:ce.string()})),Ste=Pt()(ce.object({type:ce.literal("sleep"),ms:ce.number()})),Ate=Pt()(ce.object({type:ce.literal("templaterCreateNote"),templateFile:ce.string(),folderPath:ce.string().optional(),fileName:ce.string().optional(),openNote:ce.boolean().optional()})),Ete=Pt()(ce.object({type:ce.literal("updateMetadata"),bindTarget:ce.string(),evaluate:ce.boolean(),value:ce.coerce.string()})),Dte=Pt()(ce.object({type:ce.literal("createNote"),folderPath:ce.string().optional(),fileName:ce.string(),openNote:ce.boolean().optional()})),Mte=Pt()(ce.object({type:ce.literal("replaceInNote"),fromLine:ce.number(),toLine:ce.number(),replacement:ce.string(),templater:ce.boolean().optional()})),Nte=Pt()(ce.object({type:ce.literal("replaceSelf"),replacement:ce.string(),templater:ce.boolean().optional()})),Cte=Pt()(ce.object({type:ce.literal("regexpReplaceInNote"),regexp:ce.string(),replacement:ce.string()})),Tte=Pt()(ce.object({type:ce.literal("insertIntoNote"),line:ce.number(),value:ce.string(),templater:ce.boolean().optional()})),Fte=Pt()(ce.object({type:ce.literal("inlineJS"),code:ce.string()})),ZV=Pt()(ce.union([bte,xte,wte,_te,Ste,Ate,Ete,Dte,Mte,Nte,Cte,Tte,Fte])),Ite=ce.nativeEnum(on),Pl=Pt()(ce.object({label:ce.string(),icon:ce.string().optional(),style:Ite,class:ce.string().optional(),tooltip:ce.string().optional(),id:ce.string().optional(),hidden:ce.boolean().optional(),action:ZV.optional(),actions:ZV.array().optional()}).superRefine(jV("action","actions")));var Pte=/[$_\p{ID_Start}][$\u200c\u200d\p{ID_Continue}]*/u;function JV(n){return n.length===1?n[0].toString():n.reduce((e,t)=>{if(typeof t=="number")return e+"["+t.toString()+"]";if(t.includes('"'))return e+'["'+Bte(t)+'"]';if(!Pte.test(t))return e+'["'+t+'"]';let r=e.length===0?"":".";return e+r+t},"")}function Bte(n){return n.replace(/"/g,'\\"')}function XV(n){return n.length!==0}var Ote=99,kte="; ",Rte=", or ",QV="Validation error",Lte=": ",yh=class extends Error{constructor(t,r=[]){super(t);an(this,"details");an(this,"name");this.details=r,this.name="ZodValidationError"}toString(){return this.message}};function KV(n){let{issue:e,issueSeparator:t,unionSeparator:r,includePath:i}=n;if(e.code==="invalid_union")return e.unionErrors.reduce((a,o)=>{let u=o.issues.map(s=>KV({issue:s,issueSeparator:t,unionSeparator:r,includePath:i})).join(t);return a.includes(u)||a.push(u),a},[]).join(r);if(i&&XV(e.path)){if(e.path.length===1){let a=e.path[0];if(typeof a=="number")return`${e.message} at index ${a}`}return`${e.message} at "${JV(e.path)}"`}return e.message}function Vte(n,e,t){return e!==null?n.length>0?[e,n].join(t):e:n.length>0?n:QV}function rf(n,e={}){let{maxIssuesInMessage:t=Ote,issueSeparator:r=kte,unionSeparator:i=Rte,prefixSeparator:a=Lte,prefix:o=QV,includePath:u=!0}=e,s=n.errors.slice(0,t).map(c=>KV({issue:c,issueSeparator:r,unionSeparator:i,includePath:u})).join(r),l=Vte(s,o,a);return new yh(l,n.errors)}var Ute=nf.P.sequenceMap((n,e)=>e,nf.P.string("BUTTON"),nf.P.manyNotOf("[],^").separateBy(nf.P.string(",").trim(e5.P_UTILS.optionalWhitespace())).wrapString("[","]")),bh=class{constructor(e){this.plugin=e}fromGroupString(e){let t=new Lt("ButtonGroup"),r=[];try{r=gn(Ute,e)}catch(i){t.add(i)}return{declarationString:e,referencedButtonIds:r,errorCollection:t}}validateGroup(e){return{declarationString:void 0,referencedButtonIds:e.referencedButtonIds,errorCollection:new Lt("ButtonGroup")}}fromString(e){let t=new Lt("Button"),r;try{let i=this.plugin.internal.parseYaml(e);r=this.validateConfig(i)}catch(i){t.add(i)}return{declarationString:e,config:r,errorCollection:t}}validateConfig(e){let t=Pl.safeParse(e);if(!t.success){let r=rf(t.error,{unionSeparator:`
OR `,issueSeparator:" AND ",prefix:null});throw new ro({errorLevel:"ERROR",effect:"can not parse button config",cause:"zod validation failed. Check your button syntax",positionContext:r.message,docs:[Ot.linkToButtonConfig()]})}return t.data}validate(e){let t=new Lt("Button"),r;try{r=this.validateConfig(e)}catch(i){t.add(i)}return{declarationString:void 0,config:r,errorCollection:t}}};var xh=class{constructor(e){this.plugin=e}fromString(e){let t=new Lt("JsViewFieldDeclaration");try{let r=gn($D,e);return this.partialToFullDeclaration(r,e,t)}catch(r){t.add(r)}return{declarationString:e,errorCollection:t,bindTargetMappings:[],writeToBindTarget:void 0,code:""}}fromStringAndValidate(e,t){return this.validate(this.fromString(e),t)}fromSimpleDeclaration(e){let t=new Lt("JsViewFieldDeclaration");return{declarationString:void 0,code:e.code,bindTargetMappings:e.bindTargetMappings.map(r=>({bindTarget:this.plugin.api.bindTargetParser.fromExistingDeclaration(r.bindTarget),name:r.name})),writeToBindTarget:this.plugin.api.bindTargetParser.fromExistingDeclaration(e.writeToBindTarget),errorCollection:t}}fromSimpleDeclarationAndValidate(e,t){return this.validate(this.fromSimpleDeclaration(e),t)}partialToFullDeclaration(e,t,r){let i=e;return i.declarationString=t,i.errorCollection=r,i.bindTargetMappings=[...i.bindTargetMappings],i}validate(e,t){let r={};r.declarationString=e.declarationString,r.errorCollection=e.errorCollection;try{return r.bindTargetMappings=e.bindTargetMappings.map(i=>({bindTarget:this.plugin.api.bindTargetParser.validate(e.declarationString,i.bindTarget,t),name:i.name})),e.writeToBindTarget!==void 0&&(r.writeToBindTarget=this.plugin.api.bindTargetParser.validate(e.declarationString,e.writeToBindTarget,t)),r.code=e.code,r}catch(i){r.errorCollection.add(i)}return{declarationString:e.declarationString,errorCollection:r.errorCollection,bindTargetMappings:[],writeToBindTarget:void 0,code:""}}};function wh(n){return new fs(n.map(e=>QD.tryParse(e).success?new Is("array",e):new Is("object",e)))}var Bl=class{constructor(e){this.scope=e}};var Vi=Pt()(ce.string()),Ol=Pt()(ce.nativeEnum(ti)),af=Pt()(ce.nativeEnum(Du)),r5=Pt()(ce.nativeEnum(Io)),n5=Pt()(ce.instanceof(HTMLElement)),kl=Pt()(ce.instanceof(Bl)),pXe=Pt()(ce.instanceof(Ir)),mXe=Pt()(ce.function().args().returns(ce.void())),dXe=Pt()(ce.instanceof(mn)),i5=Pt()(ce.instanceof(Vn)),a5=Pt()(ce.instanceof(Fo)),t5=Pt()(ce.object({index:ce.number(),line:ce.number(),column:ce.number()})),qte=Pt()(ce.object({from:t5,to:t5})),vs=Pt()(ce.object({value:ce.string(),position:qte.optional()})),o5=Pt()(ce.object({name:vs,value:vs.array()})),zte=Pt()(ce.object({type:ce.nativeEnum(Ps),prop:vs})),LA=Pt()(ce.object({storageType:vs.optional(),storagePath:vs.optional(),storageProp:zte.array(),listenToChildren:ce.boolean()})),hXe=Pt()(ce.object({declarationString:ce.string().optional(),inputFieldType:vs.optional(),templateName:vs.optional(),bindTarget:LA.optional(),arguments:o5.array(),errorCollection:ce.instanceof(Lt)})),gXe=Pt()(ce.object({declarationString:ce.string().optional(),templateDeclaration:ce.array(ce.union([ce.string(),LA])).optional(),viewFieldType:vs.optional(),arguments:o5.array(),writeToBindTarget:LA.optional(),errorCollection:ce.instanceof(Lt)})),Li=Pt()(ce.object({storageType:ce.string(),storagePath:ce.string(),storageProp:ce.instanceof(fs),listenToChildren:ce.boolean()})),s5=Pt()(ce.object({name:ce.string(),value:ce.string().array()})),vXe=Pt()(ce.object({type:ce.nativeEnum(Ps),prop:ce.string()})),u5=Pt()(ce.object({inputFieldType:r5.optional(),templateName:ce.string().optional(),bindTarget:Li.optional(),arguments:s5.array().optional()})),l5=Pt()(ce.object({viewFieldType:r5.optional(),templateDeclaration:ce.union([ce.string(),Li]).array().optional(),arguments:s5.array().optional(),writeToBindTarget:Li.optional()})),$te=Pt()(ce.object({bindTarget:Li,name:ce.string()})),Hte=Pt()(ce.object({bindTargetMappings:$te.array(),writeToBindTarget:Li.optional(),code:ce.string()})),Gte=Pt()(ce.object({referencedButtonIds:ce.string().array()})),c5=Pt()(ce.object({renderChildType:Ol,declaration:ce.union([ce.string(),u5]),scope:kl.optional()})),f5=Pt()(ce.object({renderChildType:Ol,declaration:ce.union([ce.string(),l5]),scope:kl.optional()})),p5=Pt()(ce.object({declaration:ce.union([ce.string(),Hte])})),m5=Pt()(ce.object({bindTarget:Li,tableHead:ce.string().array(),columns:ce.array(ce.union([u5,l5,ce.string()]))})),d5=Pt()(ce.object({renderChildType:Ol,declaration:ce.union([ce.string(),Gte]),position:a5.optional()})),h5=Pt()(ce.object({declaration:ce.union([ce.string(),Pl]),position:a5.optional(),isPreview:ce.boolean()})),g5=Pt()(ce.object({depth:ce.number(),content:ce.string()}));function Wte(n){let e,t;return{c(){e=K("td"),t=K("div")},m(r,i){Z(r,e,i),Q(e,t),n[3](t)},p:je,i:je,o:je,d(r){r&&j(e),n[3](null)}}}function Yte(n,e,t){let{table:r}=e,{cell:i}=e,a,o;Ci(()=>{o=r.createCell(i,a)}),Os(()=>{o==null||o()});function u(s){Mr[s?"unshift":"push"](()=>{a=s,t(0,a)})}return n.$$set=s=>{"table"in s&&t(1,r=s.table),"cell"in s&&t(2,i=s.cell)},[a,r,i,u]}var VA=class extends Te{constructor(e){super(),Be(this,e,Yte,Wte,Pe,{table:1,cell:2})}},v5=VA;function y5(n,e,t){let r=n.slice();return r[7]=e[t],r}function b5(n,e,t){let r=n.slice();return r[10]=e[t],r[11]=e,r[12]=t,r}function x5(n,e,t){let r=n.slice();return r[13]=e[t],r}function w5(n){let e,t=n[13]+"",r;return{c(){e=K("th"),r=Ue(t)},m(i,a){Z(i,e,a),Q(e,r)},p(i,a){a&2&&t!==(t=i[13]+"")&&mt(r,t)},d(i){i&&j(e)}}}function jte(n){let e,t,r;return{c(){e=K("td"),t=Ue("invalid data"),q(e,"class","meta-bind-error"),q(e,"colspan",r=n[1].length)},m(i,a){Z(i,e,a),Q(e,t)},p(i,a){a&2&&r!==(r=i[1].length)&&q(e,"colspan",r)},i:je,o:je,d(i){i&&j(e)}}}function Zte(n){let e,t,r=ot(n[7].cells),i=[];for(let o=0;o<r.length;o+=1)i[o]=_5(b5(n,r,o));let a=o=>te(i[o],1,1,()=>{i[o]=null});return{c(){for(let o=0;o<i.length;o+=1)i[o].c();e=yr()},m(o,u){for(let s=0;s<i.length;s+=1)i[s]&&i[s].m(o,u);Z(o,e,u),t=!0},p(o,u){if(u&5){r=ot(o[7].cells);let s;for(s=0;s<r.length;s+=1){let l=b5(o,r,s);i[s]?(i[s].p(l,u),Y(i[s],1)):(i[s]=_5(l),i[s].c(),Y(i[s],1),i[s].m(e.parentNode,e))}for(dt(),s=r.length;s<i.length;s+=1)a(s);ht()}},i(o){if(!t){for(let u=0;u<r.length;u+=1)Y(i[u]);t=!0}},o(o){i=i.filter(Boolean);for(let u=0;u<i.length;u+=1)te(i[u]);t=!1},d(o){o&&j(e),Gt(i,o)}}}function _5(n){let e,t,r;function i(o){n[4](o,n[10],n[11],n[12])}let a={table:n[0]};return n[10]!==void 0&&(a.cell=n[10]),e=new v5({props:a}),Mr.push(()=>zn(e,"cell",i)),{c(){ge(e.$$.fragment)},m(o,u){de(e,o,u),r=!0},p(o,u){n=o;let s={};u&1&&(s.table=n[0]),!t&&u&4&&(t=!0,s.cell=n[10],qn(()=>t=!1)),e.$set(s)},i(o){r||(Y(e.$$.fragment,o),r=!0)},o(o){te(e.$$.fragment,o),r=!1},d(o){he(e,o)}}}function Jte(n){let e,t;return e=new Or({props:{plugin:n[0].plugin,iconName:"x"}}),{c(){ge(e.$$.fragment)},m(r,i){de(e,r,i),t=!0},p(r,i){let a={};i&1&&(a.plugin=r[0].plugin),e.$set(a)},i(r){t||(Y(e.$$.fragment,r),t=!0)},o(r){te(e.$$.fragment,r),t=!1},d(r){he(e,r)}}}function S5(n,e){let t,r,i,a,o,u,s,l,c=[Zte,jte],f=[];function p(h,d){return h[7].isValid?0:1}r=p(e,-1),i=f[r]=c[r](e);function m(){return e[5](e[7])}return u=new Mt({props:{$$slots:{default:[Jte]},$$scope:{ctx:e}}}),u.$on("click",m),{key:n,first:null,c(){t=K("tr"),i.c(),a=le(),o=K("td"),ge(u.$$.fragment),s=le(),q(o,"class","mb-html-table-button-cell"),this.first=t},m(h,d){Z(h,t,d),f[r].m(t,null),Q(t,a),Q(t,o),de(u,o,null),Q(t,s),l=!0},p(h,d){e=h;let v=r;r=p(e,d),r===v?f[r].p(e,d):(dt(),te(f[v],1,1,()=>{f[v]=null}),ht(),i=f[r],i?i.p(e,d):(i=f[r]=c[r](e),i.c()),Y(i,1),i.m(t,a));let y={};d&65537&&(y.$$scope={dirty:d,ctx:e}),u.$set(y)},i(h){l||(Y(i),Y(u.$$.fragment,h),l=!0)},o(h){te(i),te(u.$$.fragment,h),l=!1},d(h){h&&j(t),f[r].d(),he(u)}}}function Xte(n){let e;return{c(){e=Ue("Add Column")},m(t,r){Z(t,e,r)},d(t){t&&j(e)}}}function Qte(n){let e,t,r,i,a,o,u,s,l=[],c=new Map,f,p,m,h=ot(n[1]),d=[];for(let _=0;_<h.length;_+=1)d[_]=w5(x5(n,h,_));let v=ot(n[2]),y=_=>_[7].index;for(let _=0;_<v.length;_+=1){let b=y5(n,v,_),w=y(b);c.set(w,l[_]=S5(w,b))}return p=new Mt({props:{$$slots:{default:[Xte]},$$scope:{ctx:n}}}),p.$on("click",n[6]),{c(){e=K("div"),t=K("table"),r=K("thead"),i=K("tr");for(let _=0;_<d.length;_+=1)d[_].c();a=le(),o=K("th"),u=le(),s=K("tbody");for(let _=0;_<l.length;_+=1)l[_].c();f=le(),ge(p.$$.fragment),q(o,"class","mb-html-table-button-cell"),q(t,"class","mb-html-table"),q(e,"class","mb-table-wrapper")},m(_,b){Z(_,e,b),Q(e,t),Q(t,r),Q(r,i);for(let w=0;w<d.length;w+=1)d[w]&&d[w].m(i,null);Q(i,a),Q(i,o),Q(t,u),Q(t,s);for(let w=0;w<l.length;w+=1)l[w]&&l[w].m(s,null);Z(_,f,b),de(p,_,b),m=!0},p(_,[b]){if(b&2){h=ot(_[1]);let S;for(S=0;S<h.length;S+=1){let x=x5(_,h,S);d[S]?d[S].p(x,b):(d[S]=w5(x),d[S].c(),d[S].m(i,a))}for(;S<d.length;S+=1)d[S].d(1);d.length=h.length}b&7&&(v=ot(_[2]),dt(),l=Uu(l,b,y,1,_,v,c,s,bp,S5,null,y5),ht());let w={};b&65536&&(w.$$scope={dirty:b,ctx:_}),p.$set(w)},i(_){if(!m){for(let b=0;b<v.length;b+=1)Y(l[b]);Y(p.$$.fragment,_),m=!0}},o(_){for(let b=0;b<l.length;b+=1)te(l[b]);te(p.$$.fragment,_),m=!1},d(_){_&&(j(e),j(f)),Gt(d,_);for(let b=0;b<l.length;b+=1)l[b].d();he(p,_)}}}function Kte(n,e,t){let{table:r}=e,{tableHead:i=[]}=e,a=[];function o(c){t(2,a=c)}function u(c,f,p,m){p[m]=c,t(2,a)}let s=c=>r.removeColumn(c.index),l=()=>r.addColumn();return n.$$set=c=>{"table"in c&&t(0,r=c.table),"tableHead"in c&&t(1,i=c.tableHead)},[r,i,a,o,u,s,l]}var UA=class extends Te{constructor(e){super(),Be(this,e,Kte,Qte,Pe,{table:0,tableHead:1,updateTable:3})}get updateTable(){return this.$$.ctx[3]}},A5=UA;var _h=class extends mn{constructor(e,t,r,i,a,o){super(e,t,r),this.bindTarget=i,this.tableHead=a,this.columns=o,this.inputSignal=new Ir(void 0),this.outputSignal=new Ir(void 0),this.value=void 0}registerSelfToMetadataManager(){this.metadataManagerOutputSignalListener=this.outputSignal.registerListener({callback:this.updateMetadataManager.bind(this)}),this.metadataSubscription=this.plugin.metadataManager.subscribe(this.getUuid(),this.inputSignal,this.bindTarget,()=>this.unmount())}unregisterSelfFromMetadataManager(){var e;this.metadataManagerOutputSignalListener&&this.outputSignal.unregisterListener(this.metadataManagerOutputSignalListener),(e=this.metadataSubscription)==null||e.unsubscribe()}updateMetadataManager(e){var t;(t=this.metadataSubscription)==null||t.update(e)}updateDisplayValue(e){var r;e=e!=null?e:[];let t=[];for(let i=0;i<e.length;i++)if(typeof e[i]=="object"){let a=new Bl({storageType:this.bindTarget.storageType,storageProp:this.bindTarget.storageProp.concat(wh([i.toString()])),storagePath:this.bindTarget.storagePath,listenToChildren:!1}),o=this.columns.map(u=>typeof u=="string"?this.plugin.api.createInlineFieldFromString(u,this.getFilePath(),a,"inline"):"inputFieldType"in u?this.plugin.api.createInputFieldMountable(this.getFilePath(),{declaration:u,scope:a,renderChildType:"inline"}):this.plugin.api.createViewFieldMountable(this.getFilePath(),{declaration:u,scope:a,renderChildType:"inline"}));t.push({cells:o,index:i,value:e[i],isValid:!0})}else t.push({cells:[],index:i,value:e[i],isValid:!1});(r=this.tableComponent)==null||r.updateTable(t)}createCell(e,t){return e.mount(t),()=>e.unmount()}removeColumn(e){var t;this.value=(t=this.value)!=null?t:[],this.value.splice(e,1),this.updateDisplayValue(this.value),this.outputSignal.set(this.value)}addColumn(){var e;this.value=(e=this.value)!=null?e:[],this.value.push({}),this.updateDisplayValue(this.value),this.outputSignal.set(this.value)}onMount(e){super.onMount(e),this.tableComponent=new A5({target:e,props:{table:this,tableHead:this.tableHead}}),this.inputSignal.registerListener({callback:t=>{this.value=t,this.updateDisplayValue(t)}}),this.registerSelfToMetadataManager()}onUnmount(e){var t;super.onUnmount(e),this.unregisterSelfFromMetadataManager(),(t=this.tableComponent)==null||t.$destroy(),kn(e,"table")}};var Sh=class{constructor(e,t){var r,i,a,o,u,s,l,c,f,p;this.plugin=e,this.inputFieldParser=(r=t==null?void 0:t.inputFieldParser)!=null?r:new eh(e),this.viewFieldParser=(i=t==null?void 0:t.viewFieldParser)!=null?i:new sh(e),this.jsViewFieldParser=(a=t==null?void 0:t.jsViewFieldParser)!=null?a:new xh(e),this.buttonParser=(o=t==null?void 0:t.buttonParser)!=null?o:new bh(e),this.bindTargetParser=(u=t==null?void 0:t.bindTargetParser)!=null?u:new Pd(e),this.inputFieldFactory=(s=t==null?void 0:t.inputFieldFactory)!=null?s:new Jp(e),this.viewFieldFactory=(l=t==null?void 0:t.viewFieldFactory)!=null?l:new Id(e),this.buttonActionRunner=(c=t==null?void 0:t.buttonActionRunner)!=null?c:new cp(e),this.buttonManager=(f=t==null?void 0:t.buttonManager)!=null?f:new Sp(e),this.syntaxHighlighting=(p=t==null?void 0:t.syntaxHighlighting)!=null?p:new up(e)}createField(e,t,r,i=!0){if(Hr(ce.object({type:af,filePath:Vi,options:ce.any(),honorExcludedSetting:ce.boolean()}),{type:e,filePath:t,options:r,honorExcludedSetting:i}),this.plugin.internal.isFilePathExcluded(t)&&i)return this.createExcludedMountable(t);if(e==="INPUT")return this.createInputFieldMountable(t,r);if(e==="VIEW")return this.createViewFieldMountable(t,r);if(e==="JS_VIEW")return this.createJsViewFieldMountable(t,r);if(e==="TABLE")return this.createTableMountable(t,r);if(e==="BUTTON_GROUP")return this.createButtonGroupMountable(t,r);if(e==="BUTTON")return this.createButtonMountable(t,r);if(e==="EMBED")return this.createEmbedMountable(t,r);if(e==="EXCLUDED")return this.createExcludedMountable(t);throw new Error(`Unknown field type: ${e}`)}createInlineFieldFromString(e,t,r,i="inline",a,o=!0){Hr(ce.object({fieldString:ce.string(),filePath:Vi,scope:kl.optional(),renderChildType:Ol,honorExcludedSetting:ce.boolean()}),{fieldString:e,filePath:t,scope:r,renderChildType:i,honorExcludedSetting:o});let u=this.isInlineFieldDeclarationAndGetType(e);if(u===void 0)throw new Bt({errorLevel:"CRITICAL",effect:"failed to create inline field",cause:`Invalid inline mdrc type "${u}"`});return this.createInlineFieldOfTypeFromString(u,e,t,r,i,a,o)}createInlineFieldOfTypeFromString(e,t,r,i,a="inline",o,u=!0){if(Hr(ce.object({type:af,declaration:ce.string(),filePath:Vi,scope:kl.optional(),renderChildType:Ol,honorExcludedSetting:ce.boolean()}),{type:e,declaration:t,filePath:r,scope:i,renderChildType:a,honorExcludedSetting:u}),this.plugin.internal.isFilePathExcluded(r)&&u)return this.createExcludedMountable(r);if(e==="INPUT")return this.createInputFieldMountable(r,{renderChildType:a,declaration:t,scope:i});if(e==="VIEW")return this.createViewFieldMountable(r,{renderChildType:a,declaration:t,scope:i});if(e==="BUTTON_GROUP")return this.createButtonGroupMountable(r,{renderChildType:a,declaration:t,position:o});throw new Bt({errorLevel:"CRITICAL",effect:"failed to create inline field",cause:`Invalid inline mdrc type "${e}"`})}createInputFieldMountable(e,t){Hr(ce.object({filePath:Vi,options:c5}),{filePath:e,options:t});let r=Dr(),i;return typeof t.declaration=="string"?i=this.inputFieldParser.fromStringAndValidate(t.declaration,e,t.scope):i=this.inputFieldParser.fromSimpleDeclarationAndValidate(t.declaration,e,t.scope),new qu(this.plugin,r,e,t.renderChildType,i)}createViewFieldMountable(e,t){Hr(ce.object({filePath:Vi,options:f5}),{filePath:e,options:t});let r=Dr(),i;return typeof t.declaration=="string"?i=this.viewFieldParser.fromStringAndValidate(t.declaration,e,t.scope):i=this.viewFieldParser.fromSimpleDeclarationAndValidate(t.declaration,e,t.scope),new Qp(this.plugin,r,e,t.renderChildType,i)}createJsViewFieldMountable(e,t){Hr(ce.object({filePath:Vi,options:p5}),{filePath:e,options:t});let r=Dr(),i;return typeof t.declaration=="string"?i=this.jsViewFieldParser.fromStringAndValidate(t.declaration,e):i=this.jsViewFieldParser.fromSimpleDeclarationAndValidate(t.declaration,e),new Xp(this.plugin,r,e,i)}createTableMountable(e,t){Hr(ce.object({filePath:Vi,options:m5}),{filePath:e,options:t});let r=Dr();return new _h(this.plugin,r,e,t.bindTarget,t.tableHead,t.columns)}createButtonGroupMountable(e,t){Hr(ce.object({filePath:Vi,options:d5}),{filePath:e,options:t});let r=Dr(),i;return typeof t.declaration=="string"?i=this.buttonParser.fromGroupString(t.declaration):i=this.buttonParser.validateGroup(t.declaration),new Ep(this.plugin,r,e,i,t.renderChildType,t.position)}createButtonMountable(e,t){Hr(ce.object({filePath:Vi,options:h5}),{filePath:e,options:t});let r=Dr(),i;return typeof t.declaration=="string"?i=this.buttonParser.fromString(t.declaration):i=this.buttonParser.validate(t.declaration),new wp(this.plugin,r,e,i,t.position,t.isPreview)}createEmbedMountable(e,t){Hr(ce.object({filePath:Vi,options:g5}),{filePath:e,options:t});let r=Dr();return new uh(this.plugin,r,e,t.depth,t.content)}createExcludedMountable(e){Hr(ce.object({filePath:Vi}),{filePath:e});let t=Dr();return new lh(this.plugin,t,e)}getInlineFieldDeclarationPrefix(e){if(Hr(ce.object({fieldType:af}),{fieldType:e}),e==="INPUT")return"INPUT";if(e==="VIEW")return"VIEW";if(e==="BUTTON_GROUP")return"BUTTON";throw new Bt({errorLevel:"CRITICAL",effect:"failed to get declaration prefix",cause:`Invalid inline mdrc type "${e}"`})}isInlineFieldDeclaration(e,t){Hr(ce.object({fieldType:af,str:ce.string()}),{fieldType:e,str:t});let r=this.getInlineFieldDeclarationPrefix(e)+"[";return t.startsWith(r)&&t.endsWith("]")}isInlineFieldDeclarationAndGetType(e){if(Hr(ce.object({str:ce.string()}),{str:e}),!!e.endsWith("]"))for(let t of Object.values(Du)){if(!Pf(t))continue;let r=this.getInlineFieldDeclarationPrefix(t)+"[";if(e.startsWith(r))return t}}createSignal(e){return new Ir(e)}createBindTarget(e,t,r,i=!1){return Hr(ce.object({storageType:ce.string(),storagePath:ce.string(),property:ce.string().array(),listenToChildren:ce.boolean()}),{storageType:e,storagePath:t,property:r,listenToChildren:i}),{storageType:e,storagePath:t,storageProp:wh(r),listenToChildren:i}}parseBindTarget(e,t,r){return Hr(ce.object({declarationString:ce.string(),filePath:Vi,scope:kl.optional()}),{declarationString:e,filePath:t,scope:r}),this.bindTargetParser.fromStringAndValidate(e,t,r)}setMetadata(e,t){Hr(ce.object({bindTarget:Li}),{bindTarget:e}),this.plugin.metadataManager.write(t,e)}getMetadata(e){return Hr(ce.object({bindTarget:Li}),{bindTarget:e}),this.plugin.metadataManager.read(e)}updateMetadata(e,t){Hr(ce.object({bindTarget:Li,updateFn:ce.function().args(ce.any()).returns(ce.any())}),{bindTarget:e,updateFn:t});let r=this.plugin.metadataManager.read(e),i=t(r);this.plugin.metadataManager.write(i,e)}subscribeToMetadata(e,t,r){Hr(ce.object({bindTarget:Li,lifecycleHook:this.plugin.internal.getLifecycleHookValidator(),callback:ce.function().args(ce.any()).returns(ce.void())}),{bindTarget:e,lifecycleHook:t,callback:r});let i=Dr(),a=new Ir(void 0);a.registerListener({callback:r});let o=this.plugin.metadataManager.subscribe(i,a,e,()=>{a.unregisterAllListeners()});t.register(()=>{o.unsubscribe()})}createNotePosition(e,t){return Hr(ce.object({lineStart:ce.number(),lineEnd:ce.number()}),{lineStart:e,lineEnd:t}),new Fo({lineStart:e,lineEnd:t})}};var E5=require("@codemirror/view"),Ah=class extends E5.WidgetType{constructor(e,t,r,i,a){super(),this.type=e,this.content=t,this.filePath=r,this.parentComponent=i,this.plugin=a}eq(e){return e.content===this.content}toDOM(e){let t=document.createElement("span");t.addClass("cm-inline-code");let r=this.plugin.api.createInlineFieldOfTypeFromString(this.type,this.content,this.filePath,void 0);return this.renderChild=this.plugin.api.wrapInMDRC(r,t,this.parentComponent),t}destroy(e){var t;(t=this.renderChild)==null||t.unload(),super.destroy(e)}};var D5=require("obsidian"),Eh=class extends D5.MarkdownRenderChild{constructor(e,t,r){super(r),this.plugin=e,this.mountable=t,this.mountable.registerUnmountCb(()=>{this.unload()})}onload(){this.mountable.mount(this.containerEl),super.onload()}onunload(){this.mountable.isMounted()&&this.mountable.unmount(),super.onunload()}};function M5(n){return n.dependencyManager.checkDependency("dataview").api}function ys(n){return n.dependencyManager.checkDependency("js-engine").api}function qA(n){return n.dependencyManager.checkDependency("templater-obsidian").templater}var ere=ce.object({addChild:ce.function().args(ce.instanceof(N5.Component)).returns(ce.void())}),Dh=class extends Sh{constructor(e){super(e)}wrapInMDRC(e,t,r){Hr(ce.object({field:i5,containerEl:n5,component:ere}),{field:e,containerEl:t,component:r});let i=new Eh(this.plugin,e,t);return r.addChild(i),i}constructMDRCWidget(e,t,r,i){if(Pf(e))return new Ah(e,t,r,i,this.plugin);throw new Bt({errorLevel:"CRITICAL",effect:"failed to construct mdrc",cause:`Invalid inline mdrc type "${e}"`})}reactiveMetadata(e,t,r){Hr(ce.object({bindTargets:Li.array(),lifecycleHook:this.plugin.internal.getLifecycleHookValidator(),callback:ce.function()}),{bindTargets:e,lifecycleHook:t,callback:r});let i=ys(this.plugin),a=Dr(),o=new Ir(void 0),u=e.map(c=>({bindTarget:c,callbackSignal:new Ir(void 0)})),s,l=this.plugin.metadataManager.subscribeComputed(a,o,void 0,u,c=>s==null?void 0:s.refresh(...c),()=>{});return t.register(()=>l.unsubscribe()),s=i.reactive(r,...u.map(c=>c.callbackSignal.get())),s}};var Br=require("obsidian");var $a=class{constructor(e,t){this.plugin=e,this.selectCallback=t}onSelected(e){this.selectCallback(e)}};var Mh=class extends $a{getItemText(e){return e.name}getItems(){return this.plugin.internal.getAllCommands()}};var Nh=class extends $a{getItemText(e){return e}getItems(){return this.plugin.internal.getAllFiles()}};var Ch=class extends $a{getItemText(e){return e}getItems(){return this.plugin.internal.getAllFolders()}};function tre(n){Wi(n,"svelte-17mpvkc",".vertical.svelte-17mpvkc{flex-direction:column;align-items:flex-start;gap:var(--size-4-1)}.vertical-control.svelte-17mpvkc{flex-direction:column;align-items:flex-start;gap:var(--size-4-1);width:100%}")}function rre(n){var d,v;let e,t,r,i=((d=n[0])!=null?d:"")+"",a,o,u,s=((v=n[1])!=null?v:"")+"",l,c,f,p,m=n[5].default,h=pa(m,n,n[4],null);return{c(){e=K("div"),t=K("div"),r=K("div"),a=Ue(i),o=le(),u=K("div"),l=Ue(s),c=le(),f=K("div"),h&&h.c(),q(r,"class","setting-item-name"),q(u,"class","setting-item-description"),q(t,"class","setting-item-info"),q(f,"class","setting-item-control svelte-17mpvkc"),Ut(f,"vertical-control",n[3]),q(e,"class","setting-item svelte-17mpvkc"),Ut(e,"setting-item-heading",n[2]),Ut(e,"vertical",n[3])},m(y,_){Z(y,e,_),Q(e,t),Q(t,r),Q(r,a),Q(t,o),Q(t,u),Q(u,l),Q(e,c),Q(e,f),h&&h.m(f,null),p=!0},p(y,[_]){var b,w;(!p||_&1)&&i!==(i=((b=y[0])!=null?b:"")+"")&&mt(a,i),(!p||_&2)&&s!==(s=((w=y[1])!=null?w:"")+"")&&mt(l,s),h&&h.p&&(!p||_&16)&&da(h,m,y,y[4],p?ma(m,y[4],_,null):ha(y[4]),null),(!p||_&8)&&Ut(f,"vertical-control",y[3]),(!p||_&4)&&Ut(e,"setting-item-heading",y[2]),(!p||_&8)&&Ut(e,"vertical",y[3])},i(y){p||(Y(h,y),p=!0)},o(y){te(h,y),p=!1},d(y){y&&j(e),h&&h.d(y)}}}function nre(n,e,t){let{$$slots:r={},$$scope:i}=e,{name:a=void 0}=e,{description:o=void 0}=e,{heading:u=!1}=e,{vertical:s=!1}=e;return n.$$set=l=>{"name"in l&&t(0,a=l.name),"description"in l&&t(1,o=l.description),"heading"in l&&t(2,u=l.heading),"vertical"in l&&t(3,s=l.vertical),"$$scope"in l&&t(4,i=l.$$scope)},[a,o,u,s,i,r]}var zA=class extends Te{constructor(e){super(),Be(this,e,nre,rre,Pe,{name:0,description:1,heading:2,vertical:3},tre)}},Ht=zA;function ire(n){let e,t,r=n[1].default,i=pa(r,n,n[0],null);return{c(){e=K("div"),i&&i.c(),q(e,"class","modal-button-container")},m(a,o){Z(a,e,o),i&&i.m(e,null),t=!0},p(a,[o]){i&&i.p&&(!t||o&1)&&da(i,r,a,a[0],t?ma(r,a[0],o,null):ha(a[0]),null)},i(a){t||(Y(i,a),t=!0)},o(a){te(i,a),t=!1},d(a){a&&j(e),i&&i.d(a)}}}function are(n,e,t){let{$$slots:r={},$$scope:i}=e;return n.$$set=a=>{"$$scope"in a&&t(0,i=a.$$scope)},[i,r]}var $A=class extends Te{constructor(e){super(),Be(this,e,are,ire,Pe,{})}},Ha=$A;function ore(n){let e,t,r,i,a,o;return{c(){var u,s,l;e=K("div"),t=K("input"),q(t,"type","checkbox"),q(t,"tabindex","-1"),t.checked=r=(u=n[0])!=null?u:!1,q(e,"class","checkbox-container"),q(e,"role","switch"),q(e,"tabindex","0"),q(e,"aria-checked",i=(s=n[0])!=null?s:!1),Ut(e,"is-enabled",(l=n[0])!=null?l:!1)},m(u,s){Z(u,e,s),Q(e,t),a||(o=[Ee(e,"click",n[1]),Ee(e,"keydown",n[2])],a=!0)},p(u,[s]){var l,c,f;s&1&&r!==(r=(l=u[0])!=null?l:!1)&&(t.checked=r),s&1&&i!==(i=(c=u[0])!=null?c:!1)&&q(e,"aria-checked",i),s&1&&Ut(e,"is-enabled",(f=u[0])!=null?f:!1)},i:je,o:je,d(u){u&&j(e),a=!1,Dt(o)}}}function sre(n,e,t){let{checked:r}=e,i=()=>t(0,r=!r),a=o=>{o.key===" "&&t(0,r=!r)};return n.$$set=o=>{"checked"in o&&t(0,r=o.checked)},[r,i,a]}var HA=class extends Te{constructor(e){super(),Be(this,e,sre,ore,Pe,{checked:0})}},Ga=HA;function ure(n){let e;return{c(){e=Ue("Change")},m(t,r){Z(t,e,r)},d(t){t&&j(e)}}}function lre(n){let e,t;return e=new Mt({props:{variant:"primary",$$slots:{default:[ure]},$$scope:{ctx:n}}}),e.$on("click",n[4]),{c(){ge(e.$$.fragment)},m(r,i){de(e,r,i),t=!0},p(r,i){let a={};i&32&&(a.$$scope={dirty:i,ctx:r}),e.$set(a)},i(r){t||(Y(e.$$.fragment,r),t=!0)},o(r){te(e.$$.fragment,r),t=!1},d(r){he(e,r)}}}function cre(n){let e,t;return e=new Ht({props:{name:"Command: "+(n[0].command||"none"),description:"The command to execute when this action runs.",$$slots:{default:[lre]},$$scope:{ctx:n}}}),{c(){ge(e.$$.fragment)},m(r,i){de(e,r,i),t=!0},p(r,[i]){let a={};i&1&&(a.name="Command: "+(r[0].command||"none")),i&33&&(a.$$scope={dirty:i,ctx:r}),e.$set(a)},i(r){t||(Y(e.$$.fragment,r),t=!0)},o(r){te(e.$$.fragment,r),t=!1},d(r){he(e,r)}}}function fre(n,e,t){let{action:r}=e,{plugin:i}=e,{updateActions:a}=e;function o(s){s.type==="command"&&i.internal.openCommandSelectModal(l=>{s.command=l.id,a()})}let u=()=>o(r);return n.$$set=s=>{"action"in s&&t(0,r=s.action),"plugin"in s&&t(2,i=s.plugin),"updateActions"in s&&t(3,a=s.updateActions)},[r,o,i,a,u]}var GA=class extends Te{constructor(e){super(),Be(this,e,fre,cre,Pe,{action:0,plugin:2,updateActions:3})}},C5=GA;function pre(n){let e,t,r;return{c(){e=K("input"),q(e,"type","text"),q(e,"placeholder","someJsFile.js")},m(i,a){Z(i,e,a),$e(e,n[0].file),t||(r=Ee(e,"input",n[2]),t=!0)},p(i,a){a&1&&e.value!==i[0].file&&$e(e,i[0].file)},d(i){i&&j(e),t=!1,r()}}}function mre(n){let e,t;return e=new Ht({props:{name:"JS File",description:"The JavaScript file to run.",$$slots:{default:[pre]},$$scope:{ctx:n}}}),{c(){ge(e.$$.fragment)},m(r,i){de(e,r,i),t=!0},p(r,[i]){let a={};i&9&&(a.$$scope={dirty:i,ctx:r}),e.$set(a)},i(r){t||(Y(e.$$.fragment,r),t=!0)},o(r){te(e.$$.fragment,r),t=!1},d(r){he(e,r)}}}function dre(n,e,t){let{action:r}=e,{plugin:i}=e;function a(){r.file=this.value,t(0,r)}return n.$$set=o=>{"action"in o&&t(0,r=o.action),"plugin"in o&&t(1,i=o.plugin)},[r,i,a]}var WA=class extends Te{constructor(e){super(),Be(this,e,dre,mre,Pe,{action:0,plugin:1})}},T5=WA;function hre(n){let e,t,r;return{c(){e=K("input"),q(e,"type","text"),q(e,"placeholder","[[Some Note]] or https://www.example.com")},m(i,a){Z(i,e,a),$e(e,n[0].link),t||(r=Ee(e,"input",n[2]),t=!0)},p(i,a){a&1&&e.value!==i[0].link&&$e(e,i[0].link)},d(i){i&&j(e),t=!1,r()}}}function gre(n){let e,t,r;function i(o){n[3](o)}let a={};return n[0].newTab!==void 0&&(a.checked=n[0].newTab),e=new Ga({props:a}),Mr.push(()=>zn(e,"checked",i)),{c(){ge(e.$$.fragment)},m(o,u){de(e,o,u),r=!0},p(o,u){let s={};!t&&u&1&&(t=!0,s.checked=o[0].newTab,qn(()=>t=!1)),e.$set(s)},i(o){r||(Y(e.$$.fragment,o),r=!0)},o(o){te(e.$$.fragment,o),r=!1},d(o){he(e,o)}}}function vre(n){let e,t,r,i;return e=new Ht({props:{name:"Link",description:"The link to open.",$$slots:{default:[hre]},$$scope:{ctx:n}}}),r=new Ht({props:{name:"New Tab",description:"Whether to open the link in a new tab.",$$slots:{default:[gre]},$$scope:{ctx:n}}}),{c(){ge(e.$$.fragment),t=le(),ge(r.$$.fragment)},m(a,o){de(e,a,o),Z(a,t,o),de(r,a,o),i=!0},p(a,[o]){let u={};o&17&&(u.$$scope={dirty:o,ctx:a}),e.$set(u);let s={};o&17&&(s.$$scope={dirty:o,ctx:a}),r.$set(s)},i(a){i||(Y(e.$$.fragment,a),Y(r.$$.fragment,a),i=!0)},o(a){te(e.$$.fragment,a),te(r.$$.fragment,a),i=!1},d(a){a&&j(t),he(e,a),he(r,a)}}}function yre(n,e,t){let{action:r}=e,{plugin:i}=e;function a(){r.link=this.value,t(0,r)}function o(u){n.$$.not_equal(r.newTab,u)&&(r.newTab=u,t(0,r))}return n.$$set=u=>{"action"in u&&t(0,r=u.action),"plugin"in u&&t(1,i=u.plugin)},[r,i,a,o]}var YA=class extends Te{constructor(e){super(),Be(this,e,yre,vre,Pe,{action:0,plugin:1})}},F5=YA;function bre(n){let e,t,r;return{c(){e=K("input"),q(e,"type","text"),q(e,"placeholder","some text")},m(i,a){Z(i,e,a),$e(e,n[0].str),t||(r=Ee(e,"input",n[2]),t=!0)},p(i,a){a&1&&e.value!==i[0].str&&$e(e,i[0].str)},d(i){i&&j(e),t=!1,r()}}}function xre(n){let e,t;return e=new Ht({props:{name:"Text",description:"The text to input at the cursor.",$$slots:{default:[bre]},$$scope:{ctx:n}}}),{c(){ge(e.$$.fragment)},m(r,i){de(e,r,i),t=!0},p(r,[i]){let a={};i&9&&(a.$$scope={dirty:i,ctx:r}),e.$set(a)},i(r){t||(Y(e.$$.fragment,r),t=!0)},o(r){te(e.$$.fragment,r),t=!1},d(r){he(e,r)}}}function wre(n,e,t){let{action:r}=e,{plugin:i}=e;function a(){r.str=this.value,t(0,r)}return n.$$set=o=>{"action"in o&&t(0,r=o.action),"plugin"in o&&t(1,i=o.plugin)},[r,i,a]}var jA=class extends Te{constructor(e){super(),Be(this,e,wre,xre,Pe,{action:0,plugin:1})}},I5=jA;function _re(n){let e,t,r;return{c(){e=K("input"),q(e,"type","number"),q(e,"placeholder","100 ms")},m(i,a){Z(i,e,a),$e(e,n[0].ms),t||(r=Ee(e,"input",n[2]),t=!0)},p(i,a){a&1&&Un(e.value)!==i[0].ms&&$e(e,i[0].ms)},d(i){i&&j(e),t=!1,r()}}}function Sre(n){let e,t;return e=new Ht({props:{name:"Sleep Time",description:"The time to sleep in milliseconds.",$$slots:{default:[_re]},$$scope:{ctx:n}}}),{c(){ge(e.$$.fragment)},m(r,i){de(e,r,i),t=!0},p(r,[i]){let a={};i&9&&(a.$$scope={dirty:i,ctx:r}),e.$set(a)},i(r){t||(Y(e.$$.fragment,r),t=!0)},o(r){te(e.$$.fragment,r),t=!1},d(r){he(e,r)}}}function Are(n,e,t){let{action:r}=e,{plugin:i}=e;function a(){r.ms=Un(this.value),t(0,r)}return n.$$set=o=>{"action"in o&&t(0,r=o.action),"plugin"in o&&t(1,i=o.plugin)},[r,i,a]}var ZA=class extends Te{constructor(e){super(),Be(this,e,Are,Sre,Pe,{action:0,plugin:1})}},P5=ZA;function Ere(n){let e;return{c(){e=Ue("Change")},m(t,r){Z(t,e,r)},d(t){t&&j(e)}}}function Dre(n){let e,t;return e=new Mt({props:{variant:"primary",$$slots:{default:[Ere]},$$scope:{ctx:n}}}),e.$on("click",n[5]),{c(){ge(e.$$.fragment)},m(r,i){de(e,r,i),t=!0},p(r,i){let a={};i&512&&(a.$$scope={dirty:i,ctx:r}),e.$set(a)},i(r){t||(Y(e.$$.fragment,r),t=!0)},o(r){te(e.$$.fragment,r),t=!1},d(r){he(e,r)}}}function Mre(n){let e;return{c(){e=Ue("Change")},m(t,r){Z(t,e,r)},d(t){t&&j(e)}}}function Nre(n){let e,t;return e=new Mt({props:{variant:"primary",$$slots:{default:[Mre]},$$scope:{ctx:n}}}),e.$on("click",n[6]),{c(){ge(e.$$.fragment)},m(r,i){de(e,r,i),t=!0},p(r,i){let a={};i&512&&(a.$$scope={dirty:i,ctx:r}),e.$set(a)},i(r){t||(Y(e.$$.fragment,r),t=!0)},o(r){te(e.$$.fragment,r),t=!1},d(r){he(e,r)}}}function Cre(n){let e,t,r;return{c(){e=K("input"),q(e,"type","text"),q(e,"placeholder","some name")},m(i,a){Z(i,e,a),$e(e,n[0].fileName),t||(r=Ee(e,"input",n[7]),t=!0)},p(i,a){a&1&&e.value!==i[0].fileName&&$e(e,i[0].fileName)},d(i){i&&j(e),t=!1,r()}}}function Tre(n){let e,t,r;function i(o){n[8](o)}let a={};return n[0].openNote!==void 0&&(a.checked=n[0].openNote),e=new Ga({props:a}),Mr.push(()=>zn(e,"checked",i)),{c(){ge(e.$$.fragment)},m(o,u){de(e,o,u),r=!0},p(o,u){let s={};!t&&u&1&&(t=!0,s.checked=o[0].openNote,qn(()=>t=!1)),e.$set(s)},i(o){r||(Y(e.$$.fragment,o),r=!0)},o(o){te(e.$$.fragment,o),r=!1},d(o){he(e,o)}}}function Fre(n){let e,t,r,i,a,o,u,s;return e=new Ht({props:{name:"Template File: "+(n[0].templateFile||"none"),description:"The template file to create a new note of.",$$slots:{default:[Dre]},$$scope:{ctx:n}}}),r=new Ht({props:{name:"Folder: "+(n[0].folderPath||"none"),description:"The folder to create a new note in.",$$slots:{default:[Nre]},$$scope:{ctx:n}}}),a=new Ht({props:{name:"File Name: "+(n[0].fileName||"default"),description:"The file name of the new note.",$$slots:{default:[Cre]},$$scope:{ctx:n}}}),u=new Ht({props:{name:"Open Note",description:"Whether to open the new note after this action ran.",$$slots:{default:[Tre]},$$scope:{ctx:n}}}),{c(){ge(e.$$.fragment),t=le(),ge(r.$$.fragment),i=le(),ge(a.$$.fragment),o=le(),ge(u.$$.fragment)},m(l,c){de(e,l,c),Z(l,t,c),de(r,l,c),Z(l,i,c),de(a,l,c),Z(l,o,c),de(u,l,c),s=!0},p(l,[c]){let f={};c&1&&(f.name="Template File: "+(l[0].templateFile||"none")),c&513&&(f.$$scope={dirty:c,ctx:l}),e.$set(f);let p={};c&1&&(p.name="Folder: "+(l[0].folderPath||"none")),c&513&&(p.$$scope={dirty:c,ctx:l}),r.$set(p);let m={};c&1&&(m.name="File Name: "+(l[0].fileName||"default")),c&513&&(m.$$scope={dirty:c,ctx:l}),a.$set(m);let h={};c&513&&(h.$$scope={dirty:c,ctx:l}),u.$set(h)},i(l){s||(Y(e.$$.fragment,l),Y(r.$$.fragment,l),Y(a.$$.fragment,l),Y(u.$$.fragment,l),s=!0)},o(l){te(e.$$.fragment,l),te(r.$$.fragment,l),te(a.$$.fragment,l),te(u.$$.fragment,l),s=!1},d(l){l&&(j(t),j(i),j(o)),he(e,l),he(r,l),he(a,l),he(u,l)}}}function Ire(n,e,t){let{action:r}=e,{plugin:i}=e,{updateActions:a}=e;function o(p){p.type==="templaterCreateNote"&&i.internal.openFileSelectModal(m=>{p.templateFile=m,a()})}function u(p){p.type==="templaterCreateNote"&&i.internal.openFolderSelectModal(m=>{p.folderPath=m,a()})}let s=()=>o(r),l=()=>u(r);function c(){r.fileName=this.value,t(0,r)}function f(p){n.$$.not_equal(r.openNote,p)&&(r.openNote=p,t(0,r))}return n.$$set=p=>{"action"in p&&t(0,r=p.action),"plugin"in p&&t(3,i=p.plugin),"updateActions"in p&&t(4,a=p.updateActions)},[r,o,u,i,a,s,l,c,f]}var JA=class extends Te{constructor(e){super(),Be(this,e,Ire,Fre,Pe,{action:0,plugin:3,updateActions:4})}},B5=JA;function Pre(n){let e,t,r;return{c(){e=K("input"),q(e,"type","text"),q(e,"placeholder","some value")},m(i,a){Z(i,e,a),$e(e,n[0].bindTarget),t||(r=Ee(e,"input",n[2]),t=!0)},p(i,a){a&1&&e.value!==i[0].bindTarget&&$e(e,i[0].bindTarget)},d(i){i&&j(e),t=!1,r()}}}function Bre(n){let e,t,r;return{c(){e=K("input"),q(e,"type","text"),q(e,"placeholder","some value")},m(i,a){Z(i,e,a),$e(e,n[0].value),t||(r=Ee(e,"input",n[3]),t=!0)},p(i,a){a&1&&e.value!==i[0].value&&$e(e,i[0].value)},d(i){i&&j(e),t=!1,r()}}}function Ore(n){let e,t,r;function i(o){n[4](o)}let a={};return n[0].evaluate!==void 0&&(a.checked=n[0].evaluate),e=new Ga({props:a}),Mr.push(()=>zn(e,"checked",i)),{c(){ge(e.$$.fragment)},m(o,u){de(e,o,u),r=!0},p(o,u){let s={};!t&&u&1&&(t=!0,s.checked=o[0].evaluate,qn(()=>t=!1)),e.$set(s)},i(o){r||(Y(e.$$.fragment,o),r=!0)},o(o){te(e.$$.fragment,o),r=!1},d(o){he(e,o)}}}function kre(n){let e,t,r,i,a,o;return e=new Ht({props:{name:"Metadata Property",description:"The metadata property in form of a bind target.",$$slots:{default:[Pre]},$$scope:{ctx:n}}}),r=new Ht({props:{name:"Value",description:"The new value.",$$slots:{default:[Bre]},$$scope:{ctx:n}}}),a=new Ht({props:{name:"Evaluate",description:"Whether to evaluate the value as a JS expression.",$$slots:{default:[Ore]},$$scope:{ctx:n}}}),{c(){ge(e.$$.fragment),t=le(),ge(r.$$.fragment),i=le(),ge(a.$$.fragment)},m(u,s){de(e,u,s),Z(u,t,s),de(r,u,s),Z(u,i,s),de(a,u,s),o=!0},p(u,[s]){let l={};s&33&&(l.$$scope={dirty:s,ctx:u}),e.$set(l);let c={};s&33&&(c.$$scope={dirty:s,ctx:u}),r.$set(c);let f={};s&33&&(f.$$scope={dirty:s,ctx:u}),a.$set(f)},i(u){o||(Y(e.$$.fragment,u),Y(r.$$.fragment,u),Y(a.$$.fragment,u),o=!0)},o(u){te(e.$$.fragment,u),te(r.$$.fragment,u),te(a.$$.fragment,u),o=!1},d(u){u&&(j(t),j(i)),he(e,u),he(r,u),he(a,u)}}}function Rre(n,e,t){let{action:r}=e,{plugin:i}=e;function a(){r.bindTarget=this.value,t(0,r)}function o(){r.value=this.value,t(0,r)}function u(s){n.$$.not_equal(r.evaluate,s)&&(r.evaluate=s,t(0,r))}return n.$$set=s=>{"action"in s&&t(0,r=s.action),"plugin"in s&&t(1,i=s.plugin)},[r,i,a,o,u]}var XA=class extends Te{constructor(e){super(),Be(this,e,Rre,kre,Pe,{action:0,plugin:1})}},O5=XA;function Lre(n){let e;return{c(){e=Ue("Change")},m(t,r){Z(t,e,r)},d(t){t&&j(e)}}}function Vre(n){let e,t;return e=new Mt({props:{variant:"primary",$$slots:{default:[Lre]},$$scope:{ctx:n}}}),e.$on("click",n[4]),{c(){ge(e.$$.fragment)},m(r,i){de(e,r,i),t=!0},p(r,i){let a={};i&128&&(a.$$scope={dirty:i,ctx:r}),e.$set(a)},i(r){t||(Y(e.$$.fragment,r),t=!0)},o(r){te(e.$$.fragment,r),t=!1},d(r){he(e,r)}}}function Ure(n){let e,t,r;return{c(){e=K("input"),q(e,"type","text"),q(e,"placeholder","some name")},m(i,a){Z(i,e,a),$e(e,n[0].fileName),t||(r=Ee(e,"input",n[5]),t=!0)},p(i,a){a&1&&e.value!==i[0].fileName&&$e(e,i[0].fileName)},d(i){i&&j(e),t=!1,r()}}}function qre(n){let e,t,r;function i(o){n[6](o)}let a={};return n[0].openNote!==void 0&&(a.checked=n[0].openNote),e=new Ga({props:a}),Mr.push(()=>zn(e,"checked",i)),{c(){ge(e.$$.fragment)},m(o,u){de(e,o,u),r=!0},p(o,u){let s={};!t&&u&1&&(t=!0,s.checked=o[0].openNote,qn(()=>t=!1)),e.$set(s)},i(o){r||(Y(e.$$.fragment,o),r=!0)},o(o){te(e.$$.fragment,o),r=!1},d(o){he(e,o)}}}function zre(n){let e,t,r,i,a,o;return e=new Ht({props:{name:"Folder: "+(n[0].folderPath||"none"),description:"The folder to create a new note in.",$$slots:{default:[Vre]},$$scope:{ctx:n}}}),r=new Ht({props:{name:"File Name: "+(n[0].fileName||"default"),description:"The file name of the new note.",$$slots:{default:[Ure]},$$scope:{ctx:n}}}),a=new Ht({props:{name:"Open Note",description:"Whether to open the new note after this action ran.",$$slots:{default:[qre]},$$scope:{ctx:n}}}),{c(){ge(e.$$.fragment),t=le(),ge(r.$$.fragment),i=le(),ge(a.$$.fragment)},m(u,s){de(e,u,s),Z(u,t,s),de(r,u,s),Z(u,i,s),de(a,u,s),o=!0},p(u,[s]){let l={};s&1&&(l.name="Folder: "+(u[0].folderPath||"none")),s&129&&(l.$$scope={dirty:s,ctx:u}),e.$set(l);let c={};s&1&&(c.name="File Name: "+(u[0].fileName||"default")),s&129&&(c.$$scope={dirty:s,ctx:u}),r.$set(c);let f={};s&129&&(f.$$scope={dirty:s,ctx:u}),a.$set(f)},i(u){o||(Y(e.$$.fragment,u),Y(r.$$.fragment,u),Y(a.$$.fragment,u),o=!0)},o(u){te(e.$$.fragment,u),te(r.$$.fragment,u),te(a.$$.fragment,u),o=!1},d(u){u&&(j(t),j(i)),he(e,u),he(r,u),he(a,u)}}}function $re(n,e,t){let{action:r}=e,{plugin:i}=e,{updateActions:a}=e;function o(c){c.type==="createNote"&&i.internal.openFolderSelectModal(f=>{c.folderPath=f,a()})}let u=()=>o(r);function s(){r.fileName=this.value,t(0,r)}function l(c){n.$$.not_equal(r.openNote,c)&&(r.openNote=c,t(0,r))}return n.$$set=c=>{"action"in c&&t(0,r=c.action),"plugin"in c&&t(2,i=c.plugin),"updateActions"in c&&t(3,a=c.updateActions)},[r,o,i,a,u,s,l]}var QA=class extends Te{constructor(e){super(),Be(this,e,$re,zre,Pe,{action:0,plugin:2,updateActions:3})}},k5=QA;function Hre(n){let e,t,r;return{c(){e=K("input"),q(e,"type","number"),q(e,"placeholder","0")},m(i,a){Z(i,e,a),$e(e,n[0].fromLine),t||(r=Ee(e,"input",n[2]),t=!0)},p(i,a){a&1&&Un(e.value)!==i[0].fromLine&&$e(e,i[0].fromLine)},d(i){i&&j(e),t=!1,r()}}}function Gre(n){let e,t,r;return{c(){e=K("input"),q(e,"type","number"),q(e,"placeholder","0")},m(i,a){Z(i,e,a),$e(e,n[0].toLine),t||(r=Ee(e,"input",n[3]),t=!0)},p(i,a){a&1&&Un(e.value)!==i[0].toLine&&$e(e,i[0].toLine)},d(i){i&&j(e),t=!1,r()}}}function Wre(n){let e,t,r,i,a,o,u,s,l,c,f;return e=new Ht({props:{name:"Line From",description:"The line that marks the start of the area to replace.",$$slots:{default:[Hre]},$$scope:{ctx:n}}}),r=new Ht({props:{name:"Line To",description:"The line that marks the end of the area to replace.",$$slots:{default:[Gre]},$$scope:{ctx:n}}}),a=new Ht({props:{name:"Replacement Text",description:"The text to replace the note section."}}),{c(){ge(e.$$.fragment),t=le(),ge(r.$$.fragment),i=le(),ge(a.$$.fragment),o=le(),u=K("div"),s=K("textarea"),q(u,"class","meta-bind-full-width meta-bind-high")},m(p,m){de(e,p,m),Z(p,t,m),de(r,p,m),Z(p,i,m),de(a,p,m),Z(p,o,m),Z(p,u,m),Q(u,s),$e(s,n[0].replacement),l=!0,c||(f=Ee(s,"input",n[4]),c=!0)},p(p,[m]){let h={};m&33&&(h.$$scope={dirty:m,ctx:p}),e.$set(h);let d={};m&33&&(d.$$scope={dirty:m,ctx:p}),r.$set(d),m&1&&$e(s,p[0].replacement)},i(p){l||(Y(e.$$.fragment,p),Y(r.$$.fragment,p),Y(a.$$.fragment,p),l=!0)},o(p){te(e.$$.fragment,p),te(r.$$.fragment,p),te(a.$$.fragment,p),l=!1},d(p){p&&(j(t),j(i),j(o),j(u)),he(e,p),he(r,p),he(a,p),c=!1,f()}}}function Yre(n,e,t){let{action:r}=e,{plugin:i}=e;function a(){r.fromLine=Un(this.value),t(0,r)}function o(){r.toLine=Un(this.value),t(0,r)}function u(){r.replacement=this.value,t(0,r)}return n.$$set=s=>{"action"in s&&t(0,r=s.action),"plugin"in s&&t(1,i=s.plugin)},[r,i,a,o,u]}var KA=class extends Te{constructor(e){super(),Be(this,e,Yre,Wre,Pe,{action:0,plugin:1})}},R5=KA;function jre(n){let e,t,r;return{c(){e=K("input"),q(e,"type","text")},m(i,a){Z(i,e,a),$e(e,n[0].regexp),t||(r=Ee(e,"input",n[2]),t=!0)},p(i,a){a&1&&e.value!==i[0].regexp&&$e(e,i[0].regexp)},d(i){i&&j(e),t=!1,r()}}}function Zre(n){let e,t,r,i,a,o,u,s,l;return e=new Ht({props:{name:"Regexp",description:"The regexp to find replacements.",$$slots:{default:[jre]},$$scope:{ctx:n}}}),r=new Ht({props:{name:"Replacement Text",description:"The text to replace the button with."}}),{c(){ge(e.$$.fragment),t=le(),ge(r.$$.fragment),i=le(),a=K("div"),o=K("textarea"),q(a,"class","meta-bind-full-width meta-bind-high")},m(c,f){de(e,c,f),Z(c,t,f),de(r,c,f),Z(c,i,f),Z(c,a,f),Q(a,o),$e(o,n[0].replacement),u=!0,s||(l=Ee(o,"input",n[3]),s=!0)},p(c,[f]){let p={};f&17&&(p.$$scope={dirty:f,ctx:c}),e.$set(p),f&1&&$e(o,c[0].replacement)},i(c){u||(Y(e.$$.fragment,c),Y(r.$$.fragment,c),u=!0)},o(c){te(e.$$.fragment,c),te(r.$$.fragment,c),u=!1},d(c){c&&(j(t),j(i),j(a)),he(e,c),he(r,c),s=!1,l()}}}function Jre(n,e,t){let{action:r}=e,{plugin:i}=e;function a(){r.regexp=this.value,t(0,r)}function o(){r.replacement=this.value,t(0,r)}return n.$$set=u=>{"action"in u&&t(0,r=u.action),"plugin"in u&&t(1,i=u.plugin)},[r,i,a,o]}var eE=class extends Te{constructor(e){super(),Be(this,e,Jre,Zre,Pe,{action:0,plugin:1})}},L5=eE;function Xre(n){let e,t,r,i,a,o,u;return e=new Ht({props:{name:"Replacement Text",description:"The text to replace the match with."}}),{c(){ge(e.$$.fragment),t=le(),r=K("div"),i=K("textarea"),q(r,"class","meta-bind-full-width meta-bind-high")},m(s,l){de(e,s,l),Z(s,t,l),Z(s,r,l),Q(r,i),$e(i,n[0].replacement),a=!0,o||(u=Ee(i,"input",n[2]),o=!0)},p(s,[l]){l&1&&$e(i,s[0].replacement)},i(s){a||(Y(e.$$.fragment,s),a=!0)},o(s){te(e.$$.fragment,s),a=!1},d(s){s&&(j(t),j(r)),he(e,s),o=!1,u()}}}function Qre(n,e,t){let{action:r}=e,{plugin:i}=e;function a(){r.replacement=this.value,t(0,r)}return n.$$set=o=>{"action"in o&&t(0,r=o.action),"plugin"in o&&t(1,i=o.plugin)},[r,i,a]}var tE=class extends Te{constructor(e){super(),Be(this,e,Qre,Xre,Pe,{action:0,plugin:1})}},V5=tE;function Kre(n){let e,t,r;return{c(){e=K("input"),q(e,"type","number"),q(e,"placeholder","0")},m(i,a){Z(i,e,a),$e(e,n[0].line),t||(r=Ee(e,"input",n[2]),t=!0)},p(i,a){a&1&&Un(e.value)!==i[0].line&&$e(e,i[0].line)},d(i){i&&j(e),t=!1,r()}}}function ene(n){let e,t,r,i,a,o,u,s,l;return e=new Ht({props:{name:"Line",description:"The line number to insert at.",$$slots:{default:[Kre]},$$scope:{ctx:n}}}),r=new Ht({props:{name:"Text to Insert",description:"The text to insert into the note."}}),{c(){ge(e.$$.fragment),t=le(),ge(r.$$.fragment),i=le(),a=K("div"),o=K("textarea"),q(a,"class","meta-bind-full-width meta-bind-high")},m(c,f){de(e,c,f),Z(c,t,f),de(r,c,f),Z(c,i,f),Z(c,a,f),Q(a,o),$e(o,n[0].value),u=!0,s||(l=Ee(o,"input",n[3]),s=!0)},p(c,[f]){let p={};f&17&&(p.$$scope={dirty:f,ctx:c}),e.$set(p),f&1&&$e(o,c[0].value)},i(c){u||(Y(e.$$.fragment,c),Y(r.$$.fragment,c),u=!0)},o(c){te(e.$$.fragment,c),te(r.$$.fragment,c),u=!1},d(c){c&&(j(t),j(i),j(a)),he(e,c),he(r,c),s=!1,l()}}}function tne(n,e,t){let{action:r}=e,{plugin:i}=e;function a(){r.line=Un(this.value),t(0,r)}function o(){r.value=this.value,t(0,r)}return n.$$set=u=>{"action"in u&&t(0,r=u.action),"plugin"in u&&t(1,i=u.plugin)},[r,i,a,o]}var rE=class extends Te{constructor(e){super(),Be(this,e,tne,ene,Pe,{action:0,plugin:1})}},U5=rE;function rne(n){let e,t,r,i,a,o,u;return e=new Ht({props:{name:"JS Code",description:"The JavaScript code to run."}}),{c(){ge(e.$$.fragment),t=le(),r=K("div"),i=K("textarea"),q(r,"class","meta-bind-full-width meta-bind-high")},m(s,l){de(e,s,l),Z(s,t,l),Z(s,r,l),Q(r,i),$e(i,n[0].code),a=!0,o||(u=Ee(i,"input",n[2]),o=!0)},p(s,[l]){l&1&&$e(i,s[0].code)},i(s){a||(Y(e.$$.fragment,s),a=!0)},o(s){te(e.$$.fragment,s),a=!1},d(s){s&&(j(t),j(r)),he(e,s),o=!1,u()}}}function nne(n,e,t){let{action:r}=e,{plugin:i}=e;function a(){r.code=this.value,t(0,r)}return n.$$set=o=>{"action"in o&&t(0,r=o.action),"plugin"in o&&t(1,i=o.plugin)},[r,i,a]}var nE=class extends Te{constructor(e){super(),Be(this,e,nne,rne,Pe,{action:0,plugin:1})}},q5=nE;function ine(n){let e,t,r,i=n[3].default,a=pa(i,n,n[2],null);return{c(){e=K("div"),a&&a.c(),q(e,"class",t=(n[0]?"mb-flex-row-reverse ":"mb-flex-row ")+(n[1]?"mb-flex-row-stretch ":""))},m(o,u){Z(o,e,u),a&&a.m(e,null),r=!0},p(o,[u]){a&&a.p&&(!r||u&4)&&da(a,i,o,o[2],r?ma(i,o[2],u,null):ha(o[2]),null),(!r||u&3&&t!==(t=(o[0]?"mb-flex-row-reverse ":"mb-flex-row ")+(o[1]?"mb-flex-row-stretch ":"")))&&q(e,"class",t)},i(o){r||(Y(a,o),r=!0)},o(o){te(a,o),r=!1},d(o){o&&j(e),a&&a.d(o)}}}function ane(n,e,t){let{$$slots:r={},$$scope:i}=e,{reverse:a=!1}=e,{stretchChildren:o=!0}=e;return n.$$set=u=>{"reverse"in u&&t(0,a=u.reverse),"stretchChildren"in u&&t(1,o=u.stretchChildren),"$$scope"in u&&t(2,i=u.$$scope)},[a,o,i,r]}var iE=class extends Te{constructor(e){super(),Be(this,e,ane,ine,Pe,{reverse:0,stretchChildren:1})}},Rl=iE;function z5(n,e,t){let r=n.slice();return r[28]=e[t],r[30]=t,r}function $5(n,e,t){let r=n.slice();return r[31]=e[t],r}function H5(n,e,t){let r=n.slice();return r[31]=e[t],r}function one(n){let e,t,r;return{c(){e=K("input"),q(e,"type","text")},m(i,a){Z(i,e,a),$e(e,n[0].label),t||(r=Ee(e,"input",n[9]),t=!0)},p(i,a){a[0]&1&&e.value!==i[0].label&&$e(e,i[0].label)},d(i){i&&j(e),t=!1,r()}}}function sne(n){let e,t,r;return{c(){e=K("input"),q(e,"type","text")},m(i,a){Z(i,e,a),$e(e,n[0].icon),t||(r=Ee(e,"input",n[10]),t=!0)},p(i,a){a[0]&1&&e.value!==i[0].icon&&$e(e,i[0].icon)},d(i){i&&j(e),t=!1,r()}}}function G5(n){let e,t=n[31]+"",r,i;return{c(){e=K("option"),r=Ue(t),e.__value=i=n[31],$e(e,e.__value)},m(a,o){Z(a,e,o),Q(e,r)},p:je,d(a){a&&j(e)}}}function une(n){let e,t,r,i=ot(Object.values(on)),a=[];for(let o=0;o<i.length;o+=1)a[o]=G5(H5(n,i,o));return{c(){e=K("select");for(let o=0;o<a.length;o+=1)a[o].c();q(e,"class","dropdown"),n[0].style===void 0&&Ia(()=>n[11].call(e))},m(o,u){Z(o,e,u);for(let s=0;s<a.length;s+=1)a[s]&&a[s].m(e,null);Ro(e,n[0].style,!0),t||(r=Ee(e,"change",n[11]),t=!0)},p(o,u){if(u&0){i=ot(Object.values(on));let s;for(s=0;s<i.length;s+=1){let l=H5(o,i,s);a[s]?a[s].p(l,u):(a[s]=G5(l),a[s].c(),a[s].m(e,null))}for(;s<a.length;s+=1)a[s].d(1);a.length=i.length}u[0]&1&&Ro(e,o[0].style)},d(o){o&&j(e),Gt(a,o),t=!1,r()}}}function lne(n){let e,t,r;return{c(){e=K("input"),q(e,"type","text")},m(i,a){Z(i,e,a),$e(e,n[0].class),t||(r=Ee(e,"input",n[12]),t=!0)},p(i,a){a[0]&1&&e.value!==i[0].class&&$e(e,i[0].class)},d(i){i&&j(e),t=!1,r()}}}function cne(n){let e,t,r;return{c(){e=K("input"),q(e,"type","text")},m(i,a){Z(i,e,a),$e(e,n[0].tooltip),t||(r=Ee(e,"input",n[13]),t=!0)},p(i,a){a[0]&1&&e.value!==i[0].tooltip&&$e(e,i[0].tooltip)},d(i){i&&j(e),t=!1,r()}}}function fne(n){let e,t,r;return{c(){e=K("input"),q(e,"type","text")},m(i,a){Z(i,e,a),$e(e,n[0].id),t||(r=Ee(e,"input",n[14]),t=!0)},p(i,a){a[0]&1&&e.value!==i[0].id&&$e(e,i[0].id)},d(i){i&&j(e),t=!1,r()}}}function pne(n){let e,t,r;function i(o){n[15](o)}let a={};return n[0].hidden!==void 0&&(a.checked=n[0].hidden),e=new Ga({props:a}),Mr.push(()=>zn(e,"checked",i)),{c(){ge(e.$$.fragment)},m(o,u){de(e,o,u),r=!0},p(o,u){let s={};!t&&u[0]&1&&(t=!0,s.checked=o[0].hidden,qn(()=>t=!1)),e.$set(s)},i(o){r||(Y(e.$$.fragment,o),r=!0)},o(o){te(e.$$.fragment,o),r=!1},d(o){he(e,o)}}}function W5(n){let e,t=n[31]+"",r,i;return{c(){e=K("option"),r=Ue(t),e.__value=i=n[31],$e(e,e.__value)},m(a,o){Z(a,e,o),Q(e,r)},p:je,d(a){a&&j(e)}}}function mne(n){let e;return{c(){e=Ue("Add Action")},m(t,r){Z(t,e,r)},d(t){t&&j(e)}}}function dne(n){let e,t;return e=new Or({props:{iconName:"more-vertical",plugin:n[1]}}),{c(){ge(e.$$.fragment)},m(r,i){de(e,r,i),t=!0},p(r,i){let a={};i[0]&2&&(a.plugin=r[1]),e.$set(a)},i(r){t||(Y(e.$$.fragment,r),t=!0)},o(r){te(e.$$.fragment,r),t=!1},d(r){he(e,r)}}}function hne(n){let e,t=n[7](n[28].type)+"",r,i,a,o;function u(...s){return n[18](n[30],...s)}return a=new Mt({props:{variant:"plain",$$slots:{default:[dne]},$$scope:{ctx:n}}}),a.$on("click",u),{c(){e=K("h5"),r=Ue(t),i=le(),ge(a.$$.fragment)},m(s,l){Z(s,e,l),Q(e,r),Z(s,i,l),de(a,s,l),o=!0},p(s,l){n=s,(!o||l[0]&1)&&t!==(t=n[7](n[28].type)+"")&&mt(r,t);let c={};l[0]&2|l[1]&32&&(c.$$scope={dirty:l,ctx:n}),a.$set(c)},i(s){o||(Y(a.$$.fragment,s),o=!0)},o(s){te(a.$$.fragment,s),o=!1},d(s){s&&(j(e),j(i)),he(a,s)}}}function Y5(n){let e,t;return e=new C5({props:{action:n[28],plugin:n[1],updateActions:n[19]}}),{c(){ge(e.$$.fragment)},m(r,i){de(e,r,i),t=!0},p(r,i){let a={};i[0]&1&&(a.action=r[28]),i[0]&2&&(a.plugin=r[1]),e.$set(a)},i(r){t||(Y(e.$$.fragment,r),t=!0)},o(r){te(e.$$.fragment,r),t=!1},d(r){he(e,r)}}}function j5(n){let e,t;return e=new F5({props:{action:n[28],plugin:n[1]}}),{c(){ge(e.$$.fragment)},m(r,i){de(e,r,i),t=!0},p(r,i){let a={};i[0]&1&&(a.action=r[28]),i[0]&2&&(a.plugin=r[1]),e.$set(a)},i(r){t||(Y(e.$$.fragment,r),t=!0)},o(r){te(e.$$.fragment,r),t=!1},d(r){he(e,r)}}}function Z5(n){let e,t;return e=new T5({props:{action:n[28],plugin:n[1]}}),{c(){ge(e.$$.fragment)},m(r,i){de(e,r,i),t=!0},p(r,i){let a={};i[0]&1&&(a.action=r[28]),i[0]&2&&(a.plugin=r[1]),e.$set(a)},i(r){t||(Y(e.$$.fragment,r),t=!0)},o(r){te(e.$$.fragment,r),t=!1},d(r){he(e,r)}}}function J5(n){let e,t;return e=new I5({props:{action:n[28],plugin:n[1]}}),{c(){ge(e.$$.fragment)},m(r,i){de(e,r,i),t=!0},p(r,i){let a={};i[0]&1&&(a.action=r[28]),i[0]&2&&(a.plugin=r[1]),e.$set(a)},i(r){t||(Y(e.$$.fragment,r),t=!0)},o(r){te(e.$$.fragment,r),t=!1},d(r){he(e,r)}}}function X5(n){let e,t;return e=new P5({props:{action:n[28],plugin:n[1]}}),{c(){ge(e.$$.fragment)},m(r,i){de(e,r,i),t=!0},p(r,i){let a={};i[0]&1&&(a.action=r[28]),i[0]&2&&(a.plugin=r[1]),e.$set(a)},i(r){t||(Y(e.$$.fragment,r),t=!0)},o(r){te(e.$$.fragment,r),t=!1},d(r){he(e,r)}}}function Q5(n){let e,t;return e=new B5({props:{action:n[28],plugin:n[1],updateActions:n[20]}}),{c(){ge(e.$$.fragment)},m(r,i){de(e,r,i),t=!0},p(r,i){let a={};i[0]&1&&(a.action=r[28]),i[0]&2&&(a.plugin=r[1]),e.$set(a)},i(r){t||(Y(e.$$.fragment,r),t=!0)},o(r){te(e.$$.fragment,r),t=!1},d(r){he(e,r)}}}function K5(n){let e,t;return e=new O5({props:{action:n[28],plugin:n[1]}}),{c(){ge(e.$$.fragment)},m(r,i){de(e,r,i),t=!0},p(r,i){let a={};i[0]&1&&(a.action=r[28]),i[0]&2&&(a.plugin=r[1]),e.$set(a)},i(r){t||(Y(e.$$.fragment,r),t=!0)},o(r){te(e.$$.fragment,r),t=!1},d(r){he(e,r)}}}function e8(n){let e,t;return e=new k5({props:{action:n[28],plugin:n[1],updateActions:n[21]}}),{c(){ge(e.$$.fragment)},m(r,i){de(e,r,i),t=!0},p(r,i){let a={};i[0]&1&&(a.action=r[28]),i[0]&2&&(a.plugin=r[1]),e.$set(a)},i(r){t||(Y(e.$$.fragment,r),t=!0)},o(r){te(e.$$.fragment,r),t=!1},d(r){he(e,r)}}}function t8(n){let e,t;return e=new R5({props:{action:n[28],plugin:n[1]}}),{c(){ge(e.$$.fragment)},m(r,i){de(e,r,i),t=!0},p(r,i){let a={};i[0]&1&&(a.action=r[28]),i[0]&2&&(a.plugin=r[1]),e.$set(a)},i(r){t||(Y(e.$$.fragment,r),t=!0)},o(r){te(e.$$.fragment,r),t=!1},d(r){he(e,r)}}}function r8(n){let e,t;return e=new L5({props:{action:n[28],plugin:n[1]}}),{c(){ge(e.$$.fragment)},m(r,i){de(e,r,i),t=!0},p(r,i){let a={};i[0]&1&&(a.action=r[28]),i[0]&2&&(a.plugin=r[1]),e.$set(a)},i(r){t||(Y(e.$$.fragment,r),t=!0)},o(r){te(e.$$.fragment,r),t=!1},d(r){he(e,r)}}}function n8(n){let e,t;return e=new V5({props:{action:n[28],plugin:n[1]}}),{c(){ge(e.$$.fragment)},m(r,i){de(e,r,i),t=!0},p(r,i){let a={};i[0]&1&&(a.action=r[28]),i[0]&2&&(a.plugin=r[1]),e.$set(a)},i(r){t||(Y(e.$$.fragment,r),t=!0)},o(r){te(e.$$.fragment,r),t=!1},d(r){he(e,r)}}}function i8(n){let e,t;return e=new U5({props:{action:n[28],plugin:n[1]}}),{c(){ge(e.$$.fragment)},m(r,i){de(e,r,i),t=!0},p(r,i){let a={};i[0]&1&&(a.action=r[28]),i[0]&2&&(a.plugin=r[1]),e.$set(a)},i(r){t||(Y(e.$$.fragment,r),t=!0)},o(r){te(e.$$.fragment,r),t=!1},d(r){he(e,r)}}}function a8(n){let e,t;return e=new q5({props:{action:n[28],plugin:n[1]}}),{c(){ge(e.$$.fragment)},m(r,i){de(e,r,i),t=!0},p(r,i){let a={};i[0]&1&&(a.action=r[28]),i[0]&2&&(a.plugin=r[1]),e.$set(a)},i(r){t||(Y(e.$$.fragment,r),t=!0)},o(r){te(e.$$.fragment,r),t=!1},d(r){he(e,r)}}}function o8(n,e){let t,r,i,a,o,u,s,l,c,f,p,m,h,d,v,y,_;r=new Rl({props:{$$slots:{default:[hne]},$$scope:{ctx:e}}});let b=e[28].type==="command"&&Y5(e),w=e[28].type==="open"&&j5(e),S=e[28].type==="js"&&Z5(e),x=e[28].type==="input"&&J5(e),N=e[28].type==="sleep"&&X5(e),D=e[28].type==="templaterCreateNote"&&Q5(e),E=e[28].type==="updateMetadata"&&K5(e),M=e[28].type==="createNote"&&e8(e),P=e[28].type==="replaceInNote"&&t8(e),O=e[28].type==="regexpReplaceInNote"&&r8(e),V=e[28].type==="replaceSelf"&&n8(e),z=e[28].type==="insertIntoNote"&&i8(e),L=e[28].type==="inlineJS"&&a8(e);return{key:n,first:null,c(){t=yr(),ge(r.$$.fragment),i=le(),b&&b.c(),a=le(),w&&w.c(),o=le(),S&&S.c(),u=le(),x&&x.c(),s=le(),N&&N.c(),l=le(),D&&D.c(),c=le(),E&&E.c(),f=le(),M&&M.c(),p=le(),P&&P.c(),m=le(),O&&O.c(),h=le(),V&&V.c(),d=le(),z&&z.c(),v=le(),L&&L.c(),y=yr(),this.first=t},m(B,T){Z(B,t,T),de(r,B,T),Z(B,i,T),b&&b.m(B,T),Z(B,a,T),w&&w.m(B,T),Z(B,o,T),S&&S.m(B,T),Z(B,u,T),x&&x.m(B,T),Z(B,s,T),N&&N.m(B,T),Z(B,l,T),D&&D.m(B,T),Z(B,c,T),E&&E.m(B,T),Z(B,f,T),M&&M.m(B,T),Z(B,p,T),P&&P.m(B,T),Z(B,m,T),O&&O.m(B,T),Z(B,h,T),V&&V.m(B,T),Z(B,d,T),z&&z.m(B,T),Z(B,v,T),L&&L.m(B,T),Z(B,y,T),_=!0},p(B,T){e=B;let G={};T[0]&3|T[1]&32&&(G.$$scope={dirty:T,ctx:e}),r.$set(G),e[28].type==="command"?b?(b.p(e,T),T[0]&1&&Y(b,1)):(b=Y5(e),b.c(),Y(b,1),b.m(a.parentNode,a)):b&&(dt(),te(b,1,1,()=>{b=null}),ht()),e[28].type==="open"?w?(w.p(e,T),T[0]&1&&Y(w,1)):(w=j5(e),w.c(),Y(w,1),w.m(o.parentNode,o)):w&&(dt(),te(w,1,1,()=>{w=null}),ht()),e[28].type==="js"?S?(S.p(e,T),T[0]&1&&Y(S,1)):(S=Z5(e),S.c(),Y(S,1),S.m(u.parentNode,u)):S&&(dt(),te(S,1,1,()=>{S=null}),ht()),e[28].type==="input"?x?(x.p(e,T),T[0]&1&&Y(x,1)):(x=J5(e),x.c(),Y(x,1),x.m(s.parentNode,s)):x&&(dt(),te(x,1,1,()=>{x=null}),ht()),e[28].type==="sleep"?N?(N.p(e,T),T[0]&1&&Y(N,1)):(N=X5(e),N.c(),Y(N,1),N.m(l.parentNode,l)):N&&(dt(),te(N,1,1,()=>{N=null}),ht()),e[28].type==="templaterCreateNote"?D?(D.p(e,T),T[0]&1&&Y(D,1)):(D=Q5(e),D.c(),Y(D,1),D.m(c.parentNode,c)):D&&(dt(),te(D,1,1,()=>{D=null}),ht()),e[28].type==="updateMetadata"?E?(E.p(e,T),T[0]&1&&Y(E,1)):(E=K5(e),E.c(),Y(E,1),E.m(f.parentNode,f)):E&&(dt(),te(E,1,1,()=>{E=null}),ht()),e[28].type==="createNote"?M?(M.p(e,T),T[0]&1&&Y(M,1)):(M=e8(e),M.c(),Y(M,1),M.m(p.parentNode,p)):M&&(dt(),te(M,1,1,()=>{M=null}),ht()),e[28].type==="replaceInNote"?P?(P.p(e,T),T[0]&1&&Y(P,1)):(P=t8(e),P.c(),Y(P,1),P.m(m.parentNode,m)):P&&(dt(),te(P,1,1,()=>{P=null}),ht()),e[28].type==="regexpReplaceInNote"?O?(O.p(e,T),T[0]&1&&Y(O,1)):(O=r8(e),O.c(),Y(O,1),O.m(h.parentNode,h)):O&&(dt(),te(O,1,1,()=>{O=null}),ht()),e[28].type==="replaceSelf"?V?(V.p(e,T),T[0]&1&&Y(V,1)):(V=n8(e),V.c(),Y(V,1),V.m(d.parentNode,d)):V&&(dt(),te(V,1,1,()=>{V=null}),ht()),e[28].type==="insertIntoNote"?z?(z.p(e,T),T[0]&1&&Y(z,1)):(z=i8(e),z.c(),Y(z,1),z.m(v.parentNode,v)):z&&(dt(),te(z,1,1,()=>{z=null}),ht()),e[28].type==="inlineJS"?L?(L.p(e,T),T[0]&1&&Y(L,1)):(L=a8(e),L.c(),Y(L,1),L.m(y.parentNode,y)):L&&(dt(),te(L,1,1,()=>{L=null}),ht())},i(B){_||(Y(r.$$.fragment,B),Y(b),Y(w),Y(S),Y(x),Y(N),Y(D),Y(E),Y(M),Y(P),Y(O),Y(V),Y(z),Y(L),_=!0)},o(B){te(r.$$.fragment,B),te(b),te(w),te(S),te(x),te(N),te(D),te(E),te(M),te(P),te(O),te(V),te(z),te(L),_=!1},d(B){B&&(j(t),j(i),j(a),j(o),j(u),j(s),j(l),j(c),j(f),j(p),j(m),j(h),j(d),j(v),j(y)),he(r,B),b&&b.d(B),w&&w.d(B),S&&S.d(B),x&&x.d(B),N&&N.d(B),D&&D.d(B),E&&E.d(B),M&&M.d(B),P&&P.d(B),O&&O.d(B),V&&V.d(B),z&&z.d(B),L&&L.d(B)}}}function gne(n){let e=n[2].options.submitText+"",t;return{c(){t=Ue(e)},m(r,i){Z(r,t,i)},p(r,i){i[0]&4&&e!==(e=r[2].options.submitText+"")&&mt(t,e)},d(r){r&&j(t)}}}function vne(n){let e;return{c(){e=Ue("Cancel")},m(t,r){Z(t,e,r)},d(t){t&&j(e)}}}function yne(n){let e,t,r,i;return e=new Mt({props:{variant:"primary",$$slots:{default:[gne]},$$scope:{ctx:n}}}),e.$on("click",n[23]),r=new Mt({props:{variant:"default",$$slots:{default:[vne]},$$scope:{ctx:n}}}),r.$on("click",n[24]),{c(){ge(e.$$.fragment),t=le(),ge(r.$$.fragment)},m(a,o){de(e,a,o),Z(a,t,o),de(r,a,o),i=!0},p(a,o){let u={};o[0]&4|o[1]&32&&(u.$$scope={dirty:o,ctx:a}),e.$set(u);let s={};o[1]&32&&(s.$$scope={dirty:o,ctx:a}),r.$set(s)},i(a){i||(Y(e.$$.fragment,a),Y(r.$$.fragment,a),i=!0)},o(a){te(e.$$.fragment,a),te(r.$$.fragment,a),i=!1},d(a){a&&j(t),he(e,a),he(r,a)}}}function bne(n){var oe;let e,t,r,i,a,o,u,s,l,c,f,p,m,h,d,v,y,_,b,w,S=[],x=new Map,N,D,E,M,P,O,V,z,L;e=new Ht({props:{name:"Label",description:"The label shown on the button.",$$slots:{default:[one]},$$scope:{ctx:n}}}),r=new Ht({props:{name:"Icon",description:"The icon shown on the button. If left empty, no icon will show",$$slots:{default:[sne]},$$scope:{ctx:n}}}),a=new Ht({props:{name:"Style",description:"The style variant of the button",$$slots:{default:[une]},$$scope:{ctx:n}}}),u=new Ht({props:{name:"CSS Classes",description:"A list of CSS classes to add to the button. Multiple classes should be separated by a space.",$$slots:{default:[lne]},$$scope:{ctx:n}}}),l=new Ht({props:{name:"Tooltip",description:"A tooltip to show when hovering the button. If not set, the button label will be shown instead.",$$slots:{default:[cne]},$$scope:{ctx:n}}}),f=new Ht({props:{name:"ID",description:"An ID that allows the button to be referenced in inline buttons.",$$slots:{default:[fne]},$$scope:{ctx:n}}}),m=new Ht({props:{name:"Hidden",description:"Whether to not render this button. This can be useful when using inline buttons.",$$slots:{default:[pne]},$$scope:{ctx:n}}});let B=ot(Object.values(io)),T=[];for(let ee=0;ee<B.length;ee+=1)T[ee]=W5($5(n,B,ee));b=new Mt({props:{variant:"primary",$$slots:{default:[mne]},$$scope:{ctx:n}}}),b.$on("click",n[17]);let G=ot((oe=n[0].actions)!=null?oe:[]),R=ee=>ee[30];for(let ee=0;ee<G.length;ee+=1){let H=z5(n,G,ee),U=R(H);x.set(U,S[ee]=o8(U,H))}return O=new Ha({props:{$$slots:{default:[yne]},$$scope:{ctx:n}}}),{c(){ge(e.$$.fragment),t=le(),ge(r.$$.fragment),i=le(),ge(a.$$.fragment),o=le(),ge(u.$$.fragment),s=le(),ge(l.$$.fragment),c=le(),ge(f.$$.fragment),p=le(),ge(m.$$.fragment),h=le(),d=K("h4"),d.textContent="Actions",v=Ue(`

Add action of type
`),y=K("select");for(let ee=0;ee<T.length;ee+=1)T[ee].c();_=le(),ge(b.$$.fragment),w=le();for(let ee=0;ee<S.length;ee+=1)S[ee].c();N=le(),D=K("h4"),D.textContent="Preview",E=le(),M=K("div"),P=le(),ge(O.$$.fragment),q(y,"class","dropdown"),n[4]===void 0&&Ia(()=>n[16].call(y))},m(ee,H){de(e,ee,H),Z(ee,t,H),de(r,ee,H),Z(ee,i,H),de(a,ee,H),Z(ee,o,H),de(u,ee,H),Z(ee,s,H),de(l,ee,H),Z(ee,c,H),de(f,ee,H),Z(ee,p,H),de(m,ee,H),Z(ee,h,H),Z(ee,d,H),Z(ee,v,H),Z(ee,y,H);for(let U=0;U<T.length;U+=1)T[U]&&T[U].m(y,null);Ro(y,n[4],!0),Z(ee,_,H),de(b,ee,H),Z(ee,w,H);for(let U=0;U<S.length;U+=1)S[U]&&S[U].m(ee,H);Z(ee,N,H),Z(ee,D,H),Z(ee,E,H),Z(ee,M,H),n[22](M),Z(ee,P,H),de(O,ee,H),V=!0,z||(L=Ee(y,"change",n[16]),z=!0)},p(ee,H){var Me;let U={};H[0]&1|H[1]&32&&(U.$$scope={dirty:H,ctx:ee}),e.$set(U);let fe={};H[0]&1|H[1]&32&&(fe.$$scope={dirty:H,ctx:ee}),r.$set(fe);let De={};H[0]&1|H[1]&32&&(De.$$scope={dirty:H,ctx:ee}),a.$set(De);let me={};H[0]&1|H[1]&32&&(me.$$scope={dirty:H,ctx:ee}),u.$set(me);let ve={};H[0]&1|H[1]&32&&(ve.$$scope={dirty:H,ctx:ee}),l.$set(ve);let Ae={};H[0]&1|H[1]&32&&(Ae.$$scope={dirty:H,ctx:ee}),f.$set(Ae);let be={};if(H[0]&1|H[1]&32&&(be.$$scope={dirty:H,ctx:ee}),m.$set(be),H&0){B=ot(Object.values(io));let Ie;for(Ie=0;Ie<B.length;Ie+=1){let et=$5(ee,B,Ie);T[Ie]?T[Ie].p(et,H):(T[Ie]=W5(et),T[Ie].c(),T[Ie].m(y,null))}for(;Ie<T.length;Ie+=1)T[Ie].d(1);T.length=B.length}H[0]&16&&Ro(y,ee[4]);let we={};H[1]&32&&(we.$$scope={dirty:H,ctx:ee}),b.$set(we),H[0]&451&&(G=ot((Me=ee[0].actions)!=null?Me:[]),dt(),S=Uu(S,H,R,1,ee,G,x,N.parentNode,bp,o8,N,z5),ht());let Se={};H[0]&5|H[1]&32&&(Se.$$scope={dirty:H,ctx:ee}),O.$set(Se)},i(ee){if(!V){Y(e.$$.fragment,ee),Y(r.$$.fragment,ee),Y(a.$$.fragment,ee),Y(u.$$.fragment,ee),Y(l.$$.fragment,ee),Y(f.$$.fragment,ee),Y(m.$$.fragment,ee),Y(b.$$.fragment,ee);for(let H=0;H<G.length;H+=1)Y(S[H]);Y(O.$$.fragment,ee),V=!0}},o(ee){te(e.$$.fragment,ee),te(r.$$.fragment,ee),te(a.$$.fragment,ee),te(u.$$.fragment,ee),te(l.$$.fragment,ee),te(f.$$.fragment,ee),te(m.$$.fragment,ee),te(b.$$.fragment,ee);for(let H=0;H<S.length;H+=1)te(S[H]);te(O.$$.fragment,ee),V=!1},d(ee){ee&&(j(t),j(i),j(o),j(s),j(c),j(p),j(h),j(d),j(v),j(y),j(_),j(w),j(N),j(D),j(E),j(M),j(P)),he(e,ee),he(r,ee),he(a,ee),he(u,ee),he(l,ee),he(f,ee),he(m,ee),Gt(T,ee),he(b,ee);for(let H=0;H<S.length;H+=1)S[H].d(ee);n[22](null),he(O,ee),z=!1,L()}}}function xne(n,e,t){let{plugin:r}=e,{modal:i}=e,{buttonConfig:a}=e,o,u,s;Os(()=>{u==null||u.unmount()});function l(L,B){u==null||u.unmount(),B&&(lt.empty(B),u=new Vo(r,L,"","block",void 0,!0),u.mount(B))}function c(){var L;(L=a.actions)===null||L===void 0||L.push(r.api.buttonActionRunner.createDefaultAction(s)),t(0,a)}function f(L){var B;(B=a.actions)===null||B===void 0||B.splice(L,1),t(0,a)}function p(){t(0,a)}function m(L){return L==="command"?"Run a Command":L==="open"?"Open a Link":L==="js"?"Run a JavaScript File":L==="input"?"Insert Text at Cursor":L==="sleep"?"Sleep for Some Time":L==="templaterCreateNote"?"Create a New Note Using Templater":L==="updateMetadata"?"Update Metadata":L==="createNote"?"Create a New Note":L==="replaceInNote"?"Replace Text in Note":L==="regexpReplaceInNote"?"Replace Text in Note using Regexp":L==="replaceSelf"?"Replace Button with Text":L==="insertIntoNote"?"Insert Text into the Note":L==="inlineJS"?"Run JavaScript Code":"CHANGE ME"}function h(L,B){if(a.actions===void 0)return;let T=[];L>0&&T.push({name:"Move up",icon:"arrow-up",onclick:()=>{if(a.actions===void 0)return;let G=a.actions[L-1];t(0,a.actions[L-1]=a.actions[L],a),t(0,a.actions[L]=G,a)}}),L<a.actions.length-1&&T.push({name:"Move down",icon:"arrow-down",onclick:()=>{if(a.actions===void 0)return;let G=a.actions[L+1];t(0,a.actions[L+1]=a.actions[L],a),t(0,a.actions[L]=G,a)}}),T.push({name:"Remove",icon:"x",warning:!0,onclick:()=>f(L)}),r.internal.createContextMenu(T).showWithEvent(B)}function d(){a.label=this.value,t(0,a)}function v(){a.icon=this.value,t(0,a)}function y(){a.style=oc(this),t(0,a)}function _(){a.class=this.value,t(0,a)}function b(){a.tooltip=this.value,t(0,a)}function w(){a.id=this.value,t(0,a)}function S(L){n.$$.not_equal(a.hidden,L)&&(a.hidden=L,t(0,a))}function x(){s=oc(this),t(4,s)}let N=()=>c(),D=(L,B)=>h(L,B),E=()=>p(),M=()=>p(),P=()=>p();function O(L){Mr[L?"unshift":"push"](()=>{o=L,t(3,o)})}let V=()=>i.okay(a),z=()=>i.cancel();return n.$$set=L=>{"plugin"in L&&t(1,r=L.plugin),"modal"in L&&t(2,i=L.modal),"buttonConfig"in L&&t(0,a=L.buttonConfig)},n.$$.update=()=>{n.$$.dirty[0]&9&&l(a,o)},[a,r,i,o,s,c,p,m,h,d,v,y,_,b,w,S,x,N,D,E,M,P,O,V,z]}var aE=class extends Te{constructor(e){super(),Be(this,e,xne,bne,Pe,{plugin:1,modal:2,buttonConfig:0},null,[-1,-1])}},s8=aE;var Ll=class extends Vn{setModal(e){this.modal=e}closeModal(){if(this.modal!==void 0)this.modal.close();else throw new Bt({errorLevel:"CRITICAL",effect:"Failed to close modal.",cause:"Modal reference in ModalContent is undefined."})}};var Th=class extends Ll{constructor(e,t){super(),this.plugin=e,this.options=t}onMount(e){var t;lt.empty(e),this.component&&this.component.$destroy(),this.component=new s8({target:e,props:{plugin:this.plugin,modal:this,buttonConfig:(t=this.options.config)!=null?t:this.plugin.api.buttonActionRunner.createDefaultButtonConfig()}})}onUnmount(e){lt.empty(e),this.component&&this.component.$destroy()}okay(e){this.closeModal(),this.options.onOkay(e)}cancel(){this.closeModal()}};var du=class extends Ll{constructor(e){super(),this.createComponent=e}onMount(e){lt.empty(e),this.component=this.createComponent(this,e)}onUnmount(e){var t;(t=this.component)==null||t.$destroy(),lt.empty(e)}};var c8=hr(tc());function wne(n){Wi(n,"svelte-12l82wb",".calendar.svelte-12l82wb{margin-top:10px}.calendar-header.svelte-12l82wb{display:flex;justify-content:space-around;flex-wrap:wrap;gap:var(--size-4-1);background:var(--background-secondary);border-radius:var(--mb-border-radius);margin-bottom:var(--size-4-1)}.calendar-content.svelte-12l82wb{display:grid;flex-wrap:wrap;grid-template-columns:repeat(7, 1fr);gap:var(--size-4-1)}.cell.svelte-12l82wb{min-width:40px;padding:var(--size-4-2);display:flex;justify-content:center;align-items:center;border-radius:var(--mb-border-radius)}.content-cell.svelte-12l82wb{cursor:pointer}.cell-text.svelte-12l82wb{margin:auto;text-align:center}.selected.svelte-12l82wb{background:var(--interactive-accent);color:var(--text-on-accent)}.highlight.svelte-12l82wb:hover{background:var(--interactive-hover)}.selected.highlight.svelte-12l82wb:hover{background:var(--interactive-accent-hover)}")}function u8(n,e,t){let r=n.slice();return r[10]=e[t],r}function _ne(n,e,t){let r=n.slice();return r[13]=e[t],r}function Sne(n){let e,t,r;return{c(){e=K("div"),t=K("span"),t.textContent=`${n[13]}`,r=le(),q(t,"class","cell-text svelte-12l82wb"),q(e,"class","cell header-cell svelte-12l82wb")},m(i,a){Z(i,e,a),Q(e,t),Q(e,r)},p:je,d(i){i&&j(e)}}}function l8(n,e){let t,r,i=(e[10]||"")+"",a,o,u,s;function l(){return e[6](e[10])}function c(...f){return e[7](e[10],...f)}return{key:n,first:null,c(){var f,p,m;t=K("div"),r=K("span"),a=Ue(i),o=le(),q(r,"class","cell-text svelte-12l82wb"),q(t,"class","cell svelte-12l82wb"),q(t,"role","button"),q(t,"tabindex","0"),Ut(t,"highlight",e[10]),Ut(t,"content-cell",e[10]),Ut(t,"selected",((f=e[0])==null?void 0:f.year())===e[2]&&((p=e[0])==null?void 0:p.month())===e[1]&&((m=e[0])==null?void 0:m.date())===e[10]),this.first=t},m(f,p){Z(f,t,p),Q(t,r),Q(r,a),Q(t,o),u||(s=[Ee(t,"click",l),Ee(t,"keydown",c)],u=!0)},p(f,p){var m,h,d;e=f,p&8&&i!==(i=(e[10]||"")+"")&&mt(a,i),p&8&&Ut(t,"highlight",e[10]),p&8&&Ut(t,"content-cell",e[10]),p&15&&Ut(t,"selected",((m=e[0])==null?void 0:m.year())===e[2]&&((h=e[0])==null?void 0:h.month())===e[1]&&((d=e[0])==null?void 0:d.date())===e[10])},d(f){f&&j(t),u=!1,Dt(s)}}}function Ane(n){let e,t,r,i,a=[],o=new Map,u=ot(DD()),s=[];for(let f=0;f<u.length;f+=1)s[f]=Sne(_ne(n,u,f));let l=ot(n[3]),c=f=>MD();for(let f=0;f<l.length;f+=1){let p=u8(n,l,f),m=c(p);o.set(m,a[f]=l8(m,p))}return{c(){e=K("div"),t=K("div");for(let f=0;f<s.length;f+=1)s[f].c();r=le(),i=K("div");for(let f=0;f<a.length;f+=1)a[f].c();q(t,"class","calendar-header svelte-12l82wb"),q(i,"class","calendar-content svelte-12l82wb"),q(e,"class","calendar svelte-12l82wb")},m(f,p){Z(f,e,p),Q(e,t);for(let m=0;m<s.length;m+=1)s[m]&&s[m].m(t,null);Q(e,r),Q(e,i);for(let m=0;m<a.length;m+=1)a[m]&&a[m].m(i,null)},p(f,[p]){p&63&&(l=ot(f[3]),a=Uu(a,p,c,1,f,l,o,i,fM,l8,null,u8))},i:je,o:je,d(f){f&&j(e),Gt(s,f);for(let p=0;p<a.length;p+=1)a[p].d()}}}function Ene(n,e,t){let r=ks(),{selectedDate:i}=e,{month:a}=e,{year:o}=e,u;function s(m){r("dateChange",(0,c8.default)(new Date(o,a,m)))}function l(m){m&&s(m)}function c(m,h){m.key===" "&&l(h)}let f=m=>l(m),p=(m,h)=>c(h,m);return n.$$set=m=>{"selectedDate"in m&&t(0,i=m.selectedDate),"month"in m&&t(1,a=m.month),"year"in m&&t(2,o=m.year)},n.$$.update=()=>{n.$$.dirty&6&&t(3,u=ED(a,o))},[i,a,o,u,l,c,f,p]}var oE=class extends Te{constructor(e){super(),Be(this,e,Ene,Ane,Pe,{selectedDate:0,month:1,year:2},wne)}},f8=oE;var Fh=hr(tc());function Dne(n){Wi(n,"svelte-berpp6",".date-picker.svelte-berpp6{display:block;padding:var(--size-4-4)}.date-picker-header.svelte-berpp6{display:flex;gap:var(--size-4-2);align-items:center;justify-content:space-around}.date-picker-header-text.svelte-berpp6{flex:1;text-align:center;display:flex;gap:var(--size-4-2);align-items:center;justify-content:center;width:min-content}.date-picker-header-text-year.svelte-berpp6{width:60px;padding:var(--size-4-2)}.date-picker-header-text-month.svelte-berpp6{height:min-content}.month-switch-button.svelte-berpp6{margin:0}.date-picker-footer.svelte-berpp6{display:flex;gap:var(--size-4-2);align-items:center;justify-content:center}.none-button.svelte-berpp6{margin:0}")}function Mne(n){let e,t,r,i,a,o,u=Ig(n[1])+"",s,l,c,f,p,m,h,d,v,y,_,b,w,S,x,N;return d=new f8({props:{month:n[1],year:n[2],selectedDate:n[0]}}),d.$on("dateChange",n[6]),{c(){e=K("div"),t=K("div"),r=K("button"),r.textContent="Prev",i=le(),a=K("div"),o=K("span"),s=Ue(u),l=le(),c=K("input"),p=le(),m=K("button"),m.textContent="Next",h=le(),ge(d.$$.fragment),v=le(),y=K("div"),_=K("button"),_.textContent="Set no Date",b=le(),w=K("button"),w.textContent="Set to Now",q(r,"class","month-switch-button svelte-berpp6"),q(o,"class","date-picker-header-text-month svelte-berpp6"),q(c,"class","date-picker-header-text-year svelte-berpp6"),q(c,"type","number"),c.value=f=n[2].toString(),q(a,"class","date-picker-header-text svelte-berpp6"),q(m,"class","month-switch-button svelte-berpp6"),q(t,"class","date-picker-header svelte-berpp6"),q(_,"class","none-button svelte-berpp6"),q(w,"class","none-button svelte-berpp6"),q(y,"class","date-picker-footer svelte-berpp6"),q(e,"class","date-picker svelte-berpp6")},m(D,E){Z(D,e,E),Q(e,t),Q(t,r),Q(t,i),Q(t,a),Q(a,o),Q(o,s),Q(a,l),Q(a,c),Q(t,p),Q(t,m),Q(e,h),de(d,e,null),Q(e,v),Q(e,y),Q(y,_),Q(y,b),Q(y,w),S=!0,x||(N=[Ee(r,"click",n[4]),Ee(c,"input",n[5]),Ee(m,"click",n[3]),Ee(_,"click",n[7]),Ee(w,"click",n[8])],x=!0)},p(D,[E]){(!S||E&2)&&u!==(u=Ig(D[1])+"")&&mt(s,u),(!S||E&4&&f!==(f=D[2].toString())&&c.value!==f)&&(c.value=f);let M={};E&2&&(M.month=D[1]),E&4&&(M.year=D[2]),E&1&&(M.selectedDate=D[0]),d.$set(M)},i(D){S||(Y(d.$$.fragment,D),S=!0)},o(D){te(d.$$.fragment,D),S=!1},d(D){D&&j(e),he(d),x=!1,Dt(N)}}}function Nne(n,e,t){let{selectedDate:r=(0,Fh.default)()}=e,{dateChangeCallback:i}=e,a,o;function u(){if(a===11){t(1,a=0),t(2,o+=1);return}t(1,a=a+1)}function s(){if(a===0){t(1,a=11),t(2,o-=1);return}t(1,a-=1)}function l(m){let h=m.target.value,d=Number.parseInt(h);Number.isNaN(d)||t(2,o=d)}function c(m){t(0,r=m.detail),i(m.detail)}function f(){t(0,r=null),i(null)}function p(){t(0,r=(0,Fh.default)()),i(r)}return n.$$set=m=>{"selectedDate"in m&&t(0,r=m.selectedDate),"dateChangeCallback"in m&&t(9,i=m.dateChangeCallback)},n.$$.update=()=>{if(n.$$.dirty&1)if(r)t(1,a=r.month()),t(2,o=r.year());else{let m=(0,Fh.default)();t(1,a=m.month()),t(2,o=m.year())}},[r,a,o,u,s,l,c,f,p,i]}var sE=class extends Te{constructor(e){super(),Be(this,e,Nne,Mne,Pe,{selectedDate:0,dateChangeCallback:9},Dne)}},p8=sE;function Cne(n){let e,t,r,i,a,o,u,s,l;return{c(){e=K("div"),t=K("img"),i=le(),a=K("div"),o=K("span"),u=Ue(n[1]),q(t,"class","mb-image-card-image"),Gi(t.src,r=n[0].internal.imagePathToUri(n[1]))||q(t,"src",r),q(t,"alt",n[1]),q(a,"class","mb-image-card-footer"),q(e,"class","mb-image-card"),q(e,"role","button"),q(e,"tabindex","0")},m(c,f){Z(c,e,f),Q(e,t),Q(e,i),Q(e,a),Q(a,o),Q(o,u),s||(l=[Ee(e,"click",n[4]),Ee(e,"keydown",n[5])],s=!0)},p(c,[f]){f&3&&!Gi(t.src,r=c[0].internal.imagePathToUri(c[1]))&&q(t,"src",r),f&2&&q(t,"alt",c[1]),f&2&&mt(u,c[1])},i:je,o:je,d(c){c&&j(e),s=!1,Dt(l)}}}function Tne(n,e,t){let{plugin:r}=e,{image:i}=e,{onSelect:a}=e;function o(l,c){l.key===" "&&a(c)}let u=()=>a(i),s=l=>o(l,i);return n.$$set=l=>{"plugin"in l&&t(0,r=l.plugin),"image"in l&&t(1,i=l.image),"onSelect"in l&&t(2,a=l.onSelect)},[r,i,a,o,u,s]}var uE=class extends Te{constructor(e){super(),Be(this,e,Tne,Cne,Pe,{plugin:0,image:1,onSelect:2})}},m8=uE;function d8(n,e,t){let r=n.slice();return r[8]=e[t],r}function h8(n){let e,t;return e=new m8({props:{plugin:n[0],image:n[8].value,onSelect:n[1]}}),{c(){ge(e.$$.fragment)},m(r,i){de(e,r,i),t=!0},p(r,i){let a={};i&1&&(a.plugin=r[0]),i&8&&(a.image=r[8].value),i&2&&(a.onSelect=r[1]),e.$set(a)},i(r){t||(Y(e.$$.fragment,r),t=!0)},o(r){te(e.$$.fragment,r),t=!1},d(r){he(e,r)}}}function Fne(n){let e,t,r,i,a,o,u,s=ot(n[3]),l=[];for(let f=0;f<s.length;f+=1)l[f]=h8(d8(n,s,f));let c=f=>te(l[f],1,1,()=>{l[f]=null});return{c(){e=K("div"),t=K("input"),r=le(),i=K("div");for(let f=0;f<l.length;f+=1)l[f].c();q(t,"type","text"),q(t,"placeholder","Search Images..."),q(e,"class","mb-image-search-container"),q(i,"class","mb-image-card-grid")},m(f,p){Z(f,e,p),Q(e,t),$e(t,n[2]),Z(f,r,p),Z(f,i,p);for(let m=0;m<l.length;m+=1)l[m]&&l[m].m(i,null);a=!0,o||(u=Ee(t,"input",n[5]),o=!0)},p(f,[p]){if(p&4&&t.value!==f[2]&&$e(t,f[2]),p&11){s=ot(f[3]);let m;for(m=0;m<s.length;m+=1){let h=d8(f,s,m);l[m]?(l[m].p(h,p),Y(l[m],1)):(l[m]=h8(h),l[m].c(),Y(l[m],1),l[m].m(i,null))}for(dt(),m=s.length;m<l.length;m+=1)c(m);ht()}},i(f){if(!a){for(let p=0;p<s.length;p+=1)Y(l[p]);a=!0}},o(f){l=l.filter(Boolean);for(let p=0;p<l.length;p+=1)te(l[p]);a=!1},d(f){f&&(j(e),j(r),j(i)),Gt(l,f),o=!1,u()}}}function Ine(n,e,t){let{plugin:r}=e,{options:i}=e,{onSelect:a}=e,o="",u,s=r.internal.createFuzzySearch();function l(f){if(!f){t(3,u=i);return}s.setSearch(f),t(3,u=s.filterItems(i,p=>p.value))}function c(){o=this.value,t(2,o)}return n.$$set=f=>{"plugin"in f&&t(0,r=f.plugin),"options"in f&&t(4,i=f.options),"onSelect"in f&&t(1,a=f.onSelect)},n.$$.update=()=>{n.$$.dirty&4&&l(o)},[r,a,o,u,i,c]}var lE=class extends Te{constructor(e){super(),Be(this,e,Ine,Fne,Pe,{plugin:0,options:4,onSelect:1})}},g8=lE;function v8(n,e,t){let r=n.slice();return r[1]=e[t],r}function Pne(n){let e,t,r,i=n[0].stack+"",a;return{c(){e=K("div"),t=K("pre"),r=K("code"),a=Ue(i),q(r,"class","language-none mb-none"),q(t,"class","mb-pre"),q(e,"class","mb-card")},m(o,u){Z(o,e,u),Q(e,t),Q(t,r),Q(r,a)},p(o,u){u&1&&i!==(i=o[0].stack+"")&&mt(a,i)},d(o){o&&j(e)}}}function Bne(n){let e,t,r,i=n[0].errorLevel+"",a,o,u=n[0].getErrorType()+"",s,l,c,f,p=n[0].effect+"",m,h,d,v,y,_,b,w,S,x=n[0].cause+"",N,D,E,M,P,O,V=n[0].effect+"",z,L,B,T,G=n[0].positionContext&&y8(n),R=n[0].tip&&b8(n),oe=n[0].docs&&x8(n),ee=n[0].context&&_8(n);return{c(){e=K("div"),t=K("h6"),r=K("span"),a=Ue(i),o=Ue(`
				[`),s=Ue(u),l=Ue("]"),f=Ue(`
			- `),m=Ue(p),h=le(),G&&G.c(),d=le(),v=K("table"),y=K("tbody"),_=K("tr"),b=K("td"),b.textContent="Cause",w=le(),S=K("td"),N=Ue(x),D=le(),E=K("tr"),M=K("td"),M.textContent="Effect",P=le(),O=K("td"),z=Ue(V),L=le(),R&&R.c(),B=le(),oe&&oe.c(),T=le(),ee&&ee.c(),q(r,"class",c=n[0].errorLevel==="WARNING"?"mb-warning-text":"mb-error-text"),q(e,"class","mb-card mb-card-full-width markdown-rendered")},m(H,U){Z(H,e,U),Q(e,t),Q(t,r),Q(r,a),Q(r,o),Q(r,s),Q(r,l),Q(t,f),Q(t,m),Q(e,h),G&&G.m(e,null),Q(e,d),Q(e,v),Q(v,y),Q(y,_),Q(_,b),Q(_,w),Q(_,S),Q(S,N),Q(y,D),Q(y,E),Q(E,M),Q(E,P),Q(E,O),Q(O,z),Q(y,L),R&&R.m(y,null),Q(y,B),oe&&oe.m(y,null),Q(y,T),ee&&ee.m(y,null)},p(H,U){U&1&&i!==(i=H[0].errorLevel+"")&&mt(a,i),U&1&&u!==(u=H[0].getErrorType()+"")&&mt(s,u),U&1&&c!==(c=H[0].errorLevel==="WARNING"?"mb-warning-text":"mb-error-text")&&q(r,"class",c),U&1&&p!==(p=H[0].effect+"")&&mt(m,p),H[0].positionContext?G?G.p(H,U):(G=y8(H),G.c(),G.m(e,d)):G&&(G.d(1),G=null),U&1&&x!==(x=H[0].cause+"")&&mt(N,x),U&1&&V!==(V=H[0].effect+"")&&mt(z,V),H[0].tip?R?R.p(H,U):(R=b8(H),R.c(),R.m(y,B)):R&&(R.d(1),R=null),H[0].docs?oe?oe.p(H,U):(oe=x8(H),oe.c(),oe.m(y,T)):oe&&(oe.d(1),oe=null),H[0].context?ee?ee.p(H,U):(ee=_8(H),ee.c(),ee.m(y,null)):ee&&(ee.d(1),ee=null)},d(H){H&&j(e),G&&G.d(),R&&R.d(),oe&&oe.d(),ee&&ee.d()}}}function y8(n){let e,t,r=n[0].positionContext+"",i;return{c(){e=K("pre"),t=K("code"),i=Ue(r),q(t,"class","language-none mb-none"),q(e,"class","mb-pre")},m(a,o){Z(a,e,o),Q(e,t),Q(t,i)},p(a,o){o&1&&r!==(r=a[0].positionContext+"")&&mt(i,r)},d(a){a&&j(e)}}}function b8(n){let e,t,r,i,a=n[0].tip+"",o;return{c(){e=K("tr"),t=K("td"),t.textContent="Tip",r=le(),i=K("td"),o=Ue(a)},m(u,s){Z(u,e,s),Q(e,t),Q(e,r),Q(e,i),Q(i,o)},p(u,s){s&1&&a!==(a=u[0].tip+"")&&mt(o,a)},d(u){u&&j(e)}}}function x8(n){let e,t,r,i,a=ot(n[0].docs),o=[];for(let u=0;u<a.length;u+=1)o[u]=w8(v8(n,a,u));return{c(){e=K("tr"),t=K("td"),t.textContent="Docs",r=le(),i=K("td");for(let u=0;u<o.length;u+=1)o[u].c()},m(u,s){Z(u,e,s),Q(e,t),Q(e,r),Q(e,i);for(let l=0;l<o.length;l+=1)o[l]&&o[l].m(i,null)},p(u,s){if(s&1){a=ot(u[0].docs);let l;for(l=0;l<a.length;l+=1){let c=v8(u,a,l);o[l]?o[l].p(c,s):(o[l]=w8(c),o[l].c(),o[l].m(i,null))}for(;l<o.length;l+=1)o[l].d(1);o.length=a.length}},d(u){u&&j(e),Gt(o,u)}}}function w8(n){let e,t=n[1]+"",r,i,a;return{c(){e=K("a"),r=Ue(t),a=K("br"),q(e,"href",i=n[1])},m(o,u){Z(o,e,u),Q(e,r),Z(o,a,u)},p(o,u){u&1&&t!==(t=o[1]+"")&&mt(r,t),u&1&&i!==(i=o[1])&&q(e,"href",i)},d(o){o&&(j(e),j(a))}}}function _8(n){let e,t,r,i,a,o,u=JSON.stringify(n[0].context,null,4)+"",s;return{c(){e=K("tr"),t=K("td"),t.textContent="Context",r=le(),i=K("td"),a=K("pre"),o=K("code"),s=Ue(u),q(o,"class","language-none mb-none"),q(a,"class","mb-pre")},m(l,c){Z(l,e,c),Q(e,t),Q(e,r),Q(e,i),Q(i,a),Q(a,o),Q(o,s)},p(l,c){c&1&&u!==(u=JSON.stringify(l[0].context,null,4)+"")&&mt(s,u)},d(l){l&&j(e)}}}function One(n){let e;function t(a,o){return a[0]instanceof fn?Bne:Pne}let r=t(n,-1),i=r(n);return{c(){i.c(),e=yr()},m(a,o){i.m(a,o),Z(a,e,o)},p(a,[o]){r===(r=t(a,o))&&i?i.p(a,o):(i.d(1),i=r(a),i&&(i.c(),i.m(e.parentNode,e)))},i:je,o:je,d(a){a&&j(e),i.d(a)}}}function kne(n,e,t){let{error:r}=e;return n.$$set=i=>{"error"in i&&t(0,r=i.error)},[r]}var cE=class extends Te{constructor(e){super(),Be(this,e,kne,One,Pe,{error:0})}},fE=cE;function S8(n,e,t){let r=n.slice();return r[1]=e[t],r}function A8(n,e,t){let r=n.slice();return r[4]=e[t],r}function E8(n){let e,t=n[0].text+"",r;return{c(){e=K("p"),r=Ue(t)},m(i,a){Z(i,e,a),Q(e,r)},p(i,a){a&1&&t!==(t=i[0].text+"")&&mt(r,t)},d(i){i&&j(e)}}}function D8(n){let e,t,r=n[0].code+"",i;return{c(){e=K("pre"),t=K("code"),i=Ue(r),q(t,"class","language-none meta-bind-none"),q(e,"class","mb-pre")},m(a,o){Z(a,e,o),Q(e,t),Q(t,i)},p(a,o){o&1&&r!==(r=a[0].code+"")&&mt(i,r)},d(a){a&&j(e)}}}function M8(n){let e,t,r,i,a,o=n[0].errorText&&N8(n),u=ot(n[0].errorCollection.getErrors()),s=[];for(let c=0;c<u.length;c+=1)s[c]=C8(A8(n,u,c));let l=c=>te(s[c],1,1,()=>{s[c]=null});return{c(){e=K("h6"),e.textContent="Errors",t=le(),o&&o.c(),r=le();for(let c=0;c<s.length;c+=1)s[c].c();i=yr()},m(c,f){Z(c,e,f),Z(c,t,f),o&&o.m(c,f),Z(c,r,f);for(let p=0;p<s.length;p+=1)s[p]&&s[p].m(c,f);Z(c,i,f),a=!0},p(c,f){if(c[0].errorText?o?o.p(c,f):(o=N8(c),o.c(),o.m(r.parentNode,r)):o&&(o.d(1),o=null),f&1){u=ot(c[0].errorCollection.getErrors());let p;for(p=0;p<u.length;p+=1){let m=A8(c,u,p);s[p]?(s[p].p(m,f),Y(s[p],1)):(s[p]=C8(m),s[p].c(),Y(s[p],1),s[p].m(i.parentNode,i))}for(dt(),p=u.length;p<s.length;p+=1)l(p);ht()}},i(c){if(!a){for(let f=0;f<u.length;f+=1)Y(s[f]);a=!0}},o(c){s=s.filter(Boolean);for(let f=0;f<s.length;f+=1)te(s[f]);a=!1},d(c){c&&(j(e),j(t),j(r),j(i)),o&&o.d(c),Gt(s,c)}}}function N8(n){let e,t=n[0].errorText+"",r;return{c(){e=K("p"),r=Ue(t)},m(i,a){Z(i,e,a),Q(e,r)},p(i,a){a&1&&t!==(t=i[0].errorText+"")&&mt(r,t)},d(i){i&&j(e)}}}function C8(n){let e,t;return e=new fE({props:{error:n[4]}}),{c(){ge(e.$$.fragment)},m(r,i){de(e,r,i),t=!0},p(r,i){let a={};i&1&&(a.error=r[4]),e.$set(a)},i(r){t||(Y(e.$$.fragment,r),t=!0)},o(r){te(e.$$.fragment,r),t=!1},d(r){he(e,r)}}}function T8(n){let e,t,r,i,a,o=n[0].warningText&&F8(n),u=ot(n[0].errorCollection.getWarnings()),s=[];for(let c=0;c<u.length;c+=1)s[c]=I8(S8(n,u,c));let l=c=>te(s[c],1,1,()=>{s[c]=null});return{c(){e=K("h6"),e.textContent="Warnings",t=le(),o&&o.c(),r=le();for(let c=0;c<s.length;c+=1)s[c].c();i=yr()},m(c,f){Z(c,e,f),Z(c,t,f),o&&o.m(c,f),Z(c,r,f);for(let p=0;p<s.length;p+=1)s[p]&&s[p].m(c,f);Z(c,i,f),a=!0},p(c,f){if(c[0].warningText?o?o.p(c,f):(o=F8(c),o.c(),o.m(r.parentNode,r)):o&&(o.d(1),o=null),f&1){u=ot(c[0].errorCollection.getWarnings());let p;for(p=0;p<u.length;p+=1){let m=S8(c,u,p);s[p]?(s[p].p(m,f),Y(s[p],1)):(s[p]=I8(m),s[p].c(),Y(s[p],1),s[p].m(i.parentNode,i))}for(dt(),p=u.length;p<s.length;p+=1)l(p);ht()}},i(c){if(!a){for(let f=0;f<u.length;f+=1)Y(s[f]);a=!0}},o(c){s=s.filter(Boolean);for(let f=0;f<s.length;f+=1)te(s[f]);a=!1},d(c){c&&(j(e),j(t),j(r),j(i)),o&&o.d(c),Gt(s,c)}}}function F8(n){let e,t=n[0].warningText+"",r;return{c(){e=K("p"),r=Ue(t)},m(i,a){Z(i,e,a),Q(e,r)},p(i,a){a&1&&t!==(t=i[0].warningText+"")&&mt(r,t)},d(i){i&&j(e)}}}function I8(n){let e,t;return e=new fE({props:{error:n[1]}}),{c(){ge(e.$$.fragment)},m(r,i){de(e,r,i),t=!0},p(r,i){let a={};i&1&&(a.error=r[1]),e.$set(a)},i(r){t||(Y(e.$$.fragment,r),t=!0)},o(r){te(e.$$.fragment,r),t=!1},d(r){he(e,r)}}}function Rne(n){let e,t,r=n[0].errorCollection.hasErrors(),i,a=n[0].errorCollection.hasWarnings(),o,u,s=n[0].text&&E8(n),l=n[0].code&&D8(n),c=r&&M8(n),f=a&&T8(n);return{c(){s&&s.c(),e=le(),l&&l.c(),t=le(),c&&c.c(),i=le(),f&&f.c(),o=yr()},m(p,m){s&&s.m(p,m),Z(p,e,m),l&&l.m(p,m),Z(p,t,m),c&&c.m(p,m),Z(p,i,m),f&&f.m(p,m),Z(p,o,m),u=!0},p(p,[m]){p[0].text?s?s.p(p,m):(s=E8(p),s.c(),s.m(e.parentNode,e)):s&&(s.d(1),s=null),p[0].code?l?l.p(p,m):(l=D8(p),l.c(),l.m(t.parentNode,t)):l&&(l.d(1),l=null),m&1&&(r=p[0].errorCollection.hasErrors()),r?c?(c.p(p,m),m&1&&Y(c,1)):(c=M8(p),c.c(),Y(c,1),c.m(i.parentNode,i)):c&&(dt(),te(c,1,1,()=>{c=null}),ht()),m&1&&(a=p[0].errorCollection.hasWarnings()),a?f?(f.p(p,m),m&1&&Y(f,1)):(f=T8(p),f.c(),Y(f,1),f.m(o.parentNode,o)):f&&(dt(),te(f,1,1,()=>{f=null}),ht())},i(p){u||(Y(c),Y(f),u=!0)},o(p){te(c),te(f),u=!1},d(p){p&&(j(e),j(t),j(i),j(o)),s&&s.d(p),l&&l.d(p),c&&c.d(p),f&&f.d(p)}}}function Lne(n,e,t){let{settings:r}=e;return n.$$set=i=>{"settings"in i&&t(0,r=i.settings)},[r]}var pE=class extends Te{constructor(e){super(),Be(this,e,Lne,Rne,Pe,{settings:0})}},bs=pE;function P8(n){let e,t,r,i,a;function o(l,c){return c&1&&(t=null),c&1&&(r=null),t==null&&(t=!!l[0].errorCollection.hasErrors()),t?qne:(r==null&&(r=!!l[0].errorCollection.hasWarnings()),r?Une:Vne)}let u=o(n,-1),s=u(n);return{c(){e=K("div"),s.c(),q(e,"class","mb-error-collection"),q(e,"role","button"),q(e,"tabindex","0")},m(l,c){Z(l,e,c),s.m(e,null),i||(a=[Ee(e,"click",n[3]),Ee(e,"keydown",n[4])],i=!0)},p(l,c){u!==(u=o(l,c))&&(s.d(1),s=u(l),s&&(s.c(),s.m(e,null)))},d(l){l&&j(e),s.d(),i=!1,Dt(a)}}}function Vne(n){let e,t,r,i;return{c(){e=Ni("svg"),t=Ni("circle"),r=Ni("path"),i=Ni("path"),q(t,"cx","12"),q(t,"cy","12"),q(t,"r","10"),q(r,"d","M12 16v-4"),q(i,"d","M12 8h.01"),q(e,"xmlns","http://www.w3.org/2000/svg"),q(e,"width","24"),q(e,"height","24"),q(e,"viewBox","0 0 24 24"),q(e,"fill","none"),q(e,"stroke","currentColor"),q(e,"stroke-width","2"),q(e,"stroke-linecap","round"),q(e,"stroke-linejoin","round"),q(e,"class","lucide lucide-info")},m(a,o){Z(a,e,o),Q(e,t),Q(e,r),Q(e,i)},d(a){a&&j(e)}}}function Une(n){let e,t,r,i;return{c(){e=Ni("svg"),t=Ni("path"),r=Ni("line"),i=Ni("line"),q(t,"d","m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"),q(r,"x1","12"),q(r,"x2","12"),q(r,"y1","9"),q(r,"y2","13"),q(i,"x1","12"),q(i,"x2","12.01"),q(i,"y1","17"),q(i,"y2","17"),q(e,"xmlns","http://www.w3.org/2000/svg"),q(e,"width","24"),q(e,"height","24"),q(e,"viewBox","0 0 24 24"),q(e,"fill","none"),q(e,"stroke","currentColor"),q(e,"stroke-width","2"),q(e,"stroke-linecap","round"),q(e,"stroke-linejoin","round"),q(e,"class","lucide lucide-alert-triangle")},m(a,o){Z(a,e,o),Q(e,t),Q(e,r),Q(e,i)},d(a){a&&j(e)}}}function qne(n){let e,t,r,i,a,o;return{c(){e=Ni("svg"),t=Ni("circle"),r=Ni("line"),i=Ni("line"),a=le(),o=K("span"),o.textContent="[META_BIND_ERROR]",q(t,"cx","12"),q(t,"cy","12"),q(t,"r","10"),q(r,"x1","12"),q(r,"x2","12"),q(r,"y1","8"),q(r,"y2","12"),q(i,"x1","12"),q(i,"x2","12.01"),q(i,"y1","16"),q(i,"y2","16"),q(e,"xmlns","http://www.w3.org/2000/svg"),q(e,"width","24"),q(e,"height","24"),q(e,"viewBox","0 0 24 24"),q(e,"fill","none"),q(e,"stroke","currentColor"),q(e,"stroke-width","2"),q(e,"stroke-linecap","round"),q(e,"stroke-linejoin","round"),q(e,"class","lucide lucide-alert-circle"),q(o,"class","mb-error")},m(u,s){Z(u,e,s),Q(e,t),Q(e,r),Q(e,i),Z(u,a,s),Z(u,o,s)},d(u){u&&(j(e),j(a),j(o))}}}function zne(n){let e=!n[0].errorCollection.isEmpty(),t,r=e&&P8(n);return{c(){r&&r.c(),t=yr()},m(i,a){r&&r.m(i,a),Z(i,t,a)},p(i,[a]){a&1&&(e=!i[0].errorCollection.isEmpty()),e?r?r.p(i,a):(r=P8(i),r.c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null)},i:je,o:je,d(i){i&&j(t),r&&r.d(i)}}}function $ne(n,e,t){let{plugin:r}=e,{settings:i}=e;function a(){r.internal.openErrorCollectionViewModal(i)}let o=()=>a(),u=s=>{s.key===" "&&a()};return n.$$set=s=>{"plugin"in s&&t(2,r=s.plugin),"settings"in s&&t(0,i=s.settings)},[i,a,r,o,u]}var mE=class extends Te{constructor(e){super(),Be(this,e,$ne,zne,Pe,{plugin:2,settings:0})}},of=mE;var Ih=class extends $a{constructor(e,t,r){super(e,t),this.ipf=r}getItemText(e){return e.displayValue}getItems(){return this.plugin.internal.getSuggesterOptions(this.ipf)}};function Hne(n){let e,t,r;return{c(){e=K("input"),q(e,"type","text")},m(i,a){Z(i,e,a),$e(e,n[1]),t||(r=Ee(e,"input",n[3]),t=!0)},p(i,a){a&2&&e.value!==i[1]&&$e(e,i[1])},d(i){i&&j(e),t=!1,r()}}}function Gne(n){let e,t,r;return{c(){e=K("textarea")},m(i,a){Z(i,e,a),$e(e,n[1]),t||(r=Ee(e,"input",n[2]),t=!0)},p(i,a){a&2&&$e(e,i[1])},d(i){i&&j(e),t=!1,r()}}}function Wne(n){let e;return{c(){e=Ue("OK")},m(t,r){Z(t,e,r)},d(t){t&&j(e)}}}function Yne(n){let e;return{c(){e=Ue("Cancel")},m(t,r){Z(t,e,r)},d(t){t&&j(e)}}}function jne(n){let e,t,r,i;return e=new Mt({props:{variant:"primary",$$slots:{default:[Wne]},$$scope:{ctx:n}}}),e.$on("click",n[4]),r=new Mt({props:{$$slots:{default:[Yne]},$$scope:{ctx:n}}}),r.$on("click",n[5]),{c(){ge(e.$$.fragment),t=le(),ge(r.$$.fragment)},m(a,o){de(e,a,o),Z(a,t,o),de(r,a,o),i=!0},p(a,o){let u={};o&64&&(u.$$scope={dirty:o,ctx:a}),e.$set(u);let s={};o&64&&(s.$$scope={dirty:o,ctx:a}),r.$set(s)},i(a){i||(Y(e.$$.fragment,a),Y(r.$$.fragment,a),i=!0)},o(a){te(e.$$.fragment,a),te(r.$$.fragment,a),i=!1},d(a){a&&j(t),he(e,a),he(r,a)}}}function Zne(n){let e,t=n[0].subTitle+"",r,i,a,o,u,s;function l(p,m){return p[0].multiline?Gne:Hne}let c=l(n,-1),f=c(n);return u=new Ha({props:{$$slots:{default:[jne]},$$scope:{ctx:n}}}),{c(){e=K("p"),r=Ue(t),i=le(),a=K("div"),f.c(),o=le(),ge(u.$$.fragment),q(a,"class","mb-full-width-text-input")},m(p,m){Z(p,e,m),Q(e,r),Z(p,i,m),Z(p,a,m),f.m(a,null),Z(p,o,m),de(u,p,m),s=!0},p(p,[m]){(!s||m&1)&&t!==(t=p[0].subTitle+"")&&mt(r,t),c===(c=l(p,m))&&f?f.p(p,m):(f.d(1),f=c(p),f&&(f.c(),f.m(a,null)));let h={};m&67&&(h.$$scope={dirty:m,ctx:p}),u.$set(h)},i(p){s||(Y(u.$$.fragment,p),s=!0)},o(p){te(u.$$.fragment,p),s=!1},d(p){p&&(j(e),j(i),j(a),j(o)),f.d(),he(u,p)}}}function Jne(n,e,t){let{options:r}=e,i=r.value;function a(){i=this.value,t(1,i)}function o(){i=this.value,t(1,i)}let u=()=>r.onSubmit(i),s=()=>r.onCancel();return n.$$set=l=>{"options"in l&&t(0,r=l.options)},[r,i,a,o,u,s]}var dE=class extends Te{constructor(e){super(),Be(this,e,Jne,Zne,Pe,{options:0})}},B8=dE;var Ph=class{constructor(e){this.plugin=e}openCommandSelectModal(e){this.createSearchModal(new Mh(this.plugin,e)).open()}openFileSelectModal(e){this.createSearchModal(new Nh(this.plugin,e)).open()}openFolderSelectModal(e){this.createSearchModal(new Ch(this.plugin,e)).open()}openButtonBuilderModal(e){this.createModal(new Th(this.plugin,e),{title:"Meta Bind Button Builder"}).open()}openSuggesterModal(e,t){this.createSearchModal(new Ih(this.plugin,t,e)).open()}openImageSuggesterModal(e,t){this.createModal(new du((r,i)=>new g8({target:i,props:{plugin:this.plugin,options:this.getImageSuggesterOptions(e),onSelect:a=>{t(a),r.closeModal()}}})),{title:"Meta Bind Image Suggester",classes:["mb-image-suggester-modal"]}).open()}openDatePickerModal(e){this.createModal(new du((t,r)=>new p8({target:r,props:{selectedDate:e.getInternalValue(),dateChangeCallback:i=>{e.setInternalValue(i),t.closeModal()}}})),{title:"Meta Bind Date Picker"}).open()}openTextPromptModal(e){this.createModal(new du((t,r)=>new B8({target:r,props:{options:{...e,onSubmit:i=>{e.onSubmit(i),t.closeModal()},onCancel:()=>{e.onCancel(),t.closeModal()}}}})),e).open()}openErrorCollectionViewModal(e){this.createModal(new du((t,r)=>new bs({target:r,props:{settings:e}})),{title:"Meta Bind Error Overview",classes:["mb-error-collection-modal","markdown-rendered"]}).open()}createErrorIndicator(e,t){new of({target:e,props:{plugin:this.plugin,settings:t}})}isFilePathExcluded(e){for(let t of this.plugin.settings.excludedFolders)if(e.startsWith(t))return!0;return!1}};var sf=require("obsidian");var Bh=class{constructor(e,t,r,i){this.plugin=e,this.containerEl=t,this.code=i;let a=e.app.vault.getAbstractFileByPath(r);if(!(a instanceof sf.TFile))throw new Error(`File not found: ${r}`);this.file=a,this.jsEngine=ys(this.plugin),this.renderComponent=new sf.Component}async evaluateCode(e){return this.jsEngine.internal.execute({code:this.code,context:{file:this.file,line:0,metadata:this.plugin.app.metadataCache.getFileCache(this.file)},container:this.containerEl,component:this.renderComponent,contextOverrides:e})}async evaluate(e){try{lt.empty(this.containerEl),lt.removeClass(this.containerEl,"mb-error"),this.renderComponent.unload(),this.renderComponent=new sf.Component,this.renderComponent.load();let t=await this.evaluateCode(e),r=this.jsEngine.internal.createRenderer(this.containerEl,this.file.path,this.renderComponent);await r.render(t.result);let i=r.convertToSimpleObject(t.result);return console.log(i,typeof i),i}catch(t){t instanceof Error&&(this.containerEl.innerText=t.message,lt.addClass(this.containerEl,"mb-error"));return}}unload(){this.renderComponent.unload()}};var O8=require("obsidian");var Oh=class extends O8.Modal{constructor(e,t,r){super(e.app),this.content=t,t.setModal(this),this.options=r}onOpen(){var e,t;(e=this.options)!=null&&e.title&&this.titleEl.setText(this.options.title),(t=this.options)!=null&&t.classes&&lt.addClasses(this.modalEl,this.options.classes),this.content.mount(this.contentEl)}onClose(){this.content.unmount()}};var k8=require("obsidian"),kh=class extends k8.FuzzySuggestModal{constructor(e,t){super(e.app),this.content=t}getItems(){return this.content.getItems()}getItemText(e){return this.content.getItemText(e)}onChooseItem(e,t){this.content.onSelected(e)}};var yi=require("obsidian");var xs=class{constructor(e,t){this.value=e,this.displayValue=t}valueAsString(){var e,t;return(t=(e=this.value)==null?void 0:e.toString())!=null?t:"null"}};function R8(n){let e=[];for(let t of n.children)t instanceof yi.TFile&&L8(t.extension)&&e.push(new xs(t.path,t.name)),t instanceof yi.TFolder&&e.push(...R8(t));return e}function Xne(n,e,t){let r=[];for(let i of e){let a=i.value;if(a.startsWith('"')&&a.endsWith('"'))a=a.substring(1,a.length-1);else{let u=new Sr({errorLevel:"ERROR",effect:"failed to get suggest options",cause:"expected suggest option query for image suggester to start and end with double quotation marks"});new yi.Notice(`meta-bind | ${u.message}`),console.warn(u);continue}let o;if(a===""||a==="."?o=t.app.vault.getRoot():o=t.app.vault.getAbstractFileByPath(a),o==null){let u=new Sr({errorLevel:"ERROR",effect:"failed to get suggest options",cause:`expected suggest option query ${a} for image suggester to exist`});new yi.Notice(`meta-bind | ${u.message}`),console.warn(u);continue}if(!(o instanceof yi.TFolder)){let u=new Sr({errorLevel:"ERROR",effect:"failed to get suggest options",cause:`expected suggest option query ${i.value} for image suggester to be a folder`});new yi.Notice(`meta-bind | ${u.message}`),console.warn(u);continue}r.push(...R8(o))}for(let i of n){let a=fa(i.value);if(!a){let u=new Sr({errorLevel:"ERROR",effect:"failed to get suggest options",cause:`expected suggest option ${i.value} to be truthy`});new yi.Notice(`meta-bind | ${u.message}`),console.warn(u);continue}let o=t.app.vault.getAbstractFileByPath(a);if(!o){let u=new Sr({errorLevel:"ERROR",effect:"failed to get suggest options",cause:`expected suggest option ${i.value} for image suggester to exist`});new yi.Notice(`meta-bind | ${u.message}`),console.warn(u);continue}if(!(o instanceof yi.TFile)){let u=new Sr({errorLevel:"ERROR",effect:"failed to get suggest options",cause:`expected suggest option ${i.value} for image suggester to be a file`});new yi.Notice(`meta-bind | ${u.message}`),console.warn(u);continue}if(!L8(o.extension)){let u=new Sr({errorLevel:"ERROR",effect:"failed to get suggest options",cause:`expected suggest option ${i.value} for image suggester to be an image file`});new yi.Notice(`meta-bind | ${u.message}`),console.warn(u);continue}r.push(new xs(o.path,o.name))}return r}function L8(n){return["apng","avif","gif","jpg","jpeg","jfif","pjpeg","pjp","png","svg","webp"].contains(n)}function V8(n,e){let t=e.mountable.getArguments("option"),r=e.mountable.getArguments("optionQuery");return Xne(t,r,n)}var U8=require("obsidian");function Qne(n,e,t,r,i){let a=[];for(let o of t)a.push(new xs(o.value,o.name));if(r.length>0){let o;try{o=M5(n)}catch(s){return new U8.Notice("meta-bind | Dataview needs to be installed and enabled to use suggest option queries. Check the console for more information."),console.warn("meta-bind | failed to get dataview api",s),a}let u=ce.object({name:ce.string().min(1),path:ce.string().min(1)});for(let s of r)o.pages(s.value,e).forEach(c=>{try{let f=c.file;if(!u.safeParse(f).success)return;let p=PV(f.path,f.name,i);a.push(new xs(p,`file: ${f.name}`))}catch(f){console.warn("meta-bind | error while computing suggest options",f)}})}return a}function q8(n,e){let t=e.mountable.getArguments("option"),r=e.mountable.getArguments("optionQuery"),i=e.mountable.getArgument("useLinks");return Qne(n,e.mountable.getFilePath(),t,r,i===void 0?"true":i.value)}var z8=require("obsidian"),Rh=class{constructor(){}setSearch(e){this.preparedSearch=(0,z8.prepareFuzzySearch)(e)}filterItems(e,t){return this.preparedSearch?e.filter(r=>{var i,a;return((a=(i=this.preparedSearch)==null?void 0:i.call(this,t(r)))==null?void 0:a.score)!=null}):e}};var $8=require("obsidian"),Lh=class{constructor(){this.menu=new $8.Menu}setItems(e){for(let t of e)this.menu.addItem(r=>{r.setTitle(t.name),t.icon&&r.setIcon(t.icon),t.warning&&r.setWarning(t.warning),r.onClick(t.onclick)})}show(e,t){this.menu.showAtPosition({x:e,y:t},document)}showWithEvent(e){this.menu.showAtMouseEvent(e)}};var Vh=class extends Ph{constructor(e){super(e),this.app=e.app}getLifecycleHookValidator(){return ce.instanceof(Br.Component)}getImageSuggesterOptions(e){return V8(this.plugin,e)}getSuggesterOptions(e){return q8(this.plugin,e)}async renderMarkdown(e,t,r){let i=new Br.Component;return i.load(),await Br.MarkdownRenderer.render(this.app,e,t,r,i),()=>i.unload()}executeCommandById(e){return this.app.commands.executeCommandById(e)}isJsEngineAvailable(){try{return ys(this.plugin),!0}catch(e){return!1}}async jsEngineRunFile(e,t,r,i){let a=ys(this.plugin),o=this.app.vault.getAbstractFileByPath(t);if(!o||!(o instanceof Br.TFile))throw new Error(`calling file not found: ${t}`);let u=this.app.metadataCache.getFileCache(o),s=new Br.Component;return await a.internal.executeFile(e,{component:s,container:i,context:{metadata:u,file:o,line:0},contextOverrides:r}),()=>s.unload()}async jsEngineRunCode(e,t,r,i){let a=ys(this.plugin),o=this.app.vault.getAbstractFileByPath(t);if(!o||!(o instanceof Br.TFile))throw new Error(`calling file not found: ${t}`);let u=this.app.metadataCache.getFileCache(o),s=new Br.Component;return await a.internal.execute({code:e,component:s,container:i,context:{metadata:u,file:o,line:0},contextOverrides:r}),()=>s.unload()}createJsRenderer(e,t,r){return new Bh(this.plugin,e,t,r)}openFile(e,t,r){this.app.workspace.openLinkText(e,t,r)}getFilePathByName(e,t=""){var r;return(r=this.app.metadataCache.getFirstLinkpathDest(e,t))==null?void 0:r.path}showNotice(e){new Br.Notice(e)}parseYaml(e){return(0,Br.parseYaml)(e)}stringifyYaml(e){return(0,Br.stringifyYaml)(e)}setIcon(e,t){(0,Br.setIcon)(e,t)}imagePathToUri(e){return this.app.vault.adapter.getResourcePath(e)}createModal(e,t){return new Oh(this.plugin,e,t)}createSearchModal(e){return new kh(this.plugin,e)}getAllCommands(){return this.app.commands.listCommands().map(e=>({id:e.id,name:e.name}))}getAllFiles(){return this.app.vault.getAllLoadedFiles().filter(e=>e instanceof Br.TFile).map(e=>e.path)}getAllFolders(){return this.app.vault.getAllLoadedFiles().filter(e=>e instanceof Br.TFolder).map(e=>e.path)}createFuzzySearch(){return new Rh}async readFilePath(e){let t=this.app.vault.getAbstractFileByPath(e);if(!t||!(t instanceof Br.TFile))throw new Error(`file not found: ${e}`);return this.app.vault.cachedRead(t)}writeFilePath(e,t){return this.app.vault.adapter.write(e,t)}createContextMenu(e){let t=new Lh;return t.setItems(e),t}async createFile(e,t,r,i){let a=this.app.vault.getAvailablePath((0,Br.normalizePath)(e+"/"+t),r),o=await this.app.vault.create(a,"");if(i){let u=this.app.workspace.getLeaf(!1);u&&await u.openFile(o,{state:{mode:"source"}})}return o.path}async evaluateTemplaterTemplate(e,t){let r=qA(this.plugin),i=this.app.vault.getAbstractFileByPath(e);if(!i||!(i instanceof Br.TFile))throw new Error(`Template file not found: ${e}`);let a=this.app.vault.getAbstractFileByPath(t);if(!a||!(a instanceof Br.TFile))throw new Error(`Target file not found: ${t}`);let o=r.create_running_config(i,a,4);return await r.read_and_parse_template(o)}async createNoteWithTemplater(e,t,r,i){let a=qA(this.plugin),o=this.app.vault.getAbstractFileByPath(e);if(!o||!(o instanceof Br.TFile))throw new Error(`Template file not found: ${e}`);let u;if(t!==void 0){let l=this.app.vault.getAbstractFileByPath(t);if(!l||!(l instanceof Br.TFolder))throw new Error(`Folder not found: ${t}`);u=l}let s=await a.create_new_note_from_template(o,u,r,i!=null?i:!0);return s==null?void 0:s.path}};var hE=require("obsidian");var Uh=class extends Mu{constructor(e,t,r){super(t,r),this.plugin=e,this.plugin.registerEvent(this.plugin.app.metadataCache.on("changed",(i,a,o)=>{var u;this.manager.onExternalUpdate(this,i.path,(u=structuredClone(o.frontmatter))!=null?u:{})}))}readExternal(e){var i,a;let t=this.plugin.app.vault.getAbstractFileByPath(e);if(t==null||!(t instanceof hE.TFile))throw new Bt({errorLevel:"CRITICAL",effect:"can not get default cache item",cause:`no file for path "${e}" found or path is not a file`});let r=(i=this.plugin.app.metadataCache.getFileCache(t))==null?void 0:i.frontmatter;return(a=structuredClone(r))!=null?a:{}}getDefaultCacheItem(e){var i,a;let t=this.plugin.app.vault.getAbstractFileByPath(e);if(t==null||!(t instanceof hE.TFile))throw new Bt({errorLevel:"CRITICAL",effect:"can not get default cache item",cause:`no file for path "${e}" found or path is not a file`});let r=(i=this.plugin.app.metadataCache.getFileCache(t))==null?void 0:i.frontmatter;return console.log("meta-bind | Obs Source >> loaded frontmatter",structuredClone(r),e),{data:(a=structuredClone(r))!=null?a:{},storagePath:e,file:t,...this.manager.getDefaultCacheItem()}}getTags(e){var a,o,u;let t=this.plugin.app.metadataCache.getFileCache(e);if(!t)return[];let r=(o=(a=t.tags)==null?void 0:a.map(s=>s.tag.substring(1)))!=null?o:[],i=(u=t.frontmatter)==null?void 0:u.tags;return i&&(Array.isArray(i)?r.push(...i):r.push(i)),Array.from(new Set(r))}async syncExternal(e){await this.plugin.app.fileManager.processFrontMatter(e.file,t=>{Object.assign(t,e.data)})}};var Kne=["true","false","on","off","yes","no"],eie=new RegExp("\\b(("+Kne.join(")|(")+"))$","i"),uf={name:"yaml",token:function(n,e){var t=n.peek(),r=e.escaped;if(e.escaped=!1,t=="#"&&(n.pos==0||/\s/.test(n.string.charAt(n.pos-1))))return n.skipToEnd(),"comment";if(n.match(/^('([^']|\\.)*'?|"([^"]|\\.)*"?)/))return"string";if(e.literal&&n.indentation()>e.keyCol)return n.skipToEnd(),"string";if(e.literal&&(e.literal=!1),n.sol()){if(e.keyCol=0,e.pair=!1,e.pairStart=!1,n.match("---")||n.match("..."))return"def";if(n.match(/^\s*-\s+/))return"meta"}if(n.match(/^(\{|\}|\[|\])/))return t=="{"?e.inlinePairs++:t=="}"?e.inlinePairs--:t=="["?e.inlineList++:e.inlineList--,"meta";if(e.inlineList>0&&!r&&t==",")return n.next(),"meta";if(e.inlinePairs>0&&!r&&t==",")return e.keyCol=0,e.pair=!1,e.pairStart=!1,n.next(),"meta";if(e.pairStart){if(n.match(/^\s*(\||\>)\s*/))return e.literal=!0,"meta";if(n.match(/^\s*(\&|\*)[a-z0-9\._-]+\b/i))return"variable";if(e.inlinePairs==0&&n.match(/^\s*-?[0-9\.\,]+\s?$/)||e.inlinePairs>0&&n.match(/^\s*-?[0-9\.\,]+\s?(?=(,|}))/))return"number";if(n.match(eie))return"keyword"}return!e.pair&&n.match(/^\s*(?:[,\[\]{}&*!|>'"%@`][^\s'":]|[^,\[\]{}#&*!|>'"%@`])[^#]*?(?=\s*:($|\s))/)?(e.pair=!0,e.keyCol=n.indentation(),"atom"):e.pair&&n.match(/^:\s*/)?(e.pairStart=!0,"meta"):(e.pairStart=!1,e.escaped=t=="\\",n.next(),null)},startState:function(){return{pair:!1,pairStart:!1,keyCol:0,inlinePairs:0,inlineList:0,literal:!1,escaped:!1}},languageData:{commentTokens:{line:"#"}}};function H8(n){if(!n.settings.enableSyntaxHighlighting)return;window.CodeMirror.defineMode("meta-bind-button",t=>({startState:()=>{var i,a;return(a=(i=uf).startState)==null?void 0:a.call(i,4)},blankLine:i=>{var a,o;return(o=(a=uf).blankLine)==null?void 0:o.call(a,i,4)},copyState:i=>{var a,o;return(o=(a=uf).startState)==null?void 0:o.call(a,4)},token:(i,a)=>{var o,u;return`line-HyperMD-codeblock ${(u=(o=uf).token)==null?void 0:u.call(o,i,a)}`}}));let e=/^\s*(```+|~~~+)/;window.CodeMirror.defineMode("meta-bind",t=>({startState:()=>({str:void 0,mdrcType:void 0,highlights:void 0,line:1}),token:(i,a)=>{if(a.str===void 0){let s=[i.string],l=1,c=i.lookAhead(l);for(;c!==void 0&&!e.test(c)&&(s.push(c),l+=1,c=i.lookAhead(l),!(l>100)););a.str=s.filter(p=>p.trim()!=="").join(`
`);let f=n.api.isInlineFieldDeclarationAndGetType(a.str.trim());f===void 0?a.highlights=new no(a.str,[]):(a.mdrcType=f,a.highlights=n.api.syntaxHighlighting.highlight(a.str,a.mdrcType,!0))}let u=a.highlights.getHighlights().filter(s=>s.range.from.line===a.line).find(s=>s.range.from.column===i.pos+1);return u===void 0?(i.next(),i.eol()&&(a.line+=1),"line-HyperMD-codeblock"):(i.eatWhile(()=>i.pos+1<u.range.to.column)||i.next(),i.eol()&&(a.line+=1),`line-HyperMD-codeblock mb-highlight-${u.tokenClass}`)}}))}var AE=require("@codemirror/language"),gu=require("@codemirror/view");var Zr=class extends Error{},lf=class extends Error{};var Vl=function(n){return this instanceof Vl?(this.v=n,this):new Vl(n)},tie=function(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,a=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(p){r[p]&&(i[p]=function(m){return new Promise(function(h,d){a.push([p,m,h,d])>1||u(p,m)})})}function u(p,m){try{s(r[p](m))}catch(h){f(a[0][3],h)}}function s(p){p.value instanceof Vl?Promise.resolve(p.value.v).then(l,c):f(a[0][2],p)}function l(p){u("next",p)}function c(p){u("throw",p)}function f(p,m){p(m),a.shift(),a.length&&u(a[0][0],a[0][1])}},Ma;(function(n){n[n.SHORTEST=0]="SHORTEST",n[n.LONGEST=1]="LONGEST",n[n.STRICT_EQUAL=2]="STRICT_EQUAL"})(Ma||(Ma={}));function*gE(n,e,...t){if(t.length===0)return;let r=[];for(let i of t)r.push(G8(i));e:for(;;){let i=Y8.map(r,s=>s.next()),a=[],o=!0,u=!1;for(let s of i){let l;s.done?(o=!1,l=e):(u=!0,l=s.value),a.push(l)}if(!o&&u)switch(n){case Ma.SHORTEST:break e;case Ma.STRICT_EQUAL:throw new lf("Iterators must have equal lengths")}if(!u)break;yield a}}function vE(n,e,...t){return tie(this,arguments,function*(){if(t.length===0)return yield Vl(void 0);let i=[];for(let a of t)i.push(W8(a));e:for(;;){let a=[];for(let l of i){let c=yield Vl(l.next());a.push(c)}let o=[],u=!0,s=!1;for(let l of a){let c;l.done?(u=!1,c=e):(s=!0,c=l.value),o.push(c)}if(!u&&s)switch(n){case Ma.SHORTEST:break e;case Ma.STRICT_EQUAL:throw new lf("Iterators must have equal lengths")}if(!s)break;yield yield Vl(o)}})}var j8=function(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof __values=="function"?__values(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(a){t[a]=n[a]&&function(o){return new Promise(function(u,s){o=n[a](o),i(u,s,o.done,o.value)})}}function i(a,o,u,s){Promise.resolve(s).then(function(l){a({value:l,done:u})},o)}},_o=function(n){return this instanceof _o?(this.v=n,this):new _o(n)},Z8=function(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,a=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(p){r[p]&&(i[p]=function(m){return new Promise(function(h,d){a.push([p,m,h,d])>1||u(p,m)})})}function u(p,m){try{s(r[p](m))}catch(h){f(a[0][3],h)}}function s(p){p.value instanceof _o?Promise.resolve(p.value.v).then(l,c):f(a[0][2],p)}function l(p){u("next",p)}function c(p){u("throw",p)}function f(p,m){p(m),a.shift(),a.length&&u(a[0][0],a[0][1])}};function*J8(...n){for(let e of gE(Ma.SHORTEST,void 0,...n))yield e}function X8(...n){return Z8(this,arguments,function*(){var t,r,i,a;try{for(var o=!0,u=j8(vE(Ma.SHORTEST,void 0,...n)),s;s=yield _o(u.next()),t=s.done,!t;){a=s.value,o=!1;try{yield yield _o(a)}finally{o=!0}}}catch(l){r={error:l}}finally{try{!o&&!t&&(i=u.return)&&(yield _o(i.call(u)))}finally{if(r)throw r.error}}})}function*Q8(...n){for(let e of gE(Ma.STRICT_EQUAL,void 0,...n))yield e}function K8(...n){return Z8(this,arguments,function*(){var t,r,i,a;try{for(var o=!0,u=j8(vE(Ma.STRICT_EQUAL,void 0,...n)),s;s=yield _o(u.next()),t=s.done,!t;){a=s.value,o=!1;try{yield yield _o(a)}finally{o=!0}}}catch(l){r={error:l}}finally{try{!o&&!t&&(i=u.return)&&(yield _o(i.call(u)))}finally{if(r)throw r.error}}})}var eU=function(n,e,t,r){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function u(c){try{l(r.next(c))}catch(f){o(f)}}function s(c){try{l(r.throw(c))}catch(f){o(f)}}function l(c){c.done?a(c.value):i(c.value).then(u,s)}l((r=r.apply(n,e||[])).next())})},rie=function(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof __values=="function"?__values(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(a){t[a]=n[a]&&function(o){return new Promise(function(u,s){o=n[a](o),i(u,s,o.done,o.value)})}}function i(a,o,u,s){Promise.resolve(s).then(function(l){a({value:l,done:u})},o)}};function nie(n,e,t){let r=t;for(let i of xr(n))r=e(r,i);return r}function iie(n,e,t){var r,i,a,o;return eU(this,void 0,void 0,function*(){let u=t;try{for(var s=!0,l=rie(wr(n)),c;c=yield l.next(),r=c.done,!r;){o=c.value,s=!1;try{u=yield e(u,o)}finally{s=!0}}}catch(f){i={error:f}}finally{try{!s&&!r&&(a=l.return)&&(yield a.call(l))}finally{if(i)throw i.error}}return u})}function yE(n){switch(!0){case n instanceof Array:return n.length;case Wa(n):return n.length;case n instanceof Set:return n.size;case n instanceof Map:return n.size}return nie(n,e=>e+1,0)}function tU(n){return eU(this,void 0,void 0,function*(){switch(!0){case n instanceof Array:case Wa(n):case n instanceof Set:case n instanceof Map:return yE(n)}return yield iie(n,e=>e+1,0)})}var Na=function(n,e,t,r){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function u(c){try{l(r.next(c))}catch(f){o(f)}}function s(c){try{l(r.throw(c))}catch(f){o(f)}}function l(c){c.done?a(c.value):i(c.value).then(u,s)}l((r=r.apply(n,e||[])).next())})},So=function(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof __values=="function"?__values(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(a){t[a]=n[a]&&function(o){return new Promise(function(u,s){o=n[a](o),i(u,s,o.done,o.value)})}}function i(a,o,u,s){Promise.resolve(s).then(function(l){a({value:l,done:u})},o)}};function rU(n,e){for(let t of xr(n))if(!e(t))return!1;return!0}function nU(n,e){var t,r,i,a;return Na(this,void 0,void 0,function*(){try{for(var o=!0,u=So(wr(n)),s;s=yield u.next(),t=s.done,!t;){a=s.value,o=!1;try{if(!(yield e(a)))return!1}finally{o=!0}}}catch(l){r={error:l}}finally{try{!o&&!t&&(i=u.return)&&(yield i.call(u))}finally{if(r)throw r.error}}return!0})}function iU(n){let e=new Set;for(let t of xr(n)){if(e.has(t))return!1;e.add(t)}return!0}function aU(n){var e,t,r,i;return Na(this,void 0,void 0,function*(){let a=new Set;try{for(var o=!0,u=So(wr(n)),s;s=yield u.next(),e=s.done,!e;){i=s.value,o=!1;try{let l=i;if(a.has(l))return!1;a.add(l)}finally{o=!0}}}catch(l){t={error:l}}finally{try{!o&&!e&&(r=u.return)&&(yield r.call(u))}finally{if(t)throw t.error}}return!0})}function oU(n,e){for(let t of xr(n))if(e(t))return!0;return!1}function sU(n,e){var t,r,i,a;return Na(this,void 0,void 0,function*(){try{for(var o=!0,u=So(wr(n)),s;s=yield u.next(),t=s.done,!t;){a=s.value,o=!1;try{if(yield e(a))return!0}finally{o=!0}}}catch(l){r={error:l}}finally{try{!o&&!t&&(i=u.return)&&(yield i.call(u))}finally{if(r)throw r.error}}return!1})}function uU(n,e,t){if(e<0)return!1;t===void 0&&(t=i=>!!i);let r=0;for(let i of xr(n))if(t(i)&&(r++,r>e))return!1;return r===e}function lU(n,e,t){var r,i,a,o;return Na(this,void 0,void 0,function*(){if(e<0)return!1;t===void 0&&(t=f=>!!f);let u=0;try{for(var s=!0,l=So(wr(n)),c;c=yield l.next(),r=c.done,!r;){o=c.value,s=!1;try{if((yield t(o))&&(u++,u>e))return!1}finally{s=!0}}}catch(f){i={error:f}}finally{try{!s&&!r&&(a=l.return)&&(yield a.call(l))}finally{if(i)throw i.error}}return u===e})}function cU(n){for(let e of xr(n))return!1;return!0}function fU(n){var e,t,r,i;return Na(this,void 0,void 0,function*(){try{for(var a=!0,o=So(wr(n)),u;u=yield o.next(),e=u.done,!e;){i=u.value,a=!1;try{let s=i;return!1}finally{a=!0}}}catch(s){t={error:s}}finally{try{!a&&!e&&(r=o.return)&&(yield r.call(o))}finally{if(t)throw t.error}}return!0})}function bi(n){return n==null?!1:typeof n[Symbol.iterator]=="function"}function Ao(n){return n==null?!1:typeof n[Symbol.asyncIterator]=="function"}function aa(n){return n==null?!1:n.next!==void 0&&typeof n.next=="function"}function pU(n){for(let[e,t]of hu(xr(n)))if(e<t)return!1;return!0}function mU(n){var e,t,r,i;return Na(this,void 0,void 0,function*(){try{for(var a=!0,o=So(ff(wr(n))),u;u=yield o.next(),e=u.done,!e;){i=u.value,a=!1;try{let[s,l]=i;if(s<l)return!1}finally{a=!0}}}catch(s){t={error:s}}finally{try{!a&&!e&&(r=o.return)&&(yield r.call(o))}finally{if(t)throw t.error}}return!0})}function dU(n){for(let[e,t]of hu(xr(n)))if(e>t)return!1;return!0}function hU(n){var e,t,r,i;return Na(this,void 0,void 0,function*(){try{for(var a=!0,o=So(ff(wr(n))),u;u=yield o.next(),e=u.done,!e;){i=u.value,a=!1;try{let[s,l]=i;if(s>l)return!1}finally{a=!0}}}catch(s){t={error:s}}finally{try{!a&&!e&&(r=o.return)&&(yield r.call(o))}finally{if(t)throw t.error}}return!0})}function Wa(n){return typeof n=="string"||n instanceof String}function gU(n,e){for(let t of xr(n))if(e(t))return!1;return!0}function vU(n,e){var t,r,i,a;return Na(this,void 0,void 0,function*(){try{for(var o=!0,u=So(wr(n)),s;s=yield u.next(),t=s.done,!t;){a=s.value,o=!1;try{if(yield e(a))return!1}finally{o=!0}}}catch(l){r={error:l}}finally{try{!o&&!t&&(i=u.return)&&(yield i.call(u))}finally{if(r)throw r.error}}return!0})}function yU(...n){try{for(let e of Q8(...n))for(let[t,r]of hu(e))if(t!==r)return!1}catch(e){return!1}return!0}function bU(...n){var e,t,r,i;return Na(this,void 0,void 0,function*(){try{try{for(var a=!0,o=So(K8(...n)),u;u=yield o.next(),e=u.done,!e;){i=u.value,a=!1;try{let s=i;for(let[l,c]of hu(s))if(l!==c)return!1}finally{a=!0}}}catch(s){t={error:s}}finally{try{!a&&!e&&(r=o.return)&&(yield r.call(o))}finally{if(t)throw t.error}}}catch(s){return!1}return!0})}function xU(...n){if(n.length<=1)return!0;let e=n.map(t=>yE(t));return new Set(e).size===1}function wU(...n){return Na(this,void 0,void 0,function*(){if(n.length<=1)return!0;let e=yield qh(n,t=>Na(this,void 0,void 0,function*(){return yield tU(t)}));return new Set(yield cf(e)).size===1})}var aie=function(n,e,t,r){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function u(c){try{l(r.next(c))}catch(f){o(f)}}function s(c){try{l(r.throw(c))}catch(f){o(f)}}function l(c){c.done?a(c.value):i(c.value).then(u,s)}l((r=r.apply(n,e||[])).next())})},Ya=function(n){return this instanceof Ya?(this.v=n,this):new Ya(n)},bE=function(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,a=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(p){r[p]&&(i[p]=function(m){return new Promise(function(h,d){a.push([p,m,h,d])>1||u(p,m)})})}function u(p,m){try{s(r[p](m))}catch(h){f(a[0][3],h)}}function s(p){p.value instanceof Ya?Promise.resolve(p.value.v).then(l,c):f(a[0][2],p)}function l(p){u("next",p)}function c(p){u("throw",p)}function f(p,m){p(m),a.shift(),a.length&&u(a[0][0],a[0][1])}},_U=function(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof __values=="function"?__values(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(a){t[a]=n[a]&&function(o){return new Promise(function(u,s){o=n[a](o),i(u,s,o.done,o.value)})}}function i(a,o,u,s){Promise.resolve(s).then(function(l){a({value:l,done:u})},o)}};function xr(n){if(bi(n))return n;if(aa(n))return{[Symbol.iterator](){return n}};if(typeof n=="object"&&n!==null)return function*(){for(let e in n)Object.prototype.hasOwnProperty.call(n,e)&&(yield[e,n[e]])}();throw new Zr("Given collection is not iterable or iterator.")}function wr(n){if(Ao(n))return n;if(aa(n))return{[Symbol.asyncIterator](){return bE(this,arguments,function*(){for(;;){let t=yield Ya(n.next());if(t.done)return yield Ya(void 0);yield yield Ya(t.value)}})}};if(typeof n=="object"&&n!==null&&(n=xr(n)),bi(n))return{[Symbol.asyncIterator](){return bE(this,arguments,function*(){for(let t of n)yield yield Ya(t)})}};throw new Zr("Given collection is not async iterable or iterator.")}function G8(n){if(aa(n))return n;if(bi(n))return function*(){for(let e of n)yield e}();throw new Zr("Given collection is not iterable or iterator.")}function W8(n){if((aa(n)||bi(n))&&(n=wr(n)),Ao(n))return function(){return bE(this,arguments,function*(){var e,t,r,i;try{for(var a=!0,o=_U(n),u;u=yield Ya(o.next()),e=u.done,!e;){i=u.value,a=!1;try{yield yield Ya(i)}finally{a=!0}}}catch(s){t={error:s}}finally{try{!a&&!e&&(r=o.return)&&(yield Ya(r.call(o)))}finally{if(t)throw t.error}}})}();throw new Zr("Given collection is not iterable or iterator.")}function xE(n){let e=[];for(let t of xr(n))e.push(t);return e}function cf(n){var e,t,r,i;return aie(this,void 0,void 0,function*(){let a=[];try{for(var o=!0,u=_U(wr(n)),s;s=yield u.next(),e=s.done,!e;){i=s.value,o=!1;try{let l=i;a.push(l)}finally{o=!0}}}catch(l){t={error:l}}finally{try{!o&&!e&&(r=u.return)&&(yield r.call(u))}finally{if(t)throw t.error}}return a})}var ws=function(n){return this instanceof ws?(this.v=n,this):new ws(n)},oie=function(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof __values=="function"?__values(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(a){t[a]=n[a]&&function(o){return new Promise(function(u,s){o=n[a](o),i(u,s,o.done,o.value)})}}function i(a,o,u,s){Promise.resolve(s).then(function(l){a({value:l,done:u})},o)}},sie=function(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,a=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(p){r[p]&&(i[p]=function(m){return new Promise(function(h,d){a.push([p,m,h,d])>1||u(p,m)})})}function u(p,m){try{s(r[p](m))}catch(h){f(a[0][3],h)}}function s(p){p.value instanceof ws?Promise.resolve(p.value.v).then(l,c):f(a[0][2],p)}function l(p){u("next",p)}function c(p){u("throw",p)}function f(p,m){p(m),a.shift(),a.length&&u(a[0][0],a[0][1])}};function*wE(n,e){let t=new Set;if(n instanceof Map){e===void 0&&(e=r=>r[1]);for(let r of n){let i=e(r);t.has(i)||(yield r,t.add(i))}}else{e===void 0&&(e=r=>r);for(let r of xr(n)){let i=e(r);t.has(i)||(yield r,t.add(i))}}}function SU(n,e){return sie(this,arguments,function*(){var r,i,a,o;let u=new Set;if(n instanceof Map)for(let f of wE(n,e))yield yield ws(yield ws(f));else{e===void 0&&(e=f=>f);try{for(var s=!0,l=oie(wr(n)),c;c=yield ws(l.next()),r=c.done,!r;){o=c.value,s=!1;try{let f=o,p=e(f);u.has(p)||(yield yield ws(f),u.add(p))}finally{s=!0}}}catch(f){i={error:f}}finally{try{!s&&!r&&(a=l.return)&&(yield ws(a.call(l)))}finally{if(i)throw i.error}}}})}var ln=function(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof __values=="function"?__values(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(a){t[a]=n[a]&&function(o){return new Promise(function(u,s){o=n[a](o),i(u,s,o.done,o.value)})}}function i(a,o,u,s){Promise.resolve(s).then(function(l){a({value:l,done:u})},o)}},nt=function(n){return this instanceof nt?(this.v=n,this):new nt(n)},wn=function(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,a=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(p){r[p]&&(i[p]=function(m){return new Promise(function(h,d){a.push([p,m,h,d])>1||u(p,m)})})}function u(p,m){try{s(r[p](m))}catch(h){f(a[0][3],h)}}function s(p){p.value instanceof nt?Promise.resolve(p.value.v).then(l,c):f(a[0][2],p)}function l(p){u("next",p)}function c(p){u("throw",p)}function f(p,m){p(m),a.shift(),a.length&&u(a[0][0],a[0][1])}};function*AU(n,e){for(let t of xr(n))yield e(t)}function qh(n,e){return wn(this,arguments,function*(){var r,i,a,o;try{for(var u=!0,s=ln(wr(n)),l;l=yield nt(s.next()),r=l.done,!r;){o=l.value,u=!1;try{yield yield nt(yield nt(e(o)))}finally{u=!0}}}catch(c){i={error:c}}finally{try{!u&&!r&&(a=s.return)&&(yield nt(a.call(s)))}finally{if(i)throw i.error}}})}function*EU(n,e){for(let[t,r]of J8(n,e))r&&(yield t)}function DU(n,e){return wn(this,arguments,function*(){var r,i,a,o;try{for(var u=!0,s=ln(X8(n,e)),l;l=yield nt(s.next()),r=l.done,!r;){o=l.value,u=!1;try{let[c,f]=o;f&&(yield yield nt(c))}finally{u=!0}}}catch(c){i={error:c}}finally{try{!u&&!r&&(a=s.return)&&(yield nt(a.call(s)))}finally{if(i)throw i.error}}})}function*MU(n,e){let t=!0;for(let r of xr(n)){if(t){if(!e(r)){t=!1,yield r;continue}continue}yield r}}function NU(n,e){return wn(this,arguments,function*(){var r,i,a,o;let u=!0;try{for(var s=!0,l=ln(wr(n)),c;c=yield nt(l.next()),r=c.done,!r;){o=c.value,s=!1;try{let f=o;if(u){if(!(yield nt(e(f)))){u=!1,yield yield nt(f);continue}continue}yield yield nt(f)}finally{s=!0}}}catch(f){i={error:f}}finally{try{!s&&!r&&(a=l.return)&&(yield nt(a.call(l)))}finally{if(i)throw i.error}}})}function*CU(n,e){for(let t of xr(n))if(e(t))yield t;else break}function TU(n,e){return wn(this,arguments,function*(){var r,i,a,o;try{for(var u=!0,s=ln(wr(n)),l;l=yield nt(s.next()),r=l.done,!r;){o=l.value,u=!1;try{let c=o;if(yield nt(e(c)))yield yield nt(c);else break}finally{u=!0}}}catch(c){i={error:c}}finally{try{!u&&!r&&(a=s.return)&&(yield nt(a.call(s)))}finally{if(i)throw i.error}}})}function*FU(n,e){if(e<0)throw new Zr(`Number of repetitions cannot be negative: ${e}`);for(let t=e;t>0;--t)yield n}function IU(n,e){return wn(this,arguments,function*(){if(e<0)throw new Zr(`Number of repetitions cannot be negative: ${e}`);let r=yield nt(n);for(let i=e;i>0;--i)yield yield nt(r)})}function*PU(n,e){for(let t of xr(n)){let r=e(t,e);if(bi(r))for(let i of xr(r))yield i;else yield r}}function BU(n,e){return wn(this,arguments,function*(){var r,i,a,o,u,s,l,c;try{for(var f=!0,p=ln(wr(n)),m;m=yield nt(p.next()),r=m.done,!r;){o=m.value,f=!1;try{let _=yield nt(e(o,e));if(bi(_)||Ao(_))try{for(var h=!0,d=(s=void 0,ln(wr(_))),v;v=yield nt(d.next()),u=v.done,!u;){c=v.value,h=!1;try{yield yield nt(c)}finally{h=!0}}}catch(b){s={error:b}}finally{try{!h&&!u&&(l=d.return)&&(yield nt(l.call(d)))}finally{if(s)throw s.error}}else yield yield nt(_)}finally{f=!0}}}catch(y){i={error:y}}finally{try{!f&&!r&&(a=p.return)&&(yield nt(a.call(p)))}finally{if(i)throw i.error}}})}function*_E(n,e=1/0){if(e<1){for(let t of xr(n))n instanceof Map&&(t=t[1]),yield t;return}for(let t of xr(n))if(n instanceof Map&&(t=t[1]),(bi(t)||aa(t))&&!Wa(t))for(let r of _E(t,e-1))yield r;else yield t}function SE(n,e=1/0){return wn(this,arguments,function*(){var r,i,a,o,u,s,l,c,f,p,m,h;if(e<1){try{for(var d=!0,v=ln(wr(n)),y;y=yield nt(v.next()),r=y.done,!r;){o=y.value,d=!1;try{let D=o;n instanceof Map&&(D=D[1]),yield yield nt(D)}finally{d=!0}}}catch(D){i={error:D}}finally{try{!d&&!r&&(a=v.return)&&(yield nt(a.call(v)))}finally{if(i)throw i.error}}return yield nt(void 0)}try{for(var _=!0,b=ln(wr(n)),w;w=yield nt(b.next()),u=w.done,!u;){c=w.value,_=!1;try{let D=c;if(n instanceof Map&&(D=D[1]),(Ao(D)||bi(D)||aa(D))&&!Wa(D))try{for(var S=!0,x=(p=void 0,ln(SE(D,e-1))),N;N=yield nt(x.next()),f=N.done,!f;){h=N.value,S=!1;try{yield yield nt(h)}finally{S=!0}}}catch(E){p={error:E}}finally{try{!S&&!f&&(m=x.return)&&(yield nt(m.call(x)))}finally{if(p)throw p.error}}else yield yield nt(D)}finally{_=!0}}}catch(D){s={error:D}}finally{try{!_&&!u&&(l=b.return)&&(yield nt(l.call(b)))}finally{if(s)throw s.error}}})}function*OU(n,e){for(let t of xr(n))e(t)&&(yield t)}function kU(n,e){return wn(this,arguments,function*(){var r,i,a,o;try{for(var u=!0,s=ln(wr(n)),l;l=yield nt(s.next()),r=l.done,!r;){o=l.value,u=!1;try{let c=o;(yield nt(e(c)))&&(yield yield nt(c))}finally{u=!0}}}catch(c){i={error:c}}finally{try{!u&&!r&&(a=s.return)&&(yield nt(a.call(s)))}finally{if(i)throw i.error}}})}function*zh(n,e,t,r=!0){if(e<1)throw new Zr(`Chunk size must be \u2265 1. Got ${e}`);if(t>=e)throw new Zr("Overlap size must be less than chunk size");let i=[],a=!1;for(let o of xr(n))a=!1,i.push(o),i.length===e&&(yield i,i=i.slice(e-t),a=!0);!a&&i.length>0&&r&&(yield i)}function $h(n,e,t,r=!0){return wn(this,arguments,function*(){var a,o,u,s;if(e<1)throw new Zr(`Chunk size must be \u2265 1. Got ${e}`);if(t>=e)throw new Zr("Overlap size must be less than chunk size");let l=[],c=!1;try{for(var f=!0,p=ln(wr(n)),m;m=yield nt(p.next()),a=m.done,!a;){s=m.value,f=!1;try{let h=s;c=!1,l.push(h),l.length===e&&(yield yield nt(l),l=l.slice(e-t),c=!0)}finally{f=!0}}}catch(h){o={error:h}}finally{try{!f&&!a&&(u=p.return)&&(yield nt(u.call(p)))}finally{if(o)throw o.error}}!c&&l.length>0&&r&&(yield yield nt(l))})}function*RU(n,e){for(let t of zh(n,e,0))yield t}function LU(n,e){return wn(this,arguments,function*(){var r,i,a,o;try{for(var u=!0,s=ln($h(n,e,0)),l;l=yield nt(s.next()),r=l.done,!r;){o=l.value,u=!1;try{yield yield nt(o)}finally{u=!0}}}catch(c){i={error:c}}finally{try{!u&&!r&&(a=s.return)&&(yield nt(a.call(s)))}finally{if(i)throw i.error}}})}function*hu(n){let e=zh(n,2,1,!1);for(let t of e)yield t}function ff(n){return wn(this,arguments,function*(){var t,r,i,a;let o=$h(n,2,1,!1);try{for(var u=!0,s=ln(o),l;l=yield nt(s.next()),t=l.done,!t;){a=l.value,u=!1;try{yield yield nt(a)}finally{u=!0}}}catch(c){r={error:c}}finally{try{!u&&!t&&(i=s.return)&&(yield nt(i.call(s)))}finally{if(r)throw r.error}}})}function*VU(n,e){if(e<0)throw new Zr(`Limit must be \u2265 0. Got ${e}`);let t=0;for(let r of xr(n)){if(t>=e)return;yield r,++t}}function UU(n,e){return wn(this,arguments,function*(){var r,i,a,o;if(e<0)throw new Zr(`Limit must be \u2265 0. Got ${e}`);let u=0;try{for(var s=!0,l=ln(wr(n)),c;c=yield nt(l.next()),r=c.done,!r;){o=c.value,s=!1;try{let f=o;if(u>=e)return yield nt(void 0);yield yield nt(f),++u}finally{s=!0}}}catch(f){i={error:f}}finally{try{!s&&!r&&(a=l.return)&&(yield nt(a.call(l)))}finally{if(i)throw i.error}}})}function*qU(n){let e=0;for(let t of xr(n))yield[e++,t]}function zU(n){return wn(this,arguments,function*(){var t,r,i,a;let o=0;try{for(var u=!0,s=ln(wr(n)),l;l=yield nt(s.next()),t=l.done,!t;){a=l.value,u=!1;try{let c=a;yield yield nt([o++,c])}finally{u=!0}}}catch(c){r={error:c}}finally{try{!u&&!t&&(i=s.return)&&(yield nt(i.call(s)))}finally{if(r)throw r.error}}})}function*$U(n,e=0,t,r=1){if(e<0)throw new Zr("Parameter 'start' cannot be negative");if(t!==void 0&&t<0)throw new Zr("Parameter 'count' cannot be negative");if(r<=0)throw new Zr("Parameter 'step' must be positive");let i=0,a=0;for(let o of xr(n))if(!(i++<e||(i-e-1)%r!==0)){if(a++===t&&t!==void 0)break;yield o}}function HU(n,e=0,t,r=1){return wn(this,arguments,function*(){var a,o,u,s;if(e<0)throw new Zr("Parameter 'start' cannot be negative");if(t!==void 0&&t<0)throw new Zr("Parameter 'count' cannot be negative");if(r<=0)throw new Zr("Parameter 'step' must be positive");let l=0,c=0;try{for(var f=!0,p=ln(wr(n)),m;m=yield nt(p.next()),a=m.done,!a;){s=m.value,f=!1;try{let h=s;if(l++<e||(l-e-1)%r!==0)continue;if(c++===t&&t!==void 0)break;yield yield nt(h)}finally{f=!0}}}catch(h){o={error:h}}finally{try{!f&&!a&&(u=p.return)&&(yield nt(u.call(p)))}finally{if(o)throw o.error}}})}function*GU(n){for(let[e]of xr(n))yield e}function WU(n){return wn(this,arguments,function*(){var t,r,i,a;try{for(var o=!0,u=ln(wr(n)),s;s=yield nt(u.next()),t=s.done,!t;){a=s.value,o=!1;try{let[l]=a;yield yield nt(l)}finally{o=!0}}}catch(l){r={error:l}}finally{try{!o&&!t&&(i=u.return)&&(yield nt(i.call(u)))}finally{if(r)throw r.error}}})}function*YU(n,e,t=0){if(e<0||t<0)throw new Zr;let r=-t;for(let i of xr(n))(r<0||r>=e)&&(yield i),++r}function jU(n,e,t=0){return wn(this,arguments,function*(){var i,a,o,u;if(e<0||t<0)throw new Zr;let s=-t;try{for(var l=!0,c=ln(wr(n)),f;f=yield nt(c.next()),i=f.done,!i;){u=f.value,l=!1;try{let p=u;(s<0||s>=e)&&(yield yield nt(p)),++s}finally{l=!0}}}catch(p){a={error:p}}finally{try{!l&&!i&&(o=c.return)&&(yield nt(o.call(c)))}finally{if(a)throw a.error}}})}function*ZU(n){for(let[,e]of xr(n))yield e}function JU(n){return wn(this,arguments,function*(){var t,r,i,a;try{for(var o=!0,u=ln(wr(n)),s;s=yield nt(u.next()),t=s.done,!t;){a=s.value,o=!1;try{let[,l]=a;yield yield nt(l)}finally{o=!0}}}catch(l){r={error:l}}finally{try{!o&&!t&&(i=u.return)&&(yield nt(i.call(u)))}finally{if(r)throw r.error}}})}function*XU(n,e,t){let r=new Map,i=a=>{r.has(a)||(t!==void 0?r.set(a,{}):r.set(a,[]))};for(let a of xr(n)){let o=e(a),u=t!==void 0?t(a):void 0,s=(bi(o)||aa(o))&&!Wa(o)?o:[o];for(let l of wE(s))i(l),u===void 0?r.get(l).push(a):r.get(l)[u]=a}for(let a of r)yield a}function QU(n,e,t){return wn(this,arguments,function*(){var i,a,o,u,s,l,c,f;let p=new Map,m=w=>{p.has(w)||(t!==void 0?p.set(w,{}):p.set(w,[]))};try{for(var h=!0,d=ln(wr(n)),v;v=yield nt(d.next()),i=v.done,!i;){u=v.value,h=!1;try{let w=u,S=yield nt(e(w)),x=t!==void 0?yield nt(t(w)):void 0,N=(Ao(S)||bi(S)||aa(S))&&!Wa(S)?S:[S];try{for(var y=!0,_=(l=void 0,ln(SU(N))),b;b=yield nt(_.next()),s=b.done,!s;){f=b.value,y=!1;try{let D=f;m(D),x===void 0?p.get(D).push(w):p.get(D)[x]=w}finally{y=!0}}}catch(D){l={error:D}}finally{try{!y&&!s&&(c=_.return)&&(yield nt(c.call(_)))}finally{if(l)throw l.error}}}finally{h=!0}}}catch(w){a={error:w}}finally{try{!h&&!i&&(o=d.return)&&(yield nt(o.call(d)))}finally{if(a)throw a.error}}for(let w of p)yield yield nt(w)})}function*KU(n,e){let t=xE(n);e!==void 0?t.sort(e):t.sort();for(let r of t)yield r}function e6(n,e){return wn(this,arguments,function*(){let r=yield nt(cf(n));e!==void 0?r.sort(e):r.sort();for(let i of r)yield yield nt(i)})}var Y8={chunkwise:RU,chunkwiseOverlap:zh,compress:EU,dropWhile:MU,enumerate:qU,filter:OU,flatMap:PU,flatten:_E,groupBy:XU,keys:GU,limit:VU,map:AU,pairwise:hu,repeat:FU,skip:YU,slice:$U,sort:KU,takeWhile:CU,values:ZU,chunkwiseAsync:LU,chunkwiseOverlapAsync:$h,compressAsync:DU,dropWhileAsync:NU,enumerateAsync:zU,filterAsync:kU,flatMapAsync:BU,flattenAsync:SE,groupByAsync:QU,keysAsync:WU,limitAsync:UU,mapAsync:qh,pairwiseAsync:ff,repeatAsync:IU,skipAsync:jU,sliceAsync:HU,sortAsync:e6,takeWhileAsync:TU,valuesAsync:JU};var t6={allMatch:rU,allUnique:iU,anyMatch:oU,exactlyN:uU,isEmpty:cU,isAsyncIterable:Ao,isIterable:bi,isIterator:aa,isReversed:pU,isSorted:dU,isString:Wa,noneMatch:gU,same:yU,sameCount:xU,allMatchAsync:nU,allUniqueAsync:aU,anyMatchAsync:sU,exactlyNAsync:lU,isEmptyAsync:fU,isReversedAsync:mU,isSortedAsync:hU,noneMatchAsync:vU,sameAsync:bU,sameCountAsync:wU};var Hh=require("obsidian");var r6=require("obsidian");var Eo=class{static checkSelectionOverlap(e,t,r){if(!e)return!1;for(let i of e.ranges)if(i.to>=t&&i.from<=r)return!0;return!1}static checkRangeOverlap(e,t,r,i){return e<=i&&r<=t}static getContent(e,t,r){return e.sliceDoc(t,r)}static getCurrentFile(e){return e.state.field(r6.editorInfoField).file}static existsDecorationBetween(e,t,r){let i=!1;return e.between(t,r,()=>{i=!0}),i}static existsDecorationOfTypeBetween(e,t,r,i){let a=!1;return e.between(r,i,(o,u,s)=>{s.spec.mb_widgetType===t&&(a=!0)}),a}};function n6(n){return gu.ViewPlugin.fromClass(class{constructor(e){var t;this.component=new Hh.Component,this.component.load(),this.decorations=(t=this.renderWidgets(e))!=null?t:gu.Decoration.none}isLivePreview(e){return e.field(Hh.editorLivePreviewField)}update(e){this.decorations=this.decorations.map(e.changes),this.updateWidgets(e.view)}updateWidgets(e){this.decorations=this.decorations.update({filter:(t,r,i)=>{var o,u;return t6.anyMatch(e.visibleRanges,s=>Eo.checkRangeOverlap(t,r,s.from,s.to))?!0:((u=(o=i.spec).mb_unload)==null||u.call(o),!1)}});for(let{from:t,to:r}of e.visibleRanges)(0,AE.syntaxTree)(e.state).iterate({from:t,to:r,enter:i=>{let a=i.node,o=this.getRenderInfo(e,a);o.widgetType===void 0||o.content===void 0||(o.shouldRender?(this.removeDecoration(a,"field"),this.addDecoration(a,e,"field",o.content,o.widgetType)):o.shouldHighlight?(this.removeDecoration(a,"highlight"),this.addDecoration(a,e,"highlight",o.content,o.widgetType)):this.removeDecoration(a))}})}removeDecoration(e,t){this.decorations.between(e.from-1,e.to+1,(r,i,a)=>{this.decorations=this.decorations.update({filterFrom:r,filterTo:i,filter:(o,u,s)=>{var l,c;return t&&s.spec.mb_widgetType===t?!0:((c=(l=s.spec).mb_unload)==null||c.call(l),!1)}})})}addDecoration(e,t,r,i,a){let o=e.from-1,u=e.to+1;if(Eo.existsDecorationOfTypeBetween(this.decorations,r,o,u))return;let s=Eo.getCurrentFile(t);if(!s)return;let l=this.renderWidget(e,a,r,i,s),c=Array.isArray(l)?l:[l];c.length!==0&&(this.decorations=this.decorations.update({add:c}))}getRenderInfo(e,t){var i;let r=new Set((i=t.type.name)==null?void 0:i.split("_"));if(r.has("inline-code")&&!r.has("formatting")){let a=e.state.selection,o=Eo.checkSelectionOverlap(a,t.from-1,t.to+1),u=this.readNode(e,t.from,t.to),s=this.isLivePreview(e.state);return{shouldRender:!o&&s,shouldHighlight:(o||!s)&&n.settings.enableSyntaxHighlighting,content:u.content,widgetType:u.widgetType}}return{shouldRender:!1,shouldHighlight:!1,content:void 0,widgetType:void 0}}readNode(e,t,r){let i=Eo.getContent(e.state,t,r);return{content:i,widgetType:n.api.isInlineFieldDeclarationAndGetType(i)}}renderWidgets(e){let t=Eo.getCurrentFile(e);if(!t)return;let r=[];for(let i of e.visibleRanges)(0,AE.syntaxTree)(e.state).iterate({from:i.from,to:i.to,enter:a=>{let o=a.node,u=this.getRenderInfo(e,o);if(!u.widgetType||!u.content)return;let s;u.shouldRender&&(s=this.renderWidget(o,u.widgetType,"field",u.content,t)),u.shouldHighlight&&(s=this.renderWidget(o,u.widgetType,"highlight",u.content,t)),s&&(Array.isArray(s)?r.push(...s):r.push(s))}});return gu.Decoration.set(r,!0)}renderWidget(e,t,r,i,a){if(r==="field"){let o=n.api.constructMDRCWidget(t,i,a.path,this.component);return gu.Decoration.replace({widget:o,mb_widgetType:"field",mb_unload:()=>{var u;(u=o.renderChild)==null||u.unload()}}).range(e.from-1,e.to+1)}else return n.api.syntaxHighlighting.highlight(i,t,!1).getHighlights().map(u=>gu.Decoration.mark({class:`mb-highlight-${u.tokenClass}`}).range(e.from+u.range.from.index,e.from+u.range.to.index))}destroy(){this.component.unload()}},{decorations:e=>e.decorations})}var pf=hr(Si()),mf=hr(ci());var uie=mf.P.sequenceMap((n,e,t,r)=>{let i=parseInt(n),a=parseInt(e),o=parseInt(t);return new Ui(i,a,o,r)},pf.P_UTILS.digits().skip(mf.P.string(".")),pf.P_UTILS.digits().skip(mf.P.string(".")),pf.P_UTILS.digits(),mf.P.string("-").then(pf.P_UTILS.remaining()).optional()),Ui=class n{constructor(e,t,r,i){this.major=e,this.minor=t,this.patch=r,this.prerelease=i}static fromString(e){return gn(uie,e)}static lessThan(e,t){return e.major<t.major?!0:e.major>t.major?!1:e.minor<t.minor?!0:e.minor>t.minor?!1:e.patch<t.patch?!0:e.patch>t.patch||e.prerelease===void 0?!1:t.prerelease===void 0?!0:e.prerelease<t.prerelease}static greaterThan(e,t){return n.lessThan(t,e)}static equals(e,t){return e.major===t.major&&e.minor===t.minor&&e.patch===t.patch&&e.prerelease===t.prerelease}toString(){return`${this.major}.${this.minor}.${this.patch}${this.prerelease===void 0?"":`-${this.prerelease}`}`}};var Gh=class{constructor(e,t){this.plugin=e,this.dependencies=t}getDependency(e){let t=this.dependencies.find(r=>r.pluginId===e);if(t===void 0)throw new Fs({errorLevel:"CRITICAL",effect:"Dependency Violation Detected",cause:`Attempted to access dependency ${e} which is not a listed dependency. Please report this error.`});return t}getPlugin(e){return this.plugin.app.plugins.getPlugin(e)}throwPluginNotFound(e){throw new Fs({errorLevel:"ERROR",effect:"Dependency Violation Detected",cause:`Plugin ${e} is required, but not installed. Please install the plugin.`})}checkDependencyVersion(e,t){if(Ui.lessThan(t,e.minVersion))throw new Fs({errorLevel:"ERROR",effect:"Dependency Violation Detected",cause:`Plugin ${e.pluginId} is outdated. Required version is at least ${e.minVersion}, installed version is ${t}. Please update the plugin.`});if(e.maxVersion!==void 0&&(Ui.greaterThan(t,e.maxVersion)||Ui.equals(t,e.maxVersion)))throw new Fs({errorLevel:"ERROR",effect:"Dependency Violation Detected",cause:`Plugin ${e.pluginId} is too new. Required version is lower than ${e.maxVersion}, installed version is ${t}. Please downgrade the plugin.`})}checkDependency(e){let t=this.getDependency(e),r=this.getPlugin(e);if(r==null)throw this.throwPluginNotFound(e),Error("unreachable");let i=Ui.fromString(r.manifest.version);return this.checkDependencyVersion(t,i),r}checkDependencyOnStartup(e){let t=this.getDependency(e);if(!this.plugin.app.plugins.enabledPlugins.has(e))throw this.throwPluginNotFound(e),Error("unreachable");let r=Ui.fromString(this.plugin.app.plugins.manifests[e].version);this.checkDependencyVersion(t,r)}checkDependenciesOnStartup(){let e=new Lt("Dependency Validation");for(let t of this.dependencies)if(t.checkOnStartup)try{this.checkDependencyOnStartup(t.pluginId)}catch(r){e.add(r)}return e.hasErrors()?(this.plugin.internal.openErrorCollectionViewModal({text:"The following errors were detected during dependency validation. The plugin won't load until these errors have been resolved. Please install the required plugins and restart Obsidian.",errorCollection:e}),!0):!1}};var h6=require("obsidian");function lie(n){let e;return{c(){e=K("div")},m(t,r){Z(t,e,r),n[2](e)},p:je,i:je,o:je,d(t){t&&j(e),n[2](null)}}}function cie(n,e,t){let{mountable:r}=e,i;Ci(()=>{r.mount(i)}),Os(()=>{r.unmount()});function a(o){Mr[o?"unshift":"push"](()=>{i=o,t(0,i)})}return n.$$set=o=>{"mountable"in o&&t(1,r=o.mountable)},[i,r,a]}var EE=class extends Te{constructor(e){super(),Be(this,e,cie,lie,Pe,{mountable:1})}},df=EE;function fie(n){let e,t;return e=new df({props:{mountable:n[0]}}),{c(){ge(e.$$.fragment)},m(r,i){de(e,r,i),t=!0},p:je,i(r){t||(Y(e.$$.fragment,r),t=!0)},o(r){te(e.$$.fragment,r),t=!1},d(r){he(e,r)}}}function pie(n,e,t){let{declaration:r}=e,{plugin:i}=e,a=new qu(i,Dr(),"","block",r);return n.$$set=o=>{"declaration"in o&&t(1,r=o.declaration),"plugin"in o&&t(2,i=o.plugin)},[a,r,i]}var DE=class extends Te{constructor(e){super(),Be(this,e,pie,fie,Pe,{declaration:1,plugin:2})}},i6=DE;function mie(n){let e,t,r=n[0].title+"",i,a,o,u,s,l,c,f=n[0].display+"",p,m;return o=new df({props:{mountable:n[1]}}),s=new df({props:{mountable:n[2]}}),{c(){e=K("div"),t=K("h3"),i=Ue(r),a=le(),ge(o.$$.fragment),u=le(),ge(s.$$.fragment),l=le(),c=K("code"),p=Ue(f),q(e,"class","mb-card")},m(h,d){Z(h,e,d),Q(e,t),Q(t,i),Q(e,a),de(o,e,null),Q(e,u),de(s,e,null),Q(e,l),Q(e,c),Q(c,p),m=!0},p(h,[d]){(!m||d&1)&&r!==(r=h[0].title+"")&&mt(i,r),(!m||d&1)&&f!==(f=h[0].display+"")&&mt(p,f)},i(h){m||(Y(o.$$.fragment,h),Y(s.$$.fragment,h),m=!0)},o(h){te(o.$$.fragment,h),te(s.$$.fragment,h),m=!1},d(h){h&&j(e),he(o),he(s)}}}function die(n,e,t){let{declaration:r}=e,{plugin:i}=e,a=i.api.createInlineFieldFromString(r.inputField,"",void 0,"block"),o=i.api.createInlineFieldFromString(r.declaration,"",void 0,"block");return n.$$set=u=>{"declaration"in u&&t(0,r=u.declaration),"plugin"in u&&t(3,i=u.plugin)},[r,a,o,i]}var ME=class extends Te{constructor(e){super(),Be(this,e,die,mie,Pe,{declaration:0,plugin:3})}},a6=ME;function o6(n,e,t){let r=n.slice();return r[6]=e[t],r}function s6(n,e,t){let r=n.slice();return r[9]=e[t],r}function u6(n,e,t){let r=n.slice();return r[9]=e[t],r}function hie(n){let e;return{c(){e=Ue("Docs")},m(t,r){Z(t,e,r)},d(t){t&&j(e)}}}function gie(n){let e;return{c(){e=Ue("GitHub")},m(t,r){Z(t,e,r)},d(t){t&&j(e)}}}function vie(n){let e;return{c(){e=Ue("Report Issue")},m(t,r){Z(t,e,r)},d(t){t&&j(e)}}}function l6(n){let e,t;return e=new i6({props:{declaration:n[9][1],plugin:n[0]}}),{c(){ge(e.$$.fragment)},m(r,i){de(e,r,i),t=!0},p(r,i){let a={};i&1&&(a.declaration=r[9][1]),i&1&&(a.plugin=r[0]),e.$set(a)},i(r){t||(Y(e.$$.fragment,r),t=!0)},o(r){te(e.$$.fragment,r),t=!1},d(r){he(e,r)}}}function c6(n){let e,t;return e=new a6({props:{declaration:n[9],plugin:n[0]}}),{c(){ge(e.$$.fragment)},m(r,i){de(e,r,i),t=!0},p(r,i){let a={};i&1&&(a.plugin=r[0]),e.$set(a)},i(r){t||(Y(e.$$.fragment,r),t=!0)},o(r){te(e.$$.fragment,r),t=!1},d(r){he(e,r)}}}function f6(n){let e,t,r=ot(n[6]),i=[];for(let o=0;o<r.length;o+=1)i[o]=c6(s6(n,r,o));let a=o=>te(i[o],1,1,()=>{i[o]=null});return{c(){for(let o=0;o<i.length;o+=1)i[o].c();e=yr()},m(o,u){for(let s=0;s<i.length;s+=1)i[s]&&i[s].m(o,u);Z(o,e,u),t=!0},p(o,u){if(u&1){r=ot(o[6]);let s;for(s=0;s<r.length;s+=1){let l=s6(o,r,s);i[s]?(i[s].p(l,u),Y(i[s],1)):(i[s]=c6(l),i[s].c(),Y(i[s],1),i[s].m(e.parentNode,e))}for(dt(),s=r.length;s<i.length;s+=1)a(s);ht()}},i(o){if(!t){for(let u=0;u<r.length;u+=1)Y(i[u]);t=!0}},o(o){i=i.filter(Boolean);for(let u=0;u<i.length;u+=1)te(i[u]);t=!1},d(o){o&&j(e),Gt(i,o)}}}function yie(n){let e,t,r,i,a,o,u,s,l,c,f,p,m,h,d,v,y,_,b,w,S,x,N,D,E,M,P,O,V,z,L,B,T,G,R,oe,ee,H,U,fe,De,me,ve,Ae,be,we,Se;u=new Mt({props:{variant:"primary",$$slots:{default:[hie]},$$scope:{ctx:n}}}),u.$on("click",n[3]),l=new Mt({props:{$$slots:{default:[gie]},$$scope:{ctx:n}}}),l.$on("click",n[4]),f=new Mt({props:{$$slots:{default:[vie]},$$scope:{ctx:n}}}),f.$on("click",n[5]),E=new of({props:{plugin:n[0],settings:{errorCollection:n[1],code:p6}}}),V=new of({props:{plugin:n[0],settings:{errorCollection:n[2],code:m6}}});let Me=ot(Pg(n[0])),Ie=[];for(let W=0;W<Me.length;W+=1)Ie[W]=l6(u6(n,Me,W));let et=W=>te(Ie[W],1,1,()=>{Ie[W]=null}),X=ot(Object.values($f)),re=[];for(let W=0;W<X.length;W+=1)re[W]=f6(o6(n,X,W));let xe=W=>te(re[W],1,1,()=>{re[W]=null});return{c(){e=K("div"),t=K("h1"),t.textContent="Meta Bind FAQ",r=le(),i=K("h2"),i.textContent="Quick Access",a=le(),o=K("p"),ge(u.$$.fragment),s=le(),ge(l.$$.fragment),c=le(),ge(f.$$.fragment),p=le(),m=K("h2"),m.textContent="Error Messages",h=le(),d=K("p"),v=Ue("When creating "),y=K("a"),y.textContent="Input Fields",b=Ue(` or
		`),w=K("a"),w.textContent="View Fields",x=le(),N=K("strong"),N.textContent="warnings",D=Ue(` (
		`),ge(E.$$.fragment),M=Ue(`
		) and `),P=K("strong"),P.textContent="errors",O=Ue(` (
		`),ge(V.$$.fragment),z=Ue(`
		) can occur. These are `),L=K("strong"),L.textContent="clickable",B=Ue(` and will show a modal with detailed information about the error
		when clicked.`),T=le(),G=K("h2"),G.textContent="Input Fields",R=le(),oe=K("p"),oe.innerHTML=`<a href="${Ot.linkToInputFields()}">Input Fields</a> let you change the frontmatter of your notes from inside
		of notes.`,ee=le();for(let W=0;W<Ie.length;W+=1)Ie[W].c();H=le(),U=K("h2"),U.textContent="View Fields",fe=le(),De=K("p"),De.innerHTML=`<a href="${Ot.linkToViewFields()}">View Fields</a> let you view and perform calculations using the frontmatter
		of your notes from inside of notes. They will update instantly to reflect changes to the frontmatter made by input
		fields and as fast as obsidian allows it for changes from other sources.`,me=le();for(let W=0;W<re.length;W+=1)re[W].c();ve=le(),Ae=K("h2"),Ae.textContent="Bind Targets",be=le(),we=K("p"),we.innerHTML=`<a href="https://mprojectscode.github.io/obsidian-meta-bind-plugin-docs/guides/inputfields/#binding-to-metadata">Bind Targets</a>
		let the plugin know what frontmatter properties to bind
		<a href="${Ot.linkToInputFields()}">Input Fields</a>
		and
		<a href="${Ot.linkToViewFields()}">View Fields</a> to.`,q(y,"href",_=Ot.linkToInputFields()),q(w,"href",S=Ot.linkToViewFields()),q(e,"class","mb-faq-view markdown-rendered")},m(W,ne){Z(W,e,ne),Q(e,t),Q(e,r),Q(e,i),Q(e,a),Q(e,o),de(u,o,null),Q(o,s),de(l,o,null),Q(o,c),de(f,o,null),Q(e,p),Q(e,m),Q(e,h),Q(e,d),Q(d,v),Q(d,y),Q(d,b),Q(d,w),Q(d,x),Q(d,N),Q(d,D),de(E,d,null),Q(d,M),Q(d,P),Q(d,O),de(V,d,null),Q(d,z),Q(d,L),Q(d,B),Q(e,T),Q(e,G),Q(e,R),Q(e,oe),Q(e,ee);for(let ue=0;ue<Ie.length;ue+=1)Ie[ue]&&Ie[ue].m(e,null);Q(e,H),Q(e,U),Q(e,fe),Q(e,De),Q(e,me);for(let ue=0;ue<re.length;ue+=1)re[ue]&&re[ue].m(e,null);Q(e,ve),Q(e,Ae),Q(e,be),Q(e,we),Se=!0},p(W,[ne]){let ue={};ne&16384&&(ue.$$scope={dirty:ne,ctx:W}),u.$set(ue);let Ne={};ne&16384&&(Ne.$$scope={dirty:ne,ctx:W}),l.$set(Ne);let Ce={};ne&16384&&(Ce.$$scope={dirty:ne,ctx:W}),f.$set(Ce);let Ye={};ne&1&&(Ye.plugin=W[0]),ne&2&&(Ye.settings={errorCollection:W[1],code:p6}),E.$set(Ye);let Fe={};if(ne&1&&(Fe.plugin=W[0]),ne&4&&(Fe.settings={errorCollection:W[2],code:m6}),V.$set(Fe),ne&1){Me=ot(Pg(W[0]));let Qe;for(Qe=0;Qe<Me.length;Qe+=1){let wt=u6(W,Me,Qe);Ie[Qe]?(Ie[Qe].p(wt,ne),Y(Ie[Qe],1)):(Ie[Qe]=l6(wt),Ie[Qe].c(),Y(Ie[Qe],1),Ie[Qe].m(e,H))}for(dt(),Qe=Me.length;Qe<Ie.length;Qe+=1)et(Qe);ht()}if(ne&1){X=ot(Object.values($f));let Qe;for(Qe=0;Qe<X.length;Qe+=1){let wt=o6(W,X,Qe);re[Qe]?(re[Qe].p(wt,ne),Y(re[Qe],1)):(re[Qe]=f6(wt),re[Qe].c(),Y(re[Qe],1),re[Qe].m(e,ve))}for(dt(),Qe=X.length;Qe<re.length;Qe+=1)xe(Qe);ht()}},i(W){if(!Se){Y(u.$$.fragment,W),Y(l.$$.fragment,W),Y(f.$$.fragment,W),Y(E.$$.fragment,W),Y(V.$$.fragment,W);for(let ne=0;ne<Me.length;ne+=1)Y(Ie[ne]);for(let ne=0;ne<X.length;ne+=1)Y(re[ne]);Se=!0}},o(W){te(u.$$.fragment,W),te(l.$$.fragment,W),te(f.$$.fragment,W),te(E.$$.fragment,W),te(V.$$.fragment,W),Ie=Ie.filter(Boolean);for(let ne=0;ne<Ie.length;ne+=1)te(Ie[ne]);re=re.filter(Boolean);for(let ne=0;ne<re.length;ne+=1)te(re[ne]);Se=!1},d(W){W&&j(e),he(u),he(l),he(f),he(E),he(V),Gt(Ie,W),Gt(re,W)}}}var p6="INPUT[someInputFieldDeclaration]",m6="INPUT[someInputFieldDeclaration]";function bie(n,e,t){let{plugin:r}=e,i=new Lt("exampleWarningErrorCollection"),a=new Lt("exampleErrorErrorCollection");Ci(()=>{i.add(new Ql({errorLevel:"WARNING",effect:"some example warning",cause:"some example reason"})),t(1,i),a.add(new Ql({errorLevel:"ERROR",effect:"some example error",cause:"some example reason"})),t(2,a)});let o=()=>{Ot.open(Ot.linkToHome())},u=()=>{Ot.open(Ot.linkToGithub())},s=()=>{Ot.open(Ot.linkToIssues())};return n.$$set=l=>{"plugin"in l&&t(0,r=l.plugin)},[r,i,a,o,u,s]}var NE=class extends Te{constructor(e){super(),Be(this,e,bie,yie,Pe,{plugin:0})}},d6=NE;var vu="mb-faq-view-type",Wh=class extends h6.ItemView{constructor(e,t){super(e),this.plugin=t}getViewType(){return vu}getDisplayText(){return"Meta Bind FAQ"}async onOpen(){this.contentEl.empty(),this.component=new d6({target:this.contentEl,props:{plugin:this.plugin}})}async onClose(){var e;(e=this.component)==null||e.$destroy()}};var Dn=require("obsidian");var w6=require("obsidian");var Ul=require("obsidian");function xie(n){let e,t;return e=new Or({props:{plugin:n[1],iconName:"pen-line"}}),{c(){ge(e.$$.fragment)},m(r,i){de(e,r,i),t=!0},p(r,i){let a={};i&2&&(a.plugin=r[1]),e.$set(a)},i(r){t||(Y(e.$$.fragment,r),t=!0)},o(r){te(e.$$.fragment,r),t=!1},d(r){he(e,r)}}}function wie(n){let e,t;return e=new Or({props:{plugin:n[1],iconName:"copy"}}),{c(){ge(e.$$.fragment)},m(r,i){de(e,r,i),t=!0},p(r,i){let a={};i&2&&(a.plugin=r[1]),e.$set(a)},i(r){t||(Y(e.$$.fragment,r),t=!0)},o(r){te(e.$$.fragment,r),t=!1},d(r){he(e,r)}}}function _ie(n){let e,t;return e=new Or({props:{plugin:n[1],iconName:"x"}}),{c(){ge(e.$$.fragment)},m(r,i){de(e,r,i),t=!0},p(r,i){let a={};i&2&&(a.plugin=r[1]),e.$set(a)},i(r){t||(Y(e.$$.fragment,r),t=!0)},o(r){te(e.$$.fragment,r),t=!1},d(r){he(e,r)}}}function Sie(n){let e,t=n[0].id+"",r,i,a,o,u,s,l,c;return a=new Mt({props:{variant:"primary",tooltip:"Edit",$$slots:{default:[xie]},$$scope:{ctx:n}}}),a.$on("click",n[5]),u=new Mt({props:{variant:"default",tooltip:"Copy",$$slots:{default:[wie]},$$scope:{ctx:n}}}),u.$on("click",n[6]),l=new Mt({props:{variant:"destructive",tooltip:"Delete",$$slots:{default:[_ie]},$$scope:{ctx:n}}}),l.$on("click",n[7]),{c(){e=K("span"),r=Ue(t),i=le(),ge(a.$$.fragment),o=le(),ge(u.$$.fragment),s=le(),ge(l.$$.fragment)},m(f,p){Z(f,e,p),Q(e,r),Z(f,i,p),de(a,f,p),Z(f,o,p),de(u,f,p),Z(f,s,p),de(l,f,p),c=!0},p(f,p){(!c||p&1)&&t!==(t=f[0].id+"")&&mt(r,t);let m={};p&514&&(m.$$scope={dirty:p,ctx:f}),a.$set(m);let h={};p&514&&(h.$$scope={dirty:p,ctx:f}),u.$set(h);let d={};p&514&&(d.$$scope={dirty:p,ctx:f}),l.$set(d)},i(f){c||(Y(a.$$.fragment,f),Y(u.$$.fragment,f),Y(l.$$.fragment,f),c=!0)},o(f){te(a.$$.fragment,f),te(u.$$.fragment,f),te(l.$$.fragment,f),c=!1},d(f){f&&(j(e),j(i),j(o),j(s)),he(a,f),he(u,f),he(l,f)}}}function Aie(n){let e,t,r,i,a,o=(0,Ul.stringifyYaml)(n[0])+"",u,s;return t=new Rl({props:{$$slots:{default:[Sie]},$$scope:{ctx:n}}}),{c(){e=K("div"),ge(t.$$.fragment),r=le(),i=K("pre"),a=K("code"),u=Ue(o),q(a,"class","mb-none"),q(i,"class","mb-pre"),q(e,"class","mb-card markdown-rendered")},m(l,c){Z(l,e,c),de(t,e,null),Q(e,r),Q(e,i),Q(i,a),Q(a,u),s=!0},p(l,[c]){let f={};c&515&&(f.$$scope={dirty:c,ctx:l}),t.$set(f),(!s||c&1)&&o!==(o=(0,Ul.stringifyYaml)(l[0])+"")&&mt(u,o)},i(l){s||(Y(t.$$.fragment,l),s=!0)},o(l){te(t.$$.fragment,l),s=!1},d(l){l&&j(e),he(t)}}}function Eie(n,e,t){let{template:r}=e,{plugin:i}=e,a=ks();function o(){a("delete-template",{template:r})}function u(){i.internal.openButtonBuilderModal({submitText:"Submit",config:structuredClone(r),onOkay:p=>{t(0,r=p)}})}function s(){let p=(0,Ul.stringifyYaml)(r);navigator.clipboard.writeText(p),new Ul.Notice("meta-bind | Copied to Clipboard")}let l=()=>u(),c=()=>s(),f=()=>o();return n.$$set=p=>{"template"in p&&t(0,r=p.template),"plugin"in p&&t(1,i=p.plugin)},[r,i,o,u,s,l,c,f]}var CE=class extends Te{constructor(e){super(),Be(this,e,Eie,Aie,Pe,{template:0,plugin:1})}},g6=CE;var hf=require("obsidian");function v6(n,e,t){let r=n.slice();return r[14]=e[t],r[15]=e,r[16]=t,r}function y6(n){let e,t,r;function i(o){n[8](o,n[14],n[15],n[16])}let a={plugin:n[1].plugin};return n[14]!==void 0&&(a.template=n[14]),e=new g6({props:a}),Mr.push(()=>zn(e,"template",i)),e.$on("delete-template",n[9]),{c(){ge(e.$$.fragment)},m(o,u){de(e,o,u),r=!0},p(o,u){n=o;let s={};u&2&&(s.plugin=n[1].plugin),!t&&u&1&&(t=!0,s.template=n[14],qn(()=>t=!1)),e.$set(s)},i(o){r||(Y(e.$$.fragment,o),r=!0)},o(o){te(e.$$.fragment,o),r=!1},d(o){he(e,o)}}}function Die(n){let e;return{c(){e=Ue("Add Template")},m(t,r){Z(t,e,r)},d(t){t&&j(e)}}}function Mie(n){let e;return{c(){e=Ue("Add Template from Clipboard")},m(t,r){Z(t,e,r)},d(t){t&&j(e)}}}function b6(n){let e,t,r,i,a;return i=new bs({props:{settings:{errorCollection:n[2]}}}),{c(){e=K("div"),t=K("h3"),t.textContent="Some Templates Failed to Parse",r=le(),ge(i.$$.fragment),q(t,"class","mod-error")},m(o,u){Z(o,e,u),Q(e,t),Q(e,r),de(i,e,null),a=!0},p(o,u){let s={};u&4&&(s.settings={errorCollection:o[2]}),i.$set(s)},i(o){a||(Y(i.$$.fragment,o),a=!0)},o(o){te(i.$$.fragment,o),a=!1},d(o){o&&j(e),he(i)}}}function Nie(n){let e;return{c(){e=Ue("Save")},m(t,r){Z(t,e,r)},d(t){t&&j(e)}}}function Cie(n){let e;return{c(){e=Ue("Cancel")},m(t,r){Z(t,e,r)},d(t){t&&j(e)}}}function Tie(n){let e,t,r,i;return e=new Mt({props:{variant:"primary",tooltip:"Save Changes",$$slots:{default:[Nie]},$$scope:{ctx:n}}}),e.$on("click",n[12]),r=new Mt({props:{tooltip:"Revert Changes",$$slots:{default:[Cie]},$$scope:{ctx:n}}}),r.$on("click",n[13]),{c(){ge(e.$$.fragment),t=le(),ge(r.$$.fragment)},m(a,o){de(e,a,o),Z(a,t,o),de(r,a,o),i=!0},p(a,o){let u={};o&131072&&(u.$$scope={dirty:o,ctx:a}),e.$set(u);let s={};o&131072&&(s.$$scope={dirty:o,ctx:a}),r.$set(s)},i(a){i||(Y(e.$$.fragment,a),Y(r.$$.fragment,a),i=!0)},o(a){te(e.$$.fragment,a),te(r.$$.fragment,a),i=!1},d(a){a&&j(t),he(e,a),he(r,a)}}}function Fie(n){let e,t,r,i,a,o,u,s,l,c,f,p=ot(n[0]),m=[];for(let v=0;v<p.length;v+=1)m[v]=y6(v6(n,p,v));let h=v=>te(m[v],1,1,()=>{m[v]=null});a=new Mt({props:{variant:"primary",tooltip:"Create New Template",$$slots:{default:[Die]},$$scope:{ctx:n}}}),a.$on("click",n[10]),u=new Mt({props:{variant:"default",tooltip:"Create New Template from YAML in Clipboard",$$slots:{default:[Mie]},$$scope:{ctx:n}}}),u.$on("click",n[11]);let d=n[2]&&b6(n);return c=new Ha({props:{$$slots:{default:[Tie]},$$scope:{ctx:n}}}),{c(){e=K("div"),t=K("h2"),t.textContent="Meta Bind Button Templates",r=le();for(let v=0;v<m.length;v+=1)m[v].c();i=le(),ge(a.$$.fragment),o=le(),ge(u.$$.fragment),s=le(),d&&d.c(),l=le(),ge(c.$$.fragment)},m(v,y){Z(v,e,y),Q(e,t),Q(e,r);for(let _=0;_<m.length;_+=1)m[_]&&m[_].m(e,null);Q(e,i),de(a,e,null),Q(e,o),de(u,e,null),Q(e,s),d&&d.m(e,null),Q(e,l),de(c,e,null),f=!0},p(v,[y]){if(y&11){p=ot(v[0]);let S;for(S=0;S<p.length;S+=1){let x=v6(v,p,S);m[S]?(m[S].p(x,y),Y(m[S],1)):(m[S]=y6(x),m[S].c(),Y(m[S],1),m[S].m(e,i))}for(dt(),S=p.length;S<m.length;S+=1)h(S);ht()}let _={};y&131072&&(_.$$scope={dirty:y,ctx:v}),a.$set(_);let b={};y&131072&&(b.$$scope={dirty:y,ctx:v}),u.$set(b),v[2]?d?(d.p(v,y),y&4&&Y(d,1)):(d=b6(v),d.c(),Y(d,1),d.m(e,l)):d&&(dt(),te(d,1,1,()=>{d=null}),ht());let w={};y&131072&&(w.$$scope={dirty:y,ctx:v}),c.$set(w)},i(v){if(!f){for(let y=0;y<p.length;y+=1)Y(m[y]);Y(a.$$.fragment,v),Y(u.$$.fragment,v),Y(d),Y(c.$$.fragment,v),f=!0}},o(v){m=m.filter(Boolean);for(let y=0;y<m.length;y+=1)te(m[y]);te(a.$$.fragment,v),te(u.$$.fragment,v),te(d),te(c.$$.fragment,v),f=!1},d(v){v&&j(e),Gt(m,v),he(a),he(u),d&&d.d(),he(c)}}}function Iie(n,e,t){let{buttonConfigs:r}=e,{modal:i}=e,a;function o(y){t(0,r=r.filter(_=>_!==y))}function u(){r.push(i.plugin.api.buttonActionRunner.createDefaultButtonConfig()),t(0,r)}function s(){return sc(this,void 0,void 0,function*(){let y;try{y=(0,hf.parseYaml)(yield navigator.clipboard.readText())}catch(b){console.warn(b),new hf.Notice("meta-bind | Can not parse button config. Check your button syntax. See the console for more details.");return}let _=Pl.safeParse(y);if(!_.success){let b=rf(_.error,{unionSeparator:`
OR `,issueSeparator:" AND ",prefix:null});console.warn(new ro({errorLevel:"ERROR",effect:"can not parse button config",cause:"zod validation failed. Check your button syntax",positionContext:b.message,docs:[Ot.linkToButtonConfig()]})),console.warn(b),new hf.Notice("meta-bind | Can not parse button config. Check your button syntax. See the console for more details.");return}r.push(y),t(0,r)})}function l(){t(2,a=i.save(r)),a===void 0&&i.close()}function c(){i.close()}function f(y,_,b,w){b[w]=y,t(0,r)}let p=y=>o(y.detail.template),m=()=>u(),h=()=>s(),d=()=>l(),v=()=>c();return n.$$set=y=>{"buttonConfigs"in y&&t(0,r=y.buttonConfigs),"modal"in y&&t(1,i=y.modal)},[r,i,a,o,u,s,l,c,f,p,m,h,d,v]}var TE=class extends Te{constructor(e){super(),Be(this,e,Iie,Fie,Pe,{buttonConfigs:0,modal:1})}},x6=TE;var Yh=class extends w6.Modal{constructor(e,t){super(e),this.plugin=t}onOpen(){this.contentEl.empty(),this.component&&this.component.$destroy(),this.component=new x6({target:this.contentEl,props:{buttonConfigs:bD(this.plugin.settings.buttonTemplates),modal:this}})}onClose(){this.contentEl.empty(),this.component&&this.component.$destroy()}save(e){let t=this.plugin.api.buttonManager.setButtonTemplates(e);if(t.hasErrors())return t;this.plugin.settings.buttonTemplates=e,this.plugin.saveSettings()}};var D6=require("obsidian");function _6(n,e,t){let r=n.slice();return r[12]=e[t],r[13]=e,r[14]=t,r}function Pie(n){let e,t;return e=new Or({props:{plugin:n[1].plugin,iconName:"x"}}),{c(){ge(e.$$.fragment)},m(r,i){de(e,r,i),t=!0},p(r,i){let a={};i&2&&(a.plugin=r[1].plugin),e.$set(a)},i(r){t||(Y(e.$$.fragment,r),t=!0)},o(r){te(e.$$.fragment,r),t=!1},d(r){he(e,r)}}}function S6(n){let e,t,r,i,a,o,u,s,l,c;function f(){n[7].call(r,n[13],n[14])}function p(){return n[8](n[12])}return o=new Mt({props:{tooltip:"Delete",$$slots:{default:[Pie]},$$scope:{ctx:n}}}),o.$on("click",p),{c(){e=K("tr"),t=K("td"),r=K("input"),i=le(),a=K("td"),ge(o.$$.fragment),u=le(),q(r,"type","text"),q(r,"placeholder","path/to/folder"),ao(r,"width","100%"),ao(t,"width","100%")},m(m,h){Z(m,e,h),Q(e,t),Q(t,r),$e(r,n[12]),Q(e,i),Q(e,a),de(o,a,null),Q(e,u),s=!0,l||(c=Ee(r,"input",f),l=!0)},p(m,h){n=m,h&1&&r.value!==n[12]&&$e(r,n[12]);let d={};h&32770&&(d.$$scope={dirty:h,ctx:n}),o.$set(d)},i(m){s||(Y(o.$$.fragment,m),s=!0)},o(m){te(o.$$.fragment,m),s=!1},d(m){m&&j(e),he(o),l=!1,c()}}}function Bie(n){let e;return{c(){e=Ue("Add Folder")},m(t,r){Z(t,e,r)},d(t){t&&j(e)}}}function A6(n){let e,t,r,i,a;return i=new bs({props:{errorCollection:n[2],declaration:void 0}}),{c(){e=K("div"),t=K("h3"),t.textContent="Some Folder Paths are invalid",r=le(),ge(i.$$.fragment),q(t,"class","mod-error")},m(o,u){Z(o,e,u),Q(e,t),Q(e,r),de(i,e,null),a=!0},p(o,u){let s={};u&4&&(s.errorCollection=o[2]),i.$set(s)},i(o){a||(Y(i.$$.fragment,o),a=!0)},o(o){te(i.$$.fragment,o),a=!1},d(o){o&&j(e),he(i)}}}function Oie(n){let e;return{c(){e=Ue("Save")},m(t,r){Z(t,e,r)},d(t){t&&j(e)}}}function kie(n){let e;return{c(){e=Ue("Cancel")},m(t,r){Z(t,e,r)},d(t){t&&j(e)}}}function Rie(n){let e,t,r,i;return e=new Mt({props:{variant:"primary",tooltip:"Save Changes",$$slots:{default:[Oie]},$$scope:{ctx:n}}}),e.$on("click",n[10]),r=new Mt({props:{tooltip:"Revert Changes",$$slots:{default:[kie]},$$scope:{ctx:n}}}),r.$on("click",n[11]),{c(){ge(e.$$.fragment),t=le(),ge(r.$$.fragment)},m(a,o){de(e,a,o),Z(a,t,o),de(r,a,o),i=!0},p(a,o){let u={};o&32768&&(u.$$scope={dirty:o,ctx:a}),e.$set(u);let s={};o&32768&&(s.$$scope={dirty:o,ctx:a}),r.$set(s)},i(a){i||(Y(e.$$.fragment,a),Y(r.$$.fragment,a),i=!0)},o(a){te(e.$$.fragment,a),te(r.$$.fragment,a),i=!1},d(a){a&&j(t),he(e,a),he(r,a)}}}function Lie(n){let e,t,r,i,a,o,u,s,l,c,f,p=ot(n[0]),m=[];for(let v=0;v<p.length;v+=1)m[v]=S6(_6(n,p,v));let h=v=>te(m[v],1,1,()=>{m[v]=null});u=new Mt({props:{variant:"primary",tooltip:"Add new excluded Folder",$$slots:{default:[Bie]},$$scope:{ctx:n}}}),u.$on("click",n[9]);let d=n[2]&&A6(n);return c=new Ha({props:{$$slots:{default:[Rie]},$$scope:{ctx:n}}}),{c(){e=K("div"),t=K("table"),r=K("thead"),r.innerHTML="<tr><th>Folder Path</th> <th></th></tr>",i=le(),a=K("tbody");for(let v=0;v<m.length;v+=1)m[v].c();o=le(),ge(u.$$.fragment),s=le(),d&&d.c(),l=le(),ge(c.$$.fragment)},m(v,y){Z(v,e,y),Q(e,t),Q(t,r),Q(t,i),Q(t,a);for(let _=0;_<m.length;_+=1)m[_]&&m[_].m(a,null);Q(e,o),de(u,e,null),Q(e,s),d&&d.m(e,null),Q(e,l),de(c,e,null),f=!0},p(v,[y]){if(y&11){p=ot(v[0]);let w;for(w=0;w<p.length;w+=1){let S=_6(v,p,w);m[w]?(m[w].p(S,y),Y(m[w],1)):(m[w]=S6(S),m[w].c(),Y(m[w],1),m[w].m(a,null))}for(dt(),w=p.length;w<m.length;w+=1)h(w);ht()}let _={};y&32768&&(_.$$scope={dirty:y,ctx:v}),u.$set(_),v[2]?d?(d.p(v,y),y&4&&Y(d,1)):(d=A6(v),d.c(),Y(d,1),d.m(e,l)):d&&(dt(),te(d,1,1,()=>{d=null}),ht());let b={};y&32768&&(b.$$scope={dirty:y,ctx:v}),c.$set(b)},i(v){if(!f){for(let y=0;y<p.length;y+=1)Y(m[y]);Y(u.$$.fragment,v),Y(d),Y(c.$$.fragment,v),f=!0}},o(v){m=m.filter(Boolean);for(let y=0;y<m.length;y+=1)te(m[y]);te(u.$$.fragment,v),te(d),te(c.$$.fragment,v),f=!1},d(v){v&&j(e),Gt(m,v),he(u),d&&d.d(),he(c)}}}function Vie(n,e,t){let{excludedFolders:r}=e,{modal:i}=e,a;function o(d){t(0,r=r.filter(v=>v!==d))}function u(){r.push(""),t(0,r)}function s(){t(2,a=i.save(r)),a===void 0&&i.close()}function l(){i.close()}function c(d,v){d[v]=this.value,t(0,r)}let f=d=>o(d),p=()=>u(),m=()=>s(),h=()=>l();return n.$$set=d=>{"excludedFolders"in d&&t(0,r=d.excludedFolders),"modal"in d&&t(1,i=d.modal)},[r,i,a,o,u,s,l,c,f,p,m,h]}var FE=class extends Te{constructor(e){super(),Be(this,e,Vie,Lie,Pe,{excludedFolders:0,modal:1})}},E6=FE;var jh=class extends D6.Modal{constructor(e,t){super(e),this.plugin=t}onOpen(){this.contentEl.empty(),this.component&&this.component.$destroy(),this.component=new E6({target:this.contentEl,props:{excludedFolders:this.plugin.settings.excludedFolders.slice(),modal:this}})}onClose(){this.contentEl.empty(),this.component&&this.component.$destroy()}save(e){for(let t of e)if(t===""){let r=new Lt("Excluded Folders");return r.add(new Error(`Invalid Folder Path '${t}'. Folder path may not be empty.`)),r}this.plugin.settings.excludedFolders=e,this.plugin.saveSettings()}};var I6=require("obsidian");function Uie(n){let e,t;return e=new Or({props:{plugin:n[1],iconName:"x"}}),{c(){ge(e.$$.fragment)},m(r,i){de(e,r,i),t=!0},p(r,i){let a={};i&2&&(a.plugin=r[1]),e.$set(a)},i(r){t||(Y(e.$$.fragment,r),t=!0)},o(r){te(e.$$.fragment,r),t=!1},d(r){he(e,r)}}}function qie(n){let e,t,r,i,a,o;return r=new Mt({props:{variant:"destructive",tooltip:"Delete Template",$$slots:{default:[Uie]},$$scope:{ctx:n}}}),r.$on("click",n[4]),{c(){e=K("input"),t=le(),ge(r.$$.fragment),q(e,"type","text"),q(e,"placeholder","template-name")},m(u,s){Z(u,e,s),$e(e,n[0].name),Z(u,t,s),de(r,u,s),i=!0,a||(o=Ee(e,"input",n[3]),a=!0)},p(u,s){s&1&&e.value!==u[0].name&&$e(e,u[0].name);let l={};s&130&&(l.$$scope={dirty:s,ctx:u}),r.$set(l)},i(u){i||(Y(r.$$.fragment,u),i=!0)},o(u){te(r.$$.fragment,u),i=!1},d(u){u&&(j(e),j(t)),he(r,u),a=!1,o()}}}function zie(n){let e,t,r,i,a,o,u;return t=new Rl({props:{$$slots:{default:[qie]},$$scope:{ctx:n}}}),{c(){e=K("div"),ge(t.$$.fragment),r=le(),i=K("textarea"),q(i,"type","text"),q(i,"placeholder","INPUT[slider(addLabels)]"),ao(i,"width","100%"),ao(i,"height","100px"),ao(i,"resize","vertical"),q(e,"class","mb-card")},m(s,l){Z(s,e,l),de(t,e,null),Q(e,r),Q(e,i),$e(i,n[0].declaration),a=!0,o||(u=Ee(i,"input",n[5]),o=!0)},p(s,[l]){let c={};l&131&&(c.$$scope={dirty:l,ctx:s}),t.$set(c),l&1&&$e(i,s[0].declaration)},i(s){a||(Y(t.$$.fragment,s),a=!0)},o(s){te(t.$$.fragment,s),a=!1},d(s){s&&j(e),he(t),o=!1,u()}}}function $ie(n,e,t){let{plugin:r}=e,{template:i}=e,a=ks();function o(){a("delete-template",{template:i})}function u(){i.name=this.value,t(0,i)}let s=()=>o();function l(){i.declaration=this.value,t(0,i)}return n.$$set=c=>{"plugin"in c&&t(1,r=c.plugin),"template"in c&&t(0,i=c.template)},[i,r,o,u,s,l]}var IE=class extends Te{constructor(e){super(),Be(this,e,$ie,zie,Pe,{plugin:1,template:0})}},M6=IE;function N6(n,e,t){let r=n.slice();return r[11]=e[t],r}function C6(n){let e,t;return e=new M6({props:{plugin:n[1].plugin,template:n[11]}}),e.$on("delete-template",n[7]),{c(){ge(e.$$.fragment)},m(r,i){de(e,r,i),t=!0},p(r,i){let a={};i&2&&(a.plugin=r[1].plugin),i&1&&(a.template=r[11]),e.$set(a)},i(r){t||(Y(e.$$.fragment,r),t=!0)},o(r){te(e.$$.fragment,r),t=!1},d(r){he(e,r)}}}function Hie(n){let e;return{c(){e=Ue("Add Template")},m(t,r){Z(t,e,r)},d(t){t&&j(e)}}}function T6(n){let e,t,r,i,a;return i=new bs({props:{settings:{errorCollection:n[2]}}}),{c(){e=K("div"),t=K("h3"),t.textContent="Some Templates Failed to Parse",r=le(),ge(i.$$.fragment),q(t,"class","mod-error")},m(o,u){Z(o,e,u),Q(e,t),Q(e,r),de(i,e,null),a=!0},p(o,u){let s={};u&4&&(s.settings={errorCollection:o[2]}),i.$set(s)},i(o){a||(Y(i.$$.fragment,o),a=!0)},o(o){te(i.$$.fragment,o),a=!1},d(o){o&&j(e),he(i)}}}function Gie(n){let e;return{c(){e=Ue("Save")},m(t,r){Z(t,e,r)},d(t){t&&j(e)}}}function Wie(n){let e;return{c(){e=Ue("Cancel")},m(t,r){Z(t,e,r)},d(t){t&&j(e)}}}function Yie(n){let e,t,r,i;return e=new Mt({props:{variant:"primary",tooltip:"Save Changes",$$slots:{default:[Gie]},$$scope:{ctx:n}}}),e.$on("click",n[9]),r=new Mt({props:{tooltip:"Revert Changes",$$slots:{default:[Wie]},$$scope:{ctx:n}}}),r.$on("click",n[10]),{c(){ge(e.$$.fragment),t=le(),ge(r.$$.fragment)},m(a,o){de(e,a,o),Z(a,t,o),de(r,a,o),i=!0},p(a,o){let u={};o&16384&&(u.$$scope={dirty:o,ctx:a}),e.$set(u);let s={};o&16384&&(s.$$scope={dirty:o,ctx:a}),r.$set(s)},i(a){i||(Y(e.$$.fragment,a),Y(r.$$.fragment,a),i=!0)},o(a){te(e.$$.fragment,a),te(r.$$.fragment,a),i=!1},d(a){a&&j(t),he(e,a),he(r,a)}}}function jie(n){let e,t,r,i,a,o,u,s,l,c=ot(n[0]),f=[];for(let h=0;h<c.length;h+=1)f[h]=C6(N6(n,c,h));let p=h=>te(f[h],1,1,()=>{f[h]=null});a=new Mt({props:{variant:"primary",tooltip:"Create New Template",$$slots:{default:[Hie]},$$scope:{ctx:n}}}),a.$on("click",n[8]);let m=n[2]&&T6(n);return s=new Ha({props:{$$slots:{default:[Yie]},$$scope:{ctx:n}}}),{c(){e=K("div"),t=K("h2"),t.textContent="Meta Bind Input Field Templates",r=le();for(let h=0;h<f.length;h+=1)f[h].c();i=le(),ge(a.$$.fragment),o=le(),m&&m.c(),u=le(),ge(s.$$.fragment)},m(h,d){Z(h,e,d),Q(e,t),Q(e,r);for(let v=0;v<f.length;v+=1)f[v]&&f[v].m(e,null);Q(e,i),de(a,e,null),Q(e,o),m&&m.m(e,null),Q(e,u),de(s,e,null),l=!0},p(h,[d]){if(d&11){c=ot(h[0]);let _;for(_=0;_<c.length;_+=1){let b=N6(h,c,_);f[_]?(f[_].p(b,d),Y(f[_],1)):(f[_]=C6(b),f[_].c(),Y(f[_],1),f[_].m(e,i))}for(dt(),_=c.length;_<f.length;_+=1)p(_);ht()}let v={};d&16384&&(v.$$scope={dirty:d,ctx:h}),a.$set(v),h[2]?m?(m.p(h,d),d&4&&Y(m,1)):(m=T6(h),m.c(),Y(m,1),m.m(e,u)):m&&(dt(),te(m,1,1,()=>{m=null}),ht());let y={};d&16384&&(y.$$scope={dirty:d,ctx:h}),s.$set(y)},i(h){if(!l){for(let d=0;d<c.length;d+=1)Y(f[d]);Y(a.$$.fragment,h),Y(m),Y(s.$$.fragment,h),l=!0}},o(h){f=f.filter(Boolean);for(let d=0;d<f.length;d+=1)te(f[d]);te(a.$$.fragment,h),te(m),te(s.$$.fragment,h),l=!1},d(h){h&&j(e),Gt(f,h),he(a),m&&m.d(),he(s)}}}function Zie(n,e,t){let{inputFieldTemplates:r}=e,{modal:i}=e,a;function o(h){t(0,r=r.filter(d=>d!==h))}function u(){r.push({name:"",declaration:""}),t(0,r)}function s(){t(2,a=i.save(r)),a===void 0&&i.close()}function l(){i.close()}let c=h=>o(h.detail.template),f=()=>u(),p=()=>s(),m=()=>l();return n.$$set=h=>{"inputFieldTemplates"in h&&t(0,r=h.inputFieldTemplates),"modal"in h&&t(1,i=h.modal)},[r,i,a,o,u,s,l,c,f,p,m]}var PE=class extends Te{constructor(e){super(),Be(this,e,Zie,jie,Pe,{inputFieldTemplates:0,modal:1})}},F6=PE;var Zh=class extends I6.Modal{constructor(e,t){super(e),this.plugin=t}onOpen(){this.contentEl.empty(),this.component&&this.component.$destroy(),this.component=new F6({target:this.contentEl,props:{inputFieldTemplates:JSON.parse(JSON.stringify(this.plugin.settings.inputFieldTemplates)),modal:this}})}onClose(){this.contentEl.empty(),this.component&&this.component.$destroy()}save(e){let t=this.plugin.api.inputFieldParser.parseTemplates(e);if(t.hasErrors())return t;this.plugin.settings.inputFieldTemplates=e,this.plugin.saveSettings()}};var Jh=class extends Dn.PluginSettingTab{constructor(e,t){super(e,t),this.plugin=t}display(){let{containerEl:e}=this;if(e.empty(),this.plugin.build==="dev"||this.plugin.build==="canary"){e.createEl("p",{text:`You are using a ${this.plugin.build} build (${this.plugin.manifest.version}). This build is not intended for production use. Use at your own risk.`,cls:"mb-error"});let t=new Dn.ButtonComponent(e);t.setButtonText("Learn About Canary Builds"),t.setCta(),t.onClick(()=>{Ot.open(Ot.linkToCanaryBuilds())})}new Dn.Setting(e).setName("Quick access").addButton(t=>{t.setCta(),t.setButtonText("Docs"),t.onClick(()=>{Ot.open(Ot.linkToHome())})}).addButton(t=>{t.setButtonText("Open FAQ"),t.onClick(()=>{this.plugin.activateView(vu)})}).addButton(t=>{t.setButtonText("GitHub"),t.onClick(()=>{Ot.open(Ot.linkToGithub())})}).addButton(t=>{t.setButtonText("Report Issue"),t.onClick(()=>{Ot.open(Ot.linkToIssues())})}),e.createEl("h2",{text:"General Settings"}),new Dn.Setting(e).setName("Enable Syntax Highlighting").setDesc("Enable syntax highlighting for. RESTART REQUIRED.").addToggle(t=>{t.setValue(this.plugin.settings.enableSyntaxHighlighting),t.onChange(r=>{this.plugin.settings.enableSyntaxHighlighting=r,this.plugin.saveSettings()})}),new Dn.Setting(e).setName("Enable Editor Right Click Menu").setDesc("Enable a meta bind menu section in the editor right click menu. RESTART REQUIRED.").addToggle(t=>{t.setValue(this.plugin.settings.enableEditorRightClickMenu),t.onChange(r=>{this.plugin.settings.enableEditorRightClickMenu=r,this.plugin.saveSettings()})}),new Dn.Setting(e).setName("Input Field Templates").setDesc("You can specify input field templates here, and access them using `INPUT[template_name][overrides (optional)]` in your notes.").addButton(t=>{t.setButtonText("Edit Templates"),t.onClick(()=>{new Zh(this.app,this.plugin).open()})}),new Dn.Setting(e).setName("Button Templates").setDesc("You can specify button field templates here, and access them in inline buttons.").addButton(t=>{t.setButtonText("Edit Templates"),t.onClick(()=>{new Yh(this.app,this.plugin).open()})}),new Dn.Setting(e).setName("Excluded Folders").setDesc("You can specify excluded folders here. The plugin will not work within excluded folders.").addButton(t=>{t.setButtonText("Edit Excluded Folders"),t.onClick(()=>{new jh(this.app,this.plugin).open()})}),new Dn.Setting(e).setName("View Fields display null as empty").setDesc("Display nothing instead of null, if the frontmatter value is empty, in text view fields.").addToggle(t=>{t.setValue(this.plugin.settings.viewFieldDisplayNullAsEmpty),t.onChange(r=>{this.plugin.settings.viewFieldDisplayNullAsEmpty=r,this.plugin.saveSettings()})}),new Dn.Setting(e).setName("Enable JS Input Fields").setDesc("Enable the processing of JavaScript input fields. This is potentially DANGEROUS, thus it's disabled by default. RESTART REQUIRED.").addToggle(t=>{t.setValue(this.plugin.settings.enableJs),t.onChange(r=>{this.plugin.settings.enableJs=r,this.plugin.saveSettings()})}),e.createEl("h2",{text:"Date and Time Settings"}),new Dn.Setting(e).setName("Date format").setDesc("The date format to be used by this plugin. Changing this setting will break the parsing of existing date inputs. Here is a list of all available date tokes https://momentjs.com/docs/#/displaying/.").addText(t=>{t.setValue(this.plugin.settings.preferredDateFormat),t.onChange(r=>{this.plugin.settings.preferredDateFormat=r,this.plugin.saveSettings()})}),new Dn.Setting(e).setName("First Weekday").setDesc("Specify the first weekday for the datepicker.").addDropdown(t=>{for(let r of Ns)t.addOption(r.name,r.name);t.setValue(this.plugin.settings.firstWeekday.name),t.onChange(r=>{this.plugin.settings.firstWeekday=Ns.find(i=>i.name===r),this.plugin.saveSettings()})}),e.createEl("h2",{text:"Advanced Settings"}),new Dn.Setting(e).setName("Dev Mode").setDesc("Enable dev mode. Not recommended unless you want to debug this plugin.").addToggle(t=>{t.setValue(this.plugin.settings.devMode),t.onChange(r=>{this.plugin.settings.devMode=r,this.plugin.saveSettings()})}),new Dn.Setting(e).setName("Disable Code Block Restrictions").setDesc("Disable restrictions on which input fields can be created in which code blocks. Not recommended unless you know what you are doing.").addToggle(t=>{t.setValue(this.plugin.settings.ignoreCodeBlockRestrictions),t.onChange(r=>{this.plugin.settings.ignoreCodeBlockRestrictions=r,this.plugin.saveSettings()})}),new Dn.Setting(e).setName("Sync interval").setDesc(`The interval in milli-seconds between disk writes. Changing this number is not recommended except if your hard drive is exceptionally slow. Standard: ${la.syncInterval}; Minimum: ${la.minSyncInterval}; Maximum: ${la.maxSyncInterval}`).addText(t=>{t.setValue(this.plugin.settings.syncInterval.toString()),t.onChange(r=>{this.plugin.settings.syncInterval=Number.parseInt(r),Number.isNaN(this.plugin.settings.syncInterval)&&(this.plugin.settings.syncInterval=la.syncInterval),this.plugin.settings.syncInterval<la.minSyncInterval&&(this.plugin.settings.syncInterval=la.minSyncInterval),this.plugin.settings.syncInterval>la.maxSyncInterval&&(this.plugin.settings.syncInterval=la.maxSyncInterval),this.plugin.saveSettings()})})}};var gf=class extends Fo{constructor(e,t){super(void 0),this.ctx=e,this.element=t}getPosition(){let e=this.ctx.getSectionInfo(this.element);if(e)return{lineStart:e.lineStart,lineEnd:e.lineEnd}}};var BE=(r=>(r.DEV="dev",r.CANARY="canary",r.RELEASE="release",r))(BE||{}),Xh=class extends ql.Plugin{async onload(){console.log("meta-bind | Main >> load"),this.build=this.determineBuild(),await this.loadSettings(),this.addSettingTab(new Jh(this.app,this)),this.dependencyManager=new Gh(this,[{name:"Dataview",pluginId:"dataview",minVersion:new Ui(0,5,64)},{name:"JS Engine",pluginId:"js-engine",minVersion:new Ui(0,1,0)},{name:"Templater",pluginId:"templater-obsidian",minVersion:new Ui(2,2,3)}]),!this.dependencyManager.checkDependenciesOnStartup()&&(this.api=new Dh(this),this.internal=new Vh(this),this.mountableManager=new Gf,this.setUpMetadataManager(),this.loadTemplates(),this.addPostProcessors(),this.registerEditorExtension(n6(this)),this.addCommands(),H8(this),this.registerView(vu,e=>new Wh(e,this)),this.addStatusBarBuildIndicator(),this.settings.enableEditorRightClickMenu&&this.registerEvent(this.app.workspace.on("editor-menu",(e,t)=>{ID(e,t,this)})),await(0,ql.loadPrism)())}onunload(){console.log("meta-bind | Main >> unload"),this.mountableManager.unload()}determineBuild(){return this.manifest.version.includes("canary")?"canary":"release"}setUpMetadataManager(){this.metadataManager=new zf,this.metadataManager.registerSource(new Uh(this,"frontmatter",this.metadataManager)),this.metadataManager.registerSource(new Of("memory",this.metadataManager)),this.metadataManager.registerSource(new kf("globalMemory",this.metadataManager)),this.metadataManager.registerSource(new Rf("scope",this.metadataManager)),this.metadataManager.setDefaultSource("frontmatter"),this.registerEvent(this.app.vault.on("rename",(e,t)=>{this.mountableManager.unloadFile(t),this.metadataManager.onStoragePathRenamed(t,e.path)})),this.registerEvent(this.app.vault.on("delete",e=>{this.mountableManager.unloadFile(e.path),this.metadataManager.onStoragePathDeleted(e.path)})),this.registerInterval(window.setInterval(()=>this.metadataManager.cycle(),this.settings.syncInterval))}addPostProcessors(){this.registerMarkdownPostProcessor((e,t)=>{let r=e.querySelectorAll("code"),i=t.sourcePath;for(let a=0;a<r.length;a++){let o=r.item(a);if(o.hasClass("mb-none"))continue;let u=o.innerText,s=this.api.isInlineFieldDeclarationAndGetType(u);if(s===void 0)continue;let l=this.api.createInlineFieldOfTypeFromString(s,u,i,void 0);this.api.wrapInMDRC(l,o,t)}},1),this.registerMarkdownCodeBlockProcessor("meta-bind",(e,t,r)=>{let i=t,a=e.trim(),o=r.sourcePath,u=this.api.isInlineFieldDeclarationAndGetType(a);if(u===void 0)return;let s=this.api.createInlineFieldOfTypeFromString(u,a,o,void 0,"block",new gf(r,t));this.api.wrapInMDRC(s,i,r)}),this.registerMarkdownCodeBlockProcessor("meta-bind-js-view",(e,t,r)=>{let i=this.api.createJsViewFieldMountable(r.sourcePath,{declaration:e});this.api.wrapInMDRC(i,t,r)}),this.registerMarkdownCodeBlockProcessor("meta-bind-embed",(e,t,r)=>{let i=this.api.createEmbedMountable(r.sourcePath,{content:e,depth:0});this.api.wrapInMDRC(i,t,r)});for(let e=1;e<=If;e++)this.registerMarkdownCodeBlockProcessor(`meta-bind-embed-internal-${e}`,(t,r,i)=>{let a=this.api.createEmbedMountable(i.sourcePath,{content:t,depth:e});this.api.wrapInMDRC(a,r,i)});this.registerMarkdownCodeBlockProcessor("meta-bind-button",(e,t,r)=>{let i=this.api.createButtonMountable(r.sourcePath,{declaration:e,isPreview:!1,position:new gf(r,t)});this.api.wrapInMDRC(i,t,r)})}addCommands(){this.addCommand({id:"open-docs",name:"Open Meta Bind Docs",callback:()=>{window.open("https://mprojectscode.github.io/obsidian-meta-bind-plugin-docs/","_blank")}}),this.addCommand({id:"open-faq",name:"Open Meta Bind FAQ",callback:()=>{this.activateView(vu)}}),this.addCommand({id:"open-help",name:"Open Meta Bind Help",callback:()=>{this.activateView(vu)}}),this.addCommand({id:"open-button-builder",name:"Open Button Builder",callback:()=>{this.internal.openButtonBuilderModal({onOkay:e=>{window.navigator.clipboard.writeText(`\`\`\`meta-bind-button
${(0,ql.stringifyYaml)(e)}
\`\`\``)},submitText:"Copy to Clipboard"})}}),this.addCommand({id:"copy-command-id",name:"Select and Copy Command ID",callback:()=>{this.internal.openCommandSelectModal(e=>{window.navigator.clipboard.writeText(e.id)})}})}addStatusBarBuildIndicator(){if(this.build==="dev"){let e=this.addStatusBarItem();e.setText("Meta Bind Dev Build"),e.addClass("mb-error"),this.register(()=>e.remove())}if(this.build==="canary"){let e=this.addStatusBarItem();e.setText(`Meta Bind Canary Build (${this.manifest.version})`),e.addClass("mb-error"),this.register(()=>e.remove())}}loadTemplates(){if(!this.api)return;let e=this.api.inputFieldParser.parseTemplates(this.settings.inputFieldTemplates);e.hasErrors()&&console.warn("meta-bind | failed to parse input field templates",e);let t=this.api.buttonManager.setButtonTemplates(this.settings.buttonTemplates);t.hasErrors()&&console.warn("meta-bind | failed to parse button templates",t)}async loadSettings(){console.log("meta-bind | Main >> settings load");let e=await this.loadData();this.settings=Object.assign({},la,e),await this.saveSettings()}async saveSettings(){console.log("meta-bind | Main >> settings save"),this.updateInternalSettings(),await this.saveData(this.settings)}updateInternalSettings(){Rn.dateFormat=this.settings.preferredDateFormat,AD(this.settings.firstWeekday),this.loadTemplates()}async onExternalSettingsChange(){await this.loadSettings()}async activateView(e){let{workspace:t}=this.app,r,i=t.getLeavesOfType(e);i.length>0?r=i[0]:(r=t.getLeaf("tab"),await r.setViewState({type:e,active:!0})),t.revealLeaf(r)}};
/*! Bundled license information:

moment/moment.js:
  (*! moment.js *)
  (*! version : 2.30.1 *)
  (*! authors : Tim Wood, Iskren Chernev, Moment.js contributors *)
  (*! license : MIT *)
  (*! momentjs.com *)

complex.js/complex.js:
  (**
   * @license Complex.js v2.1.1 12/05/2020
   *
   * Copyright (c) 2020, Robert Eisele (robert@xarg.org)
   * Dual licensed under the MIT or GPL Version 2 licenses.
   **)

fraction.js/fraction.js:
  (**
   * @license Fraction.js v4.3.0 20/08/2023
   * https://www.xarg.org/2014/03/rational-numbers-in-javascript/
   *
   * Copyright (c) 2023, Robert Eisele (robert@raw.org)
   * Dual licensed under the MIT or GPL Version 2 licenses.
   **)

decimal.js/decimal.mjs:
  (*!
   *  decimal.js v10.4.3
   *  An arbitrary-precision Decimal type for JavaScript.
   *  https://github.com/MikeMcl/decimal.js
   *  Copyright (c) 2022 Michael Mclaughlin <M8ch88l@gmail.com>
   *  MIT Licence
   *)
*/
